function sk(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var iT={exports:{}},O_={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP;function ok(){if(HP)return O_;HP=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:s,ref:r!==void 0?r:null,props:a}}return O_.Fragment=e,O_.jsx=t,O_.jsxs=t,O_}var GP;function lk(){return GP||(GP=1,iT.exports=ok()),iT.exports}var C=lk(),rT={exports:{}},N_={},aT={exports:{}},sT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XP;function ck(){return XP||(XP=1,function(n){function e(X,Z){var re=X.length;X.push(Z);e:for(;0<re;){var be=re-1>>>1,$=X[be];if(0<r($,Z))X[be]=Z,X[re]=$,re=be;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Z=X[0],re=X.pop();if(re!==Z){X[0]=re;e:for(var be=0,$=X.length,pe=$>>>1;be<pe;){var we=2*(be+1)-1,Te=X[we],de=we+1,Ne=X[de];if(0>r(Te,re))de<$&&0>r(Ne,Te)?(X[be]=Ne,X[de]=re,be=de):(X[be]=Te,X[we]=re,be=we);else if(de<$&&0>r(Ne,re))X[be]=Ne,X[de]=re,be=de;else break e}}return Z}function r(X,Z){var re=X.sortIndex-Z.sortIndex;return re!==0?re:X.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],f=[],p=1,g=null,y=3,v=!1,x=!1,w=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function L(X){for(var Z=t(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=X)i(f),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=t(f)}}function F(X){if(w=!1,L(X),!x)if(t(c)!==null)x=!0,j||(j=!0,Q());else{var Z=t(f);Z!==null&&_e(F,Z.startTime-X)}}var j=!1,U=-1,N=5,B=-1;function O(){return A?!0:!(n.unstable_now()-B<N)}function H(){if(A=!1,j){var X=n.unstable_now();B=X;var Z=!0;try{e:{x=!1,w&&(w=!1,R(U),U=-1),v=!0;var re=y;try{t:{for(L(X),g=t(c);g!==null&&!(g.expirationTime>X&&O());){var be=g.callback;if(typeof be=="function"){g.callback=null,y=g.priorityLevel;var $=be(g.expirationTime<=X);if(X=n.unstable_now(),typeof $=="function"){g.callback=$,L(X),Z=!0;break t}g===t(c)&&i(c),L(X)}else i(c);g=t(c)}if(g!==null)Z=!0;else{var pe=t(f);pe!==null&&_e(F,pe.startTime-X),Z=!1}}break e}finally{g=null,y=re,v=!1}Z=void 0}}finally{Z?Q():j=!1}}}var Q;if(typeof P=="function")Q=function(){P(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,he=G.port2;G.port1.onmessage=H,Q=function(){he.postMessage(null)}}else Q=function(){M(H,0)};function _e(X,Z){U=M(function(){X(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(X){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var re=y;y=Z;try{return X()}finally{y=re}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var re=y;y=X;try{return Z()}finally{y=re}},n.unstable_scheduleCallback=function(X,Z,re){var be=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?be+re:be):re=be,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,X={id:p++,callback:Z,priorityLevel:X,startTime:re,expirationTime:$,sortIndex:-1},re>be?(X.sortIndex=re,e(f,X),t(c)===null&&X===t(f)&&(w?(R(U),U=-1):w=!0,_e(F,re-be))):(X.sortIndex=$,e(c,X),x||v||(x=!0,j||(j=!0,Q()))),X},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(X){var Z=y;return function(){var re=y;y=Z;try{return X.apply(this,arguments)}finally{y=re}}}}(sT)),sT}var qP;function uk(){return qP||(qP=1,aT.exports=ck()),aT.exports}var oT={exports:{}},$n={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP;function hk(){if(WP)return $n;WP=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function A($,pe,we){this.props=$,this.context=pe,this.refs=w,this.updater=we||v}A.prototype.isReactComponent={},A.prototype.setState=function($,pe){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,pe,"setState")},A.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function M(){}M.prototype=A.prototype;function R($,pe,we){this.props=$,this.context=pe,this.refs=w,this.updater=we||v}var P=R.prototype=new M;P.constructor=R,x(P,A.prototype),P.isPureReactComponent=!0;var L=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function U($,pe,we,Te,de,Ne){return we=Ne.ref,{$$typeof:n,type:$,key:pe,ref:we!==void 0?we:null,props:Ne}}function N($,pe){return U($.type,pe,void 0,void 0,void 0,$.props)}function B($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function O($){var pe={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(we){return pe[we]})}var H=/\/+/g;function Q($,pe){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):pe.toString(36)}function G(){}function he($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(G,G):($.status="pending",$.then(function(pe){$.status==="pending"&&($.status="fulfilled",$.value=pe)},function(pe){$.status==="pending"&&($.status="rejected",$.reason=pe)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function _e($,pe,we,Te,de){var Ne=typeof $;(Ne==="undefined"||Ne==="boolean")&&($=null);var Ve=!1;if($===null)Ve=!0;else switch(Ne){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch($.$$typeof){case n:case e:Ve=!0;break;case p:return Ve=$._init,_e(Ve($._payload),pe,we,Te,de)}}if(Ve)return de=de($),Ve=Te===""?"."+Q($,0):Te,L(de)?(we="",Ve!=null&&(we=Ve.replace(H,"$&/")+"/"),_e(de,pe,we,"",function(Jt){return Jt})):de!=null&&(B(de)&&(de=N(de,we+(de.key==null||$&&$.key===de.key?"":(""+de.key).replace(H,"$&/")+"/")+Ve)),pe.push(de)),1;Ve=0;var ct=Te===""?".":Te+":";if(L($))for(var ut=0;ut<$.length;ut++)Te=$[ut],Ne=ct+Q(Te,ut),Ve+=_e(Te,pe,we,Ne,de);else if(ut=y($),typeof ut=="function")for($=ut.call($),ut=0;!(Te=$.next()).done;)Te=Te.value,Ne=ct+Q(Te,ut++),Ve+=_e(Te,pe,we,Ne,de);else if(Ne==="object"){if(typeof $.then=="function")return _e(he($),pe,we,Te,de);throw pe=String($),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function X($,pe,we){if($==null)return $;var Te=[],de=0;return _e($,Te,"","",function(Ne){return pe.call(we,Ne,de++)}),Te}function Z($){if($._status===-1){var pe=$._result;pe=pe(),pe.then(function(we){($._status===0||$._status===-1)&&($._status=1,$._result=we)},function(we){($._status===0||$._status===-1)&&($._status=2,$._result=we)}),$._status===-1&&($._status=0,$._result=pe)}if($._status===1)return $._result.default;throw $._result}var re=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function be(){}return $n.Children={map:X,forEach:function($,pe,we){X($,function(){pe.apply(this,arguments)},we)},count:function($){var pe=0;return X($,function(){pe++}),pe},toArray:function($){return X($,function(pe){return pe})||[]},only:function($){if(!B($))throw Error("React.Children.only expected to receive a single React element child.");return $}},$n.Component=A,$n.Fragment=t,$n.Profiler=r,$n.PureComponent=R,$n.StrictMode=i,$n.Suspense=c,$n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,$n.__COMPILER_RUNTIME={__proto__:null,c:function($){return F.H.useMemoCache($)}},$n.cache=function($){return function(){return $.apply(null,arguments)}},$n.cloneElement=function($,pe,we){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var Te=x({},$.props),de=$.key,Ne=void 0;if(pe!=null)for(Ve in pe.ref!==void 0&&(Ne=void 0),pe.key!==void 0&&(de=""+pe.key),pe)!j.call(pe,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&pe.ref===void 0||(Te[Ve]=pe[Ve]);var Ve=arguments.length-2;if(Ve===1)Te.children=we;else if(1<Ve){for(var ct=Array(Ve),ut=0;ut<Ve;ut++)ct[ut]=arguments[ut+2];Te.children=ct}return U($.type,de,void 0,void 0,Ne,Te)},$n.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},$n.createElement=function($,pe,we){var Te,de={},Ne=null;if(pe!=null)for(Te in pe.key!==void 0&&(Ne=""+pe.key),pe)j.call(pe,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(de[Te]=pe[Te]);var Ve=arguments.length-2;if(Ve===1)de.children=we;else if(1<Ve){for(var ct=Array(Ve),ut=0;ut<Ve;ut++)ct[ut]=arguments[ut+2];de.children=ct}if($&&$.defaultProps)for(Te in Ve=$.defaultProps,Ve)de[Te]===void 0&&(de[Te]=Ve[Te]);return U($,Ne,void 0,void 0,null,de)},$n.createRef=function(){return{current:null}},$n.forwardRef=function($){return{$$typeof:l,render:$}},$n.isValidElement=B,$n.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:Z}},$n.memo=function($,pe){return{$$typeof:f,type:$,compare:pe===void 0?null:pe}},$n.startTransition=function($){var pe=F.T,we={};F.T=we;try{var Te=$(),de=F.S;de!==null&&de(we,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(be,re)}catch(Ne){re(Ne)}finally{F.T=pe}},$n.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},$n.use=function($){return F.H.use($)},$n.useActionState=function($,pe,we){return F.H.useActionState($,pe,we)},$n.useCallback=function($,pe){return F.H.useCallback($,pe)},$n.useContext=function($){return F.H.useContext($)},$n.useDebugValue=function(){},$n.useDeferredValue=function($,pe){return F.H.useDeferredValue($,pe)},$n.useEffect=function($,pe,we){var Te=F.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Te.useEffect($,pe)},$n.useId=function(){return F.H.useId()},$n.useImperativeHandle=function($,pe,we){return F.H.useImperativeHandle($,pe,we)},$n.useInsertionEffect=function($,pe){return F.H.useInsertionEffect($,pe)},$n.useLayoutEffect=function($,pe){return F.H.useLayoutEffect($,pe)},$n.useMemo=function($,pe){return F.H.useMemo($,pe)},$n.useOptimistic=function($,pe){return F.H.useOptimistic($,pe)},$n.useReducer=function($,pe,we){return F.H.useReducer($,pe,we)},$n.useRef=function($){return F.H.useRef($)},$n.useState=function($){return F.H.useState($)},$n.useSyncExternalStore=function($,pe,we){return F.H.useSyncExternalStore($,pe,we)},$n.useTransition=function(){return F.H.useTransition()},$n.version="19.1.0",$n}var YP;function vy(){return YP||(YP=1,oT.exports=hk()),oT.exports}var lT={exports:{}},Rs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP;function fk(){if(KP)return Rs;KP=1;var n=vy();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(c,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:c,containerInfo:f,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Rs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rs.createPortal=function(c,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,p)},Rs.flushSync=function(c){var f=s.T,p=i.p;try{if(s.T=null,i.p=2,c)return c()}finally{s.T=f,i.p=p,i.d.f()}},Rs.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},Rs.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Rs.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&i.d.X(c,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Rs.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},Rs.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin);i.d.L(c,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Rs.preloadModule=function(c,f){if(typeof c=="string")if(f){var p=l(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},Rs.requestFormReset=function(c){i.d.r(c)},Rs.unstable_batchedUpdates=function(c,f){return c(f)},Rs.useFormState=function(c,f,p){return s.H.useFormState(c,f,p)},Rs.useFormStatus=function(){return s.H.useHostTransitionStatus()},Rs.version="19.1.0",Rs}var JP;function EN(){if(JP)return lT.exports;JP=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lT.exports=fk(),lT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP;function dk(){if(QP)return N_;QP=1;var n=uk(),e=vy(),t=EN();function i(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(i(188))}function c(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(i(188));return u!==o?null:o}for(var m=o,_=u;;){var E=m.return;if(E===null)break;var I=E.alternate;if(I===null){if(_=E.return,_!==null){m=_;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===m)return l(E),o;if(I===_)return l(E),u;I=I.sibling}throw Error(i(188))}if(m.return!==_.return)m=E,_=I;else{for(var W=!1,te=E.child;te;){if(te===m){W=!0,m=E,_=I;break}if(te===_){W=!0,_=E,m=I;break}te=te.sibling}if(!W){for(te=I.child;te;){if(te===m){W=!0,m=I,_=E;break}if(te===_){W=!0,_=I,m=E;break}te=te.sibling}if(!W)throw Error(i(189))}}if(m.alternate!==_)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Q(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var G=Symbol.for("react.client.reference");function he(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===G?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case j:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case P:return(o.displayName||"Context")+".Provider";case R:return(o._context.displayName||"Context")+".Consumer";case L:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return u=o.displayName||null,u!==null?u:he(o.type)||"Memo";case N:u=o._payload,o=o._init;try{return he(o(u))}catch{}}return null}var _e=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},be=[],$=-1;function pe(o){return{current:o}}function we(o){0>$||(o.current=be[$],be[$]=null,$--)}function Te(o,u){$++,be[$]=o.current,o.current=u}var de=pe(null),Ne=pe(null),Ve=pe(null),ct=pe(null);function ut(o,u){switch(Te(Ve,u),Te(Ne,o),Te(de,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?yP(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=yP(u),o=_P(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}we(de),Te(de,o)}function Jt(){we(de),we(Ne),we(Ve)}function It(o){o.memoizedState!==null&&Te(ct,o);var u=de.current,m=_P(u,o.type);u!==m&&(Te(Ne,o),Te(de,m))}function Ct(o){Ne.current===o&&(we(de),we(Ne)),ct.current===o&&(we(ct),R_._currentValue=re)}var Nt=Object.prototype.hasOwnProperty,Ft=n.unstable_scheduleCallback,fe=n.unstable_cancelCallback,Mn=n.unstable_shouldYield,at=n.unstable_requestPaint,et=n.unstable_now,rt=n.unstable_getCurrentPriorityLevel,xt=n.unstable_ImmediatePriority,We=n.unstable_UserBlockingPriority,ae=n.unstable_NormalPriority,V=n.unstable_LowPriority,ee=n.unstable_IdlePriority,ue=n.log,Ce=n.unstable_setDisableYieldValue,ge=null,Pe=null;function Ue(o){if(typeof ue=="function"&&Ce(o),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(ge,o)}catch{}}var lt=Math.clz32?Math.clz32:Ot,Xt=Math.log,ht=Math.LN2;function Ot(o){return o>>>=0,o===0?32:31-(Xt(o)/ht|0)|0}var zt=256,Pt=4194304;function St(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Me(o,u,m){var _=o.pendingLanes;if(_===0)return 0;var E=0,I=o.suspendedLanes,W=o.pingedLanes;o=o.warmLanes;var te=_&134217727;return te!==0?(_=te&~I,_!==0?E=St(_):(W&=te,W!==0?E=St(W):m||(m=te&~o,m!==0&&(E=St(m))))):(te=_&~I,te!==0?E=St(te):W!==0?E=St(W):m||(m=_&~o,m!==0&&(E=St(m)))),E===0?0:u!==0&&u!==E&&(u&I)===0&&(I=E&-E,m=u&-u,I>=m||I===32&&(m&4194048)!==0)?u:E}function Je(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function bt(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Se(){var o=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),o}function je(){var o=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),o}function Ge(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function st(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function wt(o,u,m,_,E,I){var W=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var te=o.entanglements,ve=o.expirationTimes,Xe=o.hiddenUpdates;for(m=W&~m;0<m;){var dt=31-lt(m),_t=1<<dt;te[dt]=0,ve[dt]=-1;var Ke=Xe[dt];if(Ke!==null)for(Xe[dt]=null,dt=0;dt<Ke.length;dt++){var $e=Ke[dt];$e!==null&&($e.lane&=-536870913)}m&=~_t}_!==0&&Tt(o,_,0),I!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=I&~(W&~u))}function Tt(o,u,m){o.pendingLanes|=u,o.suspendedLanes&=~u;var _=31-lt(u);o.entangledLanes|=u,o.entanglements[_]=o.entanglements[_]|1073741824|m&4194090}function $t(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var _=31-lt(m),E=1<<_;E&u|o[_]&u&&(o[_]|=u),m&=~E}}function An(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ti(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function dn(){var o=Z.p;return o!==0?o:(o=window.event,o===void 0?32:UP(o.type))}function ci(o,u){var m=Z.p;try{return Z.p=o,u()}finally{Z.p=m}}var Dn=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Dn,Li="__reactProps$"+Dn,Ui="__reactContainer$"+Dn,Hr="__reactEvents$"+Dn,Gr="__reactListeners$"+Dn,nr="__reactHandles$"+Dn,sn="__reactResources$"+Dn,ha="__reactMarker$"+Dn;function ni(o){delete o[Ki],delete o[Li],delete o[Hr],delete o[Gr],delete o[nr]}function J(o){var u=o[Ki];if(u)return u;for(var m=o.parentNode;m;){if(u=m[Ui]||m[Ki]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=MP(o);o!==null;){if(m=o[Ki])return m;o=MP(o)}return u}o=m,m=o.parentNode}return null}function ne(o){if(o=o[Ki]||o[Ui]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function Ae(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(i(33))}function ke(o){var u=o[sn];return u||(u=o[sn]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function qe(o){o[ha]=!0}var nt=new Set,Mt={};function yt(o,u){K(o,u),K(o+"Capture",u)}function K(o,u){for(Mt[o]=u,o=0;o<u.length;o++)nt.add(u[o])}var ce=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ye={},me={};function Re(o){return Nt.call(me,o)?!0:Nt.call(ye,o)?!1:ce.test(o)?me[o]=!0:(ye[o]=!0,!1)}function ze(o,u,m){if(Re(u))if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var _=u.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+m)}}function tt(o,u,m){if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+m)}}function ot(o,u,m,_){if(_===null)o.removeAttribute(m);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(u,m,""+_)}}var gt,Ut;function Dt(o){if(gt===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);gt=u&&u[1]||"",Ut=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+o+Ut}var Lt=!1;function tn(o,u){if(!o||Lt)return"";Lt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(u){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch($e){var Ke=$e}Reflect.construct(o,[],_t)}else{try{_t.call()}catch($e){Ke=$e}o.call(_t.prototype)}}else{try{throw Error()}catch($e){Ke=$e}(_t=o())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch($e){if($e&&Ke&&typeof $e.stack=="string")return[$e.stack,Ke.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=_.DetermineComponentFrameRoot(),W=I[0],te=I[1];if(W&&te){var ve=W.split(`
`),Xe=te.split(`
`);for(E=_=0;_<ve.length&&!ve[_].includes("DetermineComponentFrameRoot");)_++;for(;E<Xe.length&&!Xe[E].includes("DetermineComponentFrameRoot");)E++;if(_===ve.length||E===Xe.length)for(_=ve.length-1,E=Xe.length-1;1<=_&&0<=E&&ve[_]!==Xe[E];)E--;for(;1<=_&&0<=E;_--,E--)if(ve[_]!==Xe[E]){if(_!==1||E!==1)do if(_--,E--,0>E||ve[_]!==Xe[E]){var dt=`
`+ve[_].replace(" at new "," at ");return o.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",o.displayName)),dt}while(1<=_&&0<=E);break}}}finally{Lt=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?Dt(m):""}function Yt(o){switch(o.tag){case 26:case 27:case 5:return Dt(o.type);case 16:return Dt("Lazy");case 13:return Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return tn(o.type,!1);case 11:return tn(o.type.render,!1);case 1:return tn(o.type,!0);case 31:return Dt("Activity");default:return""}}function kn(o){try{var u="";do u+=Yt(o),o=o.return;while(o);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function qt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function en(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Wt(o){var u=en(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),_=""+o[u];if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,I=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(W){_=""+W,I.call(this,W)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return _},setValue:function(W){_=""+W},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function _i(o){o._valueTracker||(o._valueTracker=Wt(o))}function un(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),_="";return o&&(_=en(o)?o.checked?"true":"false":o.value),o=_,o!==m?(u.setValue(o),!0):!1}function mn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var di=/[\n"\\]/g;function Qt(o){return o.replace(di,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function hn(o,u,m,_,E,I,W,te){o.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?o.type=W:o.removeAttribute("type"),u!=null?W==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+qt(u)):o.value!==""+qt(u)&&(o.value=""+qt(u)):W!=="submit"&&W!=="reset"||o.removeAttribute("value"),u!=null?vi(o,W,qt(u)):m!=null?vi(o,W,qt(m)):_!=null&&o.removeAttribute("value"),E==null&&I!=null&&(o.defaultChecked=!!I),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?o.name=""+qt(te):o.removeAttribute("name")}function En(o,u,m,_,E,I,W,te){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),u!=null||m!=null){if(!(I!=="submit"&&I!=="reset"||u!=null))return;m=m!=null?""+qt(m):"",u=u!=null?""+qt(u):m,te||u===o.value||(o.value=u),o.defaultValue=u}_=_??E,_=typeof _!="function"&&typeof _!="symbol"&&!!_,o.checked=te?o.checked:!!_,o.defaultChecked=!!_,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(o.name=W)}function vi(o,u,m){u==="number"&&mn(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function Qn(o,u,m,_){if(o=o.options,u){u={};for(var E=0;E<m.length;E++)u["$"+m[E]]=!0;for(m=0;m<o.length;m++)E=u.hasOwnProperty("$"+o[m].value),o[m].selected!==E&&(o[m].selected=E),E&&_&&(o[m].defaultSelected=!0)}else{for(m=""+qt(m),u=null,E=0;E<o.length;E++){if(o[E].value===m){o[E].selected=!0,_&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function on(o,u,m){if(u!=null&&(u=""+qt(u),u!==o.value&&(o.value=u),m==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=m!=null?""+qt(m):""}function lr(o,u,m,_){if(u==null){if(_!=null){if(m!=null)throw Error(i(92));if(_e(_)){if(1<_.length)throw Error(i(93));_=_[0]}m=_}m==null&&(m=""),u=m}m=qt(u),o.defaultValue=m,_=o.textContent,_===m&&_!==""&&_!==null&&(o.value=_)}function fr(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(o,u,m){var _=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?_?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":_?o.setProperty(u,m):typeof m!="number"||m===0||fa.has(u)?u==="float"?o.cssFloat=m:o[u]=(""+m).trim():o[u]=m+"px"}function gl(o,u,m){if(u!=null&&typeof u!="object")throw Error(i(62));if(o=o.style,m!=null){for(var _ in m)!m.hasOwnProperty(_)||u!=null&&u.hasOwnProperty(_)||(_.indexOf("--")===0?o.setProperty(_,""):_==="float"?o.cssFloat="":o[_]="");for(var E in u)_=u[E],u.hasOwnProperty(E)&&m[E]!==_&&rc(o,E,_)}else for(var I in u)u.hasOwnProperty(I)&&rc(o,I,u[I])}function yl(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ac(o){return gf.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var $a=null;function Sa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Za=null,bs=null;function Yc(o){var u=ne(o);if(u&&(o=u.stateNode)){var m=o[Li]||null;e:switch(o=u.stateNode,u.type){case"input":if(hn(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Qt(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var _=m[u];if(_!==o&&_.form===o.form){var E=_[Li]||null;if(!E)throw Error(i(90));hn(_,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<m.length;u++)_=m[u],_.form===o.form&&un(_)}break e;case"textarea":on(o,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&Qn(o,!!m.multiple,u,!1)}}}var es=!1;function sc(o,u,m){if(es)return o(u,m);es=!0;try{var _=o(u);return _}finally{if(es=!1,(Za!==null||bs!==null)&&(Ll(),Za&&(u=Za,o=bs,bs=Za=null,Yc(u),o)))for(u=0;u<o.length;u++)Yc(o[u])}}function Wo(o,u){var m=o.stateNode;if(m===null)return null;var _=m[Li]||null;if(_===null)return null;m=_[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(o=o.type,_=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!_;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(i(231,u,typeof m));return m}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(Xr)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){qr=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{qr=!1}var xs=null,vl=null,go=null;function Kc(){if(go)return go;var o,u=vl,m=u.length,_,E="value"in xs?xs.value:xs.textContent,I=E.length;for(o=0;o<m&&u[o]===E[o];o++);var W=m-o;for(_=1;_<=W&&u[m-_]===E[I-_];_++);return go=E.slice(o,1<_?1-_:void 0)}function za(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ts(){return!0}function bl(){return!1}function le(o){function u(m,_,E,I,W){this._reactName=m,this._targetInst=E,this.type=_,this.nativeEvent=I,this.target=W,this.currentTarget=null;for(var te in o)o.hasOwnProperty(te)&&(m=o[te],this[te]=m?m(I):I[te]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ts:bl,this.isPropagationStopped=bl,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),u}var Ee={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qe=le(Ee),Ht=p({},Ee,{view:0,detail:0}),Wn=le(Ht),Yn,pi,Bn,mi=p({},Ht,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Bn&&(Bn&&o.type==="mousemove"?(Yn=o.screenX-Bn.screenX,pi=o.screenY-Bn.screenY):pi=Yn=0,Bn=o),Yn)},movementY:function(o){return"movementY"in o?o.movementY:pi}}),cr=le(mi),Zr=p({},mi,{dataTransfer:0}),oc=le(Zr),Ji=p({},Ht,{relatedTarget:0}),Yo=le(Ji),lc=p({},Ee,{animationName:0,elapsedTime:0,pseudoElement:0}),lh=le(lc),Kd=p({},Ee,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ch=le(Kd),uh=p({},Ee,{data:0}),hh=le(uh),Jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Qd[o])?!!u[o]:!1}function cc(){return fh}var $d=p({},Ht,{key:function(o){if(o.key){var u=Jc[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=za(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Jd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(o){return o.type==="keypress"?za(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?za(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Qc=le($d),yf=p({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=le(yf),xl=p({},Ht,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),_f=le(xl),Zd=p({},Ee,{propertyName:0,elapsedTime:0,pseudoElement:0}),yo=le(Zd),vf=p({},mi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),bf=le(vf),Va=p({},Ee,{newState:0,oldState:0}),Ko=le(Va),_o=[9,13,27,32],vo=Xr&&"CompositionEvent"in window,S=null;Xr&&"documentMode"in document&&(S=document.documentMode);var z=Xr&&"TextEvent"in window&&!S,q=Xr&&(!vo||S&&8<S&&11>=S),se=" ",Oe=!1;function it(o,u){switch(o){case"keyup":return _o.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bt(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ai=!1;function gr(o,u){switch(o){case"compositionend":return Bt(u);case"keypress":return u.which!==32?null:(Oe=!0,se);case"textInput":return o=u.data,o===se&&Oe?null:o;default:return null}}function si(o,u){if(ai)return o==="compositionend"||!vo&&it(o,u)?(o=Kc(),go=vl=xs=null,ai=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return q&&u.locale!=="ko"?null:u.data;default:return null}}var Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Pr[o.type]:u==="textarea"}function Dr(o,u,m,_){Za?bs?bs.push(_):bs=[_]:Za=_,u=Ax(u,"onChange"),0<u.length&&(m=new Qe("onChange","change",null,m,_),o.push({event:m,listeners:u}))}var da=null,bo=null;function xf(o){fP(o,0)}function ep(o){var u=Ae(o);if(un(u))return o}function Wm(o,u){if(o==="change")return u}var Ym=!1;if(Xr){var Km;if(Xr){var Mf="oninput"in document;if(!Mf){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),Mf=typeof Sf.oninput=="function"}Km=Mf}else Km=!1;Ym=Km&&(!document.documentMode||9<document.documentMode)}function dr(){da&&(da.detachEvent("onpropertychange",Cb),bo=da=null)}function Cb(o){if(o.propertyName==="value"&&ep(bo)){var u=[];Dr(u,bo,o,Sa(o)),sc(xf,u)}}function S2(o,u,m){o==="focusin"?(dr(),da=u,bo=m,da.attachEvent("onpropertychange",Cb)):o==="focusout"&&dr()}function wb(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ep(bo)}function tp(o,u){if(o==="click")return ep(u)}function $c(o,u){if(o==="input"||o==="change")return ep(u)}function Rb(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Ms=typeof Object.is=="function"?Object.is:Rb;function Jo(o,u){if(Ms(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),_=Object.keys(u);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var E=m[_];if(!Nt.call(u,E)||!Ms(o[E],u[E]))return!1}return!0}function Ss(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ny(o,u){var m=Ss(o);o=0;for(var _;m;){if(m.nodeType===3){if(_=o+m.textContent.length,o<=u&&_>=u)return{node:m,offset:u-o};o=_}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Ss(m)}}function Ly(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Ly(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Uy(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=mn(o.document);u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=mn(o.document)}return u}function np(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Fy=Xr&&"documentMode"in document&&11>=document.documentMode,uc=null,Jm=null,ip=null,Qm=!1;function zy(o,u,m){var _=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Qm||uc==null||uc!==mn(_)||(_=uc,"selectionStart"in _&&np(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),ip&&Jo(ip,_)||(ip=_,_=Ax(Jm,"onSelect"),0<_.length&&(u=new Qe("onSelect","select",null,u,m),o.push({event:u,listeners:_}),u.target=uc)))}function Aa(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var Zc={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},$m={},Ib={};Xr&&(Ib=document.createElement("div").style,"AnimationEvent"in window||(delete Zc.animationend.animation,delete Zc.animationiteration.animation,delete Zc.animationstart.animation),"TransitionEvent"in window||delete Zc.transitionend.transition);function hc(o){if($m[o])return $m[o];if(!Zc[o])return o;var u=Zc[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in Ib)return $m[o]=u[m];return o}var ns=hc("animationend"),Vy=hc("animationiteration"),As=hc("animationstart"),Pb=hc("transitionrun"),fc=hc("transitionstart"),Af=hc("transitioncancel"),dc=hc("transitionend"),Zm=new Map,rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rp.push("scrollEnd");function pa(o,u){Zm.set(o,u),yt(u,[o])}var jy=new WeakMap;function Ea(o,u){if(typeof o=="object"&&o!==null){var m=jy.get(o);return m!==void 0?m:(u={value:o,source:u,stack:kn(u)},jy.set(o,u),u)}return{value:o,source:u,stack:kn(u)}}var ja=[],xo=0,e0=0;function ap(){for(var o=xo,u=e0=xo=0;u<o;){var m=ja[u];ja[u++]=null;var _=ja[u];ja[u++]=null;var E=ja[u];ja[u++]=null;var I=ja[u];if(ja[u++]=null,_!==null&&E!==null){var W=_.pending;W===null?E.next=E:(E.next=W.next,W.next=E),_.pending=E}I!==0&&ky(m,E,I)}}function eu(o,u,m,_){ja[xo++]=o,ja[xo++]=u,ja[xo++]=m,ja[xo++]=_,e0|=_,o.lanes|=_,o=o.alternate,o!==null&&(o.lanes|=_)}function t0(o,u,m,_){return eu(o,u,m,_),Ef(o)}function pc(o,u){return eu(o,null,null,u),Ef(o)}function ky(o,u,m){o.lanes|=m;var _=o.alternate;_!==null&&(_.lanes|=m);for(var E=!1,I=o.return;I!==null;)I.childLanes|=m,_=I.alternate,_!==null&&(_.childLanes|=m),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(E=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,E&&u!==null&&(E=31-lt(m),o=I.hiddenUpdates,_=o[E],_===null?o[E]=[u]:_.push(u),u.lane=m|536870912),I):null}function Ef(o){if(50<Nl)throw Nl=0,Ph=null,Error(i(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var tu={};function Hy(o,u,m,_){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(o,u,m,_){return new Hy(o,u,m,_)}function sp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Br(o,u){var m=o.alternate;return m===null?(m=Es(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function Gy(o,u){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,u=m.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function ma(o,u,m,_,E,I){var W=0;if(_=o,typeof o=="function")sp(o)&&(W=1);else if(typeof o=="string")W=Wj(o,m,de.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Es(31,m,u,E),o.elementType=B,o.lanes=I,o;case x:return nu(m.children,E,I,u);case w:W=8,E|=24;break;case A:return o=Es(12,m,u,E|2),o.elementType=A,o.lanes=I,o;case F:return o=Es(13,m,u,E),o.elementType=F,o.lanes=I,o;case j:return o=Es(19,m,u,E),o.elementType=j,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:case P:W=10;break e;case R:W=9;break e;case L:W=11;break e;case U:W=14;break e;case N:W=16,_=null;break e}W=29,m=Error(i(130,o===null?"null":typeof o,"")),_=null}return u=Es(W,m,u,E),u.elementType=o,u.type=_,u.lanes=I,u}function nu(o,u,m,_){return o=Es(7,o,_,u),o.lanes=m,o}function op(o,u,m){return o=Es(6,o,null,u),o.lanes=m,o}function n0(o,u,m){return u=Es(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Tf=[],Ts=0,lp=null,Cf=0,Ta=[],Hs=0,iu=null,Ml=1,Sl="";function mc(o,u){Tf[Ts++]=Cf,Tf[Ts++]=lp,lp=o,Cf=u}function i0(o,u,m){Ta[Hs++]=Ml,Ta[Hs++]=Sl,Ta[Hs++]=iu,iu=o;var _=Ml;o=Sl;var E=32-lt(_)-1;_&=~(1<<E),m+=1;var I=32-lt(u)+E;if(30<I){var W=E-E%5;I=(_&(1<<W)-1).toString(32),_>>=W,E-=W,Ml=1<<32-lt(u)+E|m<<E|_,Sl=I+o}else Ml=1<<I|m<<E|_,Sl=o}function Xy(o){o.return!==null&&(mc(o,1),i0(o,1,0))}function qy(o){for(;o===lp;)lp=Tf[--Ts],Tf[Ts]=null,Cf=Tf[--Ts],Tf[Ts]=null;for(;o===iu;)iu=Ta[--Hs],Ta[Hs]=null,Sl=Ta[--Hs],Ta[Hs]=null,Ml=Ta[--Hs],Ta[Hs]=null}var is=null,yr=null,Ai=!1,Mo=null,Gs=!1,r0=Error(i(519));function ru(o){var u=Error(i(418,""));throw ph(Ea(u,o)),r0}function Db(o){var u=o.stateNode,m=o.type,_=o.memoizedProps;switch(u[Ki]=o,u[Li]=_,m){case"dialog":ui("cancel",u),ui("close",u);break;case"iframe":case"object":case"embed":ui("load",u);break;case"video":case"audio":for(m=0;m<S_.length;m++)ui(S_[m],u);break;case"source":ui("error",u);break;case"img":case"image":case"link":ui("error",u),ui("load",u);break;case"details":ui("toggle",u);break;case"input":ui("invalid",u),En(u,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0),_i(u);break;case"select":ui("invalid",u);break;case"textarea":ui("invalid",u),lr(u,_.value,_.defaultValue,_.children),_i(u)}m=_.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||_.suppressHydrationWarning===!0||gP(u.textContent,m)?(_.popover!=null&&(ui("beforetoggle",u),ui("toggle",u)),_.onScroll!=null&&ui("scroll",u),_.onScrollEnd!=null&&ui("scrollend",u),_.onClick!=null&&(u.onclick=Ex),u=!0):u=!1,u||ru(o)}function Wy(o){for(is=o.return;is;)switch(is.tag){case 5:case 13:Gs=!1;return;case 27:case 3:Gs=!0;return;default:is=is.return}}function Qo(o){if(o!==is)return!1;if(!Ai)return Wy(o),Ai=!0,!1;var u=o.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||H2(o.type,o.memoizedProps)),m=!m),m&&yr&&ru(o),Wy(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(m=o.data,m==="/$"){if(u===0){yr=Rc(o.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++;o=o.nextSibling}yr=null}}else u===27?(u=yr,$f(o.type)?(o=W2,W2=null,yr=o):yr=u):yr=is?Rc(o.stateNode.nextSibling):null;return!0}function wf(){yr=is=null,Ai=!1}function Pi(){var o=Mo;return o!==null&&(gn===null?gn=o:gn.push.apply(gn,o),Mo=null),o}function ph(o){Mo===null?Mo=[o]:Mo.push(o)}var Yy=pe(null),au=null,gc=null;function su(o,u,m){Te(Yy,u._currentValue),u._currentValue=m}function yc(o){o._currentValue=Yy.current,we(Yy)}function Ky(o,u,m){for(;o!==null;){var _=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),o===m)break;o=o.return}}function cp(o,u,m,_){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var I=E.dependencies;if(I!==null){var W=E.child;I=I.firstContext;e:for(;I!==null;){var te=I;I=E;for(var ve=0;ve<u.length;ve++)if(te.context===u[ve]){I.lanes|=m,te=I.alternate,te!==null&&(te.lanes|=m),Ky(I.return,m,o),_||(W=null);break e}I=te.next}}else if(E.tag===18){if(W=E.return,W===null)throw Error(i(341));W.lanes|=m,I=W.alternate,I!==null&&(I.lanes|=m),Ky(W,m,o),W=null}else W=E.child;if(W!==null)W.return=E;else for(W=E;W!==null;){if(W===o){W=null;break}if(E=W.sibling,E!==null){E.return=W.return,W=E;break}W=W.return}E=W}}function So(o,u,m,_){o=null;for(var E=u,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var W=E.alternate;if(W===null)throw Error(i(387));if(W=W.memoizedProps,W!==null){var te=E.type;Ms(E.pendingProps.value,W.value)||(o!==null?o.push(te):o=[te])}}else if(E===ct.current){if(W=E.alternate,W===null)throw Error(i(387));W.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(R_):o=[R_])}E=E.return}o!==null&&cp(u,o,m,_),u.flags|=262144}function up(o){for(o=o.firstContext;o!==null;){if(!Ms(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Al(o){au=o,gc=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Sr(o){return a0(au,o)}function hp(o,u){return au===null&&Al(o),a0(o,u)}function a0(o,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},gc===null){if(o===null)throw Error(i(308));gc=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else gc=gc.next=u;return m}var Jy=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(m,_){o.push(_)}};this.abort=function(){u.aborted=!0,o.forEach(function(m){return m()})}},A2=n.unstable_scheduleCallback,Bb=n.unstable_NormalPriority,Yr={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function s0(){return{controller:new Jy,data:new Map,refCount:0}}function Rf(o){o.refCount--,o.refCount===0&&A2(Bb,function(){o.controller.abort()})}var If=null,fp=0,Un=0,Pf=null;function Xs(o,u){if(If===null){var m=If=[];fp=0,Un=O2(),Pf={status:"pending",value:void 0,then:function(_){m.push(_)}}}return fp++,u.then(o0,o0),u}function o0(){if(--fp===0&&If!==null){Pf!==null&&(Pf.status="fulfilled");var o=If;If=null,Un=0,Pf=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function E2(o,u){var m=[],_={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return o.then(function(){_.status="fulfilled",_.value=u;for(var E=0;E<m.length;E++)(0,m[E])(u)},function(E){for(_.status="rejected",_.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),_}var dp=X.S;X.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Xs(o,u),dp!==null&&dp(o,u)};var Ao=pe(null);function ou(){var o=Ao.current;return o!==null?o:On.pooledCache}function pp(o,u){u===null?Te(Ao,Ao.current):Te(Ao,u.pool)}function l0(){var o=ou();return o===null?null:{parent:Yr._currentValue,pool:o}}var mp=Error(i(460)),Qy=Error(i(474)),$o=Error(i(542)),gp={then:function(){}};function c0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Df(){}function u0(o,u,m){switch(m=o[m],m===void 0?o.push(u):m!==u&&(u.then(Df,Df),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Ob(o),o;default:if(typeof u.status=="string")u.then(Df,Df);else{if(o=On,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=u,o.status="pending",o.then(function(_){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=_}},function(_){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=_}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Ob(o),o}throw Eo=u,mp}}var Eo=null;function $y(){if(Eo===null)throw Error(i(459));var o=Eo;return Eo=null,o}function Ob(o){if(o===mp||o===$o)throw Error(i(483))}var _c=!1;function Zy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wn(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function El(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function vc(o,u,m){var _=o.updateQueue;if(_===null)return null;if(_=_.shared,(Di&2)!==0){var E=_.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),_.pending=u,u=Ef(o),ky(o,null,m),u}return eu(o,_,u,m),Ef(o)}function mh(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var _=u.lanes;_&=o.pendingLanes,m|=_,u.lanes=m,$t(o,m)}}function Bf(o,u){var m=o.updateQueue,_=o.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var E=null,I=null;if(m=m.firstBaseUpdate,m!==null){do{var W={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};I===null?E=I=W:I=I.next=W,m=m.next}while(m!==null);I===null?E=I=u:I=I.next=u}else E=I=u;m={baseState:_.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:_.shared,callbacks:_.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}var e_=!1;function yp(){if(e_){var o=Pf;if(o!==null)throw o}}function Of(o,u,m,_){e_=!1;var E=o.updateQueue;_c=!1;var I=E.firstBaseUpdate,W=E.lastBaseUpdate,te=E.shared.pending;if(te!==null){E.shared.pending=null;var ve=te,Xe=ve.next;ve.next=null,W===null?I=Xe:W.next=Xe,W=ve;var dt=o.alternate;dt!==null&&(dt=dt.updateQueue,te=dt.lastBaseUpdate,te!==W&&(te===null?dt.firstBaseUpdate=Xe:te.next=Xe,dt.lastBaseUpdate=ve))}if(I!==null){var _t=E.baseState;W=0,dt=Xe=ve=null,te=I;do{var Ke=te.lane&-536870913,$e=Ke!==te.lane;if($e?(cn&Ke)===Ke:(_&Ke)===Ke){Ke!==0&&Ke===Un&&(e_=!0),dt!==null&&(dt=dt.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Pn=o,Sn=te;Ke=u;var or=m;switch(Sn.tag){case 1:if(Pn=Sn.payload,typeof Pn=="function"){_t=Pn.call(or,_t,Ke);break e}_t=Pn;break e;case 3:Pn.flags=Pn.flags&-65537|128;case 0:if(Pn=Sn.payload,Ke=typeof Pn=="function"?Pn.call(or,_t,Ke):Pn,Ke==null)break e;_t=p({},_t,Ke);break e;case 2:_c=!0}}Ke=te.callback,Ke!==null&&(o.flags|=64,$e&&(o.flags|=8192),$e=E.callbacks,$e===null?E.callbacks=[Ke]:$e.push(Ke))}else $e={lane:Ke,tag:te.tag,payload:te.payload,callback:te.callback,next:null},dt===null?(Xe=dt=$e,ve=_t):dt=dt.next=$e,W|=Ke;if(te=te.next,te===null){if(te=E.shared.pending,te===null)break;$e=te,te=$e.next,$e.next=null,E.lastBaseUpdate=$e,E.shared.pending=null}}while(!0);dt===null&&(ve=_t),E.baseState=ve,E.firstBaseUpdate=Xe,E.lastBaseUpdate=dt,I===null&&(E.shared.lanes=0),sl|=W,o.lanes=W,o.memoizedState=_t}}function Nf(o,u){if(typeof o!="function")throw Error(i(191,o));o.call(u)}function Nb(o,u){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)Nf(m[o],u)}var Lf=pe(null),h0=pe(0);function Lb(o,u){o=Po,Te(h0,o),Te(Lf,u),Po=o|u.baseLanes}function t_(){Te(h0,Po),Te(Lf,Lf.current)}function _p(){Po=h0.current,we(Lf),we(h0)}var bc=0,Fn=null,Fi=null,Kr=null,f0=!1,lu=!1,rs=!1,ea=0,To=0,Ca=null,Ub=0;function Or(){throw Error(i(321))}function ka(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!Ms(o[m],u[m]))return!1;return!0}function xc(o,u,m,_,E,I){return bc=I,Fn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,X.H=o===null||o.memoizedState===null?x0:y_,rs=!1,I=m(_,E),rs=!1,lu&&(I=zb(u,m,_,E)),Fb(o),I}function Fb(o){X.H=xp;var u=Fi!==null&&Fi.next!==null;if(bc=0,Kr=Fi=Fn=null,f0=!1,To=0,Ca=null,u)throw Error(i(300));o===null||ga||(o=o.dependencies,o!==null&&up(o)&&(ga=!0))}function zb(o,u,m,_){Fn=o;var E=0;do{if(lu&&(Ca=null),To=0,lu=!1,25<=E)throw Error(i(301));if(E+=1,Kr=Fi=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}X.H=hx,I=u(m,_)}while(lu);return I}function T2(){var o=X.H,u=o.useState()[0];return u=typeof u.then=="function"?Zo(u):u,o=o.useState()[0],(Fi!==null?Fi.memoizedState:null)!==o&&(Fn.flags|=1024),u}function n_(){var o=ea!==0;return ea=0,o}function d0(o,u,m){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~m}function i_(o){if(f0){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}f0=!1}bc=0,Kr=Fi=Fn=null,lu=!1,To=ea=0,Ca=null}function as(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?Fn.memoizedState=Kr=o:Kr=Kr.next=o,Kr}function Jr(){if(Fi===null){var o=Fn.alternate;o=o!==null?o.memoizedState:null}else o=Fi.next;var u=Kr===null?Fn.memoizedState:Kr.next;if(u!==null)Kr=u,Fi=o;else{if(o===null)throw Fn.alternate===null?Error(i(467)):Error(i(310));Fi=o,o={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},Kr===null?Fn.memoizedState=Kr=o:Kr=Kr.next=o}return Kr}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(o){var u=To;return To+=1,Ca===null&&(Ca=[]),o=u0(Ca,o,u),u=Fn,(Kr===null?u.memoizedState:Kr.next)===null&&(u=u.alternate,X.H=u===null||u.memoizedState===null?x0:y_),o}function p0(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Zo(o);if(o.$$typeof===P)return Sr(o)}throw Error(i(438,String(o)))}function r_(o){var u=null,m=Fn.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var _=Fn.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(u={data:_.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=cu(),Fn.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(o),_=0;_<o;_++)m[_]=O;return u.index++,m}function Mc(o,u){return typeof u=="function"?u(o):u}function uu(o){var u=Jr();return a_(u,Fi,o)}function a_(o,u,m){var _=o.queue;if(_===null)throw Error(i(311));_.lastRenderedReducer=m;var E=o.baseQueue,I=_.pending;if(I!==null){if(E!==null){var W=E.next;E.next=I.next,I.next=W}u.baseQueue=E=I,_.pending=null}if(I=o.baseState,E===null)o.memoizedState=I;else{u=E.next;var te=W=null,ve=null,Xe=u,dt=!1;do{var _t=Xe.lane&-536870913;if(_t!==Xe.lane?(cn&_t)===_t:(bc&_t)===_t){var Ke=Xe.revertLane;if(Ke===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),_t===Un&&(dt=!0);else if((bc&Ke)===Ke){Xe=Xe.next,Ke===Un&&(dt=!0);continue}else _t={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},ve===null?(te=ve=_t,W=I):ve=ve.next=_t,Fn.lanes|=Ke,sl|=Ke;_t=Xe.action,rs&&m(I,_t),I=Xe.hasEagerState?Xe.eagerState:m(I,_t)}else Ke={lane:_t,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},ve===null?(te=ve=Ke,W=I):ve=ve.next=Ke,Fn.lanes|=_t,sl|=_t;Xe=Xe.next}while(Xe!==null&&Xe!==u);if(ve===null?W=I:ve.next=te,!Ms(I,o.memoizedState)&&(ga=!0,dt&&(m=Pf,m!==null)))throw m;o.memoizedState=I,o.baseState=W,o.baseQueue=ve,_.lastRenderedState=I}return E===null&&(_.lanes=0),[o.memoizedState,_.dispatch]}function s_(o){var u=Jr(),m=u.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var _=m.dispatch,E=m.pending,I=u.memoizedState;if(E!==null){m.pending=null;var W=E=E.next;do I=o(I,W.action),W=W.next;while(W!==E);Ms(I,u.memoizedState)||(ga=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),m.lastRenderedState=I}return[I,_]}function Vb(o,u,m){var _=Fn,E=Jr(),I=Ai;if(I){if(m===void 0)throw Error(i(407));m=m()}else m=u();var W=!Ms((Fi||E).memoizedState,m);W&&(E.memoizedState=m,ga=!0),E=E.queue;var te=kb.bind(null,_,E,o);if(zf(2048,8,te,[o]),E.getSnapshot!==u||W||Kr!==null&&Kr.memoizedState.tag&1){if(_.flags|=2048,Ff(9,vp(),jb.bind(null,_,E,m,u),null),On===null)throw Error(i(349));I||(bc&124)!==0||Uf(_,u,m)}return m}function Uf(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=Fn.updateQueue,u===null?(u=cu(),Fn.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function jb(o,u,m,_){u.value=m,u.getSnapshot=_,Hb(u)&&Gb(o)}function kb(o,u,m){return m(function(){Hb(u)&&Gb(o)})}function Hb(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!Ms(o,m)}catch{return!0}}function Gb(o){var u=pc(o,2);u!==null&&ls(u,o,2)}function o_(o){var u=as();if(typeof o=="function"){var m=o;if(o=m(),rs){Ue(!0);try{m()}finally{Ue(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:o},u}function Xb(o,u,m,_){return o.baseState=m,a_(o,Fi,typeof _=="function"?_:Mc)}function C2(o,u,m,_,E){if(b0(o))throw Error(i(485));if(o=u.action,o!==null){var I={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){I.listeners.push(W)}};X.T!==null?m(!0):I.isTransition=!1,_(I),m=u.pending,m===null?(I.next=u.pending=I,qb(u,I)):(I.next=m.next,u.pending=m.next=I)}}function qb(o,u){var m=u.action,_=u.payload,E=o.state;if(u.isTransition){var I=X.T,W={};X.T=W;try{var te=m(E,_),ve=X.S;ve!==null&&ve(W,te),Wb(o,u,te)}catch(Xe){l_(o,u,Xe)}finally{X.T=I}}else try{I=m(E,_),Wb(o,u,I)}catch(Xe){l_(o,u,Xe)}}function Wb(o,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(_){Yb(o,u,_)},function(_){return l_(o,u,_)}):Yb(o,u,m)}function Yb(o,u,m){u.status="fulfilled",u.value=m,Kb(u),o.state=m,u=o.pending,u!==null&&(m=u.next,m===u?o.pending=null:(m=m.next,u.next=m,qb(o,m)))}function l_(o,u,m){var _=o.pending;if(o.pending=null,_!==null){_=_.next;do u.status="rejected",u.reason=m,Kb(u),u=u.next;while(u!==_)}o.action=null}function Kb(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function c_(o,u){return u}function Jb(o,u){if(Ai){var m=On.formState;if(m!==null){e:{var _=Fn;if(Ai){if(yr){t:{for(var E=yr,I=Gs;E.nodeType!==8;){if(!I){E=null;break t}if(E=Rc(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){yr=Rc(E.nextSibling),_=E.data==="F!";break e}}ru(_)}_=!1}_&&(u=m[0])}}return m=as(),m.memoizedState=m.baseState=u,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:u},m.queue=_,m=cx.bind(null,Fn,_),_.dispatch=m,_=o_(!1),I=v0.bind(null,Fn,!1,_.queue),_=as(),E={state:u,dispatch:null,action:o,pending:null},_.queue=E,m=C2.bind(null,Fn,E,I,m),E.dispatch=m,_.memoizedState=o,[u,m,!1]}function Qb(o){var u=Jr();return $b(u,Fi,o)}function $b(o,u,m){if(u=a_(o,u,c_)[0],o=uu(Mc)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var _=Zo(u)}catch(W){throw W===mp?$o:W}else _=u;u=Jr();var E=u.queue,I=E.dispatch;return m!==u.memoizedState&&(Fn.flags|=2048,Ff(9,vp(),w2.bind(null,E,m),null)),[_,I,o]}function w2(o,u){o.action=u}function Zb(o){var u=Jr(),m=Fi;if(m!==null)return $b(u,m,o);Jr(),u=u.memoizedState,m=Jr();var _=m.queue.dispatch;return m.memoizedState=o,[u,_,!1]}function Ff(o,u,m,_){return o={tag:o,create:m,deps:_,inst:u,next:null},u=Fn.updateQueue,u===null&&(u=cu(),Fn.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=o.next=o:(_=m.next,m.next=o,o.next=_,u.lastEffect=o),o}function vp(){return{destroy:void 0,resource:void 0}}function u_(){return Jr().memoizedState}function m0(o,u,m,_){var E=as();_=_===void 0?null:_,Fn.flags|=o,E.memoizedState=Ff(1|u,vp(),m,_)}function zf(o,u,m,_){var E=Jr();_=_===void 0?null:_;var I=E.memoizedState.inst;Fi!==null&&_!==null&&ka(_,Fi.memoizedState.deps)?E.memoizedState=Ff(u,I,m,_):(Fn.flags|=o,E.memoizedState=Ff(1|u,I,m,_))}function h_(o,u){m0(8390656,8,o,u)}function f_(o,u){zf(2048,8,o,u)}function g0(o,u){return zf(4,2,o,u)}function y0(o,u){return zf(4,4,o,u)}function ex(o,u){if(typeof u=="function"){o=o();var m=u(o);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function tx(o,u,m){m=m!=null?m.concat([o]):null,zf(4,4,ex.bind(null,u,o),m)}function d_(){}function nx(o,u){var m=Jr();u=u===void 0?null:u;var _=m.memoizedState;return u!==null&&ka(u,_[1])?_[0]:(m.memoizedState=[o,u],o)}function p_(o,u){var m=Jr();u=u===void 0?null:u;var _=m.memoizedState;if(u!==null&&ka(u,_[1]))return _[0];if(_=o(),rs){Ue(!0);try{o()}finally{Ue(!1)}}return m.memoizedState=[_,u],_}function _0(o,u,m){return m===void 0||(bc&1073741824)!==0?o.memoizedState=u:(o.memoizedState=m,o=D0(),Fn.lanes|=o,sl|=o,m)}function ix(o,u,m,_){return Ms(m,u)?m:Lf.current!==null?(o=_0(o,m,_),Ms(o,u)||(ga=!0),o):(bc&42)===0?(ga=!0,o.memoizedState=m):(o=D0(),Fn.lanes|=o,sl|=o,u)}function rx(o,u,m,_,E){var I=Z.p;Z.p=I!==0&&8>I?I:8;var W=X.T,te={};X.T=te,v0(o,!1,u,m);try{var ve=E(),Xe=X.S;if(Xe!==null&&Xe(te,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var dt=E2(ve,_);bp(o,u,dt,Tr(o))}else bp(o,u,_,Tr(o))}catch(_t){bp(o,u,{then:function(){},status:"rejected",reason:_t},Tr())}finally{Z.p=I,X.T=W}}function R2(){}function m_(o,u,m,_){if(o.tag!==5)throw Error(i(476));var E=ax(o).queue;rx(o,E,u,re,m===null?R2:function(){return sx(o),m(_)})}function ax(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:re},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:m},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function sx(o){var u=ax(o).next.queue;bp(o,u,{},Tr())}function g_(){return Sr(R_)}function ox(){return Jr().memoizedState}function lx(){return Jr().memoizedState}function I2(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var m=Tr();o=El(m);var _=vc(u,o,m);_!==null&&(ls(_,u,m),mh(_,u,m)),u={cache:s0()},o.payload=u;return}u=u.return}}function P2(o,u,m){var _=Tr();m={lane:_,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},b0(o)?ux(u,m):(m=t0(o,u,m,_),m!==null&&(ls(m,o,_),qs(m,u,_)))}function cx(o,u,m){var _=Tr();bp(o,u,m,_)}function bp(o,u,m,_){var E={lane:_,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(b0(o))ux(u,E);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var W=u.lastRenderedState,te=I(W,m);if(E.hasEagerState=!0,E.eagerState=te,Ms(te,W))return eu(o,u,E,0),On===null&&ap(),!1}catch{}finally{}if(m=t0(o,u,E,_),m!==null)return ls(m,o,_),qs(m,u,_),!0}return!1}function v0(o,u,m,_){if(_={lane:2,revertLane:O2(),action:_,hasEagerState:!1,eagerState:null,next:null},b0(o)){if(u)throw Error(i(479))}else u=t0(o,m,_,2),u!==null&&ls(u,o,2)}function b0(o){var u=o.alternate;return o===Fn||u!==null&&u===Fn}function ux(o,u){lu=f0=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function qs(o,u,m){if((m&4194048)!==0){var _=u.lanes;_&=o.pendingLanes,m|=_,u.lanes=m,$t(o,m)}}var xp={readContext:Sr,use:p0,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useLayoutEffect:Or,useInsertionEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useSyncExternalStore:Or,useId:Or,useHostTransitionStatus:Or,useFormState:Or,useActionState:Or,useOptimistic:Or,useMemoCache:Or,useCacheRefresh:Or},x0={readContext:Sr,use:p0,useCallback:function(o,u){return as().memoizedState=[o,u===void 0?null:u],o},useContext:Sr,useEffect:h_,useImperativeHandle:function(o,u,m){m=m!=null?m.concat([o]):null,m0(4194308,4,ex.bind(null,u,o),m)},useLayoutEffect:function(o,u){return m0(4194308,4,o,u)},useInsertionEffect:function(o,u){m0(4,2,o,u)},useMemo:function(o,u){var m=as();u=u===void 0?null:u;var _=o();if(rs){Ue(!0);try{o()}finally{Ue(!1)}}return m.memoizedState=[_,u],_},useReducer:function(o,u,m){var _=as();if(m!==void 0){var E=m(u);if(rs){Ue(!0);try{m(u)}finally{Ue(!1)}}}else E=u;return _.memoizedState=_.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},_.queue=o,o=o.dispatch=P2.bind(null,Fn,o),[_.memoizedState,o]},useRef:function(o){var u=as();return o={current:o},u.memoizedState=o},useState:function(o){o=o_(o);var u=o.queue,m=cx.bind(null,Fn,u);return u.dispatch=m,[o.memoizedState,m]},useDebugValue:d_,useDeferredValue:function(o,u){var m=as();return _0(m,o,u)},useTransition:function(){var o=o_(!1);return o=rx.bind(null,Fn,o.queue,!0,!1),as().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,m){var _=Fn,E=as();if(Ai){if(m===void 0)throw Error(i(407));m=m()}else{if(m=u(),On===null)throw Error(i(349));(cn&124)!==0||Uf(_,u,m)}E.memoizedState=m;var I={value:m,getSnapshot:u};return E.queue=I,h_(kb.bind(null,_,I,o),[o]),_.flags|=2048,Ff(9,vp(),jb.bind(null,_,I,m,u),null),m},useId:function(){var o=as(),u=On.identifierPrefix;if(Ai){var m=Sl,_=Ml;m=(_&~(1<<32-lt(_)-1)).toString(32)+m,u="«"+u+"R"+m,m=ea++,0<m&&(u+="H"+m.toString(32)),u+="»"}else m=Ub++,u="«"+u+"r"+m.toString(32)+"»";return o.memoizedState=u},useHostTransitionStatus:g_,useFormState:Jb,useActionState:Jb,useOptimistic:function(o){var u=as();u.memoizedState=u.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=v0.bind(null,Fn,!0,m),m.dispatch=u,[o,u]},useMemoCache:r_,useCacheRefresh:function(){return as().memoizedState=I2.bind(null,Fn)}},y_={readContext:Sr,use:p0,useCallback:nx,useContext:Sr,useEffect:f_,useImperativeHandle:tx,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:p_,useReducer:uu,useRef:u_,useState:function(){return uu(Mc)},useDebugValue:d_,useDeferredValue:function(o,u){var m=Jr();return ix(m,Fi.memoizedState,o,u)},useTransition:function(){var o=uu(Mc)[0],u=Jr().memoizedState;return[typeof o=="boolean"?o:Zo(o),u]},useSyncExternalStore:Vb,useId:ox,useHostTransitionStatus:g_,useFormState:Qb,useActionState:Qb,useOptimistic:function(o,u){var m=Jr();return Xb(m,Fi,o,u)},useMemoCache:r_,useCacheRefresh:lx},hx={readContext:Sr,use:p0,useCallback:nx,useContext:Sr,useEffect:f_,useImperativeHandle:tx,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:p_,useReducer:s_,useRef:u_,useState:function(){return s_(Mc)},useDebugValue:d_,useDeferredValue:function(o,u){var m=Jr();return Fi===null?_0(m,o,u):ix(m,Fi.memoizedState,o,u)},useTransition:function(){var o=s_(Mc)[0],u=Jr().memoizedState;return[typeof o=="boolean"?o:Zo(o),u]},useSyncExternalStore:Vb,useId:ox,useHostTransitionStatus:g_,useFormState:Zb,useActionState:Zb,useOptimistic:function(o,u){var m=Jr();return Fi!==null?Xb(m,Fi,o,u):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:r_,useCacheRefresh:lx},gh=null,Mp=0;function Sp(o){var u=Mp;return Mp+=1,gh===null&&(gh=[]),u0(gh,o,u)}function Vf(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function M0(o,u){throw u.$$typeof===g?Error(i(525)):(o=Object.prototype.toString.call(u),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function fx(o){var u=o._init;return u(o._payload)}function dx(o){function u(Le,De){if(o){var He=Le.deletions;He===null?(Le.deletions=[De],Le.flags|=16):He.push(De)}}function m(Le,De){if(!o)return null;for(;De!==null;)u(Le,De),De=De.sibling;return null}function _(Le){for(var De=new Map;Le!==null;)Le.key!==null?De.set(Le.key,Le):De.set(Le.index,Le),Le=Le.sibling;return De}function E(Le,De){return Le=Br(Le,De),Le.index=0,Le.sibling=null,Le}function I(Le,De,He){return Le.index=He,o?(He=Le.alternate,He!==null?(He=He.index,He<De?(Le.flags|=67108866,De):He):(Le.flags|=67108866,De)):(Le.flags|=1048576,De)}function W(Le){return o&&Le.alternate===null&&(Le.flags|=67108866),Le}function te(Le,De,He,mt){return De===null||De.tag!==6?(De=op(He,Le.mode,mt),De.return=Le,De):(De=E(De,He),De.return=Le,De)}function ve(Le,De,He,mt){var Zt=He.type;return Zt===x?dt(Le,De,He.props.children,mt,He.key):De!==null&&(De.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===N&&fx(Zt)===De.type)?(De=E(De,He.props),Vf(De,He),De.return=Le,De):(De=ma(He.type,He.key,He.props,null,Le.mode,mt),Vf(De,He),De.return=Le,De)}function Xe(Le,De,He,mt){return De===null||De.tag!==4||De.stateNode.containerInfo!==He.containerInfo||De.stateNode.implementation!==He.implementation?(De=n0(He,Le.mode,mt),De.return=Le,De):(De=E(De,He.children||[]),De.return=Le,De)}function dt(Le,De,He,mt,Zt){return De===null||De.tag!==7?(De=nu(He,Le.mode,mt,Zt),De.return=Le,De):(De=E(De,He),De.return=Le,De)}function _t(Le,De,He){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=op(""+De,Le.mode,He),De.return=Le,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return He=ma(De.type,De.key,De.props,null,Le.mode,He),Vf(He,De),He.return=Le,He;case v:return De=n0(De,Le.mode,He),De.return=Le,De;case N:var mt=De._init;return De=mt(De._payload),_t(Le,De,He)}if(_e(De)||Q(De))return De=nu(De,Le.mode,He,null),De.return=Le,De;if(typeof De.then=="function")return _t(Le,Sp(De),He);if(De.$$typeof===P)return _t(Le,hp(Le,De),He);M0(Le,De)}return null}function Ke(Le,De,He,mt){var Zt=De!==null?De.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Zt!==null?null:te(Le,De,""+He,mt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case y:return He.key===Zt?ve(Le,De,He,mt):null;case v:return He.key===Zt?Xe(Le,De,He,mt):null;case N:return Zt=He._init,He=Zt(He._payload),Ke(Le,De,He,mt)}if(_e(He)||Q(He))return Zt!==null?null:dt(Le,De,He,mt,null);if(typeof He.then=="function")return Ke(Le,De,Sp(He),mt);if(He.$$typeof===P)return Ke(Le,De,hp(Le,He),mt);M0(Le,He)}return null}function $e(Le,De,He,mt,Zt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Le=Le.get(He)||null,te(De,Le,""+mt,Zt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case y:return Le=Le.get(mt.key===null?He:mt.key)||null,ve(De,Le,mt,Zt);case v:return Le=Le.get(mt.key===null?He:mt.key)||null,Xe(De,Le,mt,Zt);case N:var li=mt._init;return mt=li(mt._payload),$e(Le,De,He,mt,Zt)}if(_e(mt)||Q(mt))return Le=Le.get(He)||null,dt(De,Le,mt,Zt,null);if(typeof mt.then=="function")return $e(Le,De,He,Sp(mt),Zt);if(mt.$$typeof===P)return $e(Le,De,He,hp(De,mt),Zt);M0(De,mt)}return null}function Pn(Le,De,He,mt){for(var Zt=null,li=null,ln=De,Tn=De=0,Xa=null;ln!==null&&Tn<He.length;Tn++){ln.index>Tn?(Xa=ln,ln=null):Xa=ln.sibling;var Oi=Ke(Le,ln,He[Tn],mt);if(Oi===null){ln===null&&(ln=Xa);break}o&&ln&&Oi.alternate===null&&u(Le,ln),De=I(Oi,De,Tn),li===null?Zt=Oi:li.sibling=Oi,li=Oi,ln=Xa}if(Tn===He.length)return m(Le,ln),Ai&&mc(Le,Tn),Zt;if(ln===null){for(;Tn<He.length;Tn++)ln=_t(Le,He[Tn],mt),ln!==null&&(De=I(ln,De,Tn),li===null?Zt=ln:li.sibling=ln,li=ln);return Ai&&mc(Le,Tn),Zt}for(ln=_(ln);Tn<He.length;Tn++)Xa=$e(ln,Le,Tn,He[Tn],mt),Xa!==null&&(o&&Xa.alternate!==null&&ln.delete(Xa.key===null?Tn:Xa.key),De=I(Xa,De,Tn),li===null?Zt=Xa:li.sibling=Xa,li=Xa);return o&&ln.forEach(function(id){return u(Le,id)}),Ai&&mc(Le,Tn),Zt}function Sn(Le,De,He,mt){if(He==null)throw Error(i(151));for(var Zt=null,li=null,ln=De,Tn=De=0,Xa=null,Oi=He.next();ln!==null&&!Oi.done;Tn++,Oi=He.next()){ln.index>Tn?(Xa=ln,ln=null):Xa=ln.sibling;var id=Ke(Le,ln,Oi.value,mt);if(id===null){ln===null&&(ln=Xa);break}o&&ln&&id.alternate===null&&u(Le,ln),De=I(id,De,Tn),li===null?Zt=id:li.sibling=id,li=id,ln=Xa}if(Oi.done)return m(Le,ln),Ai&&mc(Le,Tn),Zt;if(ln===null){for(;!Oi.done;Tn++,Oi=He.next())Oi=_t(Le,Oi.value,mt),Oi!==null&&(De=I(Oi,De,Tn),li===null?Zt=Oi:li.sibling=Oi,li=Oi);return Ai&&mc(Le,Tn),Zt}for(ln=_(ln);!Oi.done;Tn++,Oi=He.next())Oi=$e(ln,Le,Tn,Oi.value,mt),Oi!==null&&(o&&Oi.alternate!==null&&ln.delete(Oi.key===null?Tn:Oi.key),De=I(Oi,De,Tn),li===null?Zt=Oi:li.sibling=Oi,li=Oi);return o&&ln.forEach(function(ak){return u(Le,ak)}),Ai&&mc(Le,Tn),Zt}function or(Le,De,He,mt){if(typeof He=="object"&&He!==null&&He.type===x&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case y:e:{for(var Zt=He.key;De!==null;){if(De.key===Zt){if(Zt=He.type,Zt===x){if(De.tag===7){m(Le,De.sibling),mt=E(De,He.props.children),mt.return=Le,Le=mt;break e}}else if(De.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===N&&fx(Zt)===De.type){m(Le,De.sibling),mt=E(De,He.props),Vf(mt,He),mt.return=Le,Le=mt;break e}m(Le,De);break}else u(Le,De);De=De.sibling}He.type===x?(mt=nu(He.props.children,Le.mode,mt,He.key),mt.return=Le,Le=mt):(mt=ma(He.type,He.key,He.props,null,Le.mode,mt),Vf(mt,He),mt.return=Le,Le=mt)}return W(Le);case v:e:{for(Zt=He.key;De!==null;){if(De.key===Zt)if(De.tag===4&&De.stateNode.containerInfo===He.containerInfo&&De.stateNode.implementation===He.implementation){m(Le,De.sibling),mt=E(De,He.children||[]),mt.return=Le,Le=mt;break e}else{m(Le,De);break}else u(Le,De);De=De.sibling}mt=n0(He,Le.mode,mt),mt.return=Le,Le=mt}return W(Le);case N:return Zt=He._init,He=Zt(He._payload),or(Le,De,He,mt)}if(_e(He))return Pn(Le,De,He,mt);if(Q(He)){if(Zt=Q(He),typeof Zt!="function")throw Error(i(150));return He=Zt.call(He),Sn(Le,De,He,mt)}if(typeof He.then=="function")return or(Le,De,Sp(He),mt);if(He.$$typeof===P)return or(Le,De,hp(Le,He),mt);M0(Le,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,De!==null&&De.tag===6?(m(Le,De.sibling),mt=E(De,He),mt.return=Le,Le=mt):(m(Le,De),mt=op(He,Le.mode,mt),mt.return=Le,Le=mt),W(Le)):m(Le,De)}return function(Le,De,He,mt){try{Mp=0;var Zt=or(Le,De,He,mt);return gh=null,Zt}catch(ln){if(ln===mp||ln===$o)throw ln;var li=Es(29,ln,null,Le.mode);return li.lanes=mt,li.return=Le,li}finally{}}}var yh=dx(!0),px=dx(!1),Qi=pe(null),el=null;function hu(o){var u=o.alternate;Te(Nr,Nr.current&1),Te(Qi,o),el===null&&(u===null||Lf.current!==null||u.memoizedState!==null)&&(el=o)}function mx(o){if(o.tag===22){if(Te(Nr,Nr.current),Te(Qi,o),el===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(el=o)}}else fu()}function fu(){Te(Nr,Nr.current),Te(Qi,Qi.current)}function Tl(o){we(Qi),el===o&&(el=null),we(Nr)}var Nr=pe(0);function Sc(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||q2(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function du(o,u,m,_){u=o.memoizedState,m=m(_,u),m=m==null?u:p({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var ss={enqueueSetState:function(o,u,m){o=o._reactInternals;var _=Tr(),E=El(_);E.payload=u,m!=null&&(E.callback=m),u=vc(o,E,_),u!==null&&(ls(u,o,_),mh(u,o,_))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var _=Tr(),E=El(_);E.tag=1,E.payload=u,m!=null&&(E.callback=m),u=vc(o,E,_),u!==null&&(ls(u,o,_),mh(u,o,_))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=Tr(),_=El(m);_.tag=2,u!=null&&(_.callback=u),u=vc(o,_,m),u!==null&&(ls(u,o,m),mh(u,o,m))}};function gx(o,u,m,_,E,I,W){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(_,I,W):u.prototype&&u.prototype.isPureReactComponent?!Jo(m,_)||!Jo(E,I):!0}function yx(o,u,m,_){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,_),u.state!==o&&ss.enqueueReplaceState(u,u.state,null)}function Cl(o,u){var m=u;if("ref"in u){m={};for(var _ in u)_!=="ref"&&(m[_]=u[_])}if(o=o.defaultProps){m===u&&(m=p({},m));for(var E in o)m[E]===void 0&&(m[E]=o[E])}return m}var _h=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Ap(o){_h(o)}function S0(o){console.error(o)}function _x(o){_h(o)}function A0(o,u){try{var m=o.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(_){setTimeout(function(){throw _})}}function Co(o,u,m){try{var _=o.onCaughtError;_(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function E0(o,u,m){return m=El(m),m.tag=3,m.payload={element:null},m.callback=function(){A0(o,u)},m}function vx(o){return o=El(o),o.tag=3,o}function T0(o,u,m,_){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var I=_.value;o.payload=function(){return E(I)},o.callback=function(){Co(u,m,_)}}var W=m.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(o.callback=function(){Co(u,m,_),typeof E!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var te=_.stack;this.componentDidCatch(_.value,{componentStack:te!==null?te:""})})}function D2(o,u,m,_,E){if(m.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(u=m.alternate,u!==null&&So(u,m,E,!0),m=Qi.current,m!==null){switch(m.tag){case 13:return el===null?h():m.alternate===null&&ur===0&&(ur=3),m.flags&=-257,m.flags|=65536,m.lanes=E,_===gp?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([_]):u.add(_),Ze(o,_,E)),!1;case 22:return m.flags|=65536,_===gp?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([_])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([_]):m.add(_)),Ze(o,_,E)),!1}throw Error(i(435,m.tag))}return Ze(o,_,E),h(),!1}if(Ai)return u=Qi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,_!==r0&&(o=Error(i(422),{cause:_}),ph(Ea(o,m)))):(_!==r0&&(u=Error(i(423),{cause:_}),ph(Ea(u,m))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,_=Ea(_,m),E=E0(o.stateNode,_,E),Bf(o,E),ur!==4&&(ur=2)),!1;var I=Error(i(520),{cause:_});if(I=Ea(I,m),Bi===null?Bi=[I]:Bi.push(I),ur!==4&&(ur=2),u===null)return!0;_=Ea(_,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,o=E&-E,m.lanes|=o,o=E0(m.stateNode,_,o),Bf(m,o),!1;case 1:if(u=m.type,I=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(eo===null||!eo.has(I))))return m.flags|=65536,E&=-E,m.lanes|=E,E=vx(E),T0(E,o,m,_),Bf(m,E),!1}m=m.return}while(m!==null);return!1}var bx=Error(i(461)),ga=!1;function Lr(o,u,m,_){u.child=o===null?px(u,null,m,_):yh(u,o.child,m,_)}function Cs(o,u,m,_,E){m=m.render;var I=u.ref;if("ref"in _){var W={};for(var te in _)te!=="ref"&&(W[te]=_[te])}else W=_;return Al(u),_=xc(o,u,m,W,I,E),te=n_(),o!==null&&!ga?(d0(o,u,E),ya(o,u,E)):(Ai&&te&&Xy(u),u.flags|=1,Lr(o,u,_,E),u.child)}function ws(o,u,m,_,E){if(o===null){var I=m.type;return typeof I=="function"&&!sp(I)&&I.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=I,__(o,u,I,_,E)):(o=ma(m.type,null,_,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(I=o.child,!Ep(o,E)){var W=I.memoizedProps;if(m=m.compare,m=m!==null?m:Jo,m(W,_)&&o.ref===u.ref)return ya(o,u,E)}return u.flags|=1,o=Br(I,_),o.ref=u.ref,o.return=u,u.child=o}function __(o,u,m,_,E){if(o!==null){var I=o.memoizedProps;if(Jo(I,_)&&o.ref===u.ref)if(ga=!1,u.pendingProps=_=I,Ep(o,E))(o.flags&131072)!==0&&(ga=!0);else return u.lanes=o.lanes,ya(o,u,E)}return jf(o,u,m,_,E)}function vh(o,u,m){var _=u.pendingProps,E=_.children,I=o!==null?o.memoizedState:null;if(_.mode==="hidden"){if((u.flags&128)!==0){if(_=I!==null?I.baseLanes|m:m,o!==null){for(E=u.child=o.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;u.childLanes=I&~_}else u.childLanes=0,u.child=null;return bh(o,u,_,m)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&pp(u,I!==null?I.cachePool:null),I!==null?Lb(u,I):t_(),mx(u);else return u.lanes=u.childLanes=536870912,bh(o,u,I!==null?I.baseLanes|m:m,m)}else I!==null?(pp(u,I.cachePool),Lb(u,I),fu(),u.memoizedState=null):(o!==null&&pp(u,null),t_(),fu());return Lr(o,u,E,m),u.child}function bh(o,u,m,_){var E=ou();return E=E===null?null:{parent:Yr._currentValue,pool:E},u.memoizedState={baseLanes:m,cachePool:E},o!==null&&pp(u,null),t_(),mx(u),o!==null&&So(o,u,_,!0),null}function xh(o,u){var m=u.ref;if(m===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(o===null||o.ref!==m)&&(u.flags|=4194816)}}function jf(o,u,m,_,E){return Al(u),m=xc(o,u,m,_,void 0,E),_=n_(),o!==null&&!ga?(d0(o,u,E),ya(o,u,E)):(Ai&&_&&Xy(u),u.flags|=1,Lr(o,u,m,E),u.child)}function Ws(o,u,m,_,E,I){return Al(u),u.updateQueue=null,m=zb(u,_,m,E),Fb(o),_=n_(),o!==null&&!ga?(d0(o,u,I),ya(o,u,I)):(Ai&&_&&Xy(u),u.flags|=1,Lr(o,u,m,I),u.child)}function Ys(o,u,m,_,E){if(Al(u),u.stateNode===null){var I=tu,W=m.contextType;typeof W=="object"&&W!==null&&(I=Sr(W)),I=new m(_,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=ss,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=_,I.state=u.memoizedState,I.refs={},Zy(u),W=m.contextType,I.context=typeof W=="object"&&W!==null?Sr(W):tu,I.state=u.memoizedState,W=m.getDerivedStateFromProps,typeof W=="function"&&(du(u,m,W,_),I.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(W=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),W!==I.state&&ss.enqueueReplaceState(I,I.state,null),Of(u,_,I,E),yp(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),_=!0}else if(o===null){I=u.stateNode;var te=u.memoizedProps,ve=Cl(m,te);I.props=ve;var Xe=I.context,dt=m.contextType;W=tu,typeof dt=="object"&&dt!==null&&(W=Sr(dt));var _t=m.getDerivedStateFromProps;dt=typeof _t=="function"||typeof I.getSnapshotBeforeUpdate=="function",te=u.pendingProps!==te,dt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(te||Xe!==W)&&yx(u,I,_,W),_c=!1;var Ke=u.memoizedState;I.state=Ke,Of(u,_,I,E),yp(),Xe=u.memoizedState,te||Ke!==Xe||_c?(typeof _t=="function"&&(du(u,m,_t,_),Xe=u.memoizedState),(ve=_c||gx(u,m,ve,_,Ke,Xe,W))?(dt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=Xe),I.props=_,I.state=Xe,I.context=W,_=ve):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{I=u.stateNode,wn(o,u),W=u.memoizedProps,dt=Cl(m,W),I.props=dt,_t=u.pendingProps,Ke=I.context,Xe=m.contextType,ve=tu,typeof Xe=="object"&&Xe!==null&&(ve=Sr(Xe)),te=m.getDerivedStateFromProps,(Xe=typeof te=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==_t||Ke!==ve)&&yx(u,I,_,ve),_c=!1,Ke=u.memoizedState,I.state=Ke,Of(u,_,I,E),yp();var $e=u.memoizedState;W!==_t||Ke!==$e||_c||o!==null&&o.dependencies!==null&&up(o.dependencies)?(typeof te=="function"&&(du(u,m,te,_),$e=u.memoizedState),(dt=_c||gx(u,m,dt,_,Ke,$e,ve)||o!==null&&o.dependencies!==null&&up(o.dependencies))?(Xe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(_,$e,ve),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(_,$e,ve)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||W===o.memoizedProps&&Ke===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&Ke===o.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=$e),I.props=_,I.state=$e,I.context=ve,_=dt):(typeof I.componentDidUpdate!="function"||W===o.memoizedProps&&Ke===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&Ke===o.memoizedState||(u.flags|=1024),_=!1)}return I=_,xh(o,u),_=(u.flags&128)!==0,I||_?(I=u.stateNode,m=_&&typeof m.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,o!==null&&_?(u.child=yh(u,o.child,null,E),u.child=yh(u,null,m,E)):Lr(o,u,m,E),u.memoizedState=I.state,o=u.child):o=ya(o,u,E),o}function pu(o,u,m,_){return wf(),u.flags|=256,Lr(o,u,m,_),u.child}var tl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nl(o){return{baseLanes:o,cachePool:l0()}}function ta(o,u,m){return o=o!==null?o.childLanes&~m:0,u&&(o|=Do),o}function kf(o,u,m){var _=u.pendingProps,E=!1,I=(u.flags&128)!==0,W;if((W=I)||(W=o!==null&&o.memoizedState===null?!1:(Nr.current&2)!==0),W&&(E=!0,u.flags&=-129),W=(u.flags&32)!==0,u.flags&=-33,o===null){if(Ai){if(E?hu(u):fu(),Ai){var te=yr,ve;if(ve=te){e:{for(ve=te,te=Gs;ve.nodeType!==8;){if(!te){te=null;break e}if(ve=Rc(ve.nextSibling),ve===null){te=null;break e}}te=ve}te!==null?(u.memoizedState={dehydrated:te,treeContext:iu!==null?{id:Ml,overflow:Sl}:null,retryLane:536870912,hydrationErrors:null},ve=Es(18,null,null,0),ve.stateNode=te,ve.return=u,u.child=ve,is=u,yr=null,ve=!0):ve=!1}ve||ru(u)}if(te=u.memoizedState,te!==null&&(te=te.dehydrated,te!==null))return q2(te)?u.lanes=32:u.lanes=536870912,null;Tl(u)}return te=_.children,_=_.fallback,E?(fu(),E=u.mode,te=Mh({mode:"hidden",children:te},E),_=nu(_,E,m,null),te.return=u,_.return=u,te.sibling=_,u.child=te,E=u.child,E.memoizedState=nl(m),E.childLanes=ta(o,W,m),u.memoizedState=tl,_):(hu(u),wl(u,te))}if(ve=o.memoizedState,ve!==null&&(te=ve.dehydrated,te!==null)){if(I)u.flags&256?(hu(u),u.flags&=-257,u=wa(o,u,m)):u.memoizedState!==null?(fu(),u.child=o.child,u.flags|=128,u=null):(fu(),E=_.fallback,te=u.mode,_=Mh({mode:"visible",children:_.children},te),E=nu(E,te,m,null),E.flags|=2,_.return=u,E.return=u,_.sibling=E,u.child=_,yh(u,o.child,null,m),_=u.child,_.memoizedState=nl(m),_.childLanes=ta(o,W,m),u.memoizedState=tl,u=E);else if(hu(u),q2(te)){if(W=te.nextSibling&&te.nextSibling.dataset,W)var Xe=W.dgst;W=Xe,_=Error(i(419)),_.stack="",_.digest=W,ph({value:_,source:null,stack:null}),u=wa(o,u,m)}else if(ga||So(o,u,m,!1),W=(m&o.childLanes)!==0,ga||W){if(W=On,W!==null&&(_=m&-m,_=(_&42)!==0?1:An(_),_=(_&(W.suspendedLanes|m))!==0?0:_,_!==0&&_!==ve.retryLane))throw ve.retryLane=_,pc(o,_),ls(W,o,_),bx;te.data==="$?"||h(),u=wa(o,u,m)}else te.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=ve.treeContext,yr=Rc(te.nextSibling),is=u,Ai=!0,Mo=null,Gs=!1,o!==null&&(Ta[Hs++]=Ml,Ta[Hs++]=Sl,Ta[Hs++]=iu,Ml=o.id,Sl=o.overflow,iu=u),u=wl(u,_.children),u.flags|=4096);return u}return E?(fu(),E=_.fallback,te=u.mode,ve=o.child,Xe=ve.sibling,_=Br(ve,{mode:"hidden",children:_.children}),_.subtreeFlags=ve.subtreeFlags&65011712,Xe!==null?E=Br(Xe,E):(E=nu(E,te,m,null),E.flags|=2),E.return=u,_.return=u,_.sibling=E,u.child=_,_=E,E=u.child,te=o.child.memoizedState,te===null?te=nl(m):(ve=te.cachePool,ve!==null?(Xe=Yr._currentValue,ve=ve.parent!==Xe?{parent:Xe,pool:Xe}:ve):ve=l0(),te={baseLanes:te.baseLanes|m,cachePool:ve}),E.memoizedState=te,E.childLanes=ta(o,W,m),u.memoizedState=tl,_):(hu(u),m=o.child,o=m.sibling,m=Br(m,{mode:"visible",children:_.children}),m.return=u,m.sibling=null,o!==null&&(W=u.deletions,W===null?(u.deletions=[o],u.flags|=16):W.push(o)),u.child=m,u.memoizedState=null,m)}function wl(o,u){return u=Mh({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Mh(o,u){return o=Es(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function wa(o,u,m){return yh(u,o.child,null,m),o=wl(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function Ra(o,u,m){o.lanes|=u;var _=o.alternate;_!==null&&(_.lanes|=u),Ky(o.return,u,m)}function gi(o,u,m,_,E){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:E}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=_,I.tail=m,I.tailMode=E)}function wo(o,u,m){var _=u.pendingProps,E=_.revealOrder,I=_.tail;if(Lr(o,u,_.children,m),_=Nr.current,(_&2)!==0)_=_&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ra(o,m,u);else if(o.tag===19)Ra(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}_&=1}switch(Te(Nr,_),E){case"forwards":for(m=u.child,E=null;m!==null;)o=m.alternate,o!==null&&Sc(o)===null&&(E=m),m=m.sibling;m=E,m===null?(E=u.child,u.child=null):(E=m.sibling,m.sibling=null),gi(u,!1,E,m,I);break;case"backwards":for(m=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&Sc(o)===null){u.child=E;break}o=E.sibling,E.sibling=m,m=E,E=o}gi(u,!0,m,null,I);break;case"together":gi(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ya(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),sl|=u.lanes,(m&u.childLanes)===0)if(o!==null){if(So(o,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(i(153));if(u.child!==null){for(o=u.child,m=Br(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=Br(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function Ep(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&up(o)))}function Ro(o,u,m){switch(u.tag){case 3:ut(u,u.stateNode.containerInfo),su(u,Yr,o.memoizedState.cache),wf();break;case 27:case 5:It(u);break;case 4:ut(u,u.stateNode.containerInfo);break;case 10:su(u,u.type,u.memoizedProps.value);break;case 13:var _=u.memoizedState;if(_!==null)return _.dehydrated!==null?(hu(u),u.flags|=128,null):(m&u.child.childLanes)!==0?kf(o,u,m):(hu(u),o=ya(o,u,m),o!==null?o.sibling:null);hu(u);break;case 19:var E=(o.flags&128)!==0;if(_=(m&u.childLanes)!==0,_||(So(o,u,m,!1),_=(m&u.childLanes)!==0),E){if(_)return wo(o,u,m);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Te(Nr,Nr.current),_)break;return null;case 22:case 23:return u.lanes=0,vh(o,u,m);case 24:su(u,Yr,o.memoizedState.cache)}return ya(o,u,m)}function Sh(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps)ga=!0;else{if(!Ep(o,m)&&(u.flags&128)===0)return ga=!1,Ro(o,u,m);ga=(o.flags&131072)!==0}else ga=!1,Ai&&(u.flags&1048576)!==0&&i0(u,Cf,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var _=u.elementType,E=_._init;if(_=E(_._payload),u.type=_,typeof _=="function")sp(_)?(o=Cl(_,o),u.tag=1,u=Ys(null,u,_,o,m)):(u.tag=0,u=jf(null,u,_,o,m));else{if(_!=null){if(E=_.$$typeof,E===L){u.tag=11,u=Cs(null,u,_,o,m);break e}else if(E===U){u.tag=14,u=ws(null,u,_,o,m);break e}}throw u=he(_)||_,Error(i(306,u,""))}}return u;case 0:return jf(o,u,u.type,u.pendingProps,m);case 1:return _=u.type,E=Cl(_,u.pendingProps),Ys(o,u,_,E,m);case 3:e:{if(ut(u,u.stateNode.containerInfo),o===null)throw Error(i(387));_=u.pendingProps;var I=u.memoizedState;E=I.element,wn(o,u),Of(u,_,null,m);var W=u.memoizedState;if(_=W.cache,su(u,Yr,_),_!==I.cache&&cp(u,[Yr],m,!0),yp(),_=W.element,I.isDehydrated)if(I={element:_,isDehydrated:!1,cache:W.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=pu(o,u,_,m);break e}else if(_!==E){E=Ea(Error(i(424)),u),ph(E),u=pu(o,u,_,m);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(yr=Rc(o.firstChild),is=u,Ai=!0,Mo=null,Gs=!0,m=px(u,null,_,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(wf(),_===E){u=ya(o,u,m);break e}Lr(o,u,_,m)}u=u.child}return u;case 26:return xh(o,u),o===null?(m=TP(u.type,null,u.pendingProps,null))?u.memoizedState=m:Ai||(m=u.type,o=u.pendingProps,_=Tx(Ve.current).createElement(m),_[Ki]=u,_[Li]=o,cs(_,m,o),qe(_),u.stateNode=_):u.memoizedState=TP(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return It(u),o===null&&Ai&&(_=u.stateNode=SP(u.type,u.pendingProps,Ve.current),is=u,Gs=!0,E=yr,$f(u.type)?(W2=E,yr=Rc(_.firstChild)):yr=E),Lr(o,u,u.pendingProps.children,m),xh(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Ai&&((E=_=yr)&&(_=Oj(_,u.type,u.pendingProps,Gs),_!==null?(u.stateNode=_,is=u,yr=Rc(_.firstChild),Gs=!1,E=!0):E=!1),E||ru(u)),It(u),E=u.type,I=u.pendingProps,W=o!==null?o.memoizedProps:null,_=I.children,H2(E,I)?_=null:W!==null&&H2(E,W)&&(u.flags|=32),u.memoizedState!==null&&(E=xc(o,u,T2,null,null,m),R_._currentValue=E),xh(o,u),Lr(o,u,_,m),u.child;case 6:return o===null&&Ai&&((o=m=yr)&&(m=Nj(m,u.pendingProps,Gs),m!==null?(u.stateNode=m,is=u,yr=null,o=!0):o=!1),o||ru(u)),null;case 13:return kf(o,u,m);case 4:return ut(u,u.stateNode.containerInfo),_=u.pendingProps,o===null?u.child=yh(u,null,_,m):Lr(o,u,_,m),u.child;case 11:return Cs(o,u,u.type,u.pendingProps,m);case 7:return Lr(o,u,u.pendingProps,m),u.child;case 8:return Lr(o,u,u.pendingProps.children,m),u.child;case 12:return Lr(o,u,u.pendingProps.children,m),u.child;case 10:return _=u.pendingProps,su(u,u.type,_.value),Lr(o,u,_.children,m),u.child;case 9:return E=u.type._context,_=u.pendingProps.children,Al(u),E=Sr(E),_=_(E),u.flags|=1,Lr(o,u,_,m),u.child;case 14:return ws(o,u,u.type,u.pendingProps,m);case 15:return __(o,u,u.type,u.pendingProps,m);case 19:return wo(o,u,m);case 31:return _=u.pendingProps,m=u.mode,_={mode:_.mode,children:_.children},o===null?(m=Mh(_,m),m.ref=u.ref,u.child=m,m.return=u,u=m):(m=Br(o.child,_),m.ref=u.ref,u.child=m,m.return=u,u=m),u;case 22:return vh(o,u,m);case 24:return Al(u),_=Sr(Yr),o===null?(E=ou(),E===null&&(E=On,I=s0(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=m),E=I),u.memoizedState={parent:_,cache:E},Zy(u),su(u,Yr,E)):((o.lanes&m)!==0&&(wn(o,u),Of(u,null,null,m),yp()),E=o.memoizedState,I=u.memoizedState,E.parent!==_?(E={parent:_,cache:_},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),su(u,Yr,_)):(_=I.cache,su(u,Yr,_),_!==E.cache&&cp(u,[Yr],m,!0))),Lr(o,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function il(o){o.flags|=4}function Tp(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!PP(u)){if(u=Qi.current,u!==null&&((cn&4194048)===cn?el!==null:(cn&62914560)!==cn&&(cn&536870912)===0||u!==el))throw Eo=gp,Qy;o.flags|=8192}}function Ac(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?je():536870912,o.lanes|=u,xi|=u)}function Ah(o,u){if(!Ai)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:_.sibling=null}}function ir(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,_=0;if(u)for(var E=o.child;E!==null;)m|=E.lanes|E.childLanes,_|=E.subtreeFlags&65011712,_|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)m|=E.lanes|E.childLanes,_|=E.subtreeFlags,_|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=_,o.childLanes=m,u}function v_(o,u,m){var _=u.pendingProps;switch(qy(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(u),null;case 1:return ir(u),null;case 3:return m=u.stateNode,_=null,o!==null&&(_=o.memoizedState.cache),u.memoizedState.cache!==_&&(u.flags|=2048),yc(Yr),Jt(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Qo(u)?il(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Pi())),ir(u),null;case 26:return m=u.memoizedState,o===null?(il(u),m!==null?(ir(u),Tp(u,m)):(ir(u),u.flags&=-16777217)):m?m!==o.memoizedState?(il(u),ir(u),Tp(u,m)):(ir(u),u.flags&=-16777217):(o.memoizedProps!==_&&il(u),ir(u),u.flags&=-16777217),null;case 27:Ct(u),m=Ve.current;var E=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==_&&il(u);else{if(!_){if(u.stateNode===null)throw Error(i(166));return ir(u),null}o=de.current,Qo(u)?Db(u):(o=SP(E,_,m),u.stateNode=o,il(u))}return ir(u),null;case 5:if(Ct(u),m=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==_&&il(u);else{if(!_){if(u.stateNode===null)throw Error(i(166));return ir(u),null}if(o=de.current,Qo(u))Db(u);else{switch(E=Tx(Ve.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof _.is=="string"?E.createElement("select",{is:_.is}):E.createElement("select"),_.multiple?o.multiple=!0:_.size&&(o.size=_.size);break;default:o=typeof _.is=="string"?E.createElement(m,{is:_.is}):E.createElement(m)}}o[Ki]=u,o[Li]=_;e:for(E=u.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===u)break e;for(;E.sibling===null;){if(E.return===null||E.return===u)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}u.stateNode=o;e:switch(cs(o,m,_),m){case"button":case"input":case"select":case"textarea":o=!!_.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&il(u)}}return ir(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==_&&il(u);else{if(typeof _!="string"&&u.stateNode===null)throw Error(i(166));if(o=Ve.current,Qo(u)){if(o=u.stateNode,m=u.memoizedProps,_=null,E=is,E!==null)switch(E.tag){case 27:case 5:_=E.memoizedProps}o[Ki]=u,o=!!(o.nodeValue===m||_!==null&&_.suppressHydrationWarning===!0||gP(o.nodeValue,m)),o||ru(u)}else o=Tx(o).createTextNode(_),o[Ki]=u,u.stateNode=o}return ir(u),null;case 13:if(_=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Qo(u),_!==null&&_.dehydrated!==null){if(o===null){if(!E)throw Error(i(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[Ki]=u}else wf(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ir(u),E=!1}else E=Pi(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(Tl(u),u):(Tl(u),null)}if(Tl(u),(u.flags&128)!==0)return u.lanes=m,u;if(m=_!==null,o=o!==null&&o.memoizedState!==null,m){_=u.child,E=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(E=_.alternate.memoizedState.cachePool.pool);var I=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(I=_.memoizedState.cachePool.pool),I!==E&&(_.flags|=2048)}return m!==o&&m&&(u.child.flags|=8192),Ac(u,u.updateQueue),ir(u),null;case 4:return Jt(),o===null&&F2(u.stateNode.containerInfo),ir(u),null;case 10:return yc(u.type),ir(u),null;case 19:if(we(Nr),E=u.memoizedState,E===null)return ir(u),null;if(_=(u.flags&128)!==0,I=E.rendering,I===null)if(_)Ah(E,!1);else{if(ur!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(I=Sc(o),I!==null){for(u.flags|=128,Ah(E,!1),o=I.updateQueue,u.updateQueue=o,Ac(u,o),u.subtreeFlags=0,o=m,m=u.child;m!==null;)Gy(m,o),m=m.sibling;return Te(Nr,Nr.current&1|2),u.child}o=o.sibling}E.tail!==null&&et()>Ha&&(u.flags|=128,_=!0,Ah(E,!1),u.lanes=4194304)}else{if(!_)if(o=Sc(I),o!==null){if(u.flags|=128,_=!0,o=o.updateQueue,u.updateQueue=o,Ac(u,o),Ah(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!Ai)return ir(u),null}else 2*et()-E.renderingStartTime>Ha&&m!==536870912&&(u.flags|=128,_=!0,Ah(E,!1),u.lanes=4194304);E.isBackwards?(I.sibling=u.child,u.child=I):(o=E.last,o!==null?o.sibling=I:u.child=I,E.last=I)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=et(),u.sibling=null,o=Nr.current,Te(Nr,_?o&1|2:o&1),u):(ir(u),null);case 22:case 23:return Tl(u),_p(),_=u.memoizedState!==null,o!==null?o.memoizedState!==null!==_&&(u.flags|=8192):_&&(u.flags|=8192),_?(m&536870912)!==0&&(u.flags&128)===0&&(ir(u),u.subtreeFlags&6&&(u.flags|=8192)):ir(u),m=u.updateQueue,m!==null&&Ac(u,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==m&&(u.flags|=2048),o!==null&&we(Ao),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),yc(Yr),ir(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function Hf(o,u){switch(qy(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return yc(Yr),Jt(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ct(u),null;case 13:if(Tl(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(i(340));wf()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return we(Nr),null;case 4:return Jt(),null;case 10:return yc(u.type),null;case 22:case 23:return Tl(u),_p(),o!==null&&we(Ao),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return yc(Yr),null;case 25:return null;default:return null}}function Gf(o,u){switch(qy(u),u.tag){case 3:yc(Yr),Jt();break;case 26:case 27:case 5:Ct(u);break;case 4:Jt();break;case 13:Tl(u);break;case 19:we(Nr);break;case 10:yc(u.type);break;case 22:case 23:Tl(u),_p(),o!==null&&we(Ao);break;case 24:yc(Yr)}}function Eh(o,u){try{var m=u.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var E=_.next;m=E;do{if((m.tag&o)===o){_=void 0;var I=m.create,W=m.inst;_=I(),W.destroy=_}m=m.next}while(m!==E)}}catch(te){Ie(u,u.return,te)}}function Ks(o,u,m){try{var _=u.updateQueue,E=_!==null?_.lastEffect:null;if(E!==null){var I=E.next;_=I;do{if((_.tag&o)===o){var W=_.inst,te=W.destroy;if(te!==void 0){W.destroy=void 0,E=u;var ve=m,Xe=te;try{Xe()}catch(dt){Ie(E,ve,dt)}}}_=_.next}while(_!==I)}}catch(dt){Ie(u,u.return,dt)}}function Th(o){var u=o.updateQueue;if(u!==null){var m=o.stateNode;try{Nb(u,m)}catch(_){Ie(o,o.return,_)}}}function Ec(o,u,m){m.props=Cl(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(_){Ie(o,u,_)}}function Ch(o,u){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var _=o.stateNode;break;case 30:_=o.stateNode;break;default:_=o.stateNode}typeof m=="function"?o.refCleanup=m(_):m.current=_}}catch(E){Ie(o,u,E)}}function Rl(o,u){var m=o.ref,_=o.refCleanup;if(m!==null)if(typeof _=="function")try{_()}catch(E){Ie(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){Ie(o,u,E)}else m.current=null}function Xf(o){var u=o.type,m=o.memoizedProps,_=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&_.focus();break e;case"img":m.src?_.src=m.src:m.srcSet&&(_.srcset=m.srcSet)}}catch(E){Ie(o,o.return,E)}}function Cp(o,u,m){try{var _=o.stateNode;Rj(_,o.type,m,u),_[Li]=u}catch(E){Ie(o,o.return,E)}}function wp(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&$f(o.type)||o.tag===4}function mu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wp(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&$f(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gu(o,u,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(o),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=Ex));else if(_!==4&&(_===27&&$f(o.type)&&(m=o.stateNode,u=null),o=o.child,o!==null))for(gu(o,u,m),o=o.sibling;o!==null;)gu(o,u,m),o=o.sibling}function yu(o,u,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(_!==4&&(_===27&&$f(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(yu(o,u,m),o=o.sibling;o!==null;)yu(o,u,m),o=o.sibling}function _u(o){var u=o.stateNode,m=o.memoizedProps;try{for(var _=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);cs(u,_,m),u[Ki]=o,u[Li]=m}catch(I){Ie(o,o.return,I)}}var Il=!1,rr=!1,qf=!1,Js=typeof WeakSet=="function"?WeakSet:Set,$i=null;function na(o,u){if(o=o.containerInfo,j2=Dx,o=Uy(o),np(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var _=m.getSelection&&m.getSelection();if(_&&_.rangeCount!==0){m=_.anchorNode;var E=_.anchorOffset,I=_.focusNode;_=_.focusOffset;try{m.nodeType,I.nodeType}catch{m=null;break e}var W=0,te=-1,ve=-1,Xe=0,dt=0,_t=o,Ke=null;t:for(;;){for(var $e;_t!==m||E!==0&&_t.nodeType!==3||(te=W+E),_t!==I||_!==0&&_t.nodeType!==3||(ve=W+_),_t.nodeType===3&&(W+=_t.nodeValue.length),($e=_t.firstChild)!==null;)Ke=_t,_t=$e;for(;;){if(_t===o)break t;if(Ke===m&&++Xe===E&&(te=W),Ke===I&&++dt===_&&(ve=W),($e=_t.nextSibling)!==null)break;_t=Ke,Ke=_t.parentNode}_t=$e}m=te===-1||ve===-1?null:{start:te,end:ve}}else m=null}m=m||{start:0,end:0}}else m=null;for(k2={focusedElem:o,selectionRange:m},Dx=!1,$i=u;$i!==null;)if(u=$i,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,$i=o;else for(;$i!==null;){switch(u=$i,I=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,m=u,E=I.memoizedProps,I=I.memoizedState,_=m.stateNode;try{var Pn=Cl(m.type,E,m.elementType===m.type);o=_.getSnapshotBeforeUpdate(Pn,I),_.__reactInternalSnapshotBeforeUpdate=o}catch(Sn){Ie(m,m.return,Sn)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,m=o.nodeType,m===9)X2(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":X2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=u.sibling,o!==null){o.return=u.return,$i=o;break}$i=u.return}}function Tc(o,u,m){var _=m.flags;switch(m.tag){case 0:case 11:case 15:os(o,m),_&4&&Eh(5,m);break;case 1:if(os(o,m),_&4)if(o=m.stateNode,u===null)try{o.componentDidMount()}catch(W){Ie(m,m.return,W)}else{var E=Cl(m.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(W){Ie(m,m.return,W)}}_&64&&Th(m),_&512&&Ch(m,m.return);break;case 3:if(os(o,m),_&64&&(o=m.updateQueue,o!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{Nb(o,u)}catch(W){Ie(m,m.return,W)}}break;case 27:u===null&&_&4&&_u(m);case 26:case 5:os(o,m),u===null&&_&4&&Xf(m),_&512&&Ch(m,m.return);break;case 12:os(o,m);break;case 13:os(o,m),_&4&&vu(o,m),_&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=hr.bind(null,m),Lj(o,m))));break;case 22:if(_=m.memoizedState!==null||Il,!_){u=u!==null&&u.memoizedState!==null||rr,E=Il;var I=rr;Il=_,(rr=u)&&!I?Pl(o,m,(m.subtreeFlags&8772)!==0):os(o,m),Il=E,rr=I}break;case 30:break;default:os(o,m)}}function Kn(o){var u=o.alternate;u!==null&&(o.alternate=null,Kn(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&ni(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var pn=null,bi=!1;function Io(o,u,m){for(m=m.child;m!==null;)wh(o,u,m),m=m.sibling}function wh(o,u,m){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(ge,m)}catch{}switch(m.tag){case 26:rr||Rl(m,u),Io(o,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:rr||Rl(m,u);var _=pn,E=bi;$f(m.type)&&(pn=m.stateNode,bi=!1),Io(o,u,m),E_(m.stateNode),pn=_,bi=E;break;case 5:rr||Rl(m,u);case 6:if(_=pn,E=bi,pn=null,Io(o,u,m),pn=_,bi=E,pn!==null)if(bi)try{(pn.nodeType===9?pn.body:pn.nodeName==="HTML"?pn.ownerDocument.body:pn).removeChild(m.stateNode)}catch(I){Ie(m,u,I)}else try{pn.removeChild(m.stateNode)}catch(I){Ie(m,u,I)}break;case 18:pn!==null&&(bi?(o=pn,xP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),B_(o)):xP(pn,m.stateNode));break;case 4:_=pn,E=bi,pn=m.stateNode.containerInfo,bi=!0,Io(o,u,m),pn=_,bi=E;break;case 0:case 11:case 14:case 15:rr||Ks(2,m,u),rr||Ks(4,m,u),Io(o,u,m);break;case 1:rr||(Rl(m,u),_=m.stateNode,typeof _.componentWillUnmount=="function"&&Ec(m,u,_)),Io(o,u,m);break;case 21:Io(o,u,m);break;case 22:rr=(_=rr)||m.memoizedState!==null,Io(o,u,m),rr=_;break;default:Io(o,u,m)}}function vu(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{B_(o)}catch(m){Ie(u,u.return,m)}}function C0(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new Js),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new Js),u;default:throw Error(i(435,o.tag))}}function Rh(o,u){var m=C0(o);u.forEach(function(_){var E=Rn.bind(null,o,_);m.has(_)||(m.add(_),_.then(E,E))})}function _a(o,u){var m=u.deletions;if(m!==null)for(var _=0;_<m.length;_++){var E=m[_],I=o,W=u,te=W;e:for(;te!==null;){switch(te.tag){case 27:if($f(te.type)){pn=te.stateNode,bi=!1;break e}break;case 5:pn=te.stateNode,bi=!1;break e;case 3:case 4:pn=te.stateNode.containerInfo,bi=!0;break e}te=te.return}if(pn===null)throw Error(i(160));wh(I,W,E),pn=null,bi=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)w0(u,o),u=u.sibling}var rl=null;function w0(o,u){var m=o.alternate,_=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:_a(u,o),Ar(o),_&4&&(Ks(3,o,o.return),Eh(3,o),Ks(5,o,o.return));break;case 1:_a(u,o),Ar(o),_&512&&(rr||m===null||Rl(m,m.return)),_&64&&Il&&(o=o.updateQueue,o!==null&&(_=o.callbacks,_!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?_:m.concat(_))));break;case 26:var E=rl;if(_a(u,o),Ar(o),_&512&&(rr||m===null||Rl(m,m.return)),_&4){var I=m!==null?m.memoizedState:null;if(_=o.memoizedState,m===null)if(_===null)if(o.stateNode===null){e:{_=o.type,m=o.memoizedProps,E=E.ownerDocument||E;t:switch(_){case"title":I=E.getElementsByTagName("title")[0],(!I||I[ha]||I[Ki]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(_),E.head.insertBefore(I,E.querySelector("head > title"))),cs(I,_,m),I[Ki]=o,qe(I),_=I;break e;case"link":var W=RP("link","href",E).get(_+(m.href||""));if(W){for(var te=0;te<W.length;te++)if(I=W[te],I.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&I.getAttribute("rel")===(m.rel==null?null:m.rel)&&I.getAttribute("title")===(m.title==null?null:m.title)&&I.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){W.splice(te,1);break t}}I=E.createElement(_),cs(I,_,m),E.head.appendChild(I);break;case"meta":if(W=RP("meta","content",E).get(_+(m.content||""))){for(te=0;te<W.length;te++)if(I=W[te],I.getAttribute("content")===(m.content==null?null:""+m.content)&&I.getAttribute("name")===(m.name==null?null:m.name)&&I.getAttribute("property")===(m.property==null?null:m.property)&&I.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&I.getAttribute("charset")===(m.charSet==null?null:m.charSet)){W.splice(te,1);break t}}I=E.createElement(_),cs(I,_,m),E.head.appendChild(I);break;default:throw Error(i(468,_))}I[Ki]=o,qe(I),_=I}o.stateNode=_}else IP(E,o.type,o.stateNode);else o.stateNode=wP(E,_,o.memoizedProps);else I!==_?(I===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):I.count--,_===null?IP(E,o.type,o.stateNode):wP(E,_,o.memoizedProps)):_===null&&o.stateNode!==null&&Cp(o,o.memoizedProps,m.memoizedProps)}break;case 27:_a(u,o),Ar(o),_&512&&(rr||m===null||Rl(m,m.return)),m!==null&&_&4&&Cp(o,o.memoizedProps,m.memoizedProps);break;case 5:if(_a(u,o),Ar(o),_&512&&(rr||m===null||Rl(m,m.return)),o.flags&32){E=o.stateNode;try{fr(E,"")}catch($e){Ie(o,o.return,$e)}}_&4&&o.stateNode!=null&&(E=o.memoizedProps,Cp(o,E,m!==null?m.memoizedProps:E)),_&1024&&(qf=!0);break;case 6:if(_a(u,o),Ar(o),_&4){if(o.stateNode===null)throw Error(i(162));_=o.memoizedProps,m=o.stateNode;try{m.nodeValue=_}catch($e){Ie(o,o.return,$e)}}break;case 3:if(Rx=null,E=rl,rl=Cx(u.containerInfo),_a(u,o),rl=E,Ar(o),_&4&&m!==null&&m.memoizedState.isDehydrated)try{B_(u.containerInfo)}catch($e){Ie(o,o.return,$e)}qf&&(qf=!1,bu(o));break;case 4:_=rl,rl=Cx(o.stateNode.containerInfo),_a(u,o),Ar(o),rl=_;break;case 12:_a(u,o),Ar(o);break;case 13:_a(u,o),Ar(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Xi=et()),_&4&&(_=o.updateQueue,_!==null&&(o.updateQueue=null,Rh(o,_)));break;case 22:E=o.memoizedState!==null;var ve=m!==null&&m.memoizedState!==null,Xe=Il,dt=rr;if(Il=Xe||E,rr=dt||ve,_a(u,o),rr=dt,Il=Xe,Ar(o),_&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(m===null||ve||Il||rr||Qs(o)),m=null,u=o;;){if(u.tag===5||u.tag===26){if(m===null){ve=m=u;try{if(I=ve.stateNode,E)W=I.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{te=ve.stateNode;var _t=ve.memoizedProps.style,Ke=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;te.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch($e){Ie(ve,ve.return,$e)}}}else if(u.tag===6){if(m===null){ve=u;try{ve.stateNode.nodeValue=E?"":ve.memoizedProps}catch($e){Ie(ve,ve.return,$e)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}_&4&&(_=o.updateQueue,_!==null&&(m=_.retryQueue,m!==null&&(_.retryQueue=null,Rh(o,m))));break;case 19:_a(u,o),Ar(o),_&4&&(_=o.updateQueue,_!==null&&(o.updateQueue=null,Rh(o,_)));break;case 30:break;case 21:break;default:_a(u,o),Ar(o)}}function Ar(o){var u=o.flags;if(u&2){try{for(var m,_=o.return;_!==null;){if(wp(_)){m=_;break}_=_.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var E=m.stateNode,I=mu(o);yu(o,I,E);break;case 5:var W=m.stateNode;m.flags&32&&(fr(W,""),m.flags&=-33);var te=mu(o);yu(o,te,W);break;case 3:case 4:var ve=m.stateNode.containerInfo,Xe=mu(o);gu(o,Xe,ve);break;default:throw Error(i(161))}}catch(dt){Ie(o,o.return,dt)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function bu(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;bu(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function os(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Tc(o,u.alternate,u),u=u.sibling}function Qs(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Ks(4,u,u.return),Qs(u);break;case 1:Rl(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&Ec(u,u.return,m),Qs(u);break;case 27:E_(u.stateNode);case 26:case 5:Rl(u,u.return),Qs(u);break;case 22:u.memoizedState===null&&Qs(u);break;case 30:Qs(u);break;default:Qs(u)}o=o.sibling}}function Pl(o,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var _=u.alternate,E=o,I=u,W=I.flags;switch(I.tag){case 0:case 11:case 15:Pl(E,I,m),Eh(4,I);break;case 1:if(Pl(E,I,m),_=I,E=_.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Xe){Ie(_,_.return,Xe)}if(_=I,E=_.updateQueue,E!==null){var te=_.stateNode;try{var ve=E.shared.hiddenCallbacks;if(ve!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ve.length;E++)Nf(ve[E],te)}catch(Xe){Ie(_,_.return,Xe)}}m&&W&64&&Th(I),Ch(I,I.return);break;case 27:_u(I);case 26:case 5:Pl(E,I,m),m&&_===null&&W&4&&Xf(I),Ch(I,I.return);break;case 12:Pl(E,I,m);break;case 13:Pl(E,I,m),m&&W&4&&vu(E,I);break;case 22:I.memoizedState===null&&Pl(E,I,m),Ch(I,I.return);break;case 30:break;default:Pl(E,I,m)}u=u.sibling}}function R0(o,u){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Rf(m))}function I0(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Rf(o))}function Zi(o,u,m,_){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)P0(o,u,m,_),u=u.sibling}function P0(o,u,m,_){var E=u.flags;switch(u.tag){case 0:case 11:case 15:Zi(o,u,m,_),E&2048&&Eh(9,u);break;case 1:Zi(o,u,m,_);break;case 3:Zi(o,u,m,_),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Rf(o)));break;case 12:if(E&2048){Zi(o,u,m,_),o=u.stateNode;try{var I=u.memoizedProps,W=I.id,te=I.onPostCommit;typeof te=="function"&&te(W,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ve){Ie(u,u.return,ve)}}else Zi(o,u,m,_);break;case 13:Zi(o,u,m,_);break;case 23:break;case 22:I=u.stateNode,W=u.alternate,u.memoizedState!==null?I._visibility&2?Zi(o,u,m,_):al(o,u):I._visibility&2?Zi(o,u,m,_):(I._visibility|=2,Cc(o,u,m,_,(u.subtreeFlags&10256)!==0)),E&2048&&R0(W,u);break;case 24:Zi(o,u,m,_),E&2048&&I0(u.alternate,u);break;default:Zi(o,u,m,_)}}function Cc(o,u,m,_,E){for(E=E&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var I=o,W=u,te=m,ve=_,Xe=W.flags;switch(W.tag){case 0:case 11:case 15:Cc(I,W,te,ve,E),Eh(8,W);break;case 23:break;case 22:var dt=W.stateNode;W.memoizedState!==null?dt._visibility&2?Cc(I,W,te,ve,E):al(I,W):(dt._visibility|=2,Cc(I,W,te,ve,E)),E&&Xe&2048&&R0(W.alternate,W);break;case 24:Cc(I,W,te,ve,E),E&&Xe&2048&&I0(W.alternate,W);break;default:Cc(I,W,te,ve,E)}u=u.sibling}}function al(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=o,_=u,E=_.flags;switch(_.tag){case 22:al(m,_),E&2048&&R0(_.alternate,_);break;case 24:al(m,_),E&2048&&I0(_.alternate,_);break;default:al(m,_)}u=u.sibling}}var $s=8192;function Wf(o){if(o.subtreeFlags&$s)for(o=o.child;o!==null;)xx(o),o=o.sibling}function xx(o){switch(o.tag){case 26:Wf(o),o.flags&$s&&o.memoizedState!==null&&Kj(rl,o.memoizedState,o.memoizedProps);break;case 5:Wf(o);break;case 3:case 4:var u=rl;rl=Cx(o.stateNode.containerInfo),Wf(o),rl=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=$s,$s=16777216,Wf(o),$s=u):Wf(o));break;default:Wf(o)}}function Mx(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function ar(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var _=u[m];$i=_,Bl(_,o)}Mx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)b_(o),o=o.sibling}function b_(o){switch(o.tag){case 0:case 11:case 15:ar(o),o.flags&2048&&Ks(9,o,o.return);break;case 3:ar(o);break;case 12:ar(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Dl(o)):ar(o);break;default:ar(o)}}function Dl(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var _=u[m];$i=_,Bl(_,o)}Mx(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Ks(8,u,u.return),Dl(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,Dl(u));break;default:Dl(u)}o=o.sibling}}function Bl(o,u){for(;$i!==null;){var m=$i;switch(m.tag){case 0:case 11:case 15:Ks(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var _=m.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:Rf(m.memoizedState.cache)}if(_=m.child,_!==null)_.return=m,$i=_;else e:for(m=o;$i!==null;){_=$i;var E=_.sibling,I=_.return;if(Kn(_),_===m){$i=null;break e}if(E!==null){E.return=I,$i=E;break e}$i=I}}}var Er={getCacheForType:function(o){var u=Sr(Yr),m=u.data.get(o);return m===void 0&&(m=o(),u.data.set(o,m)),m}},x_=typeof WeakMap=="function"?WeakMap:Map,Di=0,On=null,ei=null,cn=0,Hn=0,_r=null,Zs=!1,Yf=!1,Kf=!1,Po=0,ur=0,sl=0,Ol=0,Ih=0,Do=0,xi=0,Bi=null,gn=null,oi=!1,Xi=0,Ha=1/0,Bo=null,eo=null,ia=0,Ga=null,er=null,to=0,wc=0,Rp=null,no=null,Nl=0,Ph=null;function Tr(){if((Di&2)!==0&&cn!==0)return cn&-cn;if(X.T!==null){var o=Un;return o!==0?o:O2()}return dn()}function D0(){Do===0&&(Do=(cn&536870912)===0||Ai?Se():536870912);var o=Qi.current;return o!==null&&(o.flags|=32),Do}function ls(o,u,m){(o===On&&(Hn===2||Hn===9)||o.cancelPendingCommit!==null)&&(Mu(o,0),ol(o,cn,Do,!1)),st(o,m),((Di&2)===0||o!==On)&&(o===On&&((Di&2)===0&&(Ol|=m),ur===4&&ol(o,cn,Do,!1)),Eu(o))}function Jf(o,u,m){if((Di&6)!==0)throw Error(i(327));var _=!m&&(u&124)===0&&(u&o.expiredLanes)===0||Je(o,u),E=_?T(o,u):d(o,u,!0),I=_;do{if(E===0){Yf&&!_&&ol(o,u,0,!1);break}else{if(m=o.current.alternate,I&&!xu(m)){E=d(o,u,!1),I=!1;continue}if(E===2){if(I=u,o.errorRecoveryDisabledLanes&I)var W=0;else W=o.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){u=W;e:{var te=o;E=Bi;var ve=te.current.memoizedState.isDehydrated;if(ve&&(Mu(te,W).flags|=256),W=d(te,W,!1),W!==2){if(Kf&&!ve){te.errorRecoveryDisabledLanes|=I,Ol|=I,E=4;break e}I=gn,gn=E,I!==null&&(gn===null?gn=I:gn.push.apply(gn,I))}E=W}if(I=!1,E!==2)continue}}if(E===1){Mu(o,0),ol(o,u,0,!0);break}e:{switch(_=o,I=E,I){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:ol(_,u,Do,!Zs);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(E=Xi+300-et(),10<E)){if(ol(_,u,Do,!Zs),Me(_,0,!0)!==0)break e;_.timeoutHandle=vP(Ip.bind(null,_,m,gn,Bo,oi,u,Do,Ol,xi,Zs,I,2,-0,0),E);break e}Ip(_,m,gn,Bo,oi,u,Do,Ol,xi,Zs,I,0,-0,0)}}break}while(!0);Eu(o)}function Ip(o,u,m,_,E,I,W,te,ve,Xe,dt,_t,Ke,$e){if(o.timeoutHandle=-1,_t=u.subtreeFlags,(_t&8192||(_t&16785408)===16785408)&&(w_={stylesheets:null,count:0,unsuspend:Yj},xx(u),_t=Jj(),_t!==null)){o.cancelPendingCommit=_t(Rt.bind(null,o,u,I,m,_,E,W,te,ve,dt,1,Ke,$e)),ol(o,I,W,!Xe);return}Rt(o,u,I,m,_,E,W,te,ve)}function xu(o){for(var u=o;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var _=0;_<m.length;_++){var E=m[_],I=E.getSnapshot;E=E.value;try{if(!Ms(I(),E))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ol(o,u,m,_){u&=~Ih,u&=~Ol,o.suspendedLanes|=u,o.pingedLanes&=~u,_&&(o.warmLanes|=u),_=o.expirationTimes;for(var E=u;0<E;){var I=31-lt(E),W=1<<I;_[I]=-1,E&=~W}m!==0&&Tt(o,m,u)}function Ll(){return(Di&6)===0?(M_(0),!1):!0}function Dh(){if(ei!==null){if(Hn===0)var o=ei.return;else o=ei,gc=au=null,i_(o),gh=null,Mp=0,o=ei;for(;o!==null;)Gf(o.alternate,o),o=o.return;ei=null}}function Mu(o,u){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,Pj(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Dh(),On=o,ei=m=Br(o.current,null),cn=u,Hn=0,_r=null,Zs=!1,Yf=Je(o,u),Kf=!1,xi=Do=Ih=Ol=sl=ur=0,gn=Bi=null,oi=!1,(u&8)!==0&&(u|=u&32);var _=o.entangledLanes;if(_!==0)for(o=o.entanglements,_&=u;0<_;){var E=31-lt(_),I=1<<E;u|=o[E],_&=~I}return Po=u,ap(),m}function B0(o,u){Fn=null,X.H=xp,u===mp||u===$o?(u=$y(),Hn=3):u===Qy?(u=$y(),Hn=4):Hn=u===bx?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,_r=u,ei===null&&(ur=1,A0(o,Ea(u,o.current)))}function Qf(){var o=X.H;return X.H=xp,o===null?xp:o}function O0(){var o=X.A;return X.A=Er,o}function h(){ur=4,Zs||(cn&4194048)!==cn&&Qi.current!==null||(Yf=!0),(sl&134217727)===0&&(Ol&134217727)===0||On===null||ol(On,cn,Do,!1)}function d(o,u,m){var _=Di;Di|=2;var E=Qf(),I=O0();(On!==o||cn!==u)&&(Bo=null,Mu(o,u)),u=!1;var W=ur;e:do try{if(Hn!==0&&ei!==null){var te=ei,ve=_r;switch(Hn){case 8:Dh(),W=6;break e;case 3:case 2:case 9:case 6:Qi.current===null&&(u=!0);var Xe=Hn;if(Hn=0,_r=null,xe(o,te,ve,Xe),m&&Yf){W=0;break e}break;default:Xe=Hn,Hn=0,_r=null,xe(o,te,ve,Xe)}}b(),W=ur;break}catch(dt){B0(o,dt)}while(!0);return u&&o.shellSuspendCounter++,gc=au=null,Di=_,X.H=E,X.A=I,ei===null&&(On=null,cn=0,ap()),W}function b(){for(;ei!==null;)k(ei)}function T(o,u){var m=Di;Di|=2;var _=Qf(),E=O0();On!==o||cn!==u?(Bo=null,Ha=et()+500,Mu(o,u)):Yf=Je(o,u);e:do try{if(Hn!==0&&ei!==null){u=ei;var I=_r;t:switch(Hn){case 1:Hn=0,_r=null,xe(o,u,I,1);break;case 2:case 9:if(c0(I)){Hn=0,_r=null,ie(u);break}u=function(){Hn!==2&&Hn!==9||On!==o||(Hn=7),Eu(o)},I.then(u,u);break e;case 3:Hn=7;break e;case 4:Hn=5;break e;case 7:c0(I)?(Hn=0,_r=null,ie(u)):(Hn=0,_r=null,xe(o,u,I,7));break;case 5:var W=null;switch(ei.tag){case 26:W=ei.memoizedState;case 5:case 27:var te=ei;if(!W||PP(W)){Hn=0,_r=null;var ve=te.sibling;if(ve!==null)ei=ve;else{var Xe=te.return;Xe!==null?(ei=Xe,Fe(Xe)):ei=null}break t}}Hn=0,_r=null,xe(o,u,I,5);break;case 6:Hn=0,_r=null,xe(o,u,I,6);break;case 8:Dh(),ur=6;break e;default:throw Error(i(462))}}D();break}catch(dt){B0(o,dt)}while(!0);return gc=au=null,X.H=_,X.A=E,Di=m,ei!==null?0:(On=null,cn=0,ap(),ur)}function D(){for(;ei!==null&&!Mn();)k(ei)}function k(o){var u=Sh(o.alternate,o,Po);o.memoizedProps=o.pendingProps,u===null?Fe(o):ei=u}function ie(o){var u=o,m=u.alternate;switch(u.tag){case 15:case 0:u=Ws(m,u,u.pendingProps,u.type,void 0,cn);break;case 11:u=Ws(m,u,u.pendingProps,u.type.render,u.ref,cn);break;case 5:i_(u);default:Gf(m,u),u=ei=Gy(u,Po),u=Sh(m,u,Po)}o.memoizedProps=o.pendingProps,u===null?Fe(o):ei=u}function xe(o,u,m,_){gc=au=null,i_(u),gh=null,Mp=0;var E=u.return;try{if(D2(o,E,u,m,cn)){ur=1,A0(o,Ea(m,o.current)),ei=null;return}}catch(I){if(E!==null)throw ei=E,I;ur=1,A0(o,Ea(m,o.current)),ei=null;return}u.flags&32768?(Ai||_===1?o=!0:Yf||(cn&536870912)!==0?o=!1:(Zs=o=!0,(_===2||_===9||_===3||_===6)&&(_=Qi.current,_!==null&&_.tag===13&&(_.flags|=16384))),ft(u,o)):Fe(u)}function Fe(o){var u=o;do{if((u.flags&32768)!==0){ft(u,Zs);return}o=u.return;var m=v_(u.alternate,u,Po);if(m!==null){ei=m;return}if(u=u.sibling,u!==null){ei=u;return}ei=u=o}while(u!==null);ur===0&&(ur=5)}function ft(o,u){do{var m=Hf(o.alternate,o);if(m!==null){m.flags&=32767,ei=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(o=o.sibling,o!==null)){ei=o;return}ei=o=m}while(o!==null);ur=6,ei=null}function Rt(o,u,m,_,E,I,W,te,ve){o.cancelPendingCommit=null;do Su();while(ia!==0);if((Di&6)!==0)throw Error(i(327));if(u!==null){if(u===o.current)throw Error(i(177));if(I=u.lanes|u.childLanes,I|=e0,wt(o,m,I,W,te,ve),o===On&&(ei=On=null,cn=0),er=u,Ga=o,to=m,wc=I,Rp=E,no=_,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Ei(ae,function(){return Au(),null})):(o.callbackNode=null,o.callbackPriority=0),_=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||_){_=X.T,X.T=null,E=Z.p,Z.p=2,W=Di,Di|=4;try{na(o,u,m)}finally{Di=W,Z.p=E,X.T=_}}ia=1,jt(),Gt(),Nn()}}function jt(){if(ia===1){ia=0;var o=Ga,u=er,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=X.T,X.T=null;var _=Z.p;Z.p=2;var E=Di;Di|=4;try{w0(u,o);var I=k2,W=Uy(o.containerInfo),te=I.focusedElem,ve=I.selectionRange;if(W!==te&&te&&te.ownerDocument&&Ly(te.ownerDocument.documentElement,te)){if(ve!==null&&np(te)){var Xe=ve.start,dt=ve.end;if(dt===void 0&&(dt=Xe),"selectionStart"in te)te.selectionStart=Xe,te.selectionEnd=Math.min(dt,te.value.length);else{var _t=te.ownerDocument||document,Ke=_t&&_t.defaultView||window;if(Ke.getSelection){var $e=Ke.getSelection(),Pn=te.textContent.length,Sn=Math.min(ve.start,Pn),or=ve.end===void 0?Sn:Math.min(ve.end,Pn);!$e.extend&&Sn>or&&(W=or,or=Sn,Sn=W);var Le=Ny(te,Sn),De=Ny(te,or);if(Le&&De&&($e.rangeCount!==1||$e.anchorNode!==Le.node||$e.anchorOffset!==Le.offset||$e.focusNode!==De.node||$e.focusOffset!==De.offset)){var He=_t.createRange();He.setStart(Le.node,Le.offset),$e.removeAllRanges(),Sn>or?($e.addRange(He),$e.extend(De.node,De.offset)):(He.setEnd(De.node,De.offset),$e.addRange(He))}}}}for(_t=[],$e=te;$e=$e.parentNode;)$e.nodeType===1&&_t.push({element:$e,left:$e.scrollLeft,top:$e.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<_t.length;te++){var mt=_t[te];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}Dx=!!j2,k2=j2=null}finally{Di=E,Z.p=_,X.T=m}}o.current=u,ia=2}}function Gt(){if(ia===2){ia=0;var o=Ga,u=er,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=X.T,X.T=null;var _=Z.p;Z.p=2;var E=Di;Di|=4;try{Tc(o,u.alternate,u)}finally{Di=E,Z.p=_,X.T=m}}ia=3}}function Nn(){if(ia===4||ia===3){ia=0,at();var o=Ga,u=er,m=to,_=no;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ia=5:(ia=0,er=Ga=null,io(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(eo=null),ti(m),u=u.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(ge,u,void 0,(u.current.flags&128)===128)}catch{}if(_!==null){u=X.T,E=Z.p,Z.p=2,X.T=null;try{for(var I=o.onRecoverableError,W=0;W<_.length;W++){var te=_[W];I(te.value,{componentStack:te.stack})}}finally{X.T=u,Z.p=E}}(to&3)!==0&&Su(),Eu(o),E=o.pendingLanes,(m&4194090)!==0&&(E&42)!==0?o===Ph?Nl++:(Nl=0,Ph=o):Nl=0,M_(0)}}function io(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Rf(u)))}function Su(o){return jt(),Gt(),Nn(),Au()}function Au(){if(ia!==5)return!1;var o=Ga,u=wc;wc=0;var m=ti(to),_=X.T,E=Z.p;try{Z.p=32>m?32:m,X.T=null,m=Rp,Rp=null;var I=Ga,W=to;if(ia=0,er=Ga=null,to=0,(Di&6)!==0)throw Error(i(331));var te=Di;if(Di|=4,b_(I.current),P0(I,I.current,W,m),Di=te,M_(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(ge,I)}catch{}return!0}finally{Z.p=E,X.T=_,io(o,u)}}function Ye(o,u,m){u=Ea(m,u),u=E0(o.stateNode,u,2),o=vc(o,u,2),o!==null&&(st(o,2),Eu(o))}function Ie(o,u,m){if(o.tag===3)Ye(o,o,m);else for(;u!==null;){if(u.tag===3){Ye(u,o,m);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(eo===null||!eo.has(_))){o=Ea(m,o),m=vx(2),_=vc(u,m,2),_!==null&&(T0(m,_,u,o),st(_,2),Eu(_));break}}u=u.return}}function Ze(o,u,m){var _=o.pingCache;if(_===null){_=o.pingCache=new x_;var E=new Set;_.set(u,E)}else E=_.get(u),E===void 0&&(E=new Set,_.set(u,E));E.has(m)||(Kf=!0,E.add(m),o=Et.bind(null,o,u,m),u.then(o,o))}function Et(o,u,m){var _=o.pingCache;_!==null&&_.delete(u),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,On===o&&(cn&m)===m&&(ur===4||ur===3&&(cn&62914560)===cn&&300>et()-Xi?(Di&2)===0&&Mu(o,0):Ih|=m,xi===cn&&(xi=0)),Eu(o)}function an(o,u){u===0&&(u=je()),o=pc(o,u),o!==null&&(st(o,u),Eu(o))}function hr(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),an(o,m)}function Rn(o,u){var m=0;switch(o.tag){case 13:var _=o.stateNode,E=o.memoizedState;E!==null&&(m=E.retryLane);break;case 19:_=o.stateNode;break;case 22:_=o.stateNode._retryCache;break;default:throw Error(i(314))}_!==null&&_.delete(u),an(o,m)}function Ei(o,u){return Ft(o,u)}var Ur=null,ii=null,Ul=!1,N0=!1,B2=!1,Pp=0;function Eu(o){o!==ii&&o.next===null&&(ii===null?Ur=ii=o:ii=ii.next=o),N0=!0,Ul||(Ul=!0,Mj())}function M_(o,u){if(!B2&&N0){B2=!0;do for(var m=!1,_=Ur;_!==null;){if(o!==0){var E=_.pendingLanes;if(E===0)var I=0;else{var W=_.suspendedLanes,te=_.pingedLanes;I=(1<<31-lt(42|o)+1)-1,I&=E&~(W&~te),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(m=!0,cP(_,I))}else I=cn,I=Me(_,_===On?I:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(I&3)===0||Je(_,I)||(m=!0,cP(_,I));_=_.next}while(m);B2=!1}}function xj(){sP()}function sP(){N0=Ul=!1;var o=0;Pp!==0&&(Ij()&&(o=Pp),Pp=0);for(var u=et(),m=null,_=Ur;_!==null;){var E=_.next,I=oP(_,u);I===0?(_.next=null,m===null?Ur=E:m.next=E,E===null&&(ii=m)):(m=_,(o!==0||(I&3)!==0)&&(N0=!0)),_=E}M_(o)}function oP(o,u){for(var m=o.suspendedLanes,_=o.pingedLanes,E=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var W=31-lt(I),te=1<<W,ve=E[W];ve===-1?((te&m)===0||(te&_)!==0)&&(E[W]=bt(te,u)):ve<=u&&(o.expiredLanes|=te),I&=~te}if(u=On,m=cn,m=Me(o,o===u?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),_=o.callbackNode,m===0||o===u&&(Hn===2||Hn===9)||o.cancelPendingCommit!==null)return _!==null&&_!==null&&fe(_),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||Je(o,m)){if(u=m&-m,u===o.callbackPriority)return u;switch(_!==null&&fe(_),ti(m)){case 2:case 8:m=We;break;case 32:m=ae;break;case 268435456:m=ee;break;default:m=ae}return _=lP.bind(null,o),m=Ft(m,_),o.callbackPriority=u,o.callbackNode=m,u}return _!==null&&_!==null&&fe(_),o.callbackPriority=2,o.callbackNode=null,2}function lP(o,u){if(ia!==0&&ia!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(Su()&&o.callbackNode!==m)return null;var _=cn;return _=Me(o,o===On?_:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),_===0?null:(Jf(o,_,u),oP(o,et()),o.callbackNode!=null&&o.callbackNode===m?lP.bind(null,o):null)}function cP(o,u){if(Su())return null;Jf(o,u,!0)}function Mj(){Dj(function(){(Di&6)!==0?Ft(xt,xj):sP()})}function O2(){return Pp===0&&(Pp=Se()),Pp}function uP(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ac(""+o)}function hP(o,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,o.id&&m.setAttribute("form",o.id),u.parentNode.insertBefore(m,u),o=new FormData(o),m.parentNode.removeChild(m),o}function Sj(o,u,m,_,E){if(u==="submit"&&m&&m.stateNode===E){var I=uP((E[Li]||null).action),W=_.submitter;W&&(u=(u=W[Li]||null)?uP(u.formAction):W.getAttribute("formAction"),u!==null&&(I=u,W=null));var te=new Qe("action","action",null,_,E);o.push({event:te,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(Pp!==0){var ve=W?hP(E,W):new FormData(E);m_(m,{pending:!0,data:ve,method:E.method,action:I},null,ve)}}else typeof I=="function"&&(te.preventDefault(),ve=W?hP(E,W):new FormData(E),m_(m,{pending:!0,data:ve,method:E.method,action:I},I,ve))},currentTarget:E}]})}}for(var N2=0;N2<rp.length;N2++){var L2=rp[N2],Aj=L2.toLowerCase(),Ej=L2[0].toUpperCase()+L2.slice(1);pa(Aj,"on"+Ej)}pa(ns,"onAnimationEnd"),pa(Vy,"onAnimationIteration"),pa(As,"onAnimationStart"),pa("dblclick","onDoubleClick"),pa("focusin","onFocus"),pa("focusout","onBlur"),pa(Pb,"onTransitionRun"),pa(fc,"onTransitionStart"),pa(Af,"onTransitionCancel"),pa(dc,"onTransitionEnd"),K("onMouseEnter",["mouseout","mouseover"]),K("onMouseLeave",["mouseout","mouseover"]),K("onPointerEnter",["pointerout","pointerover"]),K("onPointerLeave",["pointerout","pointerover"]),yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var S_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(S_));function fP(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var _=o[m],E=_.event;_=_.listeners;e:{var I=void 0;if(u)for(var W=_.length-1;0<=W;W--){var te=_[W],ve=te.instance,Xe=te.currentTarget;if(te=te.listener,ve!==I&&E.isPropagationStopped())break e;I=te,E.currentTarget=Xe;try{I(E)}catch(dt){_h(dt)}E.currentTarget=null,I=ve}else for(W=0;W<_.length;W++){if(te=_[W],ve=te.instance,Xe=te.currentTarget,te=te.listener,ve!==I&&E.isPropagationStopped())break e;I=te,E.currentTarget=Xe;try{I(E)}catch(dt){_h(dt)}E.currentTarget=null,I=ve}}}}function ui(o,u){var m=u[Hr];m===void 0&&(m=u[Hr]=new Set);var _=o+"__bubble";m.has(_)||(dP(u,o,2,!1),m.add(_))}function U2(o,u,m){var _=0;u&&(_|=4),dP(m,o,_,u)}var Sx="_reactListening"+Math.random().toString(36).slice(2);function F2(o){if(!o[Sx]){o[Sx]=!0,nt.forEach(function(m){m!=="selectionchange"&&(Tj.has(m)||U2(m,!1,o),U2(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Sx]||(u[Sx]=!0,U2("selectionchange",!1,u))}}function dP(o,u,m,_){switch(UP(u)){case 2:var E=Zj;break;case 8:E=ek;break;default:E=$2}m=E.bind(null,u,m,o),E=void 0,!qr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),_?E!==void 0?o.addEventListener(u,m,{capture:!0,passive:E}):o.addEventListener(u,m,!0):E!==void 0?o.addEventListener(u,m,{passive:E}):o.addEventListener(u,m,!1)}function z2(o,u,m,_,E){var I=_;if((u&1)===0&&(u&2)===0&&_!==null)e:for(;;){if(_===null)return;var W=_.tag;if(W===3||W===4){var te=_.stateNode.containerInfo;if(te===E)break;if(W===4)for(W=_.return;W!==null;){var ve=W.tag;if((ve===3||ve===4)&&W.stateNode.containerInfo===E)return;W=W.return}for(;te!==null;){if(W=J(te),W===null)return;if(ve=W.tag,ve===5||ve===6||ve===26||ve===27){_=I=W;continue e}te=te.parentNode}}_=_.return}sc(function(){var Xe=I,dt=Sa(m),_t=[];e:{var Ke=Zm.get(o);if(Ke!==void 0){var $e=Qe,Pn=o;switch(o){case"keypress":if(za(m)===0)break e;case"keydown":case"keyup":$e=Qc;break;case"focusin":Pn="focus",$e=Yo;break;case"focusout":Pn="blur",$e=Yo;break;case"beforeblur":case"afterblur":$e=Yo;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=cr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=_f;break;case ns:case Vy:case As:$e=lh;break;case dc:$e=yo;break;case"scroll":case"scrollend":$e=Wn;break;case"wheel":$e=bf;break;case"copy":case"cut":case"paste":$e=ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=dh;break;case"toggle":case"beforetoggle":$e=Ko}var Sn=(u&4)!==0,or=!Sn&&(o==="scroll"||o==="scrollend"),Le=Sn?Ke!==null?Ke+"Capture":null:Ke;Sn=[];for(var De=Xe,He;De!==null;){var mt=De;if(He=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||He===null||Le===null||(mt=Wo(De,Le),mt!=null&&Sn.push(A_(De,mt,He))),or)break;De=De.return}0<Sn.length&&(Ke=new $e(Ke,Pn,null,m,dt),_t.push({event:Ke,listeners:Sn}))}}if((u&7)===0){e:{if(Ke=o==="mouseover"||o==="pointerover",$e=o==="mouseout"||o==="pointerout",Ke&&m!==$a&&(Pn=m.relatedTarget||m.fromElement)&&(J(Pn)||Pn[Ui]))break e;if(($e||Ke)&&(Ke=dt.window===dt?dt:(Ke=dt.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,$e?(Pn=m.relatedTarget||m.toElement,$e=Xe,Pn=Pn?J(Pn):null,Pn!==null&&(or=a(Pn),Sn=Pn.tag,Pn!==or||Sn!==5&&Sn!==27&&Sn!==6)&&(Pn=null)):($e=null,Pn=Xe),$e!==Pn)){if(Sn=cr,mt="onMouseLeave",Le="onMouseEnter",De="mouse",(o==="pointerout"||o==="pointerover")&&(Sn=dh,mt="onPointerLeave",Le="onPointerEnter",De="pointer"),or=$e==null?Ke:Ae($e),He=Pn==null?Ke:Ae(Pn),Ke=new Sn(mt,De+"leave",$e,m,dt),Ke.target=or,Ke.relatedTarget=He,mt=null,J(dt)===Xe&&(Sn=new Sn(Le,De+"enter",Pn,m,dt),Sn.target=He,Sn.relatedTarget=or,mt=Sn),or=mt,$e&&Pn)t:{for(Sn=$e,Le=Pn,De=0,He=Sn;He;He=L0(He))De++;for(He=0,mt=Le;mt;mt=L0(mt))He++;for(;0<De-He;)Sn=L0(Sn),De--;for(;0<He-De;)Le=L0(Le),He--;for(;De--;){if(Sn===Le||Le!==null&&Sn===Le.alternate)break t;Sn=L0(Sn),Le=L0(Le)}Sn=null}else Sn=null;$e!==null&&pP(_t,Ke,$e,Sn,!1),Pn!==null&&or!==null&&pP(_t,or,Pn,Sn,!0)}}e:{if(Ke=Xe?Ae(Xe):window,$e=Ke.nodeName&&Ke.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Ke.type==="file")var Zt=Wm;else if(Wr(Ke))if(Ym)Zt=$c;else{Zt=wb;var li=S2}else $e=Ke.nodeName,!$e||$e.toLowerCase()!=="input"||Ke.type!=="checkbox"&&Ke.type!=="radio"?Xe&&yl(Xe.elementType)&&(Zt=Wm):Zt=tp;if(Zt&&(Zt=Zt(o,Xe))){Dr(_t,Zt,m,dt);break e}li&&li(o,Ke,Xe),o==="focusout"&&Xe&&Ke.type==="number"&&Xe.memoizedProps.value!=null&&vi(Ke,"number",Ke.value)}switch(li=Xe?Ae(Xe):window,o){case"focusin":(Wr(li)||li.contentEditable==="true")&&(uc=li,Jm=Xe,ip=null);break;case"focusout":ip=Jm=uc=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,zy(_t,m,dt);break;case"selectionchange":if(Fy)break;case"keydown":case"keyup":zy(_t,m,dt)}var ln;if(vo)e:{switch(o){case"compositionstart":var Tn="onCompositionStart";break e;case"compositionend":Tn="onCompositionEnd";break e;case"compositionupdate":Tn="onCompositionUpdate";break e}Tn=void 0}else ai?it(o,m)&&(Tn="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Tn="onCompositionStart");Tn&&(q&&m.locale!=="ko"&&(ai||Tn!=="onCompositionStart"?Tn==="onCompositionEnd"&&ai&&(ln=Kc()):(xs=dt,vl="value"in xs?xs.value:xs.textContent,ai=!0)),li=Ax(Xe,Tn),0<li.length&&(Tn=new hh(Tn,o,null,m,dt),_t.push({event:Tn,listeners:li}),ln?Tn.data=ln:(ln=Bt(m),ln!==null&&(Tn.data=ln)))),(ln=z?gr(o,m):si(o,m))&&(Tn=Ax(Xe,"onBeforeInput"),0<Tn.length&&(li=new hh("onBeforeInput","beforeinput",null,m,dt),_t.push({event:li,listeners:Tn}),li.data=ln)),Sj(_t,o,Xe,m,dt)}fP(_t,u)})}function A_(o,u,m){return{instance:o,listener:u,currentTarget:m}}function Ax(o,u){for(var m=u+"Capture",_=[];o!==null;){var E=o,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=Wo(o,m),E!=null&&_.unshift(A_(o,E,I)),E=Wo(o,u),E!=null&&_.push(A_(o,E,I))),o.tag===3)return _;o=o.return}return[]}function L0(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function pP(o,u,m,_,E){for(var I=u._reactName,W=[];m!==null&&m!==_;){var te=m,ve=te.alternate,Xe=te.stateNode;if(te=te.tag,ve!==null&&ve===_)break;te!==5&&te!==26&&te!==27||Xe===null||(ve=Xe,E?(Xe=Wo(m,I),Xe!=null&&W.unshift(A_(m,Xe,ve))):E||(Xe=Wo(m,I),Xe!=null&&W.push(A_(m,Xe,ve)))),m=m.return}W.length!==0&&o.push({event:u,listeners:W})}var Cj=/\r\n?/g,wj=/\u0000|\uFFFD/g;function mP(o){return(typeof o=="string"?o:""+o).replace(Cj,`
`).replace(wj,"")}function gP(o,u){return u=mP(u),mP(o)===u}function Ex(){}function sr(o,u,m,_,E,I){switch(m){case"children":typeof _=="string"?u==="body"||u==="textarea"&&_===""||fr(o,_):(typeof _=="number"||typeof _=="bigint")&&u!=="body"&&fr(o,""+_);break;case"className":tt(o,"class",_);break;case"tabIndex":tt(o,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":tt(o,m,_);break;case"style":gl(o,_,I);break;case"data":if(u!=="object"){tt(o,"data",_);break}case"src":case"href":if(_===""&&(u!=="a"||m!=="href")){o.removeAttribute(m);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){o.removeAttribute(m);break}_=ac(""+_),o.setAttribute(m,_);break;case"action":case"formAction":if(typeof _=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(m==="formAction"?(u!=="input"&&sr(o,u,"name",E.name,E,null),sr(o,u,"formEncType",E.formEncType,E,null),sr(o,u,"formMethod",E.formMethod,E,null),sr(o,u,"formTarget",E.formTarget,E,null)):(sr(o,u,"encType",E.encType,E,null),sr(o,u,"method",E.method,E,null),sr(o,u,"target",E.target,E,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){o.removeAttribute(m);break}_=ac(""+_),o.setAttribute(m,_);break;case"onClick":_!=null&&(o.onclick=Ex);break;case"onScroll":_!=null&&ui("scroll",o);break;case"onScrollEnd":_!=null&&ui("scrollend",o);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(i(61));if(m=_.__html,m!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"multiple":o.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":o.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){o.removeAttribute("xlink:href");break}m=ac(""+_),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?o.setAttribute(m,""+_):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":_===!0?o.setAttribute(m,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?o.setAttribute(m,_):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?o.setAttribute(m,_):o.removeAttribute(m);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?o.removeAttribute(m):o.setAttribute(m,_);break;case"popover":ui("beforetoggle",o),ui("toggle",o),ze(o,"popover",_);break;case"xlinkActuate":ot(o,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":ot(o,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":ot(o,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":ot(o,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":ot(o,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":ot(o,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":ot(o,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":ot(o,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":ot(o,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":ze(o,"is",_);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=oh.get(m)||m,ze(o,m,_))}}function V2(o,u,m,_,E,I){switch(m){case"style":gl(o,_,I);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(i(61));if(m=_.__html,m!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"children":typeof _=="string"?fr(o,_):(typeof _=="number"||typeof _=="bigint")&&fr(o,""+_);break;case"onScroll":_!=null&&ui("scroll",o);break;case"onScrollEnd":_!=null&&ui("scrollend",o);break;case"onClick":_!=null&&(o.onclick=Ex);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mt.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(E=m.endsWith("Capture"),u=m.slice(2,E?m.length-7:void 0),I=o[Li]||null,I=I!=null?I[m]:null,typeof I=="function"&&o.removeEventListener(u,I,E),typeof _=="function")){typeof I!="function"&&I!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(u,_,E);break e}m in o?o[m]=_:_===!0?o.setAttribute(m,""):ze(o,m,_)}}}function cs(o,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ui("error",o),ui("load",o);var _=!1,E=!1,I;for(I in m)if(m.hasOwnProperty(I)){var W=m[I];if(W!=null)switch(I){case"src":_=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:sr(o,u,I,W,m,null)}}E&&sr(o,u,"srcSet",m.srcSet,m,null),_&&sr(o,u,"src",m.src,m,null);return;case"input":ui("invalid",o);var te=I=W=E=null,ve=null,Xe=null;for(_ in m)if(m.hasOwnProperty(_)){var dt=m[_];if(dt!=null)switch(_){case"name":E=dt;break;case"type":W=dt;break;case"checked":ve=dt;break;case"defaultChecked":Xe=dt;break;case"value":I=dt;break;case"defaultValue":te=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(i(137,u));break;default:sr(o,u,_,dt,m,null)}}En(o,I,te,ve,Xe,W,E,!1),_i(o);return;case"select":ui("invalid",o),_=W=I=null;for(E in m)if(m.hasOwnProperty(E)&&(te=m[E],te!=null))switch(E){case"value":I=te;break;case"defaultValue":W=te;break;case"multiple":_=te;default:sr(o,u,E,te,m,null)}u=I,m=W,o.multiple=!!_,u!=null?Qn(o,!!_,u,!1):m!=null&&Qn(o,!!_,m,!0);return;case"textarea":ui("invalid",o),I=E=_=null;for(W in m)if(m.hasOwnProperty(W)&&(te=m[W],te!=null))switch(W){case"value":_=te;break;case"defaultValue":E=te;break;case"children":I=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(91));break;default:sr(o,u,W,te,m,null)}lr(o,_,E,I),_i(o);return;case"option":for(ve in m)if(m.hasOwnProperty(ve)&&(_=m[ve],_!=null))switch(ve){case"selected":o.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:sr(o,u,ve,_,m,null)}return;case"dialog":ui("beforetoggle",o),ui("toggle",o),ui("cancel",o),ui("close",o);break;case"iframe":case"object":ui("load",o);break;case"video":case"audio":for(_=0;_<S_.length;_++)ui(S_[_],o);break;case"image":ui("error",o),ui("load",o);break;case"details":ui("toggle",o);break;case"embed":case"source":case"link":ui("error",o),ui("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in m)if(m.hasOwnProperty(Xe)&&(_=m[Xe],_!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:sr(o,u,Xe,_,m,null)}return;default:if(yl(u)){for(dt in m)m.hasOwnProperty(dt)&&(_=m[dt],_!==void 0&&V2(o,u,dt,_,m,void 0));return}}for(te in m)m.hasOwnProperty(te)&&(_=m[te],_!=null&&sr(o,u,te,_,m,null))}function Rj(o,u,m,_){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,W=null,te=null,ve=null,Xe=null,dt=null;for($e in m){var _t=m[$e];if(m.hasOwnProperty($e)&&_t!=null)switch($e){case"checked":break;case"value":break;case"defaultValue":ve=_t;default:_.hasOwnProperty($e)||sr(o,u,$e,null,_,_t)}}for(var Ke in _){var $e=_[Ke];if(_t=m[Ke],_.hasOwnProperty(Ke)&&($e!=null||_t!=null))switch(Ke){case"type":I=$e;break;case"name":E=$e;break;case"checked":Xe=$e;break;case"defaultChecked":dt=$e;break;case"value":W=$e;break;case"defaultValue":te=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(i(137,u));break;default:$e!==_t&&sr(o,u,Ke,$e,_,_t)}}hn(o,W,te,ve,Xe,dt,I,E);return;case"select":$e=W=te=Ke=null;for(I in m)if(ve=m[I],m.hasOwnProperty(I)&&ve!=null)switch(I){case"value":break;case"multiple":$e=ve;default:_.hasOwnProperty(I)||sr(o,u,I,null,_,ve)}for(E in _)if(I=_[E],ve=m[E],_.hasOwnProperty(E)&&(I!=null||ve!=null))switch(E){case"value":Ke=I;break;case"defaultValue":te=I;break;case"multiple":W=I;default:I!==ve&&sr(o,u,E,I,_,ve)}u=te,m=W,_=$e,Ke!=null?Qn(o,!!m,Ke,!1):!!_!=!!m&&(u!=null?Qn(o,!!m,u,!0):Qn(o,!!m,m?[]:"",!1));return;case"textarea":$e=Ke=null;for(te in m)if(E=m[te],m.hasOwnProperty(te)&&E!=null&&!_.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:sr(o,u,te,null,_,E)}for(W in _)if(E=_[W],I=m[W],_.hasOwnProperty(W)&&(E!=null||I!=null))switch(W){case"value":Ke=E;break;case"defaultValue":$e=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==I&&sr(o,u,W,E,_,I)}on(o,Ke,$e);return;case"option":for(var Pn in m)if(Ke=m[Pn],m.hasOwnProperty(Pn)&&Ke!=null&&!_.hasOwnProperty(Pn))switch(Pn){case"selected":o.selected=!1;break;default:sr(o,u,Pn,null,_,Ke)}for(ve in _)if(Ke=_[ve],$e=m[ve],_.hasOwnProperty(ve)&&Ke!==$e&&(Ke!=null||$e!=null))switch(ve){case"selected":o.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;default:sr(o,u,ve,Ke,_,$e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Sn in m)Ke=m[Sn],m.hasOwnProperty(Sn)&&Ke!=null&&!_.hasOwnProperty(Sn)&&sr(o,u,Sn,null,_,Ke);for(Xe in _)if(Ke=_[Xe],$e=m[Xe],_.hasOwnProperty(Xe)&&Ke!==$e&&(Ke!=null||$e!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,u));break;default:sr(o,u,Xe,Ke,_,$e)}return;default:if(yl(u)){for(var or in m)Ke=m[or],m.hasOwnProperty(or)&&Ke!==void 0&&!_.hasOwnProperty(or)&&V2(o,u,or,void 0,_,Ke);for(dt in _)Ke=_[dt],$e=m[dt],!_.hasOwnProperty(dt)||Ke===$e||Ke===void 0&&$e===void 0||V2(o,u,dt,Ke,_,$e);return}}for(var Le in m)Ke=m[Le],m.hasOwnProperty(Le)&&Ke!=null&&!_.hasOwnProperty(Le)&&sr(o,u,Le,null,_,Ke);for(_t in _)Ke=_[_t],$e=m[_t],!_.hasOwnProperty(_t)||Ke===$e||Ke==null&&$e==null||sr(o,u,_t,Ke,_,$e)}var j2=null,k2=null;function Tx(o){return o.nodeType===9?o:o.ownerDocument}function yP(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _P(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function H2(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var G2=null;function Ij(){var o=window.event;return o&&o.type==="popstate"?o===G2?!1:(G2=o,!0):(G2=null,!1)}var vP=typeof setTimeout=="function"?setTimeout:void 0,Pj=typeof clearTimeout=="function"?clearTimeout:void 0,bP=typeof Promise=="function"?Promise:void 0,Dj=typeof queueMicrotask=="function"?queueMicrotask:typeof bP<"u"?function(o){return bP.resolve(null).then(o).catch(Bj)}:vP;function Bj(o){setTimeout(function(){throw o})}function $f(o){return o==="head"}function xP(o,u){var m=u,_=0,E=0;do{var I=m.nextSibling;if(o.removeChild(m),I&&I.nodeType===8)if(m=I.data,m==="/$"){if(0<_&&8>_){m=_;var W=o.ownerDocument;if(m&1&&E_(W.documentElement),m&2&&E_(W.body),m&4)for(m=W.head,E_(m),W=m.firstChild;W;){var te=W.nextSibling,ve=W.nodeName;W[ha]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&W.rel.toLowerCase()==="stylesheet"||m.removeChild(W),W=te}}if(E===0){o.removeChild(I),B_(u);return}E--}else m==="$"||m==="$?"||m==="$!"?E++:_=m.charCodeAt(0)-48;else _=0;m=I}while(m);B_(u)}function X2(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":X2(m),ni(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function Oj(o,u,m,_){for(;o.nodeType===1;){var E=m;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!_&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(_){if(!o[ha])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=Rc(o.nextSibling),o===null)break}return null}function Nj(o,u,m){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=Rc(o.nextSibling),o===null))return null;return o}function q2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Lj(o,u){var m=o.ownerDocument;if(o.data!=="$?"||m.readyState==="complete")u();else{var _=function(){u(),m.removeEventListener("DOMContentLoaded",_)};m.addEventListener("DOMContentLoaded",_),o._reactRetry=_}}function Rc(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var W2=null;function MP(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return o;u--}else m==="/$"&&u++}o=o.previousSibling}return null}function SP(o,u,m){switch(u=Tx(m),o){case"html":if(o=u.documentElement,!o)throw Error(i(452));return o;case"head":if(o=u.head,!o)throw Error(i(453));return o;case"body":if(o=u.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function E_(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);ni(o)}var Fl=new Map,AP=new Set;function Cx(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Bh=Z.d;Z.d={f:Uj,r:Fj,D:zj,C:Vj,L:jj,m:kj,X:Gj,S:Hj,M:Xj};function Uj(){var o=Bh.f(),u=Ll();return o||u}function Fj(o){var u=ne(o);u!==null&&u.tag===5&&u.type==="form"?sx(u):Bh.r(o)}var U0=typeof document>"u"?null:document;function EP(o,u,m){var _=U0;if(_&&typeof u=="string"&&u){var E=Qt(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof m=="string"&&(E+='[crossorigin="'+m+'"]'),AP.has(E)||(AP.add(E),o={rel:o,crossOrigin:m,href:u},_.querySelector(E)===null&&(u=_.createElement("link"),cs(u,"link",o),qe(u),_.head.appendChild(u)))}}function zj(o){Bh.D(o),EP("dns-prefetch",o,null)}function Vj(o,u){Bh.C(o,u),EP("preconnect",o,u)}function jj(o,u,m){Bh.L(o,u,m);var _=U0;if(_&&o&&u){var E='link[rel="preload"][as="'+Qt(u)+'"]';u==="image"&&m&&m.imageSrcSet?(E+='[imagesrcset="'+Qt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(E+='[imagesizes="'+Qt(m.imageSizes)+'"]')):E+='[href="'+Qt(o)+'"]';var I=E;switch(u){case"style":I=F0(o);break;case"script":I=z0(o)}Fl.has(I)||(o=p({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:o,as:u},m),Fl.set(I,o),_.querySelector(E)!==null||u==="style"&&_.querySelector(T_(I))||u==="script"&&_.querySelector(C_(I))||(u=_.createElement("link"),cs(u,"link",o),qe(u),_.head.appendChild(u)))}}function kj(o,u){Bh.m(o,u);var m=U0;if(m&&o){var _=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+Qt(_)+'"][href="'+Qt(o)+'"]',I=E;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=z0(o)}if(!Fl.has(I)&&(o=p({rel:"modulepreload",href:o},u),Fl.set(I,o),m.querySelector(E)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(C_(I)))return}_=m.createElement("link"),cs(_,"link",o),qe(_),m.head.appendChild(_)}}}function Hj(o,u,m){Bh.S(o,u,m);var _=U0;if(_&&o){var E=ke(_).hoistableStyles,I=F0(o);u=u||"default";var W=E.get(I);if(!W){var te={loading:0,preload:null};if(W=_.querySelector(T_(I)))te.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},m),(m=Fl.get(I))&&Y2(o,m);var ve=W=_.createElement("link");qe(ve),cs(ve,"link",o),ve._p=new Promise(function(Xe,dt){ve.onload=Xe,ve.onerror=dt}),ve.addEventListener("load",function(){te.loading|=1}),ve.addEventListener("error",function(){te.loading|=2}),te.loading|=4,wx(W,u,_)}W={type:"stylesheet",instance:W,count:1,state:te},E.set(I,W)}}}function Gj(o,u){Bh.X(o,u);var m=U0;if(m&&o){var _=ke(m).hoistableScripts,E=z0(o),I=_.get(E);I||(I=m.querySelector(C_(E)),I||(o=p({src:o,async:!0},u),(u=Fl.get(E))&&K2(o,u),I=m.createElement("script"),qe(I),cs(I,"link",o),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},_.set(E,I))}}function Xj(o,u){Bh.M(o,u);var m=U0;if(m&&o){var _=ke(m).hoistableScripts,E=z0(o),I=_.get(E);I||(I=m.querySelector(C_(E)),I||(o=p({src:o,async:!0,type:"module"},u),(u=Fl.get(E))&&K2(o,u),I=m.createElement("script"),qe(I),cs(I,"link",o),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},_.set(E,I))}}function TP(o,u,m,_){var E=(E=Ve.current)?Cx(E):null;if(!E)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=F0(m.href),m=ke(E).hoistableStyles,_=m.get(u),_||(_={type:"style",instance:null,count:0,state:null},m.set(u,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=F0(m.href);var I=ke(E).hoistableStyles,W=I.get(o);if(W||(E=E.ownerDocument||E,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,W),(I=E.querySelector(T_(o)))&&!I._p&&(W.instance=I,W.state.loading=5),Fl.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Fl.set(o,m),I||qj(E,o,m,W.state))),u&&_===null)throw Error(i(528,""));return W}if(u&&_!==null)throw Error(i(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=z0(m),m=ke(E).hoistableScripts,_=m.get(u),_||(_={type:"script",instance:null,count:0,state:null},m.set(u,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function F0(o){return'href="'+Qt(o)+'"'}function T_(o){return'link[rel="stylesheet"]['+o+"]"}function CP(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function qj(o,u,m,_){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?_.loading=1:(u=o.createElement("link"),_.preload=u,u.addEventListener("load",function(){return _.loading|=1}),u.addEventListener("error",function(){return _.loading|=2}),cs(u,"link",m),qe(u),o.head.appendChild(u))}function z0(o){return'[src="'+Qt(o)+'"]'}function C_(o){return"script[async]"+o}function wP(o,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var _=o.querySelector('style[data-href~="'+Qt(m.href)+'"]');if(_)return u.instance=_,qe(_),_;var E=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return _=(o.ownerDocument||o).createElement("style"),qe(_),cs(_,"style",E),wx(_,m.precedence,o),u.instance=_;case"stylesheet":E=F0(m.href);var I=o.querySelector(T_(E));if(I)return u.state.loading|=4,u.instance=I,qe(I),I;_=CP(m),(E=Fl.get(E))&&Y2(_,E),I=(o.ownerDocument||o).createElement("link"),qe(I);var W=I;return W._p=new Promise(function(te,ve){W.onload=te,W.onerror=ve}),cs(I,"link",_),u.state.loading|=4,wx(I,m.precedence,o),u.instance=I;case"script":return I=z0(m.src),(E=o.querySelector(C_(I)))?(u.instance=E,qe(E),E):(_=m,(E=Fl.get(I))&&(_=p({},m),K2(_,E)),o=o.ownerDocument||o,E=o.createElement("script"),qe(E),cs(E,"link",_),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(_=u.instance,u.state.loading|=4,wx(_,m.precedence,o));return u.instance}function wx(o,u,m){for(var _=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=_.length?_[_.length-1]:null,I=E,W=0;W<_.length;W++){var te=_[W];if(te.dataset.precedence===u)I=te;else if(I!==E)break}I?I.parentNode.insertBefore(o,I.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(o,u.firstChild))}function Y2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function K2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Rx=null;function RP(o,u,m){if(Rx===null){var _=new Map,E=Rx=new Map;E.set(m,_)}else E=Rx,_=E.get(m),_||(_=new Map,E.set(m,_));if(_.has(o))return _;for(_.set(o,null),m=m.getElementsByTagName(o),E=0;E<m.length;E++){var I=m[E];if(!(I[ha]||I[Ki]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var W=I.getAttribute(u)||"";W=o+W;var te=_.get(W);te?te.push(I):_.set(W,[I])}}return _}function IP(o,u,m){o=o.ownerDocument||o,o.head.insertBefore(m,u==="title"?o.querySelector("head > title"):null)}function Wj(o,u,m){if(m===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function PP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var w_=null;function Yj(){}function Kj(o,u,m){if(w_===null)throw Error(i(475));var _=w_;if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var E=F0(m.href),I=o.querySelector(T_(E));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(_.count++,_=Ix.bind(_),o.then(_,_)),u.state.loading|=4,u.instance=I,qe(I);return}I=o.ownerDocument||o,m=CP(m),(E=Fl.get(E))&&Y2(m,E),I=I.createElement("link"),qe(I);var W=I;W._p=new Promise(function(te,ve){W.onload=te,W.onerror=ve}),cs(I,"link",m),u.instance=I}_.stylesheets===null&&(_.stylesheets=new Map),_.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(_.count++,u=Ix.bind(_),o.addEventListener("load",u),o.addEventListener("error",u))}}function Jj(){if(w_===null)throw Error(i(475));var o=w_;return o.stylesheets&&o.count===0&&J2(o,o.stylesheets),0<o.count?function(u){var m=setTimeout(function(){if(o.stylesheets&&J2(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(m)}}:null}function Ix(){if(this.count--,this.count===0){if(this.stylesheets)J2(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Px=null;function J2(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Px=new Map,u.forEach(Qj,o),Px=null,Ix.call(o))}function Qj(o,u){if(!(u.state.loading&4)){var m=Px.get(o);if(m)var _=m.get(null);else{m=new Map,Px.set(o,m);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var W=E[I];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(m.set(W.dataset.precedence,W),_=W)}_&&m.set(null,_)}E=u.instance,W=E.getAttribute("data-precedence"),I=m.get(W)||_,I===_&&m.set(null,E),m.set(W,E),this.count++,_=Ix.bind(this),E.addEventListener("load",_),E.addEventListener("error",_),I?I.parentNode.insertBefore(E,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var R_={$$typeof:P,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function $j(o,u,m,_,E,I,W,te){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ge(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ge(0),this.hiddenUpdates=Ge(null),this.identifierPrefix=_,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function DP(o,u,m,_,E,I,W,te,ve,Xe,dt,_t){return o=new $j(o,u,m,W,te,ve,Xe,_t),u=1,I===!0&&(u|=24),I=Es(3,null,null,u),o.current=I,I.stateNode=o,u=s0(),u.refCount++,o.pooledCache=u,u.refCount++,I.memoizedState={element:_,isDehydrated:m,cache:u},Zy(I),o}function BP(o){return o?(o=tu,o):tu}function OP(o,u,m,_,E,I){E=BP(E),_.context===null?_.context=E:_.pendingContext=E,_=El(u),_.payload={element:m},I=I===void 0?null:I,I!==null&&(_.callback=I),m=vc(o,_,u),m!==null&&(ls(m,o,u),mh(m,o,u))}function NP(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function Q2(o,u){NP(o,u),(o=o.alternate)&&NP(o,u)}function LP(o){if(o.tag===13){var u=pc(o,67108864);u!==null&&ls(u,o,67108864),Q2(o,67108864)}}var Dx=!0;function Zj(o,u,m,_){var E=X.T;X.T=null;var I=Z.p;try{Z.p=2,$2(o,u,m,_)}finally{Z.p=I,X.T=E}}function ek(o,u,m,_){var E=X.T;X.T=null;var I=Z.p;try{Z.p=8,$2(o,u,m,_)}finally{Z.p=I,X.T=E}}function $2(o,u,m,_){if(Dx){var E=Z2(_);if(E===null)z2(o,u,_,Bx,m),FP(o,_);else if(nk(E,o,u,m,_))_.stopPropagation();else if(FP(o,_),u&4&&-1<tk.indexOf(o)){for(;E!==null;){var I=ne(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var W=St(I.pendingLanes);if(W!==0){var te=I;for(te.pendingLanes|=2,te.entangledLanes|=2;W;){var ve=1<<31-lt(W);te.entanglements[1]|=ve,W&=~ve}Eu(I),(Di&6)===0&&(Ha=et()+500,M_(0))}}break;case 13:te=pc(I,2),te!==null&&ls(te,I,2),Ll(),Q2(I,2)}if(I=Z2(_),I===null&&z2(o,u,_,Bx,m),I===E)break;E=I}E!==null&&_.stopPropagation()}else z2(o,u,_,null,m)}}function Z2(o){return o=Sa(o),eT(o)}var Bx=null;function eT(o){if(Bx=null,o=J(o),o!==null){var u=a(o);if(u===null)o=null;else{var m=u.tag;if(m===13){if(o=s(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Bx=o,null}function UP(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rt()){case xt:return 2;case We:return 8;case ae:case V:return 32;case ee:return 268435456;default:return 32}default:return 32}}var tT=!1,Zf=null,ed=null,td=null,I_=new Map,P_=new Map,nd=[],tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FP(o,u){switch(o){case"focusin":case"focusout":Zf=null;break;case"dragenter":case"dragleave":ed=null;break;case"mouseover":case"mouseout":td=null;break;case"pointerover":case"pointerout":I_.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":P_.delete(u.pointerId)}}function D_(o,u,m,_,E,I){return o===null||o.nativeEvent!==I?(o={blockedOn:u,domEventName:m,eventSystemFlags:_,nativeEvent:I,targetContainers:[E]},u!==null&&(u=ne(u),u!==null&&LP(u)),o):(o.eventSystemFlags|=_,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function nk(o,u,m,_,E){switch(u){case"focusin":return Zf=D_(Zf,o,u,m,_,E),!0;case"dragenter":return ed=D_(ed,o,u,m,_,E),!0;case"mouseover":return td=D_(td,o,u,m,_,E),!0;case"pointerover":var I=E.pointerId;return I_.set(I,D_(I_.get(I)||null,o,u,m,_,E)),!0;case"gotpointercapture":return I=E.pointerId,P_.set(I,D_(P_.get(I)||null,o,u,m,_,E)),!0}return!1}function zP(o){var u=J(o.target);if(u!==null){var m=a(u);if(m!==null){if(u=m.tag,u===13){if(u=s(m),u!==null){o.blockedOn=u,ci(o.priority,function(){if(m.tag===13){var _=Tr();_=An(_);var E=pc(m,_);E!==null&&ls(E,m,_),Q2(m,_)}});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ox(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=Z2(o.nativeEvent);if(m===null){m=o.nativeEvent;var _=new m.constructor(m.type,m);$a=_,m.target.dispatchEvent(_),$a=null}else return u=ne(m),u!==null&&LP(u),o.blockedOn=m,!1;u.shift()}return!0}function VP(o,u,m){Ox(o)&&m.delete(u)}function ik(){tT=!1,Zf!==null&&Ox(Zf)&&(Zf=null),ed!==null&&Ox(ed)&&(ed=null),td!==null&&Ox(td)&&(td=null),I_.forEach(VP),P_.forEach(VP)}function Nx(o,u){o.blockedOn===u&&(o.blockedOn=null,tT||(tT=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ik)))}var Lx=null;function jP(o){Lx!==o&&(Lx=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lx===o&&(Lx=null);for(var u=0;u<o.length;u+=3){var m=o[u],_=o[u+1],E=o[u+2];if(typeof _!="function"){if(eT(_||m)===null)continue;break}var I=ne(m);I!==null&&(o.splice(u,3),u-=3,m_(I,{pending:!0,data:E,method:m.method,action:_},_,E))}}))}function B_(o){function u(ve){return Nx(ve,o)}Zf!==null&&Nx(Zf,o),ed!==null&&Nx(ed,o),td!==null&&Nx(td,o),I_.forEach(u),P_.forEach(u);for(var m=0;m<nd.length;m++){var _=nd[m];_.blockedOn===o&&(_.blockedOn=null)}for(;0<nd.length&&(m=nd[0],m.blockedOn===null);)zP(m),m.blockedOn===null&&nd.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(_=0;_<m.length;_+=3){var E=m[_],I=m[_+1],W=E[Li]||null;if(typeof I=="function")W||jP(m);else if(W){var te=null;if(I&&I.hasAttribute("formAction")){if(E=I,W=I[Li]||null)te=W.formAction;else if(eT(E)!==null)continue}else te=W.action;typeof te=="function"?m[_+1]=te:(m.splice(_,3),_-=3),jP(m)}}}function nT(o){this._internalRoot=o}Ux.prototype.render=nT.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(i(409));var m=u.current,_=Tr();OP(m,_,o,u,null,null)},Ux.prototype.unmount=nT.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;OP(o.current,2,null,o,null,null),Ll(),u[Ui]=null}};function Ux(o){this._internalRoot=o}Ux.prototype.unstable_scheduleHydration=function(o){if(o){var u=dn();o={blockedOn:null,target:o,priority:u};for(var m=0;m<nd.length&&u!==0&&u<nd[m].priority;m++);nd.splice(m,0,o),m===0&&zP(o)}};var kP=e.version;if(kP!=="19.1.0")throw Error(i(527,kP,"19.1.0"));Z.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=c(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var rk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fx.isDisabled&&Fx.supportsFiber)try{ge=Fx.inject(rk),Pe=Fx}catch{}}return N_.createRoot=function(o,u){if(!r(o))throw Error(i(299));var m=!1,_="",E=Ap,I=S0,W=_x,te=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(W=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(te=u.unstable_transitionCallbacks)),u=DP(o,1,!1,null,null,m,_,E,I,W,te,null),o[Ui]=u.current,F2(o),new nT(u)},N_.hydrateRoot=function(o,u,m){if(!r(o))throw Error(i(299));var _=!1,E="",I=Ap,W=S0,te=_x,ve=null,Xe=null;return m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(I=m.onUncaughtError),m.onCaughtError!==void 0&&(W=m.onCaughtError),m.onRecoverableError!==void 0&&(te=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ve=m.unstable_transitionCallbacks),m.formState!==void 0&&(Xe=m.formState)),u=DP(o,1,!0,u,m??null,_,E,I,W,te,ve,Xe),u.context=BP(null),m=u.current,_=Tr(),_=An(_),E=El(_),E.callback=null,vc(m,E,_),m=_,u.current.lanes=m,st(u,m),Eu(u),o[Ui]=u.current,F2(o),new Ux(u)},N_.version="19.1.0",N_}var $P;function pk(){if($P)return rT.exports;$P=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rT.exports=dk(),rT.exports}var TN=pk(),Y=vy();const xr=V1(Y),ZP=sk({__proto__:null,default:xr},[Y]);var L_={},eD;function mk(){if(eD)return L_;eD=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.parse=s,L_.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function s(y,v){const x=new a,w=y.length;if(w<2)return x;const A=(v==null?void 0:v.decode)||p;let M=0;do{const R=y.indexOf("=",M);if(R===-1)break;const P=y.indexOf(";",M),L=P===-1?w:P;if(R>L){M=y.lastIndexOf(";",R-1)+1;continue}const F=l(y,M,R),j=c(y,R,F),U=y.slice(F,j);if(x[U]===void 0){let N=l(y,R+1,L),B=c(y,L,N);const O=A(y.slice(N,B));x[U]=O}M=L+1}while(M<w);return x}function l(y,v,x){do{const w=y.charCodeAt(v);if(w!==32&&w!==9)return v}while(++v<x);return x}function c(y,v,x){for(;v>x;){const w=y.charCodeAt(--v);if(w!==32&&w!==9)return v+1}return x}function f(y,v,x){const w=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=w(v);if(!e.test(A))throw new TypeError(`argument val is invalid: ${v}`);let M=y+"="+A;if(!x)return M;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);M+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);M+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);M+="; Path="+x.path}if(x.expires){if(!g(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);M+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(M+="; HttpOnly"),x.secure&&(M+="; Secure"),x.partitioned&&(M+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return M}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return r.call(y)==="[object Date]"}return L_}mk();var tD="popstate";function gk(n={}){function e(i,r){let{pathname:a,search:s,hash:l}=i.location;return yw("",{pathname:a,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:e1(r)}return _k(e,t,null,n)}function jr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ku(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yk(){return Math.random().toString(36).substring(2,10)}function nD(n,e){return{usr:n.state,key:n.key,idx:e}}function yw(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?by(e):e,state:t,key:e&&e.key||i||yk()}}function e1({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function by(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function _k(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,l="POP",c=null,f=p();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function p(){return(s.state||{idx:null}).idx}function g(){l="POP";let A=p(),M=A==null?null:A-f;f=A,c&&c({action:l,location:w.location,delta:M})}function y(A,M){l="PUSH";let R=yw(w.location,A,M);f=p()+1;let P=nD(R,f),L=w.createHref(R);try{s.pushState(P,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(L)}a&&c&&c({action:l,location:w.location,delta:1})}function v(A,M){l="REPLACE";let R=yw(w.location,A,M);f=p();let P=nD(R,f),L=w.createHref(R);s.replaceState(P,"",L),a&&c&&c({action:l,location:w.location,delta:0})}function x(A){let M=r.location.origin!=="null"?r.location.origin:r.location.href,R=typeof A=="string"?A:e1(A);return R=R.replace(/ $/,"%20"),jr(M,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,M)}let w={get action(){return l},get location(){return n(r,s)},listen(A){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(tD,g),c=A,()=>{r.removeEventListener(tD,g),c=null}},createHref(A){return e(r,A)},createURL:x,encodeLocation(A){let M=x(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:y,replace:v,go(A){return s.go(A)}};return w}function CN(n,e,t="/"){return vk(n,e,t,!1)}function vk(n,e,t,i){let r=typeof e=="string"?by(e):e,a=sf(r.pathname||"/",t);if(a==null)return null;let s=wN(n);bk(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=Pk(a);l=Rk(s[c],f,i)}return l}function wN(n,e=[],t=[],i=""){let r=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(jr(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let f=ef([i,c.relativePath]),p=t.concat(c);a.children&&a.children.length>0&&(jr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),wN(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:Ck(f,a.index),routesMeta:p})};return n.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,s);else for(let c of RN(a.path))r(a,s,c)}),e}function RN(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=RN(i.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...s),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function bk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var xk=/^:[\w-]+$/,Mk=3,Sk=2,Ak=1,Ek=10,Tk=-2,iD=n=>n==="*";function Ck(n,e){let t=n.split("/"),i=t.length;return t.some(iD)&&(i+=Tk),e&&(i+=Sk),t.filter(r=>!iD(r)).reduce((r,a)=>r+(xk.test(a)?Mk:a===""?Ak:Ek),i)}function wk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Rk(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",s=[];for(let l=0;l<i.length;++l){let c=i[l],f=l===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=US({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),y=c.route;if(!g&&f&&t&&!i[i.length-1].route.index&&(g=US({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(r,g.params),s.push({params:r,pathname:ef([a,g.pathname]),pathnameBase:Nk(ef([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=ef([a,g.pathnameBase]))}return s}function US(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Ik(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:g},y)=>{if(p==="*"){let x=l[y]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[y];return g&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:n}}function Ik(n,e=!1,t=!0){Ku(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Pk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ku(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function sf(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Dk(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?by(n):n;return{pathname:t?t.startsWith("/")?t:Bk(t,e):e,search:Lk(i),hash:Uk(r)}}function Bk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function cT(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ok(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function IN(n){let e=Ok(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function PN(n,e,t,i=!1){let r;typeof n=="string"?r=by(n):(r={...n},jr(!r.pathname||!r.pathname.includes("?"),cT("?","pathname","search",r)),jr(!r.pathname||!r.pathname.includes("#"),cT("#","pathname","hash",r)),jr(!r.search||!r.search.includes("#"),cT("#","search","hash",r)));let a=n===""||r.pathname==="",s=a?"/":r.pathname,l;if(s==null)l=t;else{let g=e.length-1;if(!i&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}l=g>=0?e[g]:"/"}let c=Dk(r,l),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}var ef=n=>n.join("/").replace(/\/\/+/g,"/"),Nk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Lk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Uk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Fk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var DN=["POST","PUT","PATCH","DELETE"];new Set(DN);var zk=["GET",...DN];new Set(zk);var xy=Y.createContext(null);xy.displayName="DataRouter";var hE=Y.createContext(null);hE.displayName="DataRouterState";var BN=Y.createContext({isTransitioning:!1});BN.displayName="ViewTransition";var Vk=Y.createContext(new Map);Vk.displayName="Fetchers";var jk=Y.createContext(null);jk.displayName="Await";var ih=Y.createContext(null);ih.displayName="Navigation";var j1=Y.createContext(null);j1.displayName="Location";var rh=Y.createContext({outlet:null,matches:[],isDataRoute:!1});rh.displayName="Route";var e3=Y.createContext(null);e3.displayName="RouteError";function kk(n,{relative:e}={}){jr(k1(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Y.useContext(ih),{hash:r,pathname:a,search:s}=H1(n,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:ef([t,a])),i.createHref({pathname:l,search:s,hash:r})}function k1(){return Y.useContext(j1)!=null}function Nm(){return jr(k1(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(j1).location}var ON="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NN(n){Y.useContext(ih).static||Y.useLayoutEffect(n)}function LN(){let{isDataRoute:n}=Y.useContext(rh);return n?nH():Hk()}function Hk(){jr(k1(),"useNavigate() may be used only in the context of a <Router> component.");let n=Y.useContext(xy),{basename:e,navigator:t}=Y.useContext(ih),{matches:i}=Y.useContext(rh),{pathname:r}=Nm(),a=JSON.stringify(IN(i)),s=Y.useRef(!1);return NN(()=>{s.current=!0}),Y.useCallback((c,f={})=>{if(Ku(s.current,ON),!s.current)return;if(typeof c=="number"){t.go(c);return}let p=PN(c,JSON.parse(a),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ef([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,r,n])}Y.createContext(null);function Gk(){let{matches:n}=Y.useContext(rh),e=n[n.length-1];return e?e.params:{}}function H1(n,{relative:e}={}){let{matches:t}=Y.useContext(rh),{pathname:i}=Nm(),r=JSON.stringify(IN(t));return Y.useMemo(()=>PN(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Xk(n,e){return UN(n,e)}function UN(n,e,t,i){var R;jr(k1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:a}=Y.useContext(ih),{matches:s}=Y.useContext(rh),l=s[s.length-1],c=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let P=g&&g.path||"";FN(f,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Nm(),v;if(e){let P=typeof e=="string"?by(e):e;jr(p==="/"||((R=P.pathname)==null?void 0:R.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=y;let x=v.pathname||"/",w=x;if(p!=="/"){let P=p.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(P.length).join("/")}let A=!a&&t&&t.matches&&t.matches.length>0?t.matches:CN(n,{pathname:w});Ku(g||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ku(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Jk(A&&A.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:ef([p,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:ef([p,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,t,i);return e&&M?Y.createElement(j1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},M):M}function qk(){let n=tH(),e=Fk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:a},"ErrorBoundary")," or"," ",Y.createElement("code",{style:a},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:r},t):null,s)}var Wk=Y.createElement(qk,null),Yk=class extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Y.createElement(rh.Provider,{value:this.props.routeContext},Y.createElement(e3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kk({routeContext:n,match:e,children:t}){let i=Y.useContext(xy);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(rh.Provider,{value:n},t)}function Jk(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t==null?void 0:t.errors;if(a!=null){let c=r.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);jr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let s=!1,l=-1;if(t)for(let c=0;c<r.length;c++){let f=r[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:p,errors:g}=t,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){s=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,f,p)=>{let g,y=!1,v=null,x=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||Wk,s&&(l<0&&p===0?(FN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):l===p&&(y=!0,x=f.route.hydrateFallbackElement||null)));let w=e.concat(r.slice(0,p+1)),A=()=>{let M;return g?M=v:y?M=x:f.route.Component?M=Y.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=c,Y.createElement(Kk,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:t!=null},children:M})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Y.createElement(Yk,{location:t.location,revalidation:t.revalidation,component:v,error:g,children:A(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):A()},null)}function t3(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qk(n){let e=Y.useContext(xy);return jr(e,t3(n)),e}function $k(n){let e=Y.useContext(hE);return jr(e,t3(n)),e}function Zk(n){let e=Y.useContext(rh);return jr(e,t3(n)),e}function n3(n){let e=Zk(n),t=e.matches[e.matches.length-1];return jr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function eH(){return n3("useRouteId")}function tH(){var i;let n=Y.useContext(e3),e=$k("useRouteError"),t=n3("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function nH(){let{router:n}=Qk("useNavigate"),e=n3("useNavigate"),t=Y.useRef(!1);return NN(()=>{t.current=!0}),Y.useCallback(async(r,a={})=>{Ku(t.current,ON),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var rD={};function FN(n,e,t){!e&&!rD[n]&&(rD[n]=!0,Ku(!1,t))}Y.memo(iH);function iH({routes:n,future:e,state:t}){return UN(n,void 0,t,e)}function zN(n){jr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rH({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){jr(!k1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),l=Y.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof t=="string"&&(t=by(t));let{pathname:c="/",search:f="",hash:p="",state:g=null,key:y="default"}=t,v=Y.useMemo(()=>{let x=sf(c,s);return x==null?null:{location:{pathname:x,search:f,hash:p,state:g,key:y},navigationType:i}},[s,c,f,p,g,y,i]);return Ku(v!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:Y.createElement(ih.Provider,{value:l},Y.createElement(j1.Provider,{children:e,value:v}))}function aH({children:n,location:e}){return Xk(_w(n),e)}function _w(n,e=[]){let t=[];return Y.Children.forEach(n,(i,r)=>{if(!Y.isValidElement(i))return;let a=[...e,r];if(i.type===Y.Fragment){t.push.apply(t,_w(i.props.children,a));return}jr(i.type===zN,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=_w(i.props.children,a)),t.push(s)}),t}var aS="get",sS="application/x-www-form-urlencoded";function fE(n){return n!=null&&typeof n.tagName=="string"}function sH(n){return fE(n)&&n.tagName.toLowerCase()==="button"}function oH(n){return fE(n)&&n.tagName.toLowerCase()==="form"}function lH(n){return fE(n)&&n.tagName.toLowerCase()==="input"}function cH(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uH(n,e){return n.button===0&&(!e||e==="_self")&&!cH(n)}var Vx=null;function hH(){if(Vx===null)try{new FormData(document.createElement("form"),0),Vx=!1}catch{Vx=!0}return Vx}var fH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uT(n){return n!=null&&!fH.has(n)?(Ku(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sS}"`),null):n}function dH(n,e){let t,i,r,a,s;if(oH(n)){let l=n.getAttribute("action");i=l?sf(l,e):null,t=n.getAttribute("method")||aS,r=uT(n.getAttribute("enctype"))||sS,a=new FormData(n)}else if(sH(n)||lH(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||l.getAttribute("action");if(i=c?sf(c,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||aS,r=uT(n.getAttribute("formenctype"))||uT(l.getAttribute("enctype"))||sS,a=new FormData(l,n),!hH()){let{name:f,type:p,value:g}=n;if(p==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,g)}}else{if(fE(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=aS,i=null,r=sS,s=n}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:s}}function i3(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function pH(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mH(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gH(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await pH(a,t);return s.links?s.links():[]}return[]}));return bH(i.flat(1).filter(mH).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function aD(n,e,t,i,r,a){let s=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,l=(c,f)=>{var p;return t[f].pathname!==c.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,f)=>s(c,f)||l(c,f)):a==="data"?e.filter((c,f)=>{var g;let p=i.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(s(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function yH(n,e,{includeHydrateFallback:t}={}){return _H(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function _H(n){return[...new Set(n)]}function vH(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function bH(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(vH(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}var xH=new Set([100,101,204,205]);function MH(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&sf(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function VN(){let n=Y.useContext(xy);return i3(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SH(){let n=Y.useContext(hE);return i3(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var r3=Y.createContext(void 0);r3.displayName="FrameworkContext";function jN(){let n=Y.useContext(r3);return i3(n,"You must render this element inside a <HydratedRouter> element"),n}function AH(n,e){let t=Y.useContext(r3),[i,r]=Y.useState(!1),[a,s]=Y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,y=Y.useRef(null);Y.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let w=M=>{M.forEach(R=>{s(R.isIntersecting)})},A=new IntersectionObserver(w,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[n]),Y.useEffect(()=>{if(i){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[i]);let v=()=>{r(!0)},x=()=>{r(!1),s(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:U_(l,v),onBlur:U_(c,x),onMouseEnter:U_(f,v),onMouseLeave:U_(p,x),onTouchStart:U_(g,v)}]:[!1,y,{}]}function U_(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function EH({page:n,...e}){let{router:t}=VN(),i=Y.useMemo(()=>CN(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Y.createElement(CH,{page:n,matches:i,...e}):null}function TH(n){let{manifest:e,routeModules:t}=jN(),[i,r]=Y.useState([]);return Y.useEffect(()=>{let a=!1;return gH(n,e,t).then(s=>{a||r(s)}),()=>{a=!0}},[n,e,t]),i}function CH({page:n,matches:e,...t}){let i=Nm(),{manifest:r,routeModules:a}=jN(),{basename:s}=VN(),{loaderData:l,matches:c}=SH(),f=Y.useMemo(()=>aD(n,e,c,r,i,"data"),[n,e,c,r,i]),p=Y.useMemo(()=>aD(n,e,c,r,i,"assets"),[n,e,c,r,i]),g=Y.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,w=!1;if(e.forEach(M=>{var P;let R=r.routes[M.route.id];!R||!R.hasLoader||(!f.some(L=>L.route.id===M.route.id)&&M.route.id in l&&((P=a[M.route.id])!=null&&P.shouldRevalidate)||R.hasClientLoader?w=!0:x.add(M.route.id))}),x.size===0)return[];let A=MH(n,s);return w&&x.size>0&&A.searchParams.set("_routes",e.filter(M=>x.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[s,l,i,r,f,e,n,a]),y=Y.useMemo(()=>yH(p,r),[p,r]),v=TH(p);return Y.createElement(Y.Fragment,null,g.map(x=>Y.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),y.map(x=>Y.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),v.map(({key:x,link:w})=>Y.createElement("link",{key:x,...w})))}function wH(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kN&&(window.__reactRouterVersion="7.5.2")}catch{}function RH({basename:n,children:e,window:t}){let i=Y.useRef();i.current==null&&(i.current=gk({window:t,v5Compat:!0}));let r=i.current,[a,s]=Y.useState({action:r.action,location:r.location}),l=Y.useCallback(c=>{Y.startTransition(()=>s(c))},[s]);return Y.useLayoutEffect(()=>r.listen(l),[r,l]),Y.createElement(rH,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var HN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GN=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:l,target:c,to:f,preventScrollReset:p,viewTransition:g,...y},v){let{basename:x}=Y.useContext(ih),w=typeof f=="string"&&HN.test(f),A,M=!1;if(typeof f=="string"&&w&&(A=f,kN))try{let B=new URL(window.location.href),O=f.startsWith("//")?new URL(B.protocol+f):new URL(f),H=sf(O.pathname,x);O.origin===B.origin&&H!=null?f=H+O.search+O.hash:M=!0}catch{Ku(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=kk(f,{relative:r}),[P,L,F]=AH(i,y),j=BH(f,{replace:s,state:l,target:c,preventScrollReset:p,relative:r,viewTransition:g});function U(B){e&&e(B),B.defaultPrevented||j(B)}let N=Y.createElement("a",{...y,...F,href:A||R,onClick:M||a?e:U,ref:wH(v,L),target:c,"data-discover":!w&&t==="render"?"true":void 0});return P&&!w?Y.createElement(Y.Fragment,null,N,Y.createElement(EH,{page:R})):N});GN.displayName="Link";var IH=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:l,children:c,...f},p){let g=H1(s,{relative:f.relative}),y=Nm(),v=Y.useContext(hE),{navigator:x,basename:w}=Y.useContext(ih),A=v!=null&&FH(g)&&l===!0,M=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,R=y.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(R=R.toLowerCase(),P=P?P.toLowerCase():null,M=M.toLowerCase()),P&&w&&(P=sf(P,w)||P);const L=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let F=R===M||!r&&R.startsWith(M)&&R.charAt(L)==="/",j=P!=null&&(P===M||!r&&P.startsWith(M)&&P.charAt(M.length)==="/"),U={isActive:F,isPending:j,isTransitioning:A},N=F?e:void 0,B;typeof i=="function"?B=i(U):B=[i,F?"active":null,j?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(U):a;return Y.createElement(GN,{...f,"aria-current":N,className:B,ref:p,style:O,to:s,viewTransition:l},typeof c=="function"?c(U):c)});IH.displayName="NavLink";var PH=Y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:s=aS,action:l,onSubmit:c,relative:f,preventScrollReset:p,viewTransition:g,...y},v)=>{let x=LH(),w=UH(l,{relative:f}),A=s.toLowerCase()==="get"?"get":"post",M=typeof l=="string"&&HN.test(l),R=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let L=P.nativeEvent.submitter,F=(L==null?void 0:L.getAttribute("formmethod"))||s;x(L||P.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:r,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return Y.createElement("form",{ref:v,method:A,action:w,onSubmit:i?c:R,...y,"data-discover":!M&&n==="render"?"true":void 0})});PH.displayName="Form";function DH(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XN(n){let e=Y.useContext(xy);return jr(e,DH(n)),e}function BH(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:s}={}){let l=LN(),c=Nm(),f=H1(n,{relative:a});return Y.useCallback(p=>{if(uH(p,e)){p.preventDefault();let g=t!==void 0?t:e1(c)===e1(f);l(n,{replace:g,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[c,l,f,t,i,e,n,r,a,s])}var OH=0,NH=()=>`__${String(++OH)}__`;function LH(){let{router:n}=XN("useSubmit"),{basename:e}=Y.useContext(ih),t=eH();return Y.useCallback(async(i,r={})=>{let{action:a,method:s,encType:l,formData:c,body:f}=dH(i,e);if(r.navigate===!1){let p=r.fetcherKey||NH();await n.fetch(p,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||s,formEncType:r.encType||l,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||s,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function UH(n,{relative:e}={}){let{basename:t}=Y.useContext(ih),i=Y.useContext(rh);jr(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...H1(n||".",{relative:e})},s=Nm();if(n==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(p=>p==="")){l.delete("index"),c.filter(g=>g).forEach(g=>l.append("index",g));let p=l.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ef([t,a.pathname])),e1(a)}function FH(n,e={}){let t=Y.useContext(BN);jr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XN("useViewTransitionState"),r=H1(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=sf(t.currentLocation.pathname,i)||t.currentLocation.pathname,s=sf(t.nextLocation.pathname,i)||t.nextLocation.pathname;return US(r.pathname,s)!=null||US(r.pathname,a)!=null}new TextEncoder;[...xH];var qN=EN();function zH(n){return n!=null&&typeof n=="object"&&"nodeType"in n&&n.nodeType===Node.ELEMENT_NODE}function VH(){return!!(globalThis!=null&&globalThis.document)}function jH(n,...e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");const t={...n};for(const i of e)if(i!=null)for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(r in t&&delete t[r],t[r]=i[r]);return t}const wu=n=>n?"":void 0,hT=n=>n?!0:void 0;function vw(n){return Array.isArray(n)}function jo(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")&&!vw(n)}function kH(n){const e=n==null?0:n.length;return e?n[e-1]:void 0}function HH(n){const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}}function bw(n){if(n==null)return n;const{unitless:e}=HH(n);return e||typeof n=="number"?`${n}px`:n}const WN=(n,e)=>parseInt(n[1],10)>parseInt(e[1],10)?1:-1,a3=n=>Object.fromEntries(Object.entries(n).sort(WN));function sD(n){const e=a3(n);return Object.assign(Object.values(e),e)}function GH(n){const e=Object.keys(a3(n));return new Set(e)}function oD(n){if(!n)return n;n=bw(n)??n;const e=-.02;return typeof n=="number"?`${n+e}`:n.replace(/(\d+\.?\d*)/u,t=>`${parseFloat(t)+e}`)}function cv(n,e){const t=["@media screen"];return n&&t.push("and",`(min-width: ${bw(n)})`),e&&t.push("and",`(max-width: ${bw(e)})`),t.join(" ")}function XH(n){if(!n)return null;n.base=n.base??"0px";const e=sD(n),t=Object.entries(n).sort(WN).map(([a,s],l,c)=>{let[,f]=c[l+1]??[];return f=parseFloat(f)>0?oD(f):void 0,{_minW:oD(s),breakpoint:a,minW:s,maxW:f,maxWQuery:cv(null,f),minWQuery:cv(s),minMaxQuery:cv(s,f)}}),i=GH(n),r=Array.from(i.values());return{keys:i,normalized:e,isResponsive(a){const s=Object.keys(a);return s.length>0&&s.every(l=>i.has(l))},asObject:a3(n),asArray:sD(n),details:t,get(a){return t.find(s=>s.breakpoint===a)},media:[null,...e.map(a=>cv(a)).slice(1)],toArrayValue(a){if(!jo(a))throw new Error("toArrayValue: value must be an object");const s=r.map(l=>a[l]??null);for(;kH(s)===null;)s.pop();return s},toObjectValue(a){if(!Array.isArray(a))throw new Error("toObjectValue: value must be an array");return a.reduce((s,l,c)=>{const f=r[c];return f!=null&&l!=null&&(s[f]=l),s},{})}}}function Zp(...n){return function(t){n.some(i=>(i==null||i(t),t==null?void 0:t.defaultPrevented))}}function s3(n){const e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function qH(n,e){return`${n} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function mf(n={}){const{name:e,strict:t=!0,hookName:i="useContext",providerName:r="Provider",errorMessage:a,defaultValue:s}=n,l=Y.createContext(s);l.displayName=e;function c(){var p;const f=Y.useContext(l);if(!f&&t){const g=new Error(a??qH(i,r));throw g.name="ContextError",(p=Error.captureStackTrace)==null||p.call(Error,g,c),g}return f}return[l.Provider,c,l]}const mo=(...n)=>n.filter(Boolean).join(" ");function WH(n,e,t,i){const r=typeof e=="string"?e.split("."):[e];for(i=0;i<r.length&&n;i+=1)n=n[r[i]];return n===void 0?t:n}const YH=n=>{const e=new WeakMap;return(i,r,a,s)=>{if(typeof i>"u")return n(i,r,a);e.has(i)||e.set(i,new Map);const l=e.get(i);if(l.has(r))return l.get(r);const c=n(i,r,a,s);return l.set(r,c),c}},YN=YH(WH),KH=n=>n.default||n;function G1(n,e=[]){const t=Object.assign({},n);for(const i of e)i in t&&delete t[i];return t}function KN(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}const JH=n=>typeof n=="function";function Wl(n,...e){return JH(n)?n(...e):n}function QH(n){const e=n.ownerDocument.defaultView||window,{overflow:t,overflowX:i,overflowY:r}=e.getComputedStyle(n);return/auto|scroll|overlay|hidden/.test(t+r+i)}function $H(n){return n.localName==="html"?n:n.assignedSlot||n.parentElement||n.ownerDocument.documentElement}function JN(n){return["html","body","#document"].includes(n.localName)?n.ownerDocument.body:zH(n)&&QH(n)?n:JN($H(n))}function ZH(n,...e){const t=Object.getOwnPropertyDescriptors(n),i=Object.keys(t),r=s=>{const l={};for(let c=0;c<s.length;c++){const f=s[c];t[f]&&(Object.defineProperty(l,f,t[f]),delete t[f])}return l},a=s=>r(Array.isArray(s)?s:i.filter(s));return e.map(a).concat(r(i))}function lD(n,e,t={}){const{stop:i,getKey:r}=t;function a(s,l=[]){if(jo(s)||Array.isArray(s)){const c={};for(const[f,p]of Object.entries(s)){const g=(r==null?void 0:r(f))??f,y=[...l,g];if(i!=null&&i(s,y))return e(s,l);c[g]=a(p,y)}return c}return e(s,l)}return a(n)}var uv={exports:{}};uv.exports;var cD;function eG(){return cD||(cD=1,function(n,e){var t=200,i="__lodash_hash_undefined__",r=800,a=16,s=9007199254740991,l="[object Arguments]",c="[object Array]",f="[object AsyncFunction]",p="[object Boolean]",g="[object Date]",y="[object Error]",v="[object Function]",x="[object GeneratorFunction]",w="[object Map]",A="[object Number]",M="[object Null]",R="[object Object]",P="[object Proxy]",L="[object RegExp]",F="[object Set]",j="[object String]",U="[object Undefined]",N="[object WeakMap]",B="[object ArrayBuffer]",O="[object DataView]",H="[object Float32Array]",Q="[object Float64Array]",G="[object Int8Array]",he="[object Int16Array]",_e="[object Int32Array]",X="[object Uint8Array]",Z="[object Uint8ClampedArray]",re="[object Uint16Array]",be="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,pe=/^\[object .+?Constructor\]$/,we=/^(?:0|[1-9]\d*)$/,Te={};Te[H]=Te[Q]=Te[G]=Te[he]=Te[_e]=Te[X]=Te[Z]=Te[re]=Te[be]=!0,Te[l]=Te[c]=Te[B]=Te[p]=Te[O]=Te[g]=Te[y]=Te[v]=Te[w]=Te[A]=Te[R]=Te[L]=Te[F]=Te[j]=Te[N]=!1;var de=typeof zx=="object"&&zx&&zx.Object===Object&&zx,Ne=typeof self=="object"&&self&&self.Object===Object&&self,Ve=de||Ne||Function("return this")(),ct=e&&!e.nodeType&&e,ut=ct&&!0&&n&&!n.nodeType&&n,Jt=ut&&ut.exports===ct,It=Jt&&de.process,Ct=function(){try{var le=ut&&ut.require&&ut.require("util").types;return le||It&&It.binding&&It.binding("util")}catch{}}(),Nt=Ct&&Ct.isTypedArray;function Ft(le,Ee,Qe){switch(Qe.length){case 0:return le.call(Ee);case 1:return le.call(Ee,Qe[0]);case 2:return le.call(Ee,Qe[0],Qe[1]);case 3:return le.call(Ee,Qe[0],Qe[1],Qe[2])}return le.apply(Ee,Qe)}function fe(le,Ee){for(var Qe=-1,Ht=Array(le);++Qe<le;)Ht[Qe]=Ee(Qe);return Ht}function Mn(le){return function(Ee){return le(Ee)}}function at(le,Ee){return le==null?void 0:le[Ee]}function et(le,Ee){return function(Qe){return le(Ee(Qe))}}var rt=Array.prototype,xt=Function.prototype,We=Object.prototype,ae=Ve["__core-js_shared__"],V=xt.toString,ee=We.hasOwnProperty,ue=function(){var le=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return le?"Symbol(src)_1."+le:""}(),Ce=We.toString,ge=V.call(Object),Pe=RegExp("^"+V.call(ee).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=Jt?Ve.Buffer:void 0,lt=Ve.Symbol,Xt=Ve.Uint8Array;Ue&&Ue.allocUnsafe;var ht=et(Object.getPrototypeOf,Object),Ot=Object.create,zt=We.propertyIsEnumerable,Pt=rt.splice,St=lt?lt.toStringTag:void 0,Me=function(){try{var le=Qt(Object,"defineProperty");return le({},"",{}),le}catch{}}(),Je=Ue?Ue.isBuffer:void 0,bt=Math.max,Se=Date.now,je=Qt(Ve,"Map"),Ge=Qt(Object,"create"),st=function(){function le(){}return function(Ee){if(!Xr(Ee))return{};if(Ot)return Ot(Ee);le.prototype=Ee;var Qe=new le;return le.prototype=void 0,Qe}}();function wt(le){var Ee=-1,Qe=le==null?0:le.length;for(this.clear();++Ee<Qe;){var Ht=le[Ee];this.set(Ht[0],Ht[1])}}function Tt(){this.__data__=Ge?Ge(null):{},this.size=0}function $t(le){var Ee=this.has(le)&&delete this.__data__[le];return this.size-=Ee?1:0,Ee}function An(le){var Ee=this.__data__;if(Ge){var Qe=Ee[le];return Qe===i?void 0:Qe}return ee.call(Ee,le)?Ee[le]:void 0}function ti(le){var Ee=this.__data__;return Ge?Ee[le]!==void 0:ee.call(Ee,le)}function dn(le,Ee){var Qe=this.__data__;return this.size+=this.has(le)?0:1,Qe[le]=Ge&&Ee===void 0?i:Ee,this}wt.prototype.clear=Tt,wt.prototype.delete=$t,wt.prototype.get=An,wt.prototype.has=ti,wt.prototype.set=dn;function ci(le){var Ee=-1,Qe=le==null?0:le.length;for(this.clear();++Ee<Qe;){var Ht=le[Ee];this.set(Ht[0],Ht[1])}}function Dn(){this.__data__=[],this.size=0}function Ki(le){var Ee=this.__data__,Qe=ye(Ee,le);if(Qe<0)return!1;var Ht=Ee.length-1;return Qe==Ht?Ee.pop():Pt.call(Ee,Qe,1),--this.size,!0}function Li(le){var Ee=this.__data__,Qe=ye(Ee,le);return Qe<0?void 0:Ee[Qe][1]}function Ui(le){return ye(this.__data__,le)>-1}function Hr(le,Ee){var Qe=this.__data__,Ht=ye(Qe,le);return Ht<0?(++this.size,Qe.push([le,Ee])):Qe[Ht][1]=Ee,this}ci.prototype.clear=Dn,ci.prototype.delete=Ki,ci.prototype.get=Li,ci.prototype.has=Ui,ci.prototype.set=Hr;function Gr(le){var Ee=-1,Qe=le==null?0:le.length;for(this.clear();++Ee<Qe;){var Ht=le[Ee];this.set(Ht[0],Ht[1])}}function nr(){this.size=0,this.__data__={hash:new wt,map:new(je||ci),string:new wt}}function sn(le){var Ee=di(this,le).delete(le);return this.size-=Ee?1:0,Ee}function ha(le){return di(this,le).get(le)}function ni(le){return di(this,le).has(le)}function J(le,Ee){var Qe=di(this,le),Ht=Qe.size;return Qe.set(le,Ee),this.size+=Qe.size==Ht?0:1,this}Gr.prototype.clear=nr,Gr.prototype.delete=sn,Gr.prototype.get=ha,Gr.prototype.has=ni,Gr.prototype.set=J;function ne(le){var Ee=this.__data__=new ci(le);this.size=Ee.size}function Ae(){this.__data__=new ci,this.size=0}function ke(le){var Ee=this.__data__,Qe=Ee.delete(le);return this.size=Ee.size,Qe}function qe(le){return this.__data__.get(le)}function nt(le){return this.__data__.has(le)}function Mt(le,Ee){var Qe=this.__data__;if(Qe instanceof ci){var Ht=Qe.__data__;if(!je||Ht.length<t-1)return Ht.push([le,Ee]),this.size=++Qe.size,this;Qe=this.__data__=new Gr(Ht)}return Qe.set(le,Ee),this.size=Qe.size,this}ne.prototype.clear=Ae,ne.prototype.delete=ke,ne.prototype.get=qe,ne.prototype.has=nt,ne.prototype.set=Mt;function yt(le,Ee){var Qe=Za(le),Ht=!Qe&&Sa(le),Wn=!Qe&&!Ht&&es(le),Yn=!Qe&&!Ht&&!Wn&&xs(le),pi=Qe||Ht||Wn||Yn,Bn=pi?fe(le.length,String):[],mi=Bn.length;for(var cr in le)pi&&(cr=="length"||Wn&&(cr=="offset"||cr=="parent")||Yn&&(cr=="buffer"||cr=="byteLength"||cr=="byteOffset")||vi(cr,mi))||Bn.push(cr);return Bn}function K(le,Ee,Qe){(Qe!==void 0&&!$a(le[Ee],Qe)||Qe===void 0&&!(Ee in le))&&me(le,Ee,Qe)}function ce(le,Ee,Qe){var Ht=le[Ee];(!(ee.call(le,Ee)&&$a(Ht,Qe))||Qe===void 0&&!(Ee in le))&&me(le,Ee,Qe)}function ye(le,Ee){for(var Qe=le.length;Qe--;)if($a(le[Qe][0],Ee))return Qe;return-1}function me(le,Ee,Qe){Ee=="__proto__"&&Me?Me(le,Ee,{configurable:!0,enumerable:!0,value:Qe,writable:!0}):le[Ee]=Qe}var Re=mn();function ze(le){return le==null?le===void 0?U:M:St&&St in Object(le)?hn(le):rc(le)}function tt(le){return qr(le)&&ze(le)==l}function ot(le){if(!Xr(le)||lr(le))return!1;var Ee=sc(le)?Pe:pe;return Ee.test(ac(le))}function gt(le){return qr(le)&&Wo(le.length)&&!!Te[ze(le)]}function Ut(le){if(!Xr(le))return fa(le);var Ee=fr(le),Qe=[];for(var Ht in le)Ht=="constructor"&&(Ee||!ee.call(le,Ht))||Qe.push(Ht);return Qe}function Dt(le,Ee,Qe,Ht,Wn){le!==Ee&&Re(Ee,function(Yn,pi){if(Wn||(Wn=new ne),Xr(Yn))Lt(le,Ee,pi,Qe,Dt,Ht,Wn);else{var Bn=Ht?Ht(yl(le,pi),Yn,pi+"",le,Ee,Wn):void 0;Bn===void 0&&(Bn=Yn),K(le,pi,Bn)}},go)}function Lt(le,Ee,Qe,Ht,Wn,Yn,pi){var Bn=yl(le,Qe),mi=yl(Ee,Qe),cr=pi.get(mi);if(cr){K(le,Qe,cr);return}var Zr=Yn?Yn(Bn,mi,Qe+"",le,Ee,pi):void 0,oc=Zr===void 0;if(oc){var Ji=Za(mi),Yo=!Ji&&es(mi),lc=!Ji&&!Yo&&xs(mi);Zr=mi,Ji||Yo||lc?Za(Bn)?Zr=Bn:Yc(Bn)?Zr=Wt(Bn):Yo?(oc=!1,Zr=kn(mi)):lc?(oc=!1,Zr=en(mi)):Zr=[]:_l(mi)||Sa(mi)?(Zr=Bn,Sa(Bn)?Zr=vl(Bn):(!Xr(Bn)||sc(Bn))&&(Zr=En(mi))):oc=!1}oc&&(pi.set(mi,Zr),Wn(Zr,mi,Ht,Yn,pi),pi.delete(mi)),K(le,Qe,Zr)}function tn(le,Ee){return oh(gl(le,Ee,ts),le+"")}var Yt=Me?function(le,Ee){return Me(le,"toString",{configurable:!0,enumerable:!1,value:za(Ee),writable:!0})}:ts;function kn(le,Ee){return le.slice()}function qt(le){var Ee=new le.constructor(le.byteLength);return new Xt(Ee).set(new Xt(le)),Ee}function en(le,Ee){var Qe=qt(le.buffer);return new le.constructor(Qe,le.byteOffset,le.length)}function Wt(le,Ee){var Qe=-1,Ht=le.length;for(Ee||(Ee=Array(Ht));++Qe<Ht;)Ee[Qe]=le[Qe];return Ee}function _i(le,Ee,Qe,Ht){var Wn=!Qe;Qe||(Qe={});for(var Yn=-1,pi=Ee.length;++Yn<pi;){var Bn=Ee[Yn],mi=void 0;mi===void 0&&(mi=le[Bn]),Wn?me(Qe,Bn,mi):ce(Qe,Bn,mi)}return Qe}function un(le){return tn(function(Ee,Qe){var Ht=-1,Wn=Qe.length,Yn=Wn>1?Qe[Wn-1]:void 0,pi=Wn>2?Qe[2]:void 0;for(Yn=le.length>3&&typeof Yn=="function"?(Wn--,Yn):void 0,pi&&Qn(Qe[0],Qe[1],pi)&&(Yn=Wn<3?void 0:Yn,Wn=1),Ee=Object(Ee);++Ht<Wn;){var Bn=Qe[Ht];Bn&&le(Ee,Bn,Ht,Yn)}return Ee})}function mn(le){return function(Ee,Qe,Ht){for(var Wn=-1,Yn=Object(Ee),pi=Ht(Ee),Bn=pi.length;Bn--;){var mi=pi[++Wn];if(Qe(Yn[mi],mi,Yn)===!1)break}return Ee}}function di(le,Ee){var Qe=le.__data__;return on(Ee)?Qe[typeof Ee=="string"?"string":"hash"]:Qe.map}function Qt(le,Ee){var Qe=at(le,Ee);return ot(Qe)?Qe:void 0}function hn(le){var Ee=ee.call(le,St),Qe=le[St];try{le[St]=void 0;var Ht=!0}catch{}var Wn=Ce.call(le);return Ht&&(Ee?le[St]=Qe:delete le[St]),Wn}function En(le){return typeof le.constructor=="function"&&!fr(le)?st(ht(le)):{}}function vi(le,Ee){var Qe=typeof le;return Ee=Ee??s,!!Ee&&(Qe=="number"||Qe!="symbol"&&we.test(le))&&le>-1&&le%1==0&&le<Ee}function Qn(le,Ee,Qe){if(!Xr(Qe))return!1;var Ht=typeof Ee;return(Ht=="number"?bs(Qe)&&vi(Ee,Qe.length):Ht=="string"&&Ee in Qe)?$a(Qe[Ee],le):!1}function on(le){var Ee=typeof le;return Ee=="string"||Ee=="number"||Ee=="symbol"||Ee=="boolean"?le!=="__proto__":le===null}function lr(le){return!!ue&&ue in le}function fr(le){var Ee=le&&le.constructor,Qe=typeof Ee=="function"&&Ee.prototype||We;return le===Qe}function fa(le){var Ee=[];if(le!=null)for(var Qe in Object(le))Ee.push(Qe);return Ee}function rc(le){return Ce.call(le)}function gl(le,Ee,Qe){return Ee=bt(Ee===void 0?le.length-1:Ee,0),function(){for(var Ht=arguments,Wn=-1,Yn=bt(Ht.length-Ee,0),pi=Array(Yn);++Wn<Yn;)pi[Wn]=Ht[Ee+Wn];Wn=-1;for(var Bn=Array(Ee+1);++Wn<Ee;)Bn[Wn]=Ht[Wn];return Bn[Ee]=Qe(pi),Ft(le,this,Bn)}}function yl(le,Ee){if(!(Ee==="constructor"&&typeof le[Ee]=="function")&&Ee!="__proto__")return le[Ee]}var oh=gf(Yt);function gf(le){var Ee=0,Qe=0;return function(){var Ht=Se(),Wn=a-(Ht-Qe);if(Qe=Ht,Wn>0){if(++Ee>=r)return arguments[0]}else Ee=0;return le.apply(void 0,arguments)}}function ac(le){if(le!=null){try{return V.call(le)}catch{}try{return le+""}catch{}}return""}function $a(le,Ee){return le===Ee||le!==le&&Ee!==Ee}var Sa=tt(function(){return arguments}())?tt:function(le){return qr(le)&&ee.call(le,"callee")&&!zt.call(le,"callee")},Za=Array.isArray;function bs(le){return le!=null&&Wo(le.length)&&!sc(le)}function Yc(le){return qr(le)&&bs(le)}var es=Je||bl;function sc(le){if(!Xr(le))return!1;var Ee=ze(le);return Ee==v||Ee==x||Ee==f||Ee==P}function Wo(le){return typeof le=="number"&&le>-1&&le%1==0&&le<=s}function Xr(le){var Ee=typeof le;return le!=null&&(Ee=="object"||Ee=="function")}function qr(le){return le!=null&&typeof le=="object"}function _l(le){if(!qr(le)||ze(le)!=R)return!1;var Ee=ht(le);if(Ee===null)return!0;var Qe=ee.call(Ee,"constructor")&&Ee.constructor;return typeof Qe=="function"&&Qe instanceof Qe&&V.call(Qe)==ge}var xs=Nt?Mn(Nt):gt;function vl(le){return _i(le,go(le))}function go(le){return bs(le)?yt(le):Ut(le)}var Kc=un(function(le,Ee,Qe,Ht){Dt(le,Ee,Qe,Ht)});function za(le){return function(){return le}}function ts(le){return le}function bl(){return!1}n.exports=Kc}(uv,uv.exports)),uv.exports}var tG=eG();const Yl=V1(tG);function FS(n,e=[]){const t=Y.useRef(n);return Y.useEffect(()=>{t.current=n}),Y.useCallback((...i)=>{var r;return(r=t.current)==null?void 0:r.call(t,...i)},e)}function fT(n,e,t,i){const r=FS(t);return Y.useEffect(()=>{const a=typeof n=="function"?n():n??document;if(!(!t||!a))return a.addEventListener(e,r,i),()=>{a.removeEventListener(e,r,i)}},[e,n,i,r,t]),()=>{const a=typeof n=="function"?n():n??document;a==null||a.removeEventListener(e,r,i)}}function nG(n={}){const{onClose:e,onOpen:t,isOpen:i,id:r}=n,a=FS(t),s=FS(e),[l,c]=Y.useState(n.defaultIsOpen||!1),f=i!==void 0?i:l,p=i!==void 0,g=Y.useId(),y=r??`disclosure-${g}`,v=Y.useCallback(()=>{p||c(!1),s==null||s()},[p,s]),x=Y.useCallback(()=>{p||c(!0),a==null||a()},[p,a]),w=Y.useCallback(()=>{f?v():x()},[f,x,v]);function A(R={}){return{...R,"aria-expanded":f,"aria-controls":y,onClick(P){var L;(L=R.onClick)==null||L.call(R,P),w()}}}function M(R={}){return{...R,hidden:!f,id:y}}return{isOpen:f,onOpen:x,onClose:v,onToggle:w,isControlled:p,getButtonProps:A,getDisclosureProps:M}}const zS=globalThis!=null&&globalThis.document?Y.useLayoutEffect:Y.useEffect,uD=(n,e)=>{const t=Y.useRef(!1),i=Y.useRef(!1);Y.useEffect(()=>{if(t.current&&i.current)return n();i.current=!0},e),Y.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[])};function iG(n,e){if(n!=null){if(typeof n=="function"){n(e);return}try{n.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${n}'`)}}}function jg(...n){return e=>{n.forEach(t=>{iG(t,e)})}}function rG(...n){return Y.useMemo(()=>jg(...n),n)}function aG(n,e){const t=FS(n);Y.useEffect(()=>{if(e==null)return;let i=null;return i=window.setTimeout(()=>{t()},e),()=>{i&&window.clearTimeout(i)}},[e,t])}const Ia={open:(n,e)=>`${n}[data-open], ${n}[open], ${n}[data-state=open] ${e}`,closed:(n,e)=>`${n}[data-closed], ${n}[data-state=closed] ${e}`,hover:(n,e)=>`${n}:hover ${e}, ${n}[data-hover] ${e}`,focus:(n,e)=>`${n}:focus ${e}, ${n}[data-focus] ${e}`,focusVisible:(n,e)=>`${n}:focus-visible ${e}`,focusWithin:(n,e)=>`${n}:focus-within ${e}`,active:(n,e)=>`${n}:active ${e}, ${n}[data-active] ${e}`,disabled:(n,e)=>`${n}:disabled ${e}, ${n}[data-disabled] ${e}`,invalid:(n,e)=>`${n}:invalid ${e}, ${n}[data-invalid] ${e}`,checked:(n,e)=>`${n}:checked ${e}, ${n}[data-checked] ${e}`,placeholderShown:(n,e)=>`${n}:placeholder-shown ${e}`},Tu=n=>QN(e=>n(e,"&"),"[role=group]","[data-group]",".group"),Oh=n=>QN(e=>n(e,"~ &"),"[data-peer]",".peer"),QN=(n,...e)=>e.map(n).join(", "),Rg={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:Tu(Ia.open),_groupClosed:Tu(Ia.closed),_groupHover:Tu(Ia.hover),_peerHover:Oh(Ia.hover),_groupFocus:Tu(Ia.focus),_peerFocus:Oh(Ia.focus),_groupFocusVisible:Tu(Ia.focusVisible),_peerFocusVisible:Oh(Ia.focusVisible),_groupActive:Tu(Ia.active),_peerActive:Oh(Ia.active),_groupDisabled:Tu(Ia.disabled),_peerDisabled:Oh(Ia.disabled),_groupInvalid:Tu(Ia.invalid),_peerInvalid:Oh(Ia.invalid),_groupChecked:Tu(Ia.checked),_peerChecked:Oh(Ia.checked),_groupFocusWithin:Tu(Ia.focusWithin),_peerFocusWithin:Oh(Ia.focusWithin),_peerPlaceholderShown:Oh(Ia.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},$N=Object.keys(Rg),sG=n=>/!(important)?$/.test(n),hD=n=>typeof n=="string"?n.replace(/!(important)?$/,"").trim():n,oG=(n,e)=>t=>{const i=String(e),r=sG(i),a=hD(i),s=n?`${n}.${a}`:a;let l=jo(t.__cssMap)&&s in t.__cssMap?t.__cssMap[s].varRef:e;return l=hD(l),r?`${l} !important`:l};function o3(n){const{scale:e,transform:t,compose:i}=n;return(a,s)=>{const l=oG(e,a)(s);let c=(t==null?void 0:t(l,s))??l;return i&&(c=i(c,s)),c}}const jx=(...n)=>e=>n.reduce((t,i)=>i(t),e);function zl(n,e){return t=>{const i={property:t,scale:n};return i.transform=o3({scale:n,transform:e}),i}}const lG=({rtl:n,ltr:e})=>t=>t.direction==="rtl"?n:e;function cG(n){const{property:e,scale:t,transform:i}=n;return{scale:t,property:lG(e),transform:t?o3({scale:t,compose:i}):i}}const ZN=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function uG(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...ZN].join(" ")}function hG(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...ZN].join(" ")}const fG={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},dG={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function pG(n){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":n,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const mG={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},xw={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},gG=new Set(Object.values(xw)),Mw=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),yG=n=>n.trim();function _G(n,e){if(n==null||Mw.has(n))return n;if(!(Sw(n)||Mw.has(n)))return`url('${n}')`;const r=/(^[a-z-A-Z]+)\((.*)\)/g.exec(n),a=r==null?void 0:r[1],s=r==null?void 0:r[2];if(!a||!s)return n;const l=a.includes("-gradient")?a:`${a}-gradient`,[c,...f]=s.split(",").map(yG).filter(Boolean);if((f==null?void 0:f.length)===0)return n;const p=c in xw?xw[c]:c;f.unshift(p);const g=f.map(y=>{if(gG.has(y))return y;const v=y.indexOf(" "),[x,w]=v!==-1?[y.substr(0,v),y.substr(v+1)]:[y],A=Sw(w)?w:w&&w.split(" "),M=`colors.${x}`,R=M in e.__cssMap?e.__cssMap[M].varRef:x;return A?[R,...Array.isArray(A)?A:[A]].join(" "):R});return`${l}(${g.join(", ")})`}const Sw=n=>typeof n=="string"&&n.includes("(")&&n.includes(")"),vG=(n,e)=>_G(n,e??{});function bG(n){return/^var\(--.+\)$/.test(n)}const xG=n=>{const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}},Cu=n=>e=>`${n}(${e})`,Mi={filter(n){return n!=="auto"?n:fG},backdropFilter(n){return n!=="auto"?n:dG},ring(n){return pG(Mi.px(n))},bgClip(n){return n==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:n}},transform(n){return n==="auto"?uG():n==="auto-gpu"?hG():n},vh(n){return n==="$100vh"?"var(--chakra-vh)":n},px(n){if(n==null)return n;const{unitless:e}=xG(n);return e||typeof n=="number"?`${n}px`:n},fraction(n){return typeof n!="number"||n>1?n:`${n*100}%`},float(n,e){const t={left:"right",right:"left"};return e.direction==="rtl"?t[n]:n},degree(n){if(bG(n)||n==null)return n;const e=typeof n=="string"&&!n.endsWith("deg");return typeof n=="number"||e?`${n}deg`:n},gradient:vG,blur:Cu("blur"),opacity:Cu("opacity"),brightness:Cu("brightness"),contrast:Cu("contrast"),dropShadow:Cu("drop-shadow"),grayscale:Cu("grayscale"),hueRotate:n=>Cu("hue-rotate")(Mi.degree(n)),invert:Cu("invert"),saturate:Cu("saturate"),sepia:Cu("sepia"),bgImage(n){return n==null||Sw(n)||Mw.has(n)?n:`url(${n})`},outline(n){const e=String(n)==="0"||String(n)==="none";return n!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:n}},flexDirection(n){const{space:e,divide:t}=mG[n]??{},i={flexDirection:n};return e&&(i[e]=1),t&&(i[t]=1),i}},Be={borderWidths:zl("borderWidths"),borderStyles:zl("borderStyles"),colors:zl("colors"),borders:zl("borders"),gradients:zl("gradients",Mi.gradient),radii:zl("radii",Mi.px),space:zl("space",jx(Mi.vh,Mi.px)),spaceT:zl("space",jx(Mi.vh,Mi.px)),degreeT(n){return{property:n,transform:Mi.degree}},prop(n,e,t){return{property:n,scale:e,...e&&{transform:o3({scale:e,transform:t})}}},propT(n,e){return{property:n,transform:e}},sizes:zl("sizes",jx(Mi.vh,Mi.px)),sizesT:zl("sizes",jx(Mi.vh,Mi.fraction)),shadows:zl("shadows"),logical:cG,blur:zl("blur",Mi.blur)},oS={background:Be.colors("background"),backgroundColor:Be.colors("backgroundColor"),backgroundImage:Be.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Mi.bgClip},bgSize:Be.prop("backgroundSize"),bgPosition:Be.prop("backgroundPosition"),bg:Be.colors("background"),bgColor:Be.colors("backgroundColor"),bgPos:Be.prop("backgroundPosition"),bgRepeat:Be.prop("backgroundRepeat"),bgAttachment:Be.prop("backgroundAttachment"),bgGradient:Be.gradients("backgroundImage"),bgClip:{transform:Mi.bgClip}};Object.assign(oS,{bgImage:oS.backgroundImage,bgImg:oS.backgroundImage});const zi={border:Be.borders("border"),borderWidth:Be.borderWidths("borderWidth"),borderStyle:Be.borderStyles("borderStyle"),borderColor:Be.colors("borderColor"),borderRadius:Be.radii("borderRadius"),borderTop:Be.borders("borderTop"),borderBlockStart:Be.borders("borderBlockStart"),borderTopLeftRadius:Be.radii("borderTopLeftRadius"),borderStartStartRadius:Be.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Be.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Be.radii("borderTopRightRadius"),borderStartEndRadius:Be.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Be.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Be.borders("borderRight"),borderInlineEnd:Be.borders("borderInlineEnd"),borderBottom:Be.borders("borderBottom"),borderBlockEnd:Be.borders("borderBlockEnd"),borderBottomLeftRadius:Be.radii("borderBottomLeftRadius"),borderBottomRightRadius:Be.radii("borderBottomRightRadius"),borderLeft:Be.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Be.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Be.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Be.borders(["borderLeft","borderRight"]),borderInline:Be.borders("borderInline"),borderY:Be.borders(["borderTop","borderBottom"]),borderBlock:Be.borders("borderBlock"),borderTopWidth:Be.borderWidths("borderTopWidth"),borderBlockStartWidth:Be.borderWidths("borderBlockStartWidth"),borderTopColor:Be.colors("borderTopColor"),borderBlockStartColor:Be.colors("borderBlockStartColor"),borderTopStyle:Be.borderStyles("borderTopStyle"),borderBlockStartStyle:Be.borderStyles("borderBlockStartStyle"),borderBottomWidth:Be.borderWidths("borderBottomWidth"),borderBlockEndWidth:Be.borderWidths("borderBlockEndWidth"),borderBottomColor:Be.colors("borderBottomColor"),borderBlockEndColor:Be.colors("borderBlockEndColor"),borderBottomStyle:Be.borderStyles("borderBottomStyle"),borderBlockEndStyle:Be.borderStyles("borderBlockEndStyle"),borderLeftWidth:Be.borderWidths("borderLeftWidth"),borderInlineStartWidth:Be.borderWidths("borderInlineStartWidth"),borderLeftColor:Be.colors("borderLeftColor"),borderInlineStartColor:Be.colors("borderInlineStartColor"),borderLeftStyle:Be.borderStyles("borderLeftStyle"),borderInlineStartStyle:Be.borderStyles("borderInlineStartStyle"),borderRightWidth:Be.borderWidths("borderRightWidth"),borderInlineEndWidth:Be.borderWidths("borderInlineEndWidth"),borderRightColor:Be.colors("borderRightColor"),borderInlineEndColor:Be.colors("borderInlineEndColor"),borderRightStyle:Be.borderStyles("borderRightStyle"),borderInlineEndStyle:Be.borderStyles("borderInlineEndStyle"),borderTopRadius:Be.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Be.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Be.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Be.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(zi,{rounded:zi.borderRadius,roundedTop:zi.borderTopRadius,roundedTopLeft:zi.borderTopLeftRadius,roundedTopRight:zi.borderTopRightRadius,roundedTopStart:zi.borderStartStartRadius,roundedTopEnd:zi.borderStartEndRadius,roundedBottom:zi.borderBottomRadius,roundedBottomLeft:zi.borderBottomLeftRadius,roundedBottomRight:zi.borderBottomRightRadius,roundedBottomStart:zi.borderEndStartRadius,roundedBottomEnd:zi.borderEndEndRadius,roundedLeft:zi.borderLeftRadius,roundedRight:zi.borderRightRadius,roundedStart:zi.borderInlineStartRadius,roundedEnd:zi.borderInlineEndRadius,borderStart:zi.borderInlineStart,borderEnd:zi.borderInlineEnd,borderTopStartRadius:zi.borderStartStartRadius,borderTopEndRadius:zi.borderStartEndRadius,borderBottomStartRadius:zi.borderEndStartRadius,borderBottomEndRadius:zi.borderEndEndRadius,borderStartRadius:zi.borderInlineStartRadius,borderEndRadius:zi.borderInlineEndRadius,borderStartWidth:zi.borderInlineStartWidth,borderEndWidth:zi.borderInlineEndWidth,borderStartColor:zi.borderInlineStartColor,borderEndColor:zi.borderInlineEndColor,borderStartStyle:zi.borderInlineStartStyle,borderEndStyle:zi.borderInlineEndStyle});const MG={color:Be.colors("color"),textColor:Be.colors("color"),fill:Be.colors("fill"),stroke:Be.colors("stroke"),accentColor:Be.colors("accentColor"),textFillColor:Be.colors("textFillColor")},VS={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Mi.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Be.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Be.space("gap"),rowGap:Be.space("rowGap"),columnGap:Be.space("columnGap")};Object.assign(VS,{flexDir:VS.flexDirection});const kl={width:Be.sizesT("width"),inlineSize:Be.sizesT("inlineSize"),height:Be.sizes("height"),blockSize:Be.sizes("blockSize"),boxSize:Be.sizes(["width","height"]),minWidth:Be.sizes("minWidth"),minInlineSize:Be.sizes("minInlineSize"),minHeight:Be.sizes("minHeight"),minBlockSize:Be.sizes("minBlockSize"),maxWidth:Be.sizes("maxWidth"),maxInlineSize:Be.sizes("maxInlineSize"),maxHeight:Be.sizes("maxHeight"),maxBlockSize:Be.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(n,e)=>{var r,a;return{[`@media screen and (min-width: ${((a=(r=e.__breakpoints)==null?void 0:r.get(n))==null?void 0:a.minW)??n})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(n,e)=>{var r,a;return{[`@media screen and (max-width: ${((a=(r=e.__breakpoints)==null?void 0:r.get(n))==null?void 0:a._minW)??n})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Be.propT("float",Mi.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(kl,{w:kl.width,h:kl.height,minW:kl.minWidth,maxW:kl.maxWidth,minH:kl.minHeight,maxH:kl.maxHeight,overscroll:kl.overscrollBehavior,overscrollX:kl.overscrollBehaviorX,overscrollY:kl.overscrollBehaviorY});const SG={filter:{transform:Mi.filter},blur:Be.blur("--chakra-blur"),brightness:Be.propT("--chakra-brightness",Mi.brightness),contrast:Be.propT("--chakra-contrast",Mi.contrast),hueRotate:Be.propT("--chakra-hue-rotate",Mi.hueRotate),invert:Be.propT("--chakra-invert",Mi.invert),saturate:Be.propT("--chakra-saturate",Mi.saturate),dropShadow:Be.propT("--chakra-drop-shadow",Mi.dropShadow),backdropFilter:{transform:Mi.backdropFilter},backdropBlur:Be.blur("--chakra-backdrop-blur"),backdropBrightness:Be.propT("--chakra-backdrop-brightness",Mi.brightness),backdropContrast:Be.propT("--chakra-backdrop-contrast",Mi.contrast),backdropHueRotate:Be.propT("--chakra-backdrop-hue-rotate",Mi.hueRotate),backdropInvert:Be.propT("--chakra-backdrop-invert",Mi.invert),backdropSaturate:Be.propT("--chakra-backdrop-saturate",Mi.saturate)},AG={ring:{transform:Mi.ring},ringColor:Be.colors("--chakra-ring-color"),ringOffset:Be.prop("--chakra-ring-offset-width"),ringOffsetColor:Be.colors("--chakra-ring-offset-color"),ringInset:Be.prop("--chakra-ring-inset")},EG={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Mi.outline},outlineOffset:!0,outlineColor:Be.colors("outlineColor")},eL={gridGap:Be.space("gridGap"),gridColumnGap:Be.space("gridColumnGap"),gridRowGap:Be.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function TG(n,e,t,i){const r=typeof e=="string"?e.split("."):[e];for(i=0;i<r.length&&n;i+=1)n=n[r[i]];return n===void 0?t:n}const CG=n=>{const e=new WeakMap;return(i,r,a,s)=>{if(typeof i>"u")return n(i,r,a);e.has(i)||e.set(i,new Map);const l=e.get(i);if(l.has(r))return l.get(r);const c=n(i,r,a,s);return l.set(r,c),c}},wG=CG(TG),RG={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},IG={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},dT=(n,e,t)=>{const i={},r=wG(n,e,{});for(const a in r)a in t&&t[a]!=null||(i[a]=r[a]);return i},PG={srOnly:{transform(n){return n===!0?RG:n==="focusable"?IG:{}}},layerStyle:{processResult:!0,transform:(n,e,t)=>dT(e,`layerStyles.${n}`,t)},textStyle:{processResult:!0,transform:(n,e,t)=>dT(e,`textStyles.${n}`,t)},apply:{processResult:!0,transform:(n,e,t)=>dT(e,n,t)}},Ev={position:!0,pos:Be.prop("position"),zIndex:Be.prop("zIndex","zIndices"),inset:Be.spaceT("inset"),insetX:Be.spaceT(["left","right"]),insetInline:Be.spaceT("insetInline"),insetY:Be.spaceT(["top","bottom"]),insetBlock:Be.spaceT("insetBlock"),top:Be.spaceT("top"),insetBlockStart:Be.spaceT("insetBlockStart"),bottom:Be.spaceT("bottom"),insetBlockEnd:Be.spaceT("insetBlockEnd"),left:Be.spaceT("left"),insetInlineStart:Be.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Be.spaceT("right"),insetInlineEnd:Be.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Ev,{insetStart:Ev.insetInlineStart,insetEnd:Ev.insetInlineEnd});const Aw={boxShadow:Be.shadows("boxShadow"),mixBlendMode:!0,blendMode:Be.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Be.prop("backgroundBlendMode"),opacity:!0};Object.assign(Aw,{shadow:Aw.boxShadow});const vr={margin:Be.spaceT("margin"),marginTop:Be.spaceT("marginTop"),marginBlockStart:Be.spaceT("marginBlockStart"),marginRight:Be.spaceT("marginRight"),marginInlineEnd:Be.spaceT("marginInlineEnd"),marginBottom:Be.spaceT("marginBottom"),marginBlockEnd:Be.spaceT("marginBlockEnd"),marginLeft:Be.spaceT("marginLeft"),marginInlineStart:Be.spaceT("marginInlineStart"),marginX:Be.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Be.spaceT("marginInline"),marginY:Be.spaceT(["marginTop","marginBottom"]),marginBlock:Be.spaceT("marginBlock"),padding:Be.space("padding"),paddingTop:Be.space("paddingTop"),paddingBlockStart:Be.space("paddingBlockStart"),paddingRight:Be.space("paddingRight"),paddingBottom:Be.space("paddingBottom"),paddingBlockEnd:Be.space("paddingBlockEnd"),paddingLeft:Be.space("paddingLeft"),paddingInlineStart:Be.space("paddingInlineStart"),paddingInlineEnd:Be.space("paddingInlineEnd"),paddingX:Be.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Be.space("paddingInline"),paddingY:Be.space(["paddingTop","paddingBottom"]),paddingBlock:Be.space("paddingBlock")};Object.assign(vr,{m:vr.margin,mt:vr.marginTop,mr:vr.marginRight,me:vr.marginInlineEnd,marginEnd:vr.marginInlineEnd,mb:vr.marginBottom,ml:vr.marginLeft,ms:vr.marginInlineStart,marginStart:vr.marginInlineStart,mx:vr.marginX,my:vr.marginY,p:vr.padding,pt:vr.paddingTop,py:vr.paddingY,px:vr.paddingX,pb:vr.paddingBottom,pl:vr.paddingLeft,ps:vr.paddingInlineStart,paddingStart:vr.paddingInlineStart,pr:vr.paddingRight,pe:vr.paddingInlineEnd,paddingEnd:vr.paddingInlineEnd});const DG={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Be.spaceT("scrollMargin"),scrollMarginTop:Be.spaceT("scrollMarginTop"),scrollMarginBottom:Be.spaceT("scrollMarginBottom"),scrollMarginLeft:Be.spaceT("scrollMarginLeft"),scrollMarginRight:Be.spaceT("scrollMarginRight"),scrollMarginX:Be.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Be.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Be.spaceT("scrollPadding"),scrollPaddingTop:Be.spaceT("scrollPaddingTop"),scrollPaddingBottom:Be.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Be.spaceT("scrollPaddingLeft"),scrollPaddingRight:Be.spaceT("scrollPaddingRight"),scrollPaddingX:Be.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Be.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},BG={fontFamily:Be.prop("fontFamily","fonts"),fontSize:Be.prop("fontSize","fontSizes",Mi.px),fontWeight:Be.prop("fontWeight","fontWeights"),lineHeight:Be.prop("lineHeight","lineHeights"),letterSpacing:Be.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(n){if(n===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},OG={textDecorationColor:Be.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Be.shadows("textShadow")},NG={clipPath:!0,transform:Be.propT("transform",Mi.transform),transformOrigin:!0,translateX:Be.spaceT("--chakra-translate-x"),translateY:Be.spaceT("--chakra-translate-y"),skewX:Be.degreeT("--chakra-skew-x"),skewY:Be.degreeT("--chakra-skew-y"),scaleX:Be.prop("--chakra-scale-x"),scaleY:Be.prop("--chakra-scale-y"),scale:Be.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Be.degreeT("--chakra-rotate")},LG={listStyleType:!0,listStylePosition:!0,listStylePos:Be.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Be.prop("listStyleImage")},UG={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Be.prop("transitionDuration","transition.duration"),transitionProperty:Be.prop("transitionProperty","transition.property"),transitionTimingFunction:Be.prop("transitionTimingFunction","transition.easing")},l3=Yl({},oS,zi,MG,VS,kl,SG,AG,EG,eL,PG,Ev,Aw,vr,DG,BG,OG,NG,LG,UG);Object.assign({},vr,kl,VS,eL,Ev);const FG=[...Object.keys(l3),...$N],zG={...l3,...Rg},VG=n=>n in zG,jG=n=>e=>{if(!e.__breakpoints)return n;const{isResponsive:t,toArrayValue:i,media:r}=e.__breakpoints,a={};for(const s in n){let l=Wl(n[s],e);if(l==null)continue;if(l=jo(l)&&t(l)?i(l):l,!Array.isArray(l)){a[s]=l;continue}const c=l.slice(0,r.length).length;for(let f=0;f<c;f+=1){const p=r==null?void 0:r[f];if(!p){a[s]=l[f];continue}a[p]=a[p]||{},l[f]!=null&&(a[p][s]=l[f])}}return a};function kG(n){const e=[];let t="",i=!1;for(let r=0;r<n.length;r++){const a=n[r];a==="("?(i=!0,t+=a):a===")"?(i=!1,t+=a):a===","&&!i?(e.push(t),t=""):t+=a}return t=t.trim(),t&&e.push(t),e}function HG(n){return/^var\(--.+\)$/.test(n)}const GG=(n,e)=>n.startsWith("--")&&typeof e=="string"&&!HG(e),XG=(n,e)=>{if(e==null)return e;const t=s=>{var l,c;return(c=(l=n.__cssMap)==null?void 0:l[s])==null?void 0:c.varRef},i=s=>t(s)??s,[r,a]=kG(e);return e=t(r)??i(a)??i(e),e};function qG(n){const{configs:e={},pseudos:t={},theme:i}=n,r=(a,s=!1)=>{var p;const l=Wl(a,i),c=jG(l)(i);let f={};for(let g in c){const y=c[g];let v=Wl(y,i);g in t&&(g=t[g]),GG(g,v)&&(v=XG(i,v));let x=e[g];if(x===!0&&(x={property:g}),jo(v)){f[g]=f[g]??{},f[g]=Yl({},f[g],r(v,!0));continue}let w=((p=x==null?void 0:x.transform)==null?void 0:p.call(x,v,i,l))??v;w=x!=null&&x.processResult?r(w,!0):w;const A=Wl(x==null?void 0:x.property,i);if(!s&&(x!=null&&x.static)){const M=Wl(x.static,i);f=Yl({},f,M)}if(A&&Array.isArray(A)){for(const M of A)f[M]=w;continue}if(A){A==="&"&&jo(w)?f=Yl({},f,w):f[A]=w;continue}if(jo(w)){f=Yl({},f,w);continue}f[g]=w}return f};return r}const tL=n=>e=>qG({theme:e,pseudos:Rg,configs:l3})(n);function mr(n){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:n,...e}}}}function WG(n,e,t){var i,r;return((r=(i=n.__cssMap)==null?void 0:i[`${e}.${t}`])==null?void 0:r.varRef)??t}function YG(n,e){if(Array.isArray(n))return n;if(jo(n))return e(n);if(n!=null)return[n]}function KG(n,e){for(let t=e+1;t<n.length;t++)if(n[t]!=null)return t;return-1}function JG(n){const e=n.__breakpoints;return function(i,r,a,s){var y,v;if(!e)return;const l={},c=YG(a,e.toArrayValue);if(!c)return l;const f=c.length,p=f===1,g=!!i.parts;for(let x=0;x<f;x++){const w=e.details[x],A=e.details[KG(c,x)],M=cv(w.minW,A==null?void 0:A._minW),R=Wl((y=i[r])==null?void 0:y[c[x]],s);if(R){if(g){(v=i.parts)==null||v.forEach(P=>{Yl(l,{[P]:p?R[P]:{[M]:R[P]}})});continue}if(!g){p?Yl(l,R):l[M]=R;continue}l[M]=R}}return l}}function QG(n){return e=>{const{variant:t,size:i,theme:r}=e,a=JG(r);return Yl({},Wl(n.baseStyle??{},e),a(n,"sizes",i,e),a(n,"variants",t,e))}}function ah(n){return G1(n,["styleConfig","size","variant","colorScheme"])}function nL(n){return jo(n)&&n.reference?n.reference:String(n)}const dE=(n,...e)=>e.map(nL).join(` ${n} `).replace(/calc/g,""),fD=(...n)=>`calc(${dE("+",...n)})`,dD=(...n)=>`calc(${dE("-",...n)})`,Ew=(...n)=>`calc(${dE("*",...n)})`,pD=(...n)=>`calc(${dE("/",...n)})`,mD=n=>{const e=nL(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Ew(e,-1)},qh=Object.assign(n=>({add:(...e)=>qh(fD(n,...e)),subtract:(...e)=>qh(dD(n,...e)),multiply:(...e)=>qh(Ew(n,...e)),divide:(...e)=>qh(pD(n,...e)),negate:()=>qh(mD(n)),toString:()=>n.toString()}),{add:fD,subtract:dD,multiply:Ew,divide:pD,negate:mD});function $G(n,e="-"){return n.replace(/\s+/g,e)}function ZG(n){const e=$G(n.toString());return tX(eX(e))}function eX(n){return n.includes("\\.")?n:!Number.isInteger(parseFloat(n.toString()))?n.replace(".","\\."):n}function tX(n){return n.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function nX(n,e=""){return[e,n].filter(Boolean).join("-")}function iX(n,e){return`var(${n}${e?`, ${e}`:""})`}function rX(n,e=""){return ZG(`--${nX(n,e)}`)}function xn(n,e,t){const i=rX(n,t);return{variable:i,reference:iX(i,e)}}function aX(n,e){const t={};for(const i of e){if(Array.isArray(i)){const[r,a]=i;t[r]=xn(`${n}-${r}`,a);continue}t[i]=xn(`${n}-${i}`)}return t}const sX=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function oX(n){return KN(n,sX)}function lX(n){return n.semanticTokens}function cX(n){const{__cssMap:e,__cssVars:t,__breakpoints:i,...r}=n;return r}function uX(n){const e=oX(n),t=lX(n),i=a=>$N.includes(a)||a==="default",r={};return lD(e,(a,s)=>{a!=null&&(r[s.join(".")]={isSemantic:!1,value:a})}),lD(t,(a,s)=>{a!=null&&(r[s.join(".")]={isSemantic:!0,value:a})},{stop:a=>Object.keys(a).every(i)}),r}function gD(n,e){return xn(String(n).replace(/\./g,"-"),void 0,e)}function hX(n){var s;const e=uX(n),t=(s=n.config)==null?void 0:s.cssVarPrefix;let i={};const r={};function a(l,c){const p=[String(l).split(".")[0],c].join(".");if(!e[p])return c;const{reference:y}=gD(p,t);return y}for(const[l,c]of Object.entries(e)){const{isSemantic:f,value:p}=c,{variable:g,reference:y}=gD(l,t);if(!f){if(l.startsWith("space")){const x=l.split("."),[w,...A]=x,M=`${w}.-${A.join(".")}`,R=qh.negate(p),P=qh.negate(y);r[M]={value:R,var:g,varRef:P}}i[g]=p,r[l]={value:p,var:g,varRef:y};continue}const v=jo(p)?p:{default:p};i=Yl(i,Object.entries(v).reduce((x,[w,A])=>{if(!A)return x;const M=a(l,`${A}`);if(w==="default")return x[g]=M,x;const R=(Rg==null?void 0:Rg[w])??w;return x[R]={[g]:M},x},{})),r[l]={value:y,var:g,varRef:y}}return{cssVars:i,cssMap:r}}function fX(n){const e=cX(n),{cssMap:t,cssVars:i}=hX(e);return Object.assign(e,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...i},__cssMap:t,__breakpoints:XH(e.breakpoints)}),e}function Gi(n,e={}){let t=!1;function i(){if(!t){t=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function r(...p){i();for(const g of p)e[g]=c(g);return Gi(n,e)}function a(...p){for(const g of p)g in e||(e[g]=c(g));return Gi(n,e)}function s(){return Object.fromEntries(Object.entries(e).map(([g,y])=>[g,y.selector]))}function l(){return Object.fromEntries(Object.entries(e).map(([g,y])=>[g,y.className]))}function c(p){const v=`chakra-${(["container","root"].includes(p??"")?[n]:[n,p]).filter(Boolean).join("__")}`;return{className:v,selector:`.${v}`,toString:()=>p}}return{parts:r,toPart:c,extend:a,selectors:s,classnames:l,get keys(){return Object.keys(e)},__type:{}}}const dX=Gi("accordion").parts("root","container","button","panel","icon"),pX=Gi("alert").parts("title","description","container","icon","spinner"),mX=Gi("avatar").parts("label","badge","container","excessLabel","group"),gX=Gi("breadcrumb").parts("link","item","container","separator");Gi("button").parts();const yX=Gi("checkbox").parts("control","icon","container","label");Gi("progress").parts("track","filledTrack","label");const _X=Gi("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),vX=Gi("editable").parts("preview","input","textarea"),bX=Gi("form").parts("container","requiredIndicator","helperText"),xX=Gi("formError").parts("text","icon"),MX=Gi("input").parts("addon","field","element","group"),SX=Gi("list").parts("container","item","icon"),AX=Gi("menu").parts("button","list","item","groupTitle","icon","command","divider"),EX=Gi("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),TX=Gi("numberinput").parts("root","field","stepperGroup","stepper");Gi("pininput").parts("field");const CX=Gi("popover").parts("content","header","body","footer","popper","arrow","closeButton"),wX=Gi("progress").parts("label","filledTrack","track"),RX=Gi("radio").parts("container","control","label"),IX=Gi("select").parts("field","icon"),PX=Gi("slider").parts("container","track","thumb","filledTrack","mark"),DX=Gi("stat").parts("container","label","helpText","number","icon"),BX=Gi("switch").parts("container","track","thumb","label"),OX=Gi("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),NX=Gi("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),LX=Gi("tag").parts("container","label","closeButton"),UX=Gi("card").parts("container","header","body","footer");Gi("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:FX,defineMultiStyleConfig:zX}=mr(dX.keys),VX={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},jX={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},kX={pt:"2",px:"4",pb:"5"},HX={fontSize:"1.25em"},GX=FX({container:VX,button:jX,panel:kX,icon:HX}),XX=zX({baseStyle:GX});function nm(n,e,t){return Math.min(Math.max(n,t),e)}class qX extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var hv=qX;function c3(n){if(typeof n!="string")throw new hv(n);if(n.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=n.trim();e=eq.test(n)?KX(n):n;const t=JX.exec(e);if(t){const s=Array.from(t).slice(1);return[...s.slice(0,3).map(l=>parseInt(t1(l,2),16)),parseInt(t1(s[3]||"f",2),16)/255]}const i=QX.exec(e);if(i){const s=Array.from(i).slice(1);return[...s.slice(0,3).map(l=>parseInt(l,16)),parseInt(s[3]||"ff",16)/255]}const r=$X.exec(e);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(l=>parseInt(l,10)),parseFloat(s[3]||"1")]}const a=ZX.exec(e);if(a){const[s,l,c,f]=Array.from(a).slice(1).map(parseFloat);if(nm(0,100,l)!==l)throw new hv(n);if(nm(0,100,c)!==c)throw new hv(n);return[...tq(s,l,c),Number.isNaN(f)?1:f]}throw new hv(n)}function WX(n){let e=5381,t=n.length;for(;t;)e=e*33^n.charCodeAt(--t);return(e>>>0)%2341}const yD=n=>parseInt(n.replace(/_/g,""),36),YX="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((n,e)=>{const t=yD(e.substring(0,3)),i=yD(e.substring(3)).toString(16);let r="";for(let a=0;a<6-i.length;a++)r+="0";return n[t]=`${r}${i}`,n},{});function KX(n){const e=n.toLowerCase().trim(),t=YX[WX(e)];if(!t)throw new hv(n);return`#${t}`}const t1=(n,e)=>Array.from(Array(e)).map(()=>n).join(""),JX=new RegExp(`^#${t1("([a-f0-9])",3)}([a-f0-9])?$`,"i"),QX=new RegExp(`^#${t1("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),$X=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${t1(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),ZX=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,eq=/^[a-z]+$/i,_D=n=>Math.round(n*255),tq=(n,e,t)=>{let i=t/100;if(e===0)return[i,i,i].map(_D);const r=(n%360+360)%360/60,a=(1-Math.abs(2*i-1))*(e/100),s=a*(1-Math.abs(r%2-1));let l=0,c=0,f=0;r>=0&&r<1?(l=a,c=s):r>=1&&r<2?(l=s,c=a):r>=2&&r<3?(c=a,f=s):r>=3&&r<4?(c=s,f=a):r>=4&&r<5?(l=s,f=a):r>=5&&r<6&&(l=a,f=s);const p=i-a/2,g=l+p,y=c+p,v=f+p;return[g,y,v].map(_D)};function nq(n,e,t,i){return`rgba(${nm(0,255,n).toFixed()}, ${nm(0,255,e).toFixed()}, ${nm(0,255,t).toFixed()}, ${parseFloat(nm(0,1,i).toFixed(3))})`}function iq(n,e){const[t,i,r,a]=c3(n);return nq(t,i,r,a-e)}function rq(n){const[e,t,i,r]=c3(n);let a=s=>{const l=nm(0,255,s).toString(16);return l.length===1?`0${l}`:l};return`#${a(e)}${a(t)}${a(i)}${r<1?a(Math.round(r*255)):""}`}const aq=n=>Object.keys(n).length===0;function sq(n,e,t,i,r){for(e=e.split?e.split("."):e,i=0;i<e.length;i++)n=n?n[e[i]]:r;return n===r?t:n}const uo=(n,e,t)=>{const i=sq(n,`colors.${e}`,e);try{return rq(i),i}catch{return t??"#000000"}},oq=n=>{const[e,t,i]=c3(n);return(e*299+t*587+i*114)/1e3},lq=n=>e=>{const t=uo(e,n);return oq(t)<128?"dark":"light"},cq=n=>e=>lq(n)(e)==="dark",kg=(n,e)=>t=>{const i=uo(t,n);return iq(i,1-e)};function vD(n="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${n} ${n}`}}const uq=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function hq(n){const e=uq();return!n||aq(n)?e:n.string&&n.colors?dq(n.string,n.colors):n.string&&!n.colors?fq(n.string):n.colors&&!n.string?pq(n.colors):e}function fq(n){let e=0;if(n.length===0)return e.toString();for(let i=0;i<n.length;i+=1)e=n.charCodeAt(i)+((e<<5)-e),e=e&e;let t="#";for(let i=0;i<3;i+=1){const r=e>>i*8&255;t+=`00${r.toString(16)}`.substr(-2)}return t}function dq(n,e){let t=0;if(n.length===0)return e[0];for(let i=0;i<n.length;i+=1)t=n.charCodeAt(i)+((t<<5)-t),t=t&t;return t=(t%e.length+e.length)%e.length,e[t]}function pq(n){return n[Math.floor(Math.random()*n.length)]}function _n(n,e){return t=>t.colorMode==="dark"?e:n}function u3(n){const{orientation:e,vertical:t,horizontal:i}=n;return e?e==="vertical"?t:i:{}}function iL(n){return jo(n)&&n.reference?n.reference:String(n)}const pE=(n,...e)=>e.map(iL).join(` ${n} `).replace(/calc/g,""),bD=(...n)=>`calc(${pE("+",...n)})`,xD=(...n)=>`calc(${pE("-",...n)})`,Tw=(...n)=>`calc(${pE("*",...n)})`,MD=(...n)=>`calc(${pE("/",...n)})`,SD=n=>{const e=iL(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Tw(e,-1)},Wh=Object.assign(n=>({add:(...e)=>Wh(bD(n,...e)),subtract:(...e)=>Wh(xD(n,...e)),multiply:(...e)=>Wh(Tw(n,...e)),divide:(...e)=>Wh(MD(n,...e)),negate:()=>Wh(SD(n)),toString:()=>n.toString()}),{add:bD,subtract:xD,multiply:Tw,divide:MD,negate:SD});function mq(n){return!Number.isInteger(parseFloat(n.toString()))}function gq(n,e="-"){return n.replace(/\s+/g,e)}function rL(n){const e=gq(n.toString());return e.includes("\\.")?n:mq(n)?e.replace(".","\\."):n}function yq(n,e=""){return[e,rL(n)].filter(Boolean).join("-")}function _q(n,e){return`var(${rL(n)}${e?`, ${e}`:""})`}function vq(n,e=""){return`--${yq(n,e)}`}function Fa(n,e){const t=vq(n,e==null?void 0:e.prefix);return{variable:t,reference:_q(t,bq(e==null?void 0:e.fallback))}}function bq(n){return n==null?void 0:n.reference}const{definePartsStyle:X1,defineMultiStyleConfig:xq}=mr(pX.keys),hl=xn("alert-fg"),of=xn("alert-bg"),Mq=X1({container:{bg:of.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:hl.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:hl.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function h3(n){const{theme:e,colorScheme:t}=n,i=kg(`${t}.200`,.16)(e);return{light:`colors.${t}.100`,dark:i}}const Sq=X1(n=>{const{colorScheme:e}=n,t=h3(n);return{container:{[hl.variable]:`colors.${e}.600`,[of.variable]:t.light,_dark:{[hl.variable]:`colors.${e}.200`,[of.variable]:t.dark}}}}),Aq=X1(n=>{const{colorScheme:e}=n,t=h3(n);return{container:{[hl.variable]:`colors.${e}.600`,[of.variable]:t.light,_dark:{[hl.variable]:`colors.${e}.200`,[of.variable]:t.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:hl.reference}}}),Eq=X1(n=>{const{colorScheme:e}=n,t=h3(n);return{container:{[hl.variable]:`colors.${e}.600`,[of.variable]:t.light,_dark:{[hl.variable]:`colors.${e}.200`,[of.variable]:t.dark},pt:"2",borderTopWidth:"4px",borderTopColor:hl.reference}}}),Tq=X1(n=>{const{colorScheme:e}=n;return{container:{[hl.variable]:"colors.white",[of.variable]:`colors.${e}.600`,_dark:{[hl.variable]:"colors.gray.900",[of.variable]:`colors.${e}.200`},color:hl.reference}}}),Cq={subtle:Sq,"left-accent":Aq,"top-accent":Eq,solid:Tq},wq=xq({baseStyle:Mq,variants:Cq,defaultProps:{variant:"subtle",colorScheme:"blue"}}),aL={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Rq={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},Iq={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sL={...aL,...Rq,container:Iq},Pq=n=>typeof n=="function";function fo(n,...e){return Pq(n)?n(...e):n}const{definePartsStyle:oL,defineMultiStyleConfig:Dq}=mr(mX.keys),Ig=xn("avatar-border-color"),Tv=xn("avatar-bg"),n1=xn("avatar-font-size"),Hg=xn("avatar-size"),Bq={borderRadius:"full",border:"0.2em solid",borderColor:Ig.reference,[Ig.variable]:"white",_dark:{[Ig.variable]:"colors.gray.800"}},Oq={bg:Tv.reference,fontSize:n1.reference,width:Hg.reference,height:Hg.reference,lineHeight:"1",[Tv.variable]:"colors.gray.200",_dark:{[Tv.variable]:"colors.whiteAlpha.400"}},Nq=n=>{const{name:e,theme:t}=n,i=e?hq({string:e}):"colors.gray.400",r=cq(i)(t);let a="white";return r||(a="gray.800"),{bg:Tv.reference,fontSize:n1.reference,color:a,borderColor:Ig.reference,verticalAlign:"top",width:Hg.reference,height:Hg.reference,"&:not([data-loaded])":{[Tv.variable]:i},[Ig.variable]:"colors.white",_dark:{[Ig.variable]:"colors.gray.800"}}},Lq={fontSize:n1.reference,lineHeight:"1"},Uq=oL(n=>({badge:fo(Bq,n),excessLabel:fo(Oq,n),container:fo(Nq,n),label:Lq}));function rd(n){const e=n!=="100%"?sL[n]:void 0;return oL({container:{[Hg.variable]:e??n,[n1.variable]:`calc(${e??n} / 2.5)`},excessLabel:{[Hg.variable]:e??n,[n1.variable]:`calc(${e??n} / 2.5)`}})}const Fq={"2xs":rd(4),xs:rd(6),sm:rd(8),md:rd(12),lg:rd(16),xl:rd(24),"2xl":rd(32),full:rd("100%")},zq=Dq({baseStyle:Uq,sizes:Fq,defaultProps:{size:"md"}}),oa=aX("badge",["bg","color","shadow"]),Vq={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:oa.bg.reference,color:oa.color.reference,boxShadow:oa.shadow.reference},jq=n=>{const{colorScheme:e,theme:t}=n,i=kg(`${e}.500`,.6)(t);return{[oa.bg.variable]:`colors.${e}.500`,[oa.color.variable]:"colors.white",_dark:{[oa.bg.variable]:i,[oa.color.variable]:"colors.whiteAlpha.800"}}},kq=n=>{const{colorScheme:e,theme:t}=n,i=kg(`${e}.200`,.16)(t);return{[oa.bg.variable]:`colors.${e}.100`,[oa.color.variable]:`colors.${e}.800`,_dark:{[oa.bg.variable]:i,[oa.color.variable]:`colors.${e}.200`}}},Hq=n=>{const{colorScheme:e,theme:t}=n,i=kg(`${e}.200`,.8)(t);return{[oa.color.variable]:`colors.${e}.500`,_dark:{[oa.color.variable]:i},[oa.shadow.variable]:`inset 0 0 0px 1px ${oa.color.reference}`}},Gq={solid:jq,subtle:kq,outline:Hq},Cv={baseStyle:Vq,variants:Gq,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Xq,definePartsStyle:qq}=mr(gX.keys),pT=xn("breadcrumb-link-decor"),Wq={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:pT.reference,[pT.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[pT.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},Yq=qq({link:Wq}),Kq=Xq({baseStyle:Yq}),Jq={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},lL=n=>{const{colorScheme:e,theme:t}=n;if(e==="gray")return{color:_n("gray.800","whiteAlpha.900")(n),_hover:{bg:_n("gray.100","whiteAlpha.200")(n)},_active:{bg:_n("gray.200","whiteAlpha.300")(n)}};const i=kg(`${e}.200`,.12)(t),r=kg(`${e}.200`,.24)(t);return{color:_n(`${e}.600`,`${e}.200`)(n),bg:"transparent",_hover:{bg:_n(`${e}.50`,i)(n)},_active:{bg:_n(`${e}.100`,r)(n)}}},Qq=n=>{const{colorScheme:e}=n,t=_n("gray.200","whiteAlpha.300")(n);return{border:"1px solid",borderColor:e==="gray"?t:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...fo(lL,n)}},$q={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Zq=n=>{const{colorScheme:e}=n;if(e==="gray"){const l=_n("gray.100","whiteAlpha.200")(n);return{bg:l,color:_n("gray.800","whiteAlpha.900")(n),_hover:{bg:_n("gray.200","whiteAlpha.300")(n),_disabled:{bg:l}},_active:{bg:_n("gray.300","whiteAlpha.400")(n)}}}const{bg:t=`${e}.500`,color:i="white",hoverBg:r=`${e}.600`,activeBg:a=`${e}.700`}=$q[e]??{},s=_n(t,`${e}.200`)(n);return{bg:s,color:_n(i,"gray.800")(n),_hover:{bg:_n(r,`${e}.300`)(n),_disabled:{bg:s}},_active:{bg:_n(a,`${e}.400`)(n)}}},eW=n=>{const{colorScheme:e}=n;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:_n(`${e}.500`,`${e}.200`)(n),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:_n(`${e}.700`,`${e}.500`)(n)}}},tW={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},nW={ghost:lL,outline:Qq,solid:Zq,link:eW,unstyled:tW},iW={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},rW={baseStyle:Jq,variants:nW,sizes:iW,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:pm,defineMultiStyleConfig:aW}=mr(UX.keys),jS=xn("card-bg"),tf=xn("card-padding"),cL=xn("card-shadow"),lS=xn("card-radius"),uL=xn("card-border-width","0"),hL=xn("card-border-color"),sW=pm({container:{[jS.variable]:"colors.chakra-body-bg",backgroundColor:jS.reference,boxShadow:cL.reference,borderRadius:lS.reference,color:"chakra-body-text",borderWidth:uL.reference,borderColor:hL.reference},body:{padding:tf.reference,flex:"1 1 0%"},header:{padding:tf.reference},footer:{padding:tf.reference}}),oW={sm:pm({container:{[lS.variable]:"radii.base",[tf.variable]:"space.3"}}),md:pm({container:{[lS.variable]:"radii.md",[tf.variable]:"space.5"}}),lg:pm({container:{[lS.variable]:"radii.xl",[tf.variable]:"space.7"}})},lW={elevated:pm({container:{[cL.variable]:"shadows.base",_dark:{[jS.variable]:"colors.gray.700"}}}),outline:pm({container:{[uL.variable]:"1px",[hL.variable]:"colors.chakra-border-color"}}),filled:pm({container:{[jS.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[tf.variable]:0},header:{[tf.variable]:0},footer:{[tf.variable]:0}}},cW=aW({baseStyle:sW,variants:lW,sizes:oW,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:cS,defineMultiStyleConfig:uW}=mr(yX.keys),wv=xn("checkbox-size"),hW=n=>{const{colorScheme:e}=n;return{w:wv.reference,h:wv.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:_n(`${e}.500`,`${e}.200`)(n),borderColor:_n(`${e}.500`,`${e}.200`)(n),color:_n("white","gray.900")(n),_hover:{bg:_n(`${e}.600`,`${e}.300`)(n),borderColor:_n(`${e}.600`,`${e}.300`)(n)},_disabled:{borderColor:_n("gray.200","transparent")(n),bg:_n("gray.200","whiteAlpha.300")(n),color:_n("gray.500","whiteAlpha.500")(n)}},_indeterminate:{bg:_n(`${e}.500`,`${e}.200`)(n),borderColor:_n(`${e}.500`,`${e}.200`)(n),color:_n("white","gray.900")(n)},_disabled:{bg:_n("gray.100","whiteAlpha.100")(n),borderColor:_n("gray.100","transparent")(n)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:_n("red.500","red.300")(n)}}},fW={_disabled:{cursor:"not-allowed"}},dW={userSelect:"none",_disabled:{opacity:.4}},pW={transitionProperty:"transform",transitionDuration:"normal"},mW=cS(n=>({icon:pW,container:fW,control:fo(hW,n),label:dW})),gW={sm:cS({control:{[wv.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:cS({control:{[wv.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:cS({control:{[wv.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},gd=uW({baseStyle:mW,sizes:gW,defaultProps:{size:"md",colorScheme:"blue"}}),Rv=Fa("close-button-size"),F_=Fa("close-button-bg"),yW={w:[Rv.reference],h:[Rv.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[F_.variable]:"colors.blackAlpha.100",_dark:{[F_.variable]:"colors.whiteAlpha.100"}},_active:{[F_.variable]:"colors.blackAlpha.200",_dark:{[F_.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:F_.reference},_W={lg:{[Rv.variable]:"sizes.10",fontSize:"md"},md:{[Rv.variable]:"sizes.8",fontSize:"xs"},sm:{[Rv.variable]:"sizes.6",fontSize:"2xs"}},vW={baseStyle:yW,sizes:_W,defaultProps:{size:"md"}},{variants:bW,defaultProps:xW}=Cv,MW={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:oa.bg.reference,color:oa.color.reference,boxShadow:oa.shadow.reference},SW={baseStyle:MW,variants:bW,defaultProps:xW},AW={w:"100%",mx:"auto",maxW:"prose",px:"4"},EW={baseStyle:AW},TW={opacity:.6,borderColor:"inherit"},CW={borderStyle:"solid"},wW={borderStyle:"dashed"},RW={solid:CW,dashed:wW},IW={baseStyle:TW,variants:RW,defaultProps:{variant:"solid"}},{definePartsStyle:Cw,defineMultiStyleConfig:PW}=mr(_X.keys),mT=xn("drawer-bg"),gT=xn("drawer-box-shadow");function V0(n){return Cw(n==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:n}})}const DW={bg:"blackAlpha.600",zIndex:"modal"},BW={display:"flex",zIndex:"modal",justifyContent:"center"},OW=n=>{const{isFullHeight:e}=n;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[mT.variable]:"colors.white",[gT.variable]:"shadows.lg",_dark:{[mT.variable]:"colors.gray.700",[gT.variable]:"shadows.dark-lg"},bg:mT.reference,boxShadow:gT.reference}},NW={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},LW={position:"absolute",top:"2",insetEnd:"3"},UW={px:"6",py:"2",flex:"1",overflow:"auto"},FW={px:"6",py:"4"},zW=Cw(n=>({overlay:DW,dialogContainer:BW,dialog:fo(OW,n),header:NW,closeButton:LW,body:UW,footer:FW})),VW={xs:V0("xs"),sm:V0("md"),md:V0("lg"),lg:V0("2xl"),xl:V0("4xl"),full:V0("full")},jW=PW({baseStyle:zW,sizes:VW,defaultProps:{size:"xs"}}),{definePartsStyle:kW,defineMultiStyleConfig:HW}=mr(vX.keys),GW={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},XW={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},qW={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},WW=kW({preview:GW,input:XW,textarea:qW}),YW=HW({baseStyle:WW}),{definePartsStyle:KW,defineMultiStyleConfig:JW}=mr(bX.keys),Pg=xn("form-control-color"),QW={marginStart:"1",[Pg.variable]:"colors.red.500",_dark:{[Pg.variable]:"colors.red.300"},color:Pg.reference},$W={mt:"2",[Pg.variable]:"colors.gray.600",_dark:{[Pg.variable]:"colors.whiteAlpha.600"},color:Pg.reference,lineHeight:"normal",fontSize:"sm"},ZW=KW({container:{width:"100%",position:"relative"},requiredIndicator:QW,helperText:$W}),eY=JW({baseStyle:ZW}),{definePartsStyle:tY,defineMultiStyleConfig:nY}=mr(xX.keys),Dg=xn("form-error-color"),iY={[Dg.variable]:"colors.red.500",_dark:{[Dg.variable]:"colors.red.300"},color:Dg.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},rY={marginEnd:"0.5em",[Dg.variable]:"colors.red.500",_dark:{[Dg.variable]:"colors.red.300"},color:Dg.reference},aY=tY({text:iY,icon:rY}),sY=nY({baseStyle:aY}),oY={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},lY={baseStyle:oY},cY={fontFamily:"heading",fontWeight:"bold"},uY={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},hY={baseStyle:cY,sizes:uY,defaultProps:{size:"xl"}},{definePartsStyle:Qh,defineMultiStyleConfig:fY}=mr(MX.keys),pg=xn("input-height"),mg=xn("input-font-size"),gg=xn("input-padding"),yg=xn("input-border-radius"),dY=Qh({addon:{height:pg.reference,fontSize:mg.reference,px:gg.reference,borderRadius:yg.reference},field:{width:"100%",height:pg.reference,fontSize:mg.reference,px:gg.reference,borderRadius:yg.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),ad={lg:{[mg.variable]:"fontSizes.lg",[gg.variable]:"space.4",[yg.variable]:"radii.md",[pg.variable]:"sizes.12"},md:{[mg.variable]:"fontSizes.md",[gg.variable]:"space.4",[yg.variable]:"radii.md",[pg.variable]:"sizes.10"},sm:{[mg.variable]:"fontSizes.sm",[gg.variable]:"space.3",[yg.variable]:"radii.sm",[pg.variable]:"sizes.8"},xs:{[mg.variable]:"fontSizes.xs",[gg.variable]:"space.2",[yg.variable]:"radii.sm",[pg.variable]:"sizes.6"}},pY={lg:Qh({field:ad.lg,group:ad.lg}),md:Qh({field:ad.md,group:ad.md}),sm:Qh({field:ad.sm,group:ad.sm}),xs:Qh({field:ad.xs,group:ad.xs})};function f3(n){const{focusBorderColor:e,errorBorderColor:t}=n;return{focusBorderColor:e||_n("blue.500","blue.300")(n),errorBorderColor:t||_n("red.500","red.300")(n)}}const mY=Qh(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:i}=f3(n);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:_n("gray.300","whiteAlpha.400")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:uo(e,i),boxShadow:`0 0 0 1px ${uo(e,i)}`},_focusVisible:{zIndex:1,borderColor:uo(e,t),boxShadow:`0 0 0 1px ${uo(e,t)}`}},addon:{border:"1px solid",borderColor:_n("inherit","whiteAlpha.50")(n),bg:_n("gray.100","whiteAlpha.300")(n)}}}),gY=Qh(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:i}=f3(n);return{field:{border:"2px solid",borderColor:"transparent",bg:_n("gray.100","whiteAlpha.50")(n),_hover:{bg:_n("gray.200","whiteAlpha.100")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:uo(e,i)},_focusVisible:{bg:"transparent",borderColor:uo(e,t)}},addon:{border:"2px solid",borderColor:"transparent",bg:_n("gray.100","whiteAlpha.50")(n)}}}),yY=Qh(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:i}=f3(n);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:uo(e,i),boxShadow:`0px 1px 0px 0px ${uo(e,i)}`},_focusVisible:{borderColor:uo(e,t),boxShadow:`0px 1px 0px 0px ${uo(e,t)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),_Y=Qh({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),vY={outline:mY,filled:gY,flushed:yY,unstyled:_Y},ki=fY({baseStyle:dY,sizes:pY,variants:vY,defaultProps:{size:"md",variant:"outline"}}),yT=xn("kbd-bg"),bY={[yT.variable]:"colors.gray.100",_dark:{[yT.variable]:"colors.whiteAlpha.100"},bg:yT.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},xY={baseStyle:bY},MY={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},SY={baseStyle:MY},{defineMultiStyleConfig:AY,definePartsStyle:EY}=mr(SX.keys),TY={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},CY=EY({icon:TY}),wY=AY({baseStyle:CY}),{defineMultiStyleConfig:RY,definePartsStyle:IY}=mr(AX.keys),Ru=xn("menu-bg"),_T=xn("menu-shadow"),PY={[Ru.variable]:"#fff",[_T.variable]:"shadows.sm",_dark:{[Ru.variable]:"colors.gray.700",[_T.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:Ru.reference,boxShadow:_T.reference},DY={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ru.variable]:"colors.gray.100",_dark:{[Ru.variable]:"colors.whiteAlpha.100"}},_active:{[Ru.variable]:"colors.gray.200",_dark:{[Ru.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ru.variable]:"colors.gray.100",_dark:{[Ru.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ru.reference},BY={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},OY={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},NY={opacity:.6},LY={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},UY={transitionProperty:"common",transitionDuration:"normal"},FY=IY({button:UY,list:PY,item:DY,groupTitle:BY,icon:OY,command:NY,divider:LY}),zY=RY({baseStyle:FY}),{defineMultiStyleConfig:VY,definePartsStyle:ww}=mr(EX.keys),vT=xn("modal-bg"),bT=xn("modal-shadow"),jY={bg:"blackAlpha.600",zIndex:"modal"},kY=n=>{const{isCentered:e,scrollBehavior:t}=n;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:t==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},HY=n=>{const{isCentered:e,scrollBehavior:t}=n;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:t==="inside"?"calc(100% - 7.5rem)":void 0,[vT.variable]:"colors.white",[bT.variable]:"shadows.lg",_dark:{[vT.variable]:"colors.gray.700",[bT.variable]:"shadows.dark-lg"},bg:vT.reference,boxShadow:bT.reference}},GY={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},XY={position:"absolute",top:"2",insetEnd:"3"},qY=n=>{const{scrollBehavior:e}=n;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},WY={px:"6",py:"4"},YY=ww(n=>({overlay:jY,dialogContainer:fo(kY,n),dialog:fo(HY,n),header:GY,closeButton:XY,body:fo(qY,n),footer:WY}));function Ic(n){return ww(n==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:n}})}const KY={xs:Ic("xs"),sm:Ic("sm"),md:Ic("md"),lg:Ic("lg"),xl:Ic("xl"),"2xl":Ic("2xl"),"3xl":Ic("3xl"),"4xl":Ic("4xl"),"5xl":Ic("5xl"),"6xl":Ic("6xl"),full:Ic("full")},JY=VY({baseStyle:YY,sizes:KY,defaultProps:{size:"md"}}),fL={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:QY,definePartsStyle:dL}=mr(TX.keys),d3=Fa("number-input-stepper-width"),pL=Fa("number-input-input-padding"),$Y=Wh(d3).add("0.5rem").toString(),xT=Fa("number-input-bg"),MT=Fa("number-input-color"),ST=Fa("number-input-border-color"),ZY={[d3.variable]:"sizes.6",[pL.variable]:$Y},eK=n=>{var e;return((e=fo(ki.baseStyle,n))==null?void 0:e.field)??{}},tK={width:d3.reference},nK={borderStart:"1px solid",borderStartColor:ST.reference,color:MT.reference,bg:xT.reference,[MT.variable]:"colors.chakra-body-text",[ST.variable]:"colors.chakra-border-color",_dark:{[MT.variable]:"colors.whiteAlpha.800",[ST.variable]:"colors.whiteAlpha.300"},_active:{[xT.variable]:"colors.gray.200",_dark:{[xT.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},iK=dL(n=>({root:ZY,field:fo(eK,n)??{},stepperGroup:tK,stepper:nK}));function kx(n){var a,s;const e=(a=ki.sizes)==null?void 0:a[n],t={lg:"md",md:"md",sm:"sm",xs:"sm"},i=((s=e.field)==null?void 0:s.fontSize)??"md",r=fL.fontSizes[i];return dL({field:{...e.field,paddingInlineEnd:pL.reference,verticalAlign:"top"},stepper:{fontSize:Wh(r).multiply(.75).toString(),_first:{borderTopEndRadius:t[n]},_last:{borderBottomEndRadius:t[n],mt:"-1px",borderTopWidth:1}}})}const rK={xs:kx("xs"),sm:kx("sm"),md:kx("md"),lg:kx("lg")},aK=QY({baseStyle:iK,sizes:rK,variants:ki.variants,defaultProps:ki.defaultProps});var lN;const sK={...(lN=ki.baseStyle)==null?void 0:lN.field,textAlign:"center"},oK={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var cN;const lK={outline:n=>{var e,t;return((t=fo((e=ki.variants)==null?void 0:e.outline,n))==null?void 0:t.field)??{}},flushed:n=>{var e,t;return((t=fo((e=ki.variants)==null?void 0:e.flushed,n))==null?void 0:t.field)??{}},filled:n=>{var e,t;return((t=fo((e=ki.variants)==null?void 0:e.filled,n))==null?void 0:t.field)??{}},unstyled:((cN=ki.variants)==null?void 0:cN.unstyled.field)??{}},cK={baseStyle:sK,sizes:oK,variants:lK,defaultProps:ki.defaultProps},{defineMultiStyleConfig:uK,definePartsStyle:hK}=mr(CX.keys),Hx=Fa("popper-bg"),fK=Fa("popper-arrow-bg"),AD=Fa("popper-arrow-shadow-color"),dK={zIndex:"popover"},pK={[Hx.variable]:"colors.white",bg:Hx.reference,[fK.variable]:Hx.reference,[AD.variable]:"colors.gray.200",_dark:{[Hx.variable]:"colors.gray.700",[AD.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},mK={px:3,py:2,borderBottomWidth:"1px"},gK={px:3,py:2},yK={px:3,py:2,borderTopWidth:"1px"},_K={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},vK=hK({popper:dK,content:pK,header:mK,body:gK,footer:yK,closeButton:_K}),bK=uK({baseStyle:vK}),{defineMultiStyleConfig:xK,definePartsStyle:fv}=mr(wX.keys),MK=n=>{const{colorScheme:e,theme:t,isIndeterminate:i,hasStripe:r}=n,a=_n(vD(),vD("1rem","rgba(0,0,0,0.1)"))(n),s=_n(`${e}.500`,`${e}.200`)(n),l=`linear-gradient(
    to right,
    transparent 0%,
    ${uo(t,s)} 50%,
    transparent 100%
  )`;return{...!i&&r&&a,...i?{bgImage:l}:{bgColor:s}}},SK={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},AK=n=>({bg:_n("gray.100","whiteAlpha.300")(n)}),EK=n=>({transitionProperty:"common",transitionDuration:"slow",...MK(n)}),TK=fv(n=>({label:SK,filledTrack:EK(n),track:AK(n)})),CK={xs:fv({track:{h:"1"}}),sm:fv({track:{h:"2"}}),md:fv({track:{h:"3"}}),lg:fv({track:{h:"4"}})},wK=xK({sizes:CK,baseStyle:TK,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:RK,definePartsStyle:uS}=mr(RX.keys),IK=n=>{var t;const e=(t=fo(gd.baseStyle,n))==null?void 0:t.control;return{...e,borderRadius:"full",_checked:{...e==null?void 0:e._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},PK=uS(n=>{var e,t;return{label:(e=gd.baseStyle)==null?void 0:e.call(gd,n).label,container:(t=gd.baseStyle)==null?void 0:t.call(gd,n).container,control:IK(n)}}),DK={md:uS({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:uS({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:uS({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},BK=RK({baseStyle:PK,sizes:DK,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:OK,definePartsStyle:NK}=mr(IX.keys),Gx=xn("select-bg");var uN;const LK={...(uN=ki.baseStyle)==null?void 0:uN.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Gx.reference,[Gx.variable]:"colors.white",_dark:{[Gx.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Gx.reference}},UK={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},FK=NK({field:LK,icon:UK}),Xx={paddingInlineEnd:"8"};var hN,fN,dN,pN,mN,gN,yN,_N;const zK={lg:{...(hN=ki.sizes)==null?void 0:hN.lg,field:{...(fN=ki.sizes)==null?void 0:fN.lg.field,...Xx}},md:{...(dN=ki.sizes)==null?void 0:dN.md,field:{...(pN=ki.sizes)==null?void 0:pN.md.field,...Xx}},sm:{...(mN=ki.sizes)==null?void 0:mN.sm,field:{...(gN=ki.sizes)==null?void 0:gN.sm.field,...Xx}},xs:{...(yN=ki.sizes)==null?void 0:yN.xs,field:{...(_N=ki.sizes)==null?void 0:_N.xs.field,...Xx},icon:{insetEnd:"1"}}},VK=OK({baseStyle:FK,sizes:zK,variants:ki.variants,defaultProps:ki.defaultProps}),AT=xn("skeleton-start-color"),ET=xn("skeleton-end-color"),jK={[AT.variable]:"colors.gray.100",[ET.variable]:"colors.gray.400",_dark:{[AT.variable]:"colors.gray.800",[ET.variable]:"colors.gray.600"},background:AT.reference,borderColor:ET.reference,opacity:.7,borderRadius:"sm"},kK={baseStyle:jK},TT=xn("skip-link-bg"),HK={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[TT.variable]:"colors.white",_dark:{[TT.variable]:"colors.gray.700"},bg:TT.reference}},GK={baseStyle:HK},{defineMultiStyleConfig:XK,definePartsStyle:mE}=mr(PX.keys),Sm=xn("slider-thumb-size"),i1=xn("slider-track-size"),yd=xn("slider-bg"),qK=n=>{const{orientation:e}=n;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...u3({orientation:e,vertical:{h:"100%",px:qh(Sm.reference).divide(2).toString()},horizontal:{w:"100%",py:qh(Sm.reference).divide(2).toString()}})}},WK=n=>({...u3({orientation:n.orientation,horizontal:{h:i1.reference},vertical:{w:i1.reference}}),overflow:"hidden",borderRadius:"sm",[yd.variable]:"colors.gray.200",_dark:{[yd.variable]:"colors.whiteAlpha.200"},_disabled:{[yd.variable]:"colors.gray.300",_dark:{[yd.variable]:"colors.whiteAlpha.300"}},bg:yd.reference}),YK=n=>{const{orientation:e}=n;return{...u3({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Sm.reference,h:Sm.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},KK=n=>{const{colorScheme:e}=n;return{width:"inherit",height:"inherit",[yd.variable]:`colors.${e}.500`,_dark:{[yd.variable]:`colors.${e}.200`},bg:yd.reference}},JK=mE(n=>({container:qK(n),track:WK(n),thumb:YK(n),filledTrack:KK(n)})),QK=mE({container:{[Sm.variable]:"sizes.4",[i1.variable]:"sizes.1"}}),$K=mE({container:{[Sm.variable]:"sizes.3.5",[i1.variable]:"sizes.1"}}),ZK=mE({container:{[Sm.variable]:"sizes.2.5",[i1.variable]:"sizes.0.5"}}),eJ={lg:QK,md:$K,sm:ZK},tJ=XK({baseStyle:JK,sizes:eJ,defaultProps:{size:"md",colorScheme:"blue"}}),em=Fa("spinner-size"),nJ={width:[em.reference],height:[em.reference]},iJ={xs:{[em.variable]:"sizes.3"},sm:{[em.variable]:"sizes.4"},md:{[em.variable]:"sizes.6"},lg:{[em.variable]:"sizes.8"},xl:{[em.variable]:"sizes.12"}},rJ={baseStyle:nJ,sizes:iJ,defaultProps:{size:"md"}},{defineMultiStyleConfig:aJ,definePartsStyle:mL}=mr(DX.keys),sJ={fontWeight:"medium"},oJ={opacity:.8,marginBottom:"2"},lJ={verticalAlign:"baseline",fontWeight:"semibold"},cJ={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},uJ=mL({container:{},label:sJ,helpText:oJ,number:lJ,icon:cJ}),hJ={md:mL({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},fJ=aJ({baseStyle:uJ,sizes:hJ,defaultProps:{size:"md"}}),{defineMultiStyleConfig:dJ,definePartsStyle:dv}=mr(["stepper","step","title","description","indicator","separator","icon","number"]),Yh=xn("stepper-indicator-size"),_g=xn("stepper-icon-size"),vg=xn("stepper-title-font-size"),pv=xn("stepper-description-font-size"),z_=xn("stepper-accent-color"),pJ=dv(({colorScheme:n})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[z_.variable]:`colors.${n}.500`,_dark:{[z_.variable]:`colors.${n}.200`}},title:{fontSize:vg.reference,fontWeight:"medium"},description:{fontSize:pv.reference,color:"chakra-subtle-text"},number:{fontSize:vg.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:_g.reference,height:_g.reference},indicator:{flexShrink:0,borderRadius:"full",width:Yh.reference,height:Yh.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:z_.reference},"&[data-status=complete]":{bg:z_.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:z_.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Yh.reference} - 8px)`,top:`calc(${Yh.reference} + 4px)`,insetStart:`calc(${Yh.reference} / 2 - 1px)`}}})),mJ=dJ({baseStyle:pJ,sizes:{xs:dv({stepper:{[Yh.variable]:"sizes.4",[_g.variable]:"sizes.3",[vg.variable]:"fontSizes.xs",[pv.variable]:"fontSizes.xs"}}),sm:dv({stepper:{[Yh.variable]:"sizes.6",[_g.variable]:"sizes.4",[vg.variable]:"fontSizes.sm",[pv.variable]:"fontSizes.xs"}}),md:dv({stepper:{[Yh.variable]:"sizes.8",[_g.variable]:"sizes.5",[vg.variable]:"fontSizes.md",[pv.variable]:"fontSizes.sm"}}),lg:dv({stepper:{[Yh.variable]:"sizes.10",[_g.variable]:"sizes.6",[vg.variable]:"fontSizes.lg",[pv.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:gJ,definePartsStyle:hS}=mr(BX.keys),Iv=Fa("switch-track-width"),mm=Fa("switch-track-height"),CT=Fa("switch-track-diff"),yJ=Wh.subtract(Iv,mm),Rw=Fa("switch-thumb-x"),V_=Fa("switch-bg"),_J=n=>{const{colorScheme:e}=n;return{borderRadius:"full",p:"0.5",width:[Iv.reference],height:[mm.reference],transitionProperty:"common",transitionDuration:"fast",[V_.variable]:"colors.gray.300",_dark:{[V_.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[V_.variable]:`colors.${e}.500`,_dark:{[V_.variable]:`colors.${e}.200`}},bg:V_.reference}},vJ={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[mm.reference],height:[mm.reference],_checked:{transform:`translateX(${Rw.reference})`}},bJ=hS(n=>({container:{[CT.variable]:yJ,[Rw.variable]:CT.reference,_rtl:{[Rw.variable]:Wh(CT).negate().toString()}},track:_J(n),thumb:vJ})),xJ={sm:hS({container:{[Iv.variable]:"1.375rem",[mm.variable]:"sizes.3"}}),md:hS({container:{[Iv.variable]:"1.875rem",[mm.variable]:"sizes.4"}}),lg:hS({container:{[Iv.variable]:"2.875rem",[mm.variable]:"sizes.6"}})},MJ=gJ({baseStyle:bJ,sizes:xJ,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:SJ,definePartsStyle:Bg}=mr(OX.keys),AJ=Bg({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),kS={"&[data-is-numeric=true]":{textAlign:"end"}},EJ=Bg(n=>{const{colorScheme:e}=n;return{th:{color:_n("gray.600","gray.400")(n),borderBottom:"1px",borderColor:_n(`${e}.100`,`${e}.700`)(n),...kS},td:{borderBottom:"1px",borderColor:_n(`${e}.100`,`${e}.700`)(n),...kS},caption:{color:_n("gray.600","gray.100")(n)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),TJ=Bg(n=>{const{colorScheme:e}=n;return{th:{color:_n("gray.600","gray.400")(n),borderBottom:"1px",borderColor:_n(`${e}.100`,`${e}.700`)(n),...kS},td:{borderBottom:"1px",borderColor:_n(`${e}.100`,`${e}.700`)(n),...kS},caption:{color:_n("gray.600","gray.100")(n)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:_n(`${e}.100`,`${e}.700`)(n)},td:{background:_n(`${e}.100`,`${e}.700`)(n)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),CJ={simple:EJ,striped:TJ,unstyled:{}},wJ={sm:Bg({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Bg({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Bg({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},RJ=SJ({baseStyle:AJ,variants:CJ,sizes:wJ,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Fo=xn("tabs-color"),Fc=xn("tabs-bg"),qx=xn("tabs-border-color"),{defineMultiStyleConfig:IJ,definePartsStyle:Uu}=mr(NX.keys),PJ=n=>{const{orientation:e}=n;return{display:e==="vertical"?"flex":"block"}},DJ=n=>{const{isFitted:e}=n;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},BJ=n=>{const{align:e="start",orientation:t}=n;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:t==="vertical"?"column":"row"}},OJ={p:4},NJ=Uu(n=>({root:PJ(n),tab:DJ(n),tablist:BJ(n),tabpanel:OJ})),LJ={sm:Uu({tab:{py:1,px:4,fontSize:"sm"}}),md:Uu({tab:{fontSize:"md",py:2,px:4}}),lg:Uu({tab:{fontSize:"lg",py:3,px:4}})},UJ=Uu(n=>{const{colorScheme:e,orientation:t}=n,i=t==="vertical",r=i?"borderStart":"borderBottom",a=i?"marginStart":"marginBottom";return{tablist:{[r]:"2px solid",borderColor:"inherit"},tab:{[r]:"2px solid",borderColor:"transparent",[a]:"-2px",_selected:{[Fo.variable]:`colors.${e}.600`,_dark:{[Fo.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[Fc.variable]:"colors.gray.200",_dark:{[Fc.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Fo.reference,bg:Fc.reference}}}),FJ=Uu(n=>{const{colorScheme:e}=n;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[qx.variable]:"transparent",_selected:{[Fo.variable]:`colors.${e}.600`,[qx.variable]:"colors.white",_dark:{[Fo.variable]:`colors.${e}.300`,[qx.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:qx.reference},color:Fo.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),zJ=Uu(n=>{const{colorScheme:e}=n;return{tab:{border:"1px solid",borderColor:"inherit",[Fc.variable]:"colors.gray.50",_dark:{[Fc.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Fc.variable]:"colors.white",[Fo.variable]:`colors.${e}.600`,_dark:{[Fc.variable]:"colors.gray.800",[Fo.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Fo.reference,bg:Fc.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),VJ=Uu(n=>{const{colorScheme:e,theme:t}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:uo(t,`${e}.700`),bg:uo(t,`${e}.100`)}}}}),jJ=Uu(n=>{const{colorScheme:e}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",[Fo.variable]:"colors.gray.600",_dark:{[Fo.variable]:"inherit"},_selected:{[Fo.variable]:"colors.white",[Fc.variable]:`colors.${e}.600`,_dark:{[Fo.variable]:"colors.gray.800",[Fc.variable]:`colors.${e}.300`}},color:Fo.reference,bg:Fc.reference}}}),kJ=Uu({}),HJ={line:UJ,enclosed:FJ,"enclosed-colored":zJ,"soft-rounded":VJ,"solid-rounded":jJ,unstyled:kJ},GJ=IJ({baseStyle:NJ,sizes:LJ,variants:HJ,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:XJ,definePartsStyle:gm}=mr(LX.keys),ED=xn("tag-bg"),TD=xn("tag-color"),wT=xn("tag-shadow"),fS=xn("tag-min-height"),dS=xn("tag-min-width"),pS=xn("tag-font-size"),mS=xn("tag-padding-inline"),qJ={fontWeight:"medium",lineHeight:1.2,outline:0,[TD.variable]:oa.color.reference,[ED.variable]:oa.bg.reference,[wT.variable]:oa.shadow.reference,color:TD.reference,bg:ED.reference,boxShadow:wT.reference,borderRadius:"md",minH:fS.reference,minW:dS.reference,fontSize:pS.reference,px:mS.reference,_focusVisible:{[wT.variable]:"shadows.outline"}},WJ={lineHeight:1.2,overflow:"visible"},YJ={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},KJ=gm({container:qJ,label:WJ,closeButton:YJ}),JJ={sm:gm({container:{[fS.variable]:"sizes.5",[dS.variable]:"sizes.5",[pS.variable]:"fontSizes.xs",[mS.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:gm({container:{[fS.variable]:"sizes.6",[dS.variable]:"sizes.6",[pS.variable]:"fontSizes.sm",[mS.variable]:"space.2"}}),lg:gm({container:{[fS.variable]:"sizes.8",[dS.variable]:"sizes.8",[pS.variable]:"fontSizes.md",[mS.variable]:"space.3"}})},QJ={subtle:gm(n=>{var e;return{container:(e=Cv.variants)==null?void 0:e.subtle(n)}}),solid:gm(n=>{var e;return{container:(e=Cv.variants)==null?void 0:e.solid(n)}}),outline:gm(n=>{var e;return{container:(e=Cv.variants)==null?void 0:e.outline(n)}})},$J=XJ({variants:QJ,baseStyle:KJ,sizes:JJ,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var vN;const ZJ={...(vN=ki.baseStyle)==null?void 0:vN.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var bN;const eQ={outline:n=>{var e;return((e=ki.variants)==null?void 0:e.outline(n).field)??{}},flushed:n=>{var e;return((e=ki.variants)==null?void 0:e.flushed(n).field)??{}},filled:n=>{var e;return((e=ki.variants)==null?void 0:e.filled(n).field)??{}},unstyled:((bN=ki.variants)==null?void 0:bN.unstyled.field)??{}};var xN,MN,SN,AN;const tQ={xs:((xN=ki.sizes)==null?void 0:xN.xs.field)??{},sm:((MN=ki.sizes)==null?void 0:MN.sm.field)??{},md:((SN=ki.sizes)==null?void 0:SN.md.field)??{},lg:((AN=ki.sizes)==null?void 0:AN.lg.field)??{}},nQ={baseStyle:ZJ,sizes:tQ,variants:eQ,defaultProps:{size:"md",variant:"outline"}},Wx=Fa("tooltip-bg"),RT=Fa("tooltip-fg"),iQ=Fa("popper-arrow-bg"),rQ={bg:Wx.reference,color:RT.reference,[Wx.variable]:"colors.gray.700",[RT.variable]:"colors.whiteAlpha.900",_dark:{[Wx.variable]:"colors.gray.300",[RT.variable]:"colors.gray.900"},[iQ.variable]:Wx.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},aQ={baseStyle:rQ},sQ={Accordion:XX,Alert:wq,Avatar:zq,Badge:Cv,Breadcrumb:Kq,Button:rW,Checkbox:gd,CloseButton:vW,Code:SW,Container:EW,Divider:IW,Drawer:jW,Editable:YW,Form:eY,FormError:sY,FormLabel:lY,Heading:hY,Input:ki,Kbd:xY,Link:SY,List:wY,Menu:zY,Modal:JY,NumberInput:aK,PinInput:cK,Popover:bK,Progress:wK,Radio:BK,Select:VK,Skeleton:kK,SkipLink:GK,Slider:tJ,Spinner:rJ,Stat:fJ,Switch:MJ,Table:RJ,Tabs:GJ,Tag:$J,Textarea:nQ,Tooltip:aQ,Card:cW,Stepper:mJ},oQ={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},lQ={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},cQ={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},uQ={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},hQ={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},fQ={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},dQ={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},pQ={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},mQ={property:fQ,easing:dQ,duration:pQ},gQ={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},yQ={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},_Q={breakpoints:lQ,zIndices:gQ,radii:uQ,blur:yQ,colors:cQ,...fL,sizes:sL,shadows:hQ,space:aL,borders:oQ,transition:mQ},vQ={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},bQ={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},xQ=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function MQ(n){return jo(n)?xQ.every(e=>Object.prototype.hasOwnProperty.call(n,e)):!1}const SQ="ltr",AQ={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},gL={semanticTokens:vQ,direction:SQ,..._Q,components:sQ,styles:bQ,config:AQ};function EQ(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function TQ(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CQ=function(){function n(t){var i=this;this._insertTag=function(r){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,a),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(TQ(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var a=EQ(r);try{a.insertRule(i,a.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Os="-ms-",HS="-moz-",Vi="-webkit-",yL="comm",p3="rule",m3="decl",wQ="@import",_L="@keyframes",RQ="@layer",IQ=Math.abs,gE=String.fromCharCode,PQ=Object.assign;function DQ(n,e){return fs(n,0)^45?(((e<<2^fs(n,0))<<2^fs(n,1))<<2^fs(n,2))<<2^fs(n,3):0}function vL(n){return n.trim()}function BQ(n,e){return(n=e.exec(n))?n[0]:n}function ji(n,e,t){return n.replace(e,t)}function Iw(n,e){return n.indexOf(e)}function fs(n,e){return n.charCodeAt(e)|0}function r1(n,e,t){return n.slice(e,t)}function Du(n){return n.length}function g3(n){return n.length}function Yx(n,e){return e.push(n),n}function OQ(n,e){return n.map(e).join("")}var yE=1,Gg=1,bL=0,Go=0,Ma=0,My="";function _E(n,e,t,i,r,a,s){return{value:n,root:e,parent:t,type:i,props:r,children:a,line:yE,column:Gg,length:s,return:""}}function j_(n,e){return PQ(_E("",null,null,"",null,null,0),n,{length:-n.length},e)}function NQ(){return Ma}function LQ(){return Ma=Go>0?fs(My,--Go):0,Gg--,Ma===10&&(Gg=1,yE--),Ma}function fl(){return Ma=Go<bL?fs(My,Go++):0,Gg++,Ma===10&&(Gg=1,yE++),Ma}function Fu(){return fs(My,Go)}function gS(){return Go}function q1(n,e){return r1(My,n,e)}function a1(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xL(n){return yE=Gg=1,bL=Du(My=n),Go=0,[]}function ML(n){return My="",n}function yS(n){return vL(q1(Go-1,Pw(n===91?n+2:n===40?n+1:n)))}function UQ(n){for(;(Ma=Fu())&&Ma<33;)fl();return a1(n)>2||a1(Ma)>3?"":" "}function FQ(n,e){for(;--e&&fl()&&!(Ma<48||Ma>102||Ma>57&&Ma<65||Ma>70&&Ma<97););return q1(n,gS()+(e<6&&Fu()==32&&fl()==32))}function Pw(n){for(;fl();)switch(Ma){case n:return Go;case 34:case 39:n!==34&&n!==39&&Pw(Ma);break;case 40:n===41&&Pw(n);break;case 92:fl();break}return Go}function zQ(n,e){for(;fl()&&n+Ma!==57;)if(n+Ma===84&&Fu()===47)break;return"/*"+q1(e,Go-1)+"*"+gE(n===47?n:fl())}function VQ(n){for(;!a1(Fu());)fl();return q1(n,Go)}function jQ(n){return ML(_S("",null,null,null,[""],n=xL(n),0,[0],n))}function _S(n,e,t,i,r,a,s,l,c){for(var f=0,p=0,g=s,y=0,v=0,x=0,w=1,A=1,M=1,R=0,P="",L=r,F=a,j=i,U=P;A;)switch(x=R,R=fl()){case 40:if(x!=108&&fs(U,g-1)==58){Iw(U+=ji(yS(R),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:U+=yS(R);break;case 9:case 10:case 13:case 32:U+=UQ(x);break;case 92:U+=FQ(gS()-1,7);continue;case 47:switch(Fu()){case 42:case 47:Yx(kQ(zQ(fl(),gS()),e,t),c);break;default:U+="/"}break;case 123*w:l[f++]=Du(U)*M;case 125*w:case 59:case 0:switch(R){case 0:case 125:A=0;case 59+p:M==-1&&(U=ji(U,/\f/g,"")),v>0&&Du(U)-g&&Yx(v>32?wD(U+";",i,t,g-1):wD(ji(U," ","")+";",i,t,g-2),c);break;case 59:U+=";";default:if(Yx(j=CD(U,e,t,f,p,r,l,P,L=[],F=[],g),a),R===123)if(p===0)_S(U,e,j,j,L,a,g,l,F);else switch(y===99&&fs(U,3)===110?100:y){case 100:case 108:case 109:case 115:_S(n,j,j,i&&Yx(CD(n,j,j,0,0,r,l,P,r,L=[],g),F),r,F,g,l,i?L:F);break;default:_S(U,j,j,j,[""],F,0,l,F)}}f=p=v=0,w=M=1,P=U="",g=s;break;case 58:g=1+Du(U),v=x;default:if(w<1){if(R==123)--w;else if(R==125&&w++==0&&LQ()==125)continue}switch(U+=gE(R),R*w){case 38:M=p>0?1:(U+="\f",-1);break;case 44:l[f++]=(Du(U)-1)*M,M=1;break;case 64:Fu()===45&&(U+=yS(fl())),y=Fu(),p=g=Du(P=U+=VQ(gS())),R++;break;case 45:x===45&&Du(U)==2&&(w=0)}}return a}function CD(n,e,t,i,r,a,s,l,c,f,p){for(var g=r-1,y=r===0?a:[""],v=g3(y),x=0,w=0,A=0;x<i;++x)for(var M=0,R=r1(n,g+1,g=IQ(w=s[x])),P=n;M<v;++M)(P=vL(w>0?y[M]+" "+R:ji(R,/&\f/g,y[M])))&&(c[A++]=P);return _E(n,e,t,r===0?p3:l,c,f,p)}function kQ(n,e,t){return _E(n,e,t,yL,gE(NQ()),r1(n,2,-2),0)}function wD(n,e,t,i){return _E(n,e,t,m3,r1(n,0,i),r1(n,i+1,-1),i)}function Og(n,e){for(var t="",i=g3(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function HQ(n,e,t,i){switch(n.type){case RQ:if(n.children.length)break;case wQ:case m3:return n.return=n.return||n.value;case yL:return"";case _L:return n.return=n.value+"{"+Og(n.children,i)+"}";case p3:n.value=n.props.join(",")}return Du(t=Og(n.children,i))?n.return=n.value+"{"+t+"}":""}function GQ(n){var e=g3(n);return function(t,i,r,a){for(var s="",l=0;l<e;l++)s+=n[l](t,i,r,a)||"";return s}}function XQ(n){return function(e){e.root||(e=e.return)&&n(e)}}var RD=function(e){var t=new WeakMap;return function(i){if(t.has(i))return t.get(i);var r=e(i);return t.set(i,r),r}};function SL(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var qQ=function(e,t,i){for(var r=0,a=0;r=a,a=Fu(),r===38&&a===12&&(t[i]=1),!a1(a);)fl();return q1(e,Go)},WQ=function(e,t){var i=-1,r=44;do switch(a1(r)){case 0:r===38&&Fu()===12&&(t[i]=1),e[i]+=qQ(Go-1,t,i);break;case 2:e[i]+=yS(r);break;case 4:if(r===44){e[++i]=Fu()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=gE(r)}while(r=fl());return e},YQ=function(e,t){return ML(WQ(xL(e),t))},ID=new WeakMap,KQ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!ID.get(i))&&!r){ID.set(e,!0);for(var a=[],s=YQ(t,a),l=i.props,c=0,f=0;c<s.length;c++)for(var p=0;p<l.length;p++,f++)e.props[f]=a[c]?s[c].replace(/&\f/g,l[p]):l[p]+" "+s[c]}}},JQ=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function AL(n,e){switch(DQ(n,e)){case 5103:return Vi+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vi+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Vi+n+HS+n+Os+n+n;case 6828:case 4268:return Vi+n+Os+n+n;case 6165:return Vi+n+Os+"flex-"+n+n;case 5187:return Vi+n+ji(n,/(\w+).+(:[^]+)/,Vi+"box-$1$2"+Os+"flex-$1$2")+n;case 5443:return Vi+n+Os+"flex-item-"+ji(n,/flex-|-self/,"")+n;case 4675:return Vi+n+Os+"flex-line-pack"+ji(n,/align-content|flex-|-self/,"")+n;case 5548:return Vi+n+Os+ji(n,"shrink","negative")+n;case 5292:return Vi+n+Os+ji(n,"basis","preferred-size")+n;case 6060:return Vi+"box-"+ji(n,"-grow","")+Vi+n+Os+ji(n,"grow","positive")+n;case 4554:return Vi+ji(n,/([^-])(transform)/g,"$1"+Vi+"$2")+n;case 6187:return ji(ji(ji(n,/(zoom-|grab)/,Vi+"$1"),/(image-set)/,Vi+"$1"),n,"")+n;case 5495:case 3959:return ji(n,/(image-set\([^]*)/,Vi+"$1$`$1");case 4968:return ji(ji(n,/(.+:)(flex-)?(.*)/,Vi+"box-pack:$3"+Os+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vi+n+n;case 4095:case 3583:case 4068:case 2532:return ji(n,/(.+)-inline(.+)/,Vi+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Du(n)-1-e>6)switch(fs(n,e+1)){case 109:if(fs(n,e+4)!==45)break;case 102:return ji(n,/(.+:)(.+)-([^]+)/,"$1"+Vi+"$2-$3$1"+HS+(fs(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Iw(n,"stretch")?AL(ji(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(fs(n,e+1)!==115)break;case 6444:switch(fs(n,Du(n)-3-(~Iw(n,"!important")&&10))){case 107:return ji(n,":",":"+Vi)+n;case 101:return ji(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Vi+(fs(n,14)===45?"inline-":"")+"box$3$1"+Vi+"$2$3$1"+Os+"$2box$3")+n}break;case 5936:switch(fs(n,e+11)){case 114:return Vi+n+Os+ji(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Vi+n+Os+ji(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Vi+n+Os+ji(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Vi+n+Os+n+n}return n}var QQ=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case m3:e.return=AL(e.value,e.length);break;case _L:return Og([j_(e,{value:ji(e.value,"@","@"+Vi)})],r);case p3:if(e.length)return OQ(e.props,function(a){switch(BQ(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Og([j_(e,{props:[ji(a,/:(read-\w+)/,":"+HS+"$1")]})],r);case"::placeholder":return Og([j_(e,{props:[ji(a,/:(plac\w+)/,":"+Vi+"input-$1")]}),j_(e,{props:[ji(a,/:(plac\w+)/,":"+HS+"$1")]}),j_(e,{props:[ji(a,/:(plac\w+)/,Os+"input-$1")]})],r)}return""})}},$Q=[QQ],ZQ=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(w){var A=w.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var r=e.stylisPlugins||$Q,a={},s,l=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(w){for(var A=w.getAttribute("data-emotion").split(" "),M=1;M<A.length;M++)a[A[M]]=!0;l.push(w)});var c,f=[KQ,JQ];{var p,g=[HQ,XQ(function(w){p.insert(w)})],y=GQ(f.concat(r,g)),v=function(A){return Og(jQ(A),y)};c=function(A,M,R,P){p=R,v(A?A+"{"+M.styles+"}":M.styles),P&&(x.inserted[M.name]=!0)}}var x={key:t,sheet:new CQ({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return x.sheet.hydrate(l),x};function Am(){return Am=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Am.apply(null,arguments)}var IT={exports:{}},qi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD;function e$(){if(PD)return qi;PD=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,x=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,A=n?Symbol.for("react.fundamental"):60117,M=n?Symbol.for("react.responder"):60118,R=n?Symbol.for("react.scope"):60119;function P(F){if(typeof F=="object"&&F!==null){var j=F.$$typeof;switch(j){case e:switch(F=F.type,F){case c:case f:case i:case a:case r:case g:return F;default:switch(F=F&&F.$$typeof,F){case l:case p:case x:case v:case s:return F;default:return j}}case t:return j}}}function L(F){return P(F)===f}return qi.AsyncMode=c,qi.ConcurrentMode=f,qi.ContextConsumer=l,qi.ContextProvider=s,qi.Element=e,qi.ForwardRef=p,qi.Fragment=i,qi.Lazy=x,qi.Memo=v,qi.Portal=t,qi.Profiler=a,qi.StrictMode=r,qi.Suspense=g,qi.isAsyncMode=function(F){return L(F)||P(F)===c},qi.isConcurrentMode=L,qi.isContextConsumer=function(F){return P(F)===l},qi.isContextProvider=function(F){return P(F)===s},qi.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===e},qi.isForwardRef=function(F){return P(F)===p},qi.isFragment=function(F){return P(F)===i},qi.isLazy=function(F){return P(F)===x},qi.isMemo=function(F){return P(F)===v},qi.isPortal=function(F){return P(F)===t},qi.isProfiler=function(F){return P(F)===a},qi.isStrictMode=function(F){return P(F)===r},qi.isSuspense=function(F){return P(F)===g},qi.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===i||F===f||F===a||F===r||F===g||F===y||typeof F=="object"&&F!==null&&(F.$$typeof===x||F.$$typeof===v||F.$$typeof===s||F.$$typeof===l||F.$$typeof===p||F.$$typeof===A||F.$$typeof===M||F.$$typeof===R||F.$$typeof===w)},qi.typeOf=P,qi}var DD;function t$(){return DD||(DD=1,IT.exports=e$()),IT.exports}var PT,BD;function n$(){if(BD)return PT;BD=1;var n=t$(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=r;function s(x){return n.isMemo(x)?r:a[x.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function v(x,w,A){if(typeof w!="string"){if(y){var M=g(w);M&&M!==y&&v(x,M,A)}var R=c(w);f&&(R=R.concat(f(w)));for(var P=s(x),L=s(w),F=0;F<R.length;++F){var j=R[F];if(!t[j]&&!(A&&A[j])&&!(L&&L[j])&&!(P&&P[j])){var U=p(w,j);try{l(x,j,U)}catch{}}}}return x}return PT=v,PT}n$();var i$=!0;function EL(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var y3=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||i$===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},_3=function(e,t,i){y3(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function r$(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var a$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},s$=/[A-Z]|^ms/g,o$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TL=function(e){return e.charCodeAt(1)===45},OD=function(e){return e!=null&&typeof e!="boolean"},DT=SL(function(n){return TL(n)?n:n.replace(s$,"-$&").toLowerCase()}),ND=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(o$,function(i,r,a){return Bu={name:r,styles:a,next:Bu},r})}return a$[e]!==1&&!TL(e)&&typeof t=="number"&&t!==0?t+"px":t};function s1(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return Bu={name:r.name,styles:r.styles,next:Bu},r.name;var a=t;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)Bu={name:s.name,styles:s.styles,next:Bu},s=s.next;var l=a.styles+";";return l}return l$(n,e,t)}case"function":{if(n!==void 0){var c=Bu,f=t(n);return Bu=c,s1(n,e,f)}break}}var p=t;if(e==null)return p;var g=e[p];return g!==void 0?g:p}function l$(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=s1(n,e,t[r])+";";else for(var a in t){var s=t[a];if(typeof s!="object"){var l=s;e!=null&&e[l]!==void 0?i+=a+"{"+e[l]+"}":OD(l)&&(i+=DT(a)+":"+ND(a,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var c=0;c<s.length;c++)OD(s[c])&&(i+=DT(a)+":"+ND(a,s[c])+";");else{var f=s1(n,e,s);switch(a){case"animation":case"animationName":{i+=DT(a)+":"+f+";";break}default:i+=a+"{"+f+"}"}}}return i}var LD=/label:\s*([^\s;{]+)\s*(;|$)/g,Bu;function vE(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";Bu=void 0;var a=n[0];if(a==null||a.raw===void 0)i=!1,r+=s1(t,e,a);else{var s=a;r+=s[0]}for(var l=1;l<n.length;l++)if(r+=s1(t,e,n[l]),i){var c=a;r+=c[l]}LD.lastIndex=0;for(var f="",p;(p=LD.exec(r))!==null;)f+="-"+p[1];var g=r$(r)+f;return{name:g,styles:r,next:Bu}}var c$=function(e){return e()},CL=ZP.useInsertionEffect?ZP.useInsertionEffect:!1,wL=CL||c$,UD=CL||Y.useLayoutEffect,v3=Y.createContext(typeof HTMLElement<"u"?ZQ({key:"css"}):null);v3.Provider;var u$=function(){return Y.useContext(v3)},b3=function(e){return Y.forwardRef(function(t,i){var r=Y.useContext(v3);return e(t,r,i)})},Xg=Y.createContext({}),h$=function(e,t){if(typeof t=="function"){var i=t(e);return i}return Am({},e,t)},f$=RD(function(n){return RD(function(e){return h$(n,e)})}),d$=function(e){var t=Y.useContext(Xg);return e.theme!==t&&(t=f$(t)(e.theme)),Y.createElement(Xg.Provider,{value:t},e.children)},x3={}.hasOwnProperty,Dw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p$=function(e,t){var i={};for(var r in t)x3.call(t,r)&&(i[r]=t[r]);return i[Dw]=e,i},m$=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return y3(t,i,r),wL(function(){return _3(t,i,r)}),null},g$=b3(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[Dw],a=[i],s="";typeof n.className=="string"?s=EL(e.registered,a,n.className):n.className!=null&&(s=n.className+" ");var l=vE(a,void 0,Y.useContext(Xg));s+=e.key+"-"+l.name;var c={};for(var f in n)x3.call(n,f)&&f!=="css"&&f!==Dw&&(c[f]=n[f]);return c.className=s,t&&(c.ref=t),Y.createElement(Y.Fragment,null,Y.createElement(m$,{cache:e,serialized:l,isStringTag:typeof r=="string"}),Y.createElement(r,c))}),y$=g$,FD=function(e,t){var i=arguments;if(t==null||!x3.call(t,"css"))return Y.createElement.apply(void 0,i);var r=i.length,a=new Array(r);a[0]=y$,a[1]=p$(e,t);for(var s=2;s<r;s++)a[s]=i[s];return Y.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(FD||(FD={}));var bE=b3(function(n,e){var t=n.styles,i=vE([t],void 0,Y.useContext(Xg)),r=Y.useRef();return UD(function(){var a=e.key+"-global",s=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+a+" "+i.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",a),s.hydrate([c])),r.current=[s,l],function(){s.flush()}},[e]),UD(function(){var a=r.current,s=a[0],l=a[1];if(l){a[1]=!1;return}if(i.next!==void 0&&_3(e,i.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}e.insert("",i,s,!1)},[e,i.name]),null});function _$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return vE(e)}function v$(){var n=_$.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const M3=Y.createContext({});M3.displayName="ColorModeContext";function S3(){const n=Y.useContext(M3);if(n===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return n}const Kx={light:"chakra-ui-light",dark:"chakra-ui-dark"};function b$(n={}){const{preventTransition:e=!0,nonce:t}=n,i={setDataset:r=>{const a=e?i.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,a==null||a()},setClassName(r){document.body.classList.add(r?Kx.dark:Kx.light),document.body.classList.remove(r?Kx.light:Kx.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){return i.query().matches??r==="dark"?"dark":"light"},addListener(r){const a=i.query(),s=l=>{r(l.matches?"dark":"light")};return typeof a.addListener=="function"?a.addListener(s):a.addEventListener("change",s),()=>{typeof a.removeListener=="function"?a.removeListener(s):a.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),t!==void 0&&(r.nonce=t),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return i}const x$="chakra-ui-color-mode";function M$(n){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let t;try{t=localStorage.getItem(n)||e}catch{}return t||e},set(e){try{localStorage.setItem(n,e)}catch{}}}}const S$=M$(x$),zD=()=>{},A$=VH()?Y.useLayoutEffect:Y.useEffect;function VD(n,e){return n.type==="cookie"&&n.ssr?n.get(e):e}const RL=function(e){const{value:t,children:i,options:{useSystemColorMode:r,initialColorMode:a,disableTransitionOnChange:s}={},colorModeManager:l=S$}=e,c=u$(),f=a==="dark"?"dark":"light",[p,g]=Y.useState(()=>VD(l,f)),[y,v]=Y.useState(()=>VD(l)),{getSystemTheme:x,setClassName:w,setDataset:A,addListener:M}=Y.useMemo(()=>b$({preventTransition:s,nonce:c==null?void 0:c.nonce}),[s,c==null?void 0:c.nonce]),R=a==="system"&&!p?y:p,P=Y.useCallback(j=>{const U=j==="system"?x():j;g(U),w(U==="dark"),A(U),l.set(U)},[l,x,w,A]);A$(()=>{a==="system"&&v(x())},[]),Y.useEffect(()=>{const j=l.get();if(j){P(j);return}if(a==="system"){P("system");return}P(f)},[l,f,a,P]);const L=Y.useCallback(()=>{P(R==="dark"?"light":"dark")},[R,P]);Y.useEffect(()=>{if(r)return M(P)},[r,M,P]);const F=Y.useMemo(()=>({colorMode:t??R,toggleColorMode:t?zD:L,setColorMode:t?zD:P,forced:t!==void 0}),[R,L,P,t]);return C.jsx(M3.Provider,{value:F,children:i})};RL.displayName="ColorModeProvider";const IL=String.raw,PL=IL`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,E$=()=>C.jsx(bE,{styles:PL}),T$=({scope:n=""})=>C.jsx(bE,{styles:IL`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${n} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${n} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${n} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${n} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${n} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${n} :where(b, strong) {
        font-weight: bold;
      }

      ${n} small {
        font-size: 80%;
      }

      ${n} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${n} sub {
        bottom: -0.25em;
      }

      ${n} sup {
        top: -0.5em;
      }

      ${n} img {
        border-style: none;
      }

      ${n} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${n} :where(button, input) {
        overflow: visible;
      }

      ${n} :where(button, select) {
        text-transform: none;
      }

      ${n} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${n} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${n} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${n} progress {
        vertical-align: baseline;
      }

      ${n} textarea {
        overflow: auto;
      }

      ${n} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${n} input[type="number"]::-webkit-inner-spin-button,
      ${n} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${n} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${n} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${n} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${n} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${n} details {
        display: block;
      }

      ${n} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${n} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${n} button {
        background: transparent;
        padding: 0;
      }

      ${n} fieldset {
        margin: 0;
        padding: 0;
      }

      ${n} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${n} textarea {
        resize: vertical;
      }

      ${n} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${n} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${n} table {
        border-collapse: collapse;
      }

      ${n} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${n} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${n} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${n} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${n} select::-ms-expand {
        display: none;
      }

      ${PL}
    `});function C$(n){const{cssVarsRoot:e,theme:t,children:i}=n,r=Y.useMemo(()=>fX(t),[t]);return C.jsxs(d$,{theme:r,children:[C.jsx(w$,{root:e}),i]})}function w$({root:n=":host, :root"}){const e=[n,"[data-theme]"].join(",");return C.jsx(bE,{styles:t=>({[e]:t.__cssVars})})}mf({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function R$(){const{colorMode:n}=S3();return C.jsx(bE,{styles:e=>{const t=YN(e,"styles.global"),i=Wl(t,{theme:e,colorMode:n});return i?tL(i)(e):void 0}})}const[I$,P$]=mf({strict:!1,name:"PortalManagerContext"});function DL(n){const{children:e,zIndex:t}=n;return C.jsx(I$,{value:{zIndex:t},children:e})}DL.displayName="PortalManager";const BL=Y.createContext({getDocument(){return document},getWindow(){return window}});BL.displayName="EnvironmentContext";function OL(n){const{children:e,environment:t,disabled:i}=n,r=Y.useRef(null),a=Y.useMemo(()=>t||{getDocument:()=>{var l;return((l=r.current)==null?void 0:l.ownerDocument)??document},getWindow:()=>{var l;return((l=r.current)==null?void 0:l.ownerDocument.defaultView)??window}},[t]),s=!i||!t;return C.jsxs(BL.Provider,{value:a,children:[e,s&&C.jsx("span",{id:"__chakra_env",hidden:!0,ref:r})]})}OL.displayName="EnvironmentProvider";const D$=n=>{const{children:e,colorModeManager:t,portalZIndex:i,resetScope:r,resetCSS:a=!0,theme:s={},environment:l,cssVarsRoot:c,disableEnvironment:f,disableGlobalStyle:p}=n,g=C.jsx(OL,{environment:l,disabled:f,children:e});return C.jsx(C$,{theme:s,cssVarsRoot:c,children:C.jsxs(RL,{colorModeManager:t,options:s.config,children:[a?C.jsx(T$,{scope:r}):C.jsx(E$,{}),!p&&C.jsx(R$,{}),i?C.jsx(DL,{zIndex:i,children:g}):g]})})},A3=Y.createContext({});function E3(n){const e=Y.useRef(null);return e.current===null&&(e.current=n()),e.current}const T3=typeof window<"u",NL=T3?Y.useLayoutEffect:Y.useEffect,W1=Y.createContext(null),C3=Y.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class B$ extends Y.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function O$({children:n,isPresent:e,anchorX:t}){const i=Y.useId(),r=Y.useRef(null),a=Y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=Y.useContext(C3);return Y.useInsertionEffect(()=>{const{width:l,height:c,top:f,left:p,right:g}=a.current;if(e||!r.current||!l||!c)return;const y=t==="left"?`left: ${p}`:`right: ${g}`;r.current.dataset.motionPopId=i;const v=document.createElement("style");return s&&(v.nonce=s),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),C.jsx(B$,{isPresent:e,childRef:r,sizeRef:a,children:Y.cloneElement(n,{ref:r})})}const N$=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:s,anchorX:l})=>{const c=E3(L$),f=Y.useId();let p=!0,g=Y.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:t,custom:r,onExitComplete:y=>{c.set(y,!0);for(const v of c.values())if(!v)return;i&&i()},register:y=>(c.set(y,!1),()=>c.delete(y))}),[t,c,i]);return a&&p&&(g={...g}),Y.useMemo(()=>{c.forEach((y,v)=>c.set(v,!1))},[t]),Y.useEffect(()=>{!t&&!c.size&&i&&i()},[t]),s==="popLayout"&&(n=C.jsx(O$,{isPresent:t,anchorX:l,children:n})),C.jsx(W1.Provider,{value:g,children:n})};function L$(){return new Map}function LL(n=!0){const e=Y.useContext(W1);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=Y.useId();Y.useEffect(()=>{if(n)return r(a)},[n]);const s=Y.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,s]:[!0]}function U$(){return F$(Y.useContext(W1))}function F$(n){return n===null?!0:n.isPresent}const Jx=n=>n.key||"";function jD(n){const e=[];return Y.Children.forEach(n,t=>{Y.isValidElement(t)&&e.push(t)}),e}const UL=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:s=!1,anchorX:l="left"})=>{const[c,f]=LL(s),p=Y.useMemo(()=>jD(n),[n]),g=s&&!c?[]:p.map(Jx),y=Y.useRef(!0),v=Y.useRef(p),x=E3(()=>new Map),[w,A]=Y.useState(p),[M,R]=Y.useState(p);NL(()=>{y.current=!1,v.current=p;for(let F=0;F<M.length;F++){const j=Jx(M[F]);g.includes(j)?x.delete(j):x.get(j)!==!0&&x.set(j,!1)}},[M,g.length,g.join("-")]);const P=[];if(p!==w){let F=[...p];for(let j=0;j<M.length;j++){const U=M[j],N=Jx(U);g.includes(N)||(F.splice(j,0,U),P.push(U))}return a==="wait"&&P.length&&(F=P),R(jD(F)),A(p),null}const{forceRender:L}=Y.useContext(A3);return C.jsx(C.Fragment,{children:M.map(F=>{const j=Jx(F),U=s&&!c?!1:p===M||g.includes(j),N=()=>{if(x.has(j))x.set(j,!0);else return;let B=!0;x.forEach(O=>{O||(B=!1)}),B&&(L==null||L(),R(v.current),s&&(f==null||f()),i&&i())};return C.jsx(N$,{isPresent:U,initial:!y.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,onExitComplete:U?void 0:N,anchorX:l,children:F},j)})})};function w3(n,e){n.indexOf(e)===-1&&n.push(e)}function R3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let FL=()=>{};const Bw={useManualTiming:!1};function I3(n){let e;return()=>(e===void 0&&(e=n()),e)}const Jl=n=>n,o1=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class P3{constructor(){this.subscriptions=[]}add(e){return w3(this.subscriptions,e),()=>R3(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const s=this.subscriptions[a];s&&s(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zu=n=>n*1e3,Vu=n=>n/1e3;function zL(n,e){return e?n*(1e3/e):0}const z$=I3(()=>window.ScrollTimeline!==void 0);class V${constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>{if(z$()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{i.forEach((r,a)=>{r&&r(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class j$ extends V${then(e,t){return this.finished.finally(e).then(()=>{})}}const kD={value:null},D3=n=>Array.isArray(n)&&typeof n[0]=="number",k$={};function H$(n,e){const t=I3(n);return()=>k$[e]??t()}const l1=H$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),VL=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=n(a/(r-1))+", ";return`linear(${i.substring(0,i.length-2)})`},mv=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Ow={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mv([0,.65,.55,1]),circOut:mv([.55,0,1,.45]),backIn:mv([.31,.01,.66,-.59]),backOut:mv([.33,1.53,.69,.99])};function jL(n,e){if(n)return typeof n=="function"&&l1()?VL(n,e):D3(n)?mv(n):Array.isArray(n)?n.map(t=>jL(t,e)||Ow.easeOut):Ow[n]}function G$(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:l="easeInOut",times:c}={},f=void 0){const p={[e]:t};c&&(p.offset=c);const g=jL(l,r);return Array.isArray(g)&&(p.easing=g),n.animate(p,{delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal",pseudoElement:f})}function B3(n){return typeof n=="function"&&"applyToOptions"in n}function O3(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const GS=2e4;function N3(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<GS;)e+=t,i=n.next(e);return e>=GS?1/0:e}function X$(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(N3(i),GS);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:Vu(r)}}function kL(n){return!!(typeof n=="function"&&l1()||!n||typeof n=="string"&&(n in Ow||l1())||D3(n)||Array.isArray(n)&&n.every(kL))}function HD(n,e){n.timeline=e,n.onfinish=null}const Qx=["read","resolveKeyframes","update","preRender","render","postRender"];function q$(n,e){let t=new Set,i=new Set,r=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function f(g){s.has(g)&&(p.schedule(g),n()),c++,g(l)}const p={schedule:(g,y=!1,v=!1)=>{const w=v&&r?t:i;return y&&s.add(g),w.has(g)||w.add(g),g},cancel:g=>{i.delete(g),s.delete(g)},process:g=>{if(l=g,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),e&&kD.value&&kD.value.frameloop[e].push(c),c=0,t.clear(),r=!1,a&&(a=!1,p.process(g))}};return p}const W$=40;function HL(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=Qx.reduce((M,R)=>(M[R]=q$(a,e?R:void 0),M),{}),{read:l,resolveKeyframes:c,update:f,preRender:p,render:g,postRender:y}=s,v=()=>{const M=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(M-r.timestamp,W$),1),r.timestamp=M,r.isProcessing=!0,l.process(r),c.process(r),f.process(r),p.process(r),g.process(r),y.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(v))},x=()=>{t=!0,i=!0,r.isProcessing||n(v)};return{schedule:Qx.reduce((M,R)=>{const P=s[R];return M[R]=(L,F=!1,j=!1)=>(t||x(),P.schedule(L,F,j)),M},{}),cancel:M=>{for(let R=0;R<Qx.length;R++)s[Qx[R]].cancel(M)},state:r,steps:s}}const{schedule:L3}=HL(queueMicrotask,!1),{schedule:pr,cancel:Rd,state:us,steps:BT}=HL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jl,!0);let vS;function Y$(){vS=void 0}const ju={now:()=>(vS===void 0&&ju.set(us.isProcessing||Bw.useManualTiming?us.timestamp:performance.now()),vS),set:n=>{vS=n,queueMicrotask(Y$)}},Nc={x:!1,y:!1};function GL(){return Nc.x||Nc.y}function K$(n){return n==="x"||n==="y"?Nc[n]?null:(Nc[n]=!0,()=>{Nc[n]=!1}):Nc.x||Nc.y?null:(Nc.x=Nc.y=!0,()=>{Nc.x=Nc.y=!1})}function J$(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=(t==null?void 0:t[n])??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function XL(n,e){const t=J$(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function GD(n){return!(n.pointerType==="touch"||GL())}function Q$(n,e,t={}){const[i,r,a]=XL(n,t),s=l=>{if(!GD(l))return;const{target:c}=l,f=e(c,l);if(typeof f!="function"||!c)return;const p=g=>{GD(g)&&(f(g),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,r)};return i.forEach(l=>{l.addEventListener("pointerenter",s,r)}),a}const qL=(n,e)=>e?n===e?!0:qL(n,e.parentElement):!1,U3=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,$$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Z$(n){return $$.has(n.tagName)||n.tabIndex!==-1}const gv=new WeakSet;function XD(n){return e=>{e.key==="Enter"&&n(e)}}function OT(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eZ=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=XD(()=>{if(gv.has(t))return;OT(t,"down");const r=XD(()=>{OT(t,"up")}),a=()=>OT(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function qD(n){return U3(n)&&!GL()}function tZ(n,e,t={}){const[i,r,a]=XL(n,t),s=l=>{const c=l.currentTarget;if(!qD(l)||gv.has(c))return;gv.add(c);const f=e(c,l),p=(v,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),!(!qD(v)||!gv.has(c))&&(gv.delete(c),typeof f=="function"&&f(v,{success:x}))},g=v=>{p(v,c===window||c===document||t.useGlobalTarget||qL(c,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",y,r)};return i.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",s,r),l instanceof HTMLElement&&(l.addEventListener("focus",f=>eZ(f,r)),!Z$(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}const WD=30,nZ=n=>!isNaN(parseFloat(n));class iZ{constructor(e,t={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const a=ju.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ju.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new P3);const i=this.events[e].add(t);return e==="change"?()=>{i(),pr.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ju.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WD)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,WD);return zL(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function c1(n,e){return new iZ(n,e)}const WL=Y.createContext({strict:!1}),YD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qg={};for(const n in YD)qg[n]={isEnabled:e=>YD[n].some(t=>!!e[t])};function rZ(n){for(const e in n)qg[e]={...qg[e],...n[e]}}const aZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function XS(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||aZ.has(n)}let YL=n=>!XS(n);function sZ(n){n&&(YL=e=>e.startsWith("on")?!XS(e):n(e))}try{sZ(require("@emotion/is-prop-valid").default)}catch{}function oZ(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(YL(r)||t===!0&&XS(r)||!e&&!XS(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function lZ(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const xE=Y.createContext({});function ME(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function u1(n){return typeof n=="string"||Array.isArray(n)}const F3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z3=["initial",...F3];function SE(n){return ME(n.animate)||z3.some(e=>u1(n[e]))}function KL(n){return!!(SE(n)||n.variants)}function cZ(n,e){if(SE(n)){const{initial:t,animate:i}=n;return{initial:t===!1||u1(t)?t:void 0,animate:u1(i)?i:void 0}}return n.inherit!==!1?e:{}}function uZ(n){const{initial:e,animate:t}=cZ(n,Y.useContext(xE));return Y.useMemo(()=>({initial:e,animate:t}),[KD(e),KD(t)])}function KD(n){return Array.isArray(n)?n.join(" "):n}const hZ=Symbol.for("motionComponentSymbol");function bg(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function fZ(n,e,t){return Y.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):bg(t)&&(t.current=i))},[e])}const V3=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dZ="framerAppearId",JL="data-"+V3(dZ),QL=Y.createContext({});function pZ(n,e,t,i,r){var w,A;const{visualElement:a}=Y.useContext(xE),s=Y.useContext(WL),l=Y.useContext(W1),c=Y.useContext(C3).reducedMotion,f=Y.useRef(null);i=i||s.renderer,!f.current&&i&&(f.current=i(n,{visualState:e,parent:a,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const p=f.current,g=Y.useContext(QL);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&mZ(f.current,t,r,g);const y=Y.useRef(!1);Y.useInsertionEffect(()=>{p&&y.current&&p.update(t,l)});const v=t[JL],x=Y.useRef(!!v&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,v))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,v)));return NL(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),L3.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),Y.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,v)}),x.current=!1))}),p}function mZ(n,e,t,i){const{layoutId:r,layout:a,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:f,layoutCrossfade:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:$L(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||l&&bg(l),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:c,layoutRoot:f})}function $L(n){if(n)return n.options.allowProjection!==!1?n.projection:$L(n.parent)}function gZ({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&rZ(n);function a(l,c){let f;const p={...Y.useContext(C3),...l,layoutId:yZ(l)},{isStatic:g}=p,y=uZ(l),v=i(l,g);if(!g&&T3){_Z();const x=vZ(p);f=x.MeasureLayout,y.visualElement=pZ(r,v,p,e,x.ProjectionNode)}return C.jsxs(xE.Provider,{value:y,children:[f&&y.visualElement?C.jsx(f,{visualElement:y.visualElement,...p}):null,t(r,l,fZ(v,y.visualElement,c),v,g,y.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const s=Y.forwardRef(a);return s[hZ]=r,s}function yZ({layoutId:n}){const e=Y.useContext(A3).id;return e&&n!==void 0?e+"-"+n:n}function _Z(n,e){Y.useContext(WL).strict}function vZ(n){const{drag:e,layout:t}=qg;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const ZL=n=>e=>typeof e=="string"&&e.startsWith(n),j3=ZL("--"),bZ=ZL("var(--"),k3=n=>bZ(n)?xZ.test(n.split("/*")[0].trim()):!1,xZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,h1={};function MZ(n){for(const e in n)h1[e]=n[e],j3(e)&&(h1[e].isCSSVariable=!0)}const Sy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lm=new Set(Sy);function e8(n,{layout:e,layoutId:t}){return Lm.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!h1[n]||n==="opacity")}const zs=n=>!!(n&&n.getVelocity),t8=(n,e)=>e&&typeof n=="number"?e.transform(n):n,lf=(n,e,t)=>t>e?e:t<n?n:t,Ay={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},f1={...Ay,transform:n=>lf(0,1,n)},$x={...Ay,default:1},Y1=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),md=Y1("deg"),ku=Y1("%"),Cn=Y1("px"),SZ=Y1("vh"),AZ=Y1("vw"),JD={...ku,parse:n=>ku.parse(n)/100,transform:n=>ku.transform(n*100)},EZ={borderWidth:Cn,borderTopWidth:Cn,borderRightWidth:Cn,borderBottomWidth:Cn,borderLeftWidth:Cn,borderRadius:Cn,radius:Cn,borderTopLeftRadius:Cn,borderTopRightRadius:Cn,borderBottomRightRadius:Cn,borderBottomLeftRadius:Cn,width:Cn,maxWidth:Cn,height:Cn,maxHeight:Cn,top:Cn,right:Cn,bottom:Cn,left:Cn,padding:Cn,paddingTop:Cn,paddingRight:Cn,paddingBottom:Cn,paddingLeft:Cn,margin:Cn,marginTop:Cn,marginRight:Cn,marginBottom:Cn,marginLeft:Cn,backgroundPositionX:Cn,backgroundPositionY:Cn},TZ={rotate:md,rotateX:md,rotateY:md,rotateZ:md,scale:$x,scaleX:$x,scaleY:$x,scaleZ:$x,skew:md,skewX:md,skewY:md,distance:Cn,translateX:Cn,translateY:Cn,translateZ:Cn,x:Cn,y:Cn,z:Cn,perspective:Cn,transformPerspective:Cn,opacity:f1,originX:JD,originY:JD,originZ:Cn},QD={...Ay,transform:Math.round},H3={...EZ,...TZ,zIndex:QD,size:Cn,fillOpacity:f1,strokeOpacity:f1,numOctaves:QD},CZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wZ=Sy.length;function RZ(n,e,t){let i="",r=!0;for(let a=0;a<wZ;a++){const s=Sy[a],l=n[s];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(s.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const f=t8(l,H3[s]);if(!c){r=!1;const p=CZ[s]||s;i+=`${p}(${f}) `}t&&(e[s]=f)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function G3(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let s=!1,l=!1;for(const c in e){const f=e[c];if(Lm.has(c)){s=!0;continue}else if(j3(c)){r[c]=f;continue}else{const p=t8(f,H3[c]);c.startsWith("origin")?(l=!0,a[c]=p):i[c]=p}}if(e.transform||(s||t?i.transform=RZ(e,n.transform,t):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${c} ${f} ${p}`}}const X3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n8(n,e,t){for(const i in e)!zs(e[i])&&!e8(i,t)&&(n[i]=e[i])}function IZ({transformTemplate:n},e){return Y.useMemo(()=>{const t=X3();return G3(t,e,n),Object.assign({},t.vars,t.style)},[e])}function PZ(n,e){const t=n.style||{},i={};return n8(i,t,n),Object.assign(i,IZ(n,e)),i}function DZ(n,e){const t={},i=PZ(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const BZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function q3(n){return typeof n!="string"||n.includes("-")?!1:!!(BZ.indexOf(n)>-1||/[A-Z]/u.test(n))}const OZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},NZ={offset:"strokeDashoffset",array:"strokeDasharray"};function LZ(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?OZ:NZ;n[a.offset]=Cn.transform(-i);const s=Cn.transform(e),l=Cn.transform(t);n[a.array]=`${s} ${l}`}function $D(n,e,t){return typeof n=="string"?n:Cn.transform(e+t*n)}function UZ(n,e,t){const i=$D(e,n.x,n.width),r=$D(t,n.y,n.height);return`${i} ${r}`}function W3(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:a,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...f},p,g){if(G3(n,f,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v,dimensions:x}=n;y.transform&&(x&&(v.transform=y.transform),delete y.transform),x&&(r!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=UZ(x,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),i!==void 0&&(y.scale=i),s!==void 0&&LZ(y,s,l,c,!1)}const i8=()=>({...X3(),attrs:{}}),Y3=n=>typeof n=="string"&&n.toLowerCase()==="svg";function FZ(n,e,t,i){const r=Y.useMemo(()=>{const a=i8();return W3(a,e,Y3(i),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};n8(a,n.style,n),r.style={...a,...r.style}}return r}function zZ(n=!1){return(t,i,r,{latestValues:a},s)=>{const c=(q3(t)?FZ:DZ)(i,a,s,t),f=oZ(i,typeof t=="string",n),p=t!==Y.Fragment?{...f,...c,ref:r}:{},{children:g}=i,y=Y.useMemo(()=>zs(g)?g.get():g,[g]);return Y.createElement(t,{...p,children:y})}}function ZD(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function K3(n,e,t,i){if(typeof e=="function"){const[r,a]=ZD(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=ZD(i);e=e(t!==void 0?t:n.custom,r,a)}return e}const Nw=n=>Array.isArray(n),VZ=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),jZ=n=>Nw(n)?n[n.length-1]||0:n;function bS(n){const e=zs(n)?n.get():n;return VZ(e)?e.toValue():e}function kZ({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,r,a){const s={latestValues:HZ(i,r,a,n),renderState:e()};return t&&(s.onMount=l=>t({props:i,current:l,...s}),s.onUpdate=l=>t(l)),s}const r8=n=>(e,t)=>{const i=Y.useContext(xE),r=Y.useContext(W1),a=()=>kZ(n,e,i,r);return t?a():E3(a)};function HZ(n,e,t,i){const r={},a=i(n,{});for(const y in a)r[y]=bS(a[y]);let{initial:s,animate:l}=n;const c=SE(n),f=KL(n);e&&f&&!c&&n.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let p=t?t.initial===!1:!1;p=p||s===!1;const g=p?l:s;if(g&&typeof g!="boolean"&&!ME(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const x=K3(n,y[v]);if(x){const{transitionEnd:w,transition:A,...M}=x;for(const R in M){let P=M[R];if(Array.isArray(P)){const L=p?P.length-1:0;P=P[L]}P!==null&&(r[R]=P)}for(const R in w)r[R]=w[R]}}}return r}function J3(n,e,t){var a;const{style:i}=n,r={};for(const s in i)(zs(i[s])||e.style&&zs(e.style[s])||e8(s,n)||((a=t==null?void 0:t.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(r[s]=i[s]);return r}const GZ={useVisualState:r8({scrapeMotionValuesFromProps:J3,createRenderState:X3})};function a8(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function s8(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const a in t)n.style.setProperty(a,t[a])}const o8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l8(n,e,t,i){s8(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(o8.has(r)?r:V3(r),e.attrs[r])}function c8(n,e,t){const i=J3(n,e,t);for(const r in n)if(zs(n[r])||zs(e[r])){const a=Sy.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const e5=["x","y","width","height","cx","cy","r"],XZ={useVisualState:r8({scrapeMotionValuesFromProps:c8,createRenderState:i8,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:r})=>{if(!t)return;let a=!!n.drag;if(!a){for(const l in r)if(Lm.has(l)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let l=0;l<e5.length;l++){const c=e5[l];n[c]!==e[c]&&(s=!0)}s&&pr.read(()=>{a8(t,i),pr.render(()=>{W3(i,r,Y3(t.tagName),n.transformTemplate),l8(t,i)})})}})};function qZ(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const s={...q3(i)?XZ:GZ,preloadedFeatures:n,useRender:zZ(r),createVisualElement:e,Component:i};return gZ(s)}}function d1(n,e,t){const i=n.getProps();return K3(i,e,t!==void 0?t:i.custom,n)}const u8=new Set(["width","height","top","left","right","bottom",...Sy]);function WZ(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,c1(t))}function YZ(n,e){const t=d1(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const s in a){const l=jZ(a[s]);WZ(n,s,l)}}function KZ(n){return!!(zs(n)&&n.add)}function Lw(n,e){const t=n.getValue("willChange");if(KZ(t))return t.add(e);if(!t&&Bw.WillChange){const i=new Bw.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function h8(n){return n.props[JL]}const f8=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,JZ=1e-7,QZ=12;function $Z(n,e,t,i,r){let a,s,l=0;do s=e+(t-e)/2,a=f8(s,i,r)-n,a>0?t=s:e=s;while(Math.abs(a)>JZ&&++l<QZ);return s}function K1(n,e,t,i){if(n===e&&t===i)return Jl;const r=a=>$Z(a,0,1,n,t);return a=>a===0||a===1?a:f8(r(a),e,i)}const d8=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,p8=n=>e=>1-n(1-e),m8=K1(.33,1.53,.69,.99),Q3=p8(m8),g8=d8(Q3),y8=n=>(n*=2)<1?.5*Q3(n):.5*(2-Math.pow(2,-10*(n-1))),$3=n=>1-Math.sin(Math.acos(n)),_8=p8($3),v8=d8($3),b8=n=>/^0[^.\s]+$/u.test(n);function ZZ(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||b8(n):!0}const Pv=n=>Math.round(n*1e5)/1e5,Z3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eee(n){return n==null}const tee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eR=(n,e)=>t=>!!(typeof t=="string"&&tee.test(t)&&t.startsWith(n)||e&&!eee(t)&&Object.prototype.hasOwnProperty.call(t,e)),x8=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,s,l]=i.match(Z3);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},nee=n=>lf(0,255,n),NT={...Ay,transform:n=>Math.round(nee(n))},im={test:eR("rgb","red"),parse:x8("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+NT.transform(n)+", "+NT.transform(e)+", "+NT.transform(t)+", "+Pv(f1.transform(i))+")"};function iee(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Uw={test:eR("#"),parse:iee,transform:im.transform},xg={test:eR("hsl","hue"),parse:x8("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ku.transform(Pv(e))+", "+ku.transform(Pv(t))+", "+Pv(f1.transform(i))+")"},Ls={test:n=>im.test(n)||Uw.test(n)||xg.test(n),parse:n=>im.test(n)?im.parse(n):xg.test(n)?xg.parse(n):Uw.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?im.transform(n):xg.transform(n)},ree=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aee(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Z3))==null?void 0:e.length)||0)+(((t=n.match(ree))==null?void 0:t.length)||0)>0}const M8="number",S8="color",see="var",oee="var(",t5="${}",lee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function p1(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const l=e.replace(lee,c=>(Ls.test(c)?(i.color.push(a),r.push(S8),t.push(Ls.parse(c))):c.startsWith(oee)?(i.var.push(a),r.push(see),t.push(c)):(i.number.push(a),r.push(M8),t.push(parseFloat(c))),++a,t5)).split(t5);return{values:t,split:l,indexes:i,types:r}}function A8(n){return p1(n).values}function E8(n){const{split:e,types:t}=p1(n),i=e.length;return r=>{let a="";for(let s=0;s<i;s++)if(a+=e[s],r[s]!==void 0){const l=t[s];l===M8?a+=Pv(r[s]):l===S8?a+=Ls.transform(r[s]):a+=r[s]}return a}}const cee=n=>typeof n=="number"?0:n;function uee(n){const e=A8(n);return E8(n)(e.map(cee))}const Id={test:aee,parse:A8,createTransformer:E8,getAnimatableNone:uee},hee=new Set(["brightness","contrast","saturate","opacity"]);function fee(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Z3)||[];if(!i)return n;const r=t.replace(i,"");let a=hee.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const dee=/\b([a-z-]*)\(.*?\)/gu,Fw={...Id,getAnimatableNone:n=>{const e=n.match(dee);return e?e.map(fee).join(" "):n}},pee={...H3,color:Ls,backgroundColor:Ls,outlineColor:Ls,fill:Ls,stroke:Ls,borderColor:Ls,borderTopColor:Ls,borderRightColor:Ls,borderBottomColor:Ls,borderLeftColor:Ls,filter:Fw,WebkitFilter:Fw},T8=n=>pee[n];function C8(n,e){let t=T8(n);return t!==Fw&&(t=Id),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const mee=new Set(["auto","none","0"]);function gee(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!mee.has(a)&&p1(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=C8(t,r)}const rm=n=>n*180/Math.PI,zw=n=>{const e=rm(Math.atan2(n[1],n[0]));return Vw(e)},yee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:zw,rotateZ:zw,skewX:n=>rm(Math.atan(n[1])),skewY:n=>rm(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Vw=n=>(n=n%360,n<0&&(n+=360),n),n5=zw,i5=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),r5=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),_ee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i5,scaleY:r5,scale:n=>(i5(n)+r5(n))/2,rotateX:n=>Vw(rm(Math.atan2(n[6],n[5]))),rotateY:n=>Vw(rm(Math.atan2(-n[2],n[0]))),rotateZ:n5,rotate:n5,skewX:n=>rm(Math.atan(n[4])),skewY:n=>rm(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function a5(n){return n.includes("scale")?1:0}function jw(n,e){if(!n||n==="none")return a5(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=_ee,r=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=yee,r=l}if(!r)return a5(e);const a=i[e],s=r[1].split(",").map(bee);return typeof a=="function"?a(s):s[a]}const vee=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return jw(t,e)};function bee(n){return parseFloat(n.trim())}const s5=n=>n===Ay||n===Cn,xee=new Set(["x","y","z"]),Mee=Sy.filter(n=>!xee.has(n));function See(n){const e=[];return Mee.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Wg={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>jw(e,"x"),y:(n,{transform:e})=>jw(e,"y")};Wg.translateX=Wg.x;Wg.translateY=Wg.y;const ym=new Set;let kw=!1,Hw=!1;function w8(){if(Hw){const n=Array.from(ym).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=See(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,s])=>{var l;(l=i.getValue(a))==null||l.set(s)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Hw=!1,kw=!1,ym.forEach(n=>n.complete()),ym.clear()}function R8(){ym.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Hw=!0)})}function Aee(){R8(),w8()}class tR{constructor(e,t,i,r,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ym.add(this),kw||(kw=!0,pr.read(R8),pr.resolveKeyframes(w8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=r==null?void 0:r.get(),l=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&t){const c=i.readValue(t,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),r&&s===void 0&&r.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ym.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ym.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const I8=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Eee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Tee(n){const e=Eee.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function P8(n,e,t=1){const[i,r]=Tee(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const s=a.trim();return I8(s)?parseFloat(s):s}return k3(r)?P8(r,e,t+1):r}const D8=n=>e=>e.test(n),Cee={test:n=>n==="auto",parse:n=>n},B8=[Ay,Cn,ku,md,AZ,SZ,Cee],o5=n=>B8.find(D8(n));class O8 extends tR{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),k3(f))){const p=P8(f,t.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!u8.has(i)||e.length!==2)return;const[r,a]=e,s=o5(r),l=o5(a);if(s!==l)if(s5(s)&&s5(l))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)ZZ(e[r])&&i.push(r);i.length&&gee(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wg[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=Wg[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}const l5=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Id.test(n)||n==="0")&&!n.startsWith("url("));function wee(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Ree(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],s=l5(r,e),l=l5(a,e);return!s||!l?!1:wee(n)||(t==="spring"||B3(t))&&i}const Iee=n=>n!==null;function AE(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(Iee),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return!a||i===void 0?r[a]:i}const Pee=40;class N8{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ju.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:s,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Pee?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Aee(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ju.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:a,delay:s,onComplete:l,onUpdate:c,isGenerator:f}=this.options;if(!f&&!Ree(e,i,r,a))if(s)this.options.duration=0;else{c&&c(AE(e,this.options,t)),l&&l(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,t);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...p},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Fr=(n,e,t)=>n+(e-n)*t;function LT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Dee({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,s=0;if(!e)r=a=s=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;r=LT(c,l,n+1/3),a=LT(c,l,n),s=LT(c,l,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:i}}function qS(n,e){return t=>t>0?e:n}const UT=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},Bee=[Uw,im,xg],Oee=n=>Bee.find(e=>e.test(n));function c5(n){const e=Oee(n);if(!e)return!1;let t=e.parse(n);return e===xg&&(t=Dee(t)),t}const u5=(n,e)=>{const t=c5(n),i=c5(e);if(!t||!i)return qS(n,e);const r={...t};return a=>(r.red=UT(t.red,i.red,a),r.green=UT(t.green,i.green,a),r.blue=UT(t.blue,i.blue,a),r.alpha=Fr(t.alpha,i.alpha,a),im.transform(r))},Nee=(n,e)=>t=>e(n(t)),J1=(...n)=>n.reduce(Nee),Gw=new Set(["none","hidden"]);function Lee(n,e){return Gw.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Uee(n,e){return t=>Fr(n,e,t)}function nR(n){return typeof n=="number"?Uee:typeof n=="string"?k3(n)?qS:Ls.test(n)?u5:Vee:Array.isArray(n)?L8:typeof n=="object"?Ls.test(n)?u5:Fee:qS}function L8(n,e){const t=[...n],i=t.length,r=n.map((a,s)=>nR(a)(a,e[s]));return a=>{for(let s=0;s<i;s++)t[s]=r[s](a);return t}}function Fee(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=nR(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function zee(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],s=n.indexes[a][i[a]],l=n.values[s]??0;t[r]=l,i[a]++}return t}const Vee=(n,e)=>{const t=Id.createTransformer(e),i=p1(n),r=p1(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Gw.has(n)&&!r.values.length||Gw.has(e)&&!i.values.length?Lee(n,e):J1(L8(zee(i,r),r.values),t):qS(n,e)};function U8(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Fr(n,e,t):nR(n)(n,e)}const jee=5;function F8(n,e,t){const i=Math.max(e-jee,0);return zL(t-n(i),e-i)}const $r={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},h5=.001;function kee({duration:n=$r.duration,bounce:e=$r.bounce,velocity:t=$r.velocity,mass:i=$r.mass}){let r,a,s=1-e;s=lf($r.minDamping,$r.maxDamping,s),n=lf($r.minDuration,$r.maxDuration,Vu(n)),s<1?(r=f=>{const p=f*s,g=p*n,y=p-t,v=Xw(f,s),x=Math.exp(-g);return h5-y/v*x},a=f=>{const g=f*s*n,y=g*t+t,v=Math.pow(s,2)*Math.pow(f,2)*n,x=Math.exp(-g),w=Xw(Math.pow(f,2),s);return(-r(f)+h5>0?-1:1)*((y-v)*x)/w}):(r=f=>{const p=Math.exp(-f*n),g=(f-t)*n+1;return-.001+p*g},a=f=>{const p=Math.exp(-f*n),g=(t-f)*(n*n);return p*g});const l=5/n,c=Gee(r,a,l);if(n=zu(n),isNaN(c))return{stiffness:$r.stiffness,damping:$r.damping,duration:n};{const f=Math.pow(c,2)*i;return{stiffness:f,damping:s*2*Math.sqrt(i*f),duration:n}}}const Hee=12;function Gee(n,e,t){let i=t;for(let r=1;r<Hee;r++)i=i-n(i)/e(i);return i}function Xw(n,e){return n*Math.sqrt(1-e*e)}const Xee=["duration","bounce"],qee=["stiffness","damping","mass"];function f5(n,e){return e.some(t=>n[t]!==void 0)}function Wee(n){let e={velocity:$r.velocity,stiffness:$r.stiffness,damping:$r.damping,mass:$r.mass,isResolvedFromDuration:!1,...n};if(!f5(n,qee)&&f5(n,Xee))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*lf(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:$r.mass,stiffness:r,damping:a}}else{const t=kee(n);e={...e,...t,mass:$r.mass},e.isResolvedFromDuration=!0}return e}function WS(n=$r.visualDuration,e=$r.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:f,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=Wee({...t,velocity:-Vu(t.velocity||0)}),x=y||0,w=f/(2*Math.sqrt(c*p)),A=s-a,M=Vu(Math.sqrt(c/p)),R=Math.abs(A)<5;i||(i=R?$r.restSpeed.granular:$r.restSpeed.default),r||(r=R?$r.restDelta.granular:$r.restDelta.default);let P;if(w<1){const F=Xw(M,w);P=j=>{const U=Math.exp(-w*M*j);return s-U*((x+w*M*A)/F*Math.sin(F*j)+A*Math.cos(F*j))}}else if(w===1)P=F=>s-Math.exp(-M*F)*(A+(x+M*A)*F);else{const F=M*Math.sqrt(w*w-1);P=j=>{const U=Math.exp(-w*M*j),N=Math.min(F*j,300);return s-U*((x+w*M*A)*Math.sinh(N)+F*A*Math.cosh(N))/F}}const L={calculatedDuration:v&&g||null,next:F=>{const j=P(F);if(v)l.done=F>=g;else{let U=0;w<1&&(U=F===0?zu(x):F8(P,F,j));const N=Math.abs(U)<=i,B=Math.abs(s-j)<=r;l.done=N&&B}return l.value=l.done?s:j,l},toString:()=>{const F=Math.min(N3(L),GS),j=VL(U=>L.next(F*U).value,F,30);return F+"ms "+j},toTransition:()=>{}};return L}WS.applyToOptions=n=>{const e=X$(n,100,WS);return n.ease=l1()?e.ease:"easeOut",n.duration=zu(e.duration),n.type="keyframes",n};function d5({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:f=.5,restSpeed:p}){const g=n[0],y={done:!1,value:g},v=N=>l!==void 0&&N<l||c!==void 0&&N>c,x=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let w=t*e;const A=g+w,M=s===void 0?A:s(A);M!==A&&(w=M-g);const R=N=>-w*Math.exp(-N/i),P=N=>M+R(N),L=N=>{const B=R(N),O=P(N);y.done=Math.abs(B)<=f,y.value=y.done?M:O};let F,j;const U=N=>{v(y.value)&&(F=N,j=WS({keyframes:[y.value,x(y.value)],velocity:F8(P,N,y.value),damping:r,stiffness:a,restDelta:f,restSpeed:p}))};return U(0),{calculatedDuration:null,next:N=>{let B=!1;return!j&&F===void 0&&(B=!0,L(N),U(N)),F!==void 0&&N>=F?j.next(N-F):(!B&&L(N),y)}}}const Yee=K1(.42,0,1,1),Kee=K1(0,0,.58,1),z8=K1(.42,0,.58,1),Jee=n=>Array.isArray(n)&&typeof n[0]!="number",Qee={linear:Jl,easeIn:Yee,easeInOut:z8,easeOut:Kee,circIn:$3,circInOut:v8,circOut:_8,backIn:Q3,backInOut:g8,backOut:m8,anticipate:y8},p5=n=>{if(D3(n)){FL(n.length===4);const[e,t,i,r]=n;return K1(e,t,i,r)}else if(typeof n=="string")return Qee[n];return n};function $ee(n,e,t){const i=[],r=t||U8,a=n.length-1;for(let s=0;s<a;s++){let l=r(n[s],n[s+1]);if(e){const c=Array.isArray(e)?e[s]||Jl:e;l=J1(c,l)}i.push(l)}return i}function Zee(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(FL(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=$ee(e,i,r),c=l.length,f=p=>{if(s&&p<n[0])return e[0];let g=0;if(c>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const y=o1(n[g],n[g+1],p);return l[g](y)};return t?p=>f(lf(n[0],n[a-1],p)):f}function ete(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=o1(0,e,i);n.push(Fr(t,1,r))}}function tte(n){const e=[0];return ete(e,n.length-1),e}function nte(n,e){return n.map(t=>t*e)}function ite(n,e){return n.map(()=>e||z8).splice(0,n.length-1)}function YS({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=Jee(i)?i.map(p5):p5(i),a={done:!1,value:e[0]},s=nte(t&&t.length===e.length?t:tte(e),n),l=Zee(s,e,{ease:Array.isArray(r)?r:ite(e,r)});return{calculatedDuration:n,next:c=>(a.value=l(c),a.done=c>=n,a)}}const rte=n=>{const e=({timestamp:t})=>n(t);return{start:()=>pr.update(e,!0),stop:()=>Rd(e),now:()=>us.isProcessing?us.timestamp:ju.now()}},ate={decay:d5,inertia:d5,tween:YS,keyframes:YS,spring:WS},ste=n=>n/100;class iR extends N8{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:i,element:r,keyframes:a}=this.options,s=(r==null?void 0:r.KeyframeResolver)||tR,l=(c,f)=>this.onKeyframesResolved(c,f);this.resolver=new s(a,l,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=this.options,l=B3(t)?t:ate[t]||YS;let c,f;l!==YS&&typeof e[0]!="number"&&(c=J1(ste,U8(e[0],e[1])),e=[0,100]);const p=l({...this.options,keyframes:e});a==="mirror"&&(f=l({...this.options,keyframes:[...e].reverse(),velocity:-s})),p.calculatedDuration===null&&(p.calculatedDuration=N3(p));const{calculatedDuration:g}=p,y=g+r,v=y*(i+1)-r;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:c,calculatedDuration:g,resolvedDuration:y,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:s,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:f,totalDuration:p,resolvedDuration:g}=i;if(this.startTime===null)return a.next(0);const{delay:y,repeat:v,repeatType:x,repeatDelay:w,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const M=this.currentTime-y*(this.speed>=0?1:-1),R=this.speed>=0?M<0:M>p;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let P=this.currentTime,L=a;if(v){const N=Math.min(this.currentTime,p)/g;let B=Math.floor(N),O=N%1;!O&&N>=1&&(O=1),O===1&&B--,B=Math.min(B,v+1),!!(B%2)&&(x==="reverse"?(O=1-O,w&&(O-=w/g)):x==="mirror"&&(L=s)),P=lf(0,1,O)*g}const F=R?{done:!1,value:c[0]}:L.next(P);l&&(F.value=l(F.value));let{done:j}=F;!R&&f!==null&&(j=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return U&&r!==void 0&&(F.value=AE(c,this.options,r)),A&&A(F.value),U&&this.finish(),F}get duration(){const{resolved:e}=this;return e?Vu(e.calculatedDuration):0}get time(){return Vu(this.currentTime)}set time(e){e=zu(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Vu(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=rte,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const ote=new Set(["opacity","clipPath","filter","transform"]),lte=I3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),KS=10,cte=2e4;function ute(n){return B3(n.type)||n.type==="spring"||!kL(n.ease)}function hte(n,e){const t=new iR({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let a=0;for(;!i.done&&a<cte;)i=t.sample(a),r.push(i.value),a+=KS;return{times:void 0,keyframes:r,duration:a-KS,ease:"linear"}}const V8={anticipate:y8,backInOut:g8,circInOut:v8};function fte(n){return n in V8}class m5 extends N8{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:a}=this.options;this.resolver=new O8(a,(s,l)=>this.onKeyframesResolved(s,l),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:r,ease:a,type:s,motionValue:l,name:c,startTime:f}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&l1()&&fte(a)&&(a=V8[a]),ute(this.options)){const{onComplete:g,onUpdate:y,motionValue:v,element:x,...w}=this.options,A=hte(e,w);e=A.keyframes,e.length===1&&(e[1]=e[0]),i=A.duration,r=A.times,a=A.ease,s="keyframes"}const p=G$(l.owner.current,c,e,{...this.options,duration:i,times:r,ease:a});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(HD(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;l.set(AE(e,this.options,t)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:i,times:r,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Vu(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Vu(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=zu(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Jl;const{animation:i}=t;HD(i,e)}return Jl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:a,ease:s,times:l}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:g,element:y,...v}=this.options,x=new iR({...v,keyframes:i,duration:r,type:a,ease:s,times:l,isGenerator:!0}),w=zu(this.time);f.setWithVelocity(x.sample(w-KS).value,x.sample(w).value,KS)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:a,damping:s,type:l}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=t.owner.getProps();return lte()&&i&&ote.has(i)&&(i!=="transform"||!f)&&!c&&!r&&a!=="mirror"&&s!==0&&l!=="inertia"}}const dte={type:"spring",stiffness:500,damping:25,restSpeed:10},pte=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),mte={type:"keyframes",duration:.8},gte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yte=(n,{keyframes:e})=>e.length>2?mte:Lm.has(n)?n.startsWith("scale")?pte(e[1]):dte:gte;function _te({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:f,...p}){return!!Object.keys(p).length}const rR=(n,e,t,i={},r,a)=>s=>{const l=O3(i,n)||{},c=l.delay||i.delay||0;let{elapsed:f=0}=i;f=f-zu(c);let p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:a?void 0:r};_te(l)||(p={...p,...yte(n,p)}),p.duration&&(p.duration=zu(p.duration)),p.repeatDelay&&(p.repeatDelay=zu(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),p.allowFlatten=!l.type&&!l.ease,g&&!a&&e.get()!==void 0){const y=AE(p.keyframes,l);if(y!==void 0)return pr.update(()=>{p.onUpdate(y),p.onComplete()}),new j$([])}return!a&&m5.supports(p)?new m5(p):new iR(p)};function vte({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function j8(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:s,...l}=e;i&&(a=i);const c=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const p in l){const g=n.getValue(p,n.latestValues[p]??null),y=l[p];if(y===void 0||f&&vte(f,p))continue;const v={delay:t,...O3(a||{},p)};let x=!1;if(window.MotionHandoffAnimation){const A=h8(n);if(A){const M=window.MotionHandoffAnimation(A,p,pr);M!==null&&(v.startTime=M,x=!0)}}Lw(n,p),g.start(rR(p,g,y,n.shouldReduceMotion&&u8.has(p)?{type:!1}:v,n,x));const w=g.animation;w&&c.push(w)}return s&&Promise.all(c).then(()=>{pr.update(()=>{s&&YZ(n,s)})}),c}function qw(n,e,t={}){var c;const i=d1(n,e,t.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(j8(n,i,t)):()=>Promise.resolve(),s=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=r;return bte(n,e,p+f,g,y,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[f,p]=l==="beforeChildren"?[a,s]:[s,a];return f().then(()=>p())}else return Promise.all([a(),s(t.delay)])}function bte(n,e,t=0,i=0,r=1,a){const s=[],l=(n.variantChildren.size-1)*i,c=r===1?(f=0)=>f*i:(f=0)=>l-f*i;return Array.from(n.variantChildren).sort(xte).forEach((f,p)=>{f.notify("AnimationStart",e),s.push(qw(f,e,{...a,delay:t+c(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(s)}function xte(n,e){return n.sortNodePosition(e)}function Mte(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>qw(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=qw(n,e,t);else{const r=typeof e=="function"?d1(n,e,t.custom):e;i=Promise.all(j8(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function k8(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Ste=z3.length;function H8(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?H8(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Ste;t++){const i=z3[t],r=n.props[i];(u1(r)||r===!1)&&(e[i]=r)}return e}const Ate=[...F3].reverse(),Ete=F3.length;function Tte(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Mte(n,t,i)))}function Cte(n){let e=Tte(n),t=g5(),i=!0;const r=c=>(f,p)=>{var y;const g=d1(n,p,c==="exit"?(y=n.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:v,transitionEnd:x,...w}=g;f={...f,...w,...x}}return f};function a(c){e=c(n)}function s(c){const{props:f}=n,p=H8(n.parent)||{},g=[],y=new Set;let v={},x=1/0;for(let A=0;A<Ete;A++){const M=Ate[A],R=t[M],P=f[M]!==void 0?f[M]:p[M],L=u1(P),F=M===c?R.isActive:null;F===!1&&(x=A);let j=P===p[M]&&P!==f[M]&&L;if(j&&i&&n.manuallyAnimateOnMount&&(j=!1),R.protectedKeys={...v},!R.isActive&&F===null||!P&&!R.prevProp||ME(P)||typeof P=="boolean")continue;const U=wte(R.prevProp,P);let N=U||M===c&&R.isActive&&!j&&L||A>x&&L,B=!1;const O=Array.isArray(P)?P:[P];let H=O.reduce(r(M),{});F===!1&&(H={});const{prevResolvedValues:Q={}}=R,G={...Q,...H},he=Z=>{N=!0,y.has(Z)&&(B=!0,y.delete(Z)),R.needsAnimating[Z]=!0;const re=n.getValue(Z);re&&(re.liveStyle=!1)};for(const Z in G){const re=H[Z],be=Q[Z];if(v.hasOwnProperty(Z))continue;let $=!1;Nw(re)&&Nw(be)?$=!k8(re,be):$=re!==be,$?re!=null?he(Z):y.add(Z):re!==void 0&&y.has(Z)?he(Z):R.protectedKeys[Z]=!0}R.prevProp=P,R.prevResolvedValues=H,R.isActive&&(v={...v,...H}),i&&n.blockInitialAnimation&&(N=!1),N&&(!(j&&U)||B)&&g.push(...O.map(Z=>({animation:Z,options:{type:M}})))}if(y.size){const A={};if(typeof f.initial!="boolean"){const M=d1(n,Array.isArray(f.initial)?f.initial[0]:f.initial);M&&M.transition&&(A.transition=M.transition)}y.forEach(M=>{const R=n.getBaseTarget(M),P=n.getValue(M);P&&(P.liveStyle=!0),A[M]=R??null}),g.push({animation:A})}let w=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(g):Promise.resolve()}function l(c,f){var g;if(t[c].isActive===f)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(y=>{var v;return(v=y.animationState)==null?void 0:v.setActive(c,f)}),t[c].isActive=f;const p=s(c);for(const y in t)t[y].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>t,reset:()=>{t=g5(),i=!0}}}function wte(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!k8(e,n):!1}function Dp(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g5(){return{animate:Dp(!0),whileInView:Dp(),whileHover:Dp(),whileTap:Dp(),whileDrag:Dp(),whileFocus:Dp(),exit:Dp()}}class kd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Rte extends kd{constructor(e){super(e),e.animationState||(e.animationState=Cte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ME(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Ite=0;class Pte extends kd{constructor(){super(...arguments),this.id=Ite++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Dte={animation:{Feature:Rte},exit:{Feature:Pte}};function m1(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Q1(n){return{point:{x:n.pageX,y:n.pageY}}}const Bte=n=>e=>U3(e)&&n(e,Q1(e));function Dv(n,e,t,i){return m1(n,e,Bte(t),i)}function G8({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Ote({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Nte(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const X8=1e-4,Lte=1-X8,Ute=1+X8,q8=.01,Fte=0-q8,zte=0+q8;function ho(n){return n.max-n.min}function Vte(n,e,t){return Math.abs(n-e)<=t}function y5(n,e,t,i=.5){n.origin=i,n.originPoint=Fr(e.min,e.max,n.origin),n.scale=ho(t)/ho(e),n.translate=Fr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Lte&&n.scale<=Ute||isNaN(n.scale))&&(n.scale=1),(n.translate>=Fte&&n.translate<=zte||isNaN(n.translate))&&(n.translate=0)}function Bv(n,e,t,i){y5(n.x,e.x,t.x,i?i.originX:void 0),y5(n.y,e.y,t.y,i?i.originY:void 0)}function _5(n,e,t){n.min=t.min+e.min,n.max=n.min+ho(e)}function jte(n,e,t){_5(n.x,e.x,t.x),_5(n.y,e.y,t.y)}function v5(n,e,t){n.min=e.min-t.min,n.max=n.min+ho(e)}function Ov(n,e,t){v5(n.x,e.x,t.x),v5(n.y,e.y,t.y)}const b5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mg=()=>({x:b5(),y:b5()}),x5=()=>({min:0,max:0}),aa=()=>({x:x5(),y:x5()});function Hl(n){return[n("x"),n("y")]}function FT(n){return n===void 0||n===1}function Ww({scale:n,scaleX:e,scaleY:t}){return!FT(n)||!FT(e)||!FT(t)}function Wp(n){return Ww(n)||W8(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function W8(n){return M5(n.x)||M5(n.y)}function M5(n){return n&&n!=="0%"}function JS(n,e,t){const i=n-t,r=e*i;return t+r}function S5(n,e,t,i,r){return r!==void 0&&(n=JS(n,r,i)),JS(n,t,i)+e}function Yw(n,e=0,t=1,i,r){n.min=S5(n.min,e,t,i,r),n.max=S5(n.max,e,t,i,r)}function Y8(n,{x:e,y:t}){Yw(n.x,e.translate,e.scale,e.originPoint),Yw(n.y,t.translate,t.scale,t.originPoint)}const A5=.999999999999,E5=1.0000000000001;function kte(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,s;for(let l=0;l<r;l++){a=t[l],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ag(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Y8(n,s)),i&&Wp(a.latestValues)&&Ag(n,a.latestValues))}e.x<E5&&e.x>A5&&(e.x=1),e.y<E5&&e.y>A5&&(e.y=1)}function Sg(n,e){n.min=n.min+e,n.max=n.max+e}function T5(n,e,t,i,r=.5){const a=Fr(n.min,n.max,r);Yw(n,e,t,a,i)}function Ag(n,e){T5(n.x,e.x,e.scaleX,e.scale,e.originX),T5(n.y,e.y,e.scaleY,e.scale,e.originY)}function K8(n,e){return G8(Nte(n.getBoundingClientRect(),e))}function Hte(n,e,t){const i=K8(n,t),{scroll:r}=e;return r&&(Sg(i.x,r.offset.x),Sg(i.y,r.offset.y)),i}const J8=({current:n})=>n?n.ownerDocument.defaultView:null,C5=(n,e)=>Math.abs(n-e);function Gte(n,e){const t=C5(n.x,e.x),i=C5(n.y,e.y);return Math.sqrt(t**2+i**2)}class Q8{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=VT(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=Gte(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:x}=g,{timestamp:w}=us;this.history.push({...x,timestamp:w});const{onStart:A,onMove:M}=this.handlers;y||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=zT(y,this.transformPagePoint),pr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=VT(g.type==="pointercancel"?this.lastMoveEventInfo:zT(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,A),x&&x(g,A)},!U3(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const s=Q1(e),l=zT(s,this.transformPagePoint),{point:c}=l,{timestamp:f}=us;this.history=[{...c,timestamp:f}];const{onSessionStart:p}=t;p&&p(e,VT(l,this.history)),this.removeListeners=J1(Dv(this.contextWindow,"pointermove",this.handlePointerMove),Dv(this.contextWindow,"pointerup",this.handlePointerUp),Dv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rd(this.updatePoint)}}function zT(n,e){return e?{point:e(n.point)}:n}function w5(n,e){return{x:n.x-e.x,y:n.y-e.y}}function VT({point:n},e){return{point:n,delta:w5(n,$8(e)),offset:w5(n,Xte(e)),velocity:qte(e,.1)}}function Xte(n){return n[0]}function $8(n){return n[n.length-1]}function qte(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=$8(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>zu(e)));)t--;if(!i)return{x:0,y:0};const a=Vu(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const s={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Wte(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Fr(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Fr(t,n,i.max):Math.min(n,t)),n}function R5(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Yte(n,{top:e,left:t,bottom:i,right:r}){return{x:R5(n.x,t,r),y:R5(n.y,e,i)}}function I5(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Kte(n,e){return{x:I5(n.x,e.x),y:I5(n.y,e.y)}}function Jte(n,e){let t=.5;const i=ho(n),r=ho(e);return r>i?t=o1(e.min,e.max-i,n.min):i>r&&(t=o1(n.min,n.max-r,e.min)),lf(0,1,t)}function Qte(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Kw=.35;function $te(n=Kw){return n===!1?n=0:n===!0&&(n=Kw),{x:P5(n,"left","right"),y:P5(n,"top","bottom")}}function P5(n,e,t){return{min:D5(n,e),max:D5(n,t)}}function D5(n,e){return typeof n=="number"?n:n[e]||0}const Zte=new WeakMap;class ene{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=aa(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Q1(p).point)},a=(p,g)=>{const{drag:y,dragPropagation:v,onDragStart:x}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=K$(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hl(A=>{let M=this.getAxisMotionValue(A).get()||0;if(ku.test(M)){const{projection:R}=this.visualElement;if(R&&R.layout){const P=R.layout.layoutBox[A];P&&(M=ho(P)*(parseFloat(M)/100))}}this.originPoint[A]=M}),x&&pr.postRender(()=>x(p,g)),Lw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(p,g)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:x,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:A}=g;if(v&&this.currentDirection===null){this.currentDirection=tne(A),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),w&&w(p,g)},l=(p,g)=>this.stop(p,g),c=()=>Hl(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Q8(e,{onSessionStart:r,onStart:a,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:J8(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&pr.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Zx(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=Wte(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;e&&bg(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Yte(i.layoutBox,e):this.constraints=!1,this.elastic=$te(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hl(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Qte(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!bg(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=Hte(i,r.root,this.visualElement.getTransformPagePoint());let s=Kte(r.layout.layoutBox,a);if(t){const l=t(Ote(s));this.hasMutatedConstraints=!!l,l&&(s=G8(l))}return s}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},f=Hl(p=>{if(!Zx(p,t,this.currentDirection))return;let g=c&&c[p]||{};s&&(g={min:0,max:0});const y=r?200:1e6,v=r?40:1e7,x={type:"inertia",velocity:i?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,x)});return Promise.all(f).then(l)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Lw(this.visualElement,e),i.start(rR(e,i,0,t,this.visualElement,!1))}stopAnimation(){Hl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hl(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Hl(t=>{const{drag:i}=this.getProps();if(!Zx(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:s,max:l}=r.layout.layoutBox[t];a.set(e[t]-Fr(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!bg(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Hl(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();r[s]=Jte({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Hl(s=>{if(!Zx(s,e,null))return;const l=this.getAxisMotionValue(s),{min:c,max:f}=this.constraints[s];l.set(Fr(c,f,r[s]))})}addListeners(){if(!this.visualElement.current)return;Zte.set(this.visualElement,this);const e=this.visualElement.current,t=Dv(e,"pointerdown",c=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();bg(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),pr.read(i);const s=m1(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Hl(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=c[p].translate,g.set(g.get()+c[p].translate))}),this.visualElement.render())});return()=>{s(),t(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=Kw,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function Zx(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function tne(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class nne extends kd{constructor(e){super(e),this.removeGroupControls=Jl,this.removeListeners=Jl,this.controls=new ene(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jl}unmount(){this.removeGroupControls(),this.removeListeners()}}const B5=n=>(e,t)=>{n&&pr.postRender(()=>n(e,t))};class ine extends kd{constructor(){super(...arguments),this.removePointerDownListener=Jl}onPointerDown(e){this.session=new Q8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:B5(e),onStart:B5(t),onMove:i,onEnd:(a,s)=>{delete this.session,r&&pr.postRender(()=>r(a,s))}}}mount(){this.removePointerDownListener=Dv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function O5(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const k_={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Cn.test(n))n=parseFloat(n);else return n;const t=O5(n,e.target.x),i=O5(n,e.target.y);return`${t}% ${i}%`}},rne={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Id.parse(n);if(r.length>5)return i;const a=Id.createTransformer(n),s=typeof r[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;r[0+s]/=l,r[1+s]/=c;const f=Fr(l,c,.5);return typeof r[2+s]=="number"&&(r[2+s]/=f),typeof r[3+s]=="number"&&(r[3+s]/=f),a(r)}};class ane extends Y.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;MZ(sne),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),xS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,s=i.projection;return s&&(s.isPresent=a,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||pr.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),L3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Z8(n){const[e,t]=LL(),i=Y.useContext(A3);return C.jsx(ane,{...n,layoutGroup:i,switchLayoutGroup:Y.useContext(QL),isPresent:e,safeToRemove:t})}const sne={borderRadius:{...k_,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:k_,borderTopRightRadius:k_,borderBottomLeftRadius:k_,borderBottomRightRadius:k_,boxShadow:rne};function one(n,e,t){const i=zs(n)?n:c1(n);return i.start(rR("",i,e,t)),i.animation}function lne(n){return n instanceof SVGElement&&n.tagName!=="svg"}const cne=(n,e)=>n.depth-e.depth;class une{constructor(){this.children=[],this.isDirty=!1}add(e){w3(this.children,e),this.isDirty=!0}remove(e){R3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cne),this.isDirty=!1,this.children.forEach(e)}}function hne(n,e){const t=ju.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(Rd(i),n(a-e))};return pr.read(i,!0),()=>Rd(i)}const eU=["TopLeft","TopRight","BottomLeft","BottomRight"],fne=eU.length,N5=n=>typeof n=="string"?parseFloat(n):n,L5=n=>typeof n=="number"||Cn.test(n);function dne(n,e,t,i,r,a){r?(n.opacity=Fr(0,t.opacity??1,pne(i)),n.opacityExit=Fr(e.opacity??1,0,mne(i))):a&&(n.opacity=Fr(e.opacity??1,t.opacity??1,i));for(let s=0;s<fne;s++){const l=`border${eU[s]}Radius`;let c=U5(e,l),f=U5(t,l);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||L5(c)===L5(f)?(n[l]=Math.max(Fr(N5(c),N5(f),i),0),(ku.test(f)||ku.test(c))&&(n[l]+="%")):n[l]=f}(e.rotate||t.rotate)&&(n.rotate=Fr(e.rotate||0,t.rotate||0,i))}function U5(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const pne=tU(0,.5,_8),mne=tU(.5,.95,Jl);function tU(n,e,t){return i=>i<n?0:i>e?1:t(o1(n,e,i))}function F5(n,e){n.min=e.min,n.max=e.max}function Vl(n,e){F5(n.x,e.x),F5(n.y,e.y)}function z5(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function V5(n,e,t,i,r){return n-=e,n=JS(n,1/t,i),r!==void 0&&(n=JS(n,1/r,i)),n}function gne(n,e=0,t=1,i=.5,r,a=n,s=n){if(ku.test(e)&&(e=parseFloat(e),e=Fr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=Fr(a.min,a.max,i);n===a&&(l-=e),n.min=V5(n.min,e,t,l,r),n.max=V5(n.max,e,t,l,r)}function j5(n,e,[t,i,r],a,s){gne(n,e[t],e[i],e[r],e.scale,a,s)}const yne=["x","scaleX","originX"],_ne=["y","scaleY","originY"];function k5(n,e,t,i){j5(n.x,e,yne,t?t.x:void 0,i?i.x:void 0),j5(n.y,e,_ne,t?t.y:void 0,i?i.y:void 0)}function H5(n){return n.translate===0&&n.scale===1}function nU(n){return H5(n.x)&&H5(n.y)}function G5(n,e){return n.min===e.min&&n.max===e.max}function vne(n,e){return G5(n.x,e.x)&&G5(n.y,e.y)}function X5(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function iU(n,e){return X5(n.x,e.x)&&X5(n.y,e.y)}function q5(n){return ho(n.x)/ho(n.y)}function W5(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class bne{constructor(){this.members=[]}add(e){w3(this.members,e),e.scheduleRender()}remove(e){if(R3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xne(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,s=(t==null?void 0:t.z)||0;if((r||a||s)&&(i=`translate3d(${r}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:x}=t;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),v&&(i+=`skewX(${v}deg) `),x&&(i+=`skewY(${x}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const jT=["","X","Y","Z"],Mne={visibility:"hidden"},Y5=1e3;let Sne=0;function kT(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function rU(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=h8(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",pr,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&rU(i)}function aU({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},l=e==null?void 0:e()){this.id=Sne++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tne),this.nodes.forEach(Pne),this.nodes.forEach(Dne),this.nodes.forEach(Cne)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new une)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new P3),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lne(s),this.instance=s;const{layoutId:c,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(f||c)&&(this.isLayoutDirty=!0),n){let g;const y=()=>this.root.updateBlockedByResize=!1;n(s,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=hne(y,250),xS.hasAnimatedSinceResize&&(xS.hasAnimatedSinceResize=!1,this.nodes.forEach(J5))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||Une,{onLayoutAnimationStart:A,onLayoutAnimationComplete:M}=p.getProps(),R=!this.targetLayout||!iU(this.targetLayout,x),P=!y&&v;if(this.options.layoutRoot||this.resumeFrom||P||y&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,P);const L={...O3(w,"layout"),onPlay:A,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else y||J5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bne),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(K5);return}this.isUpdating||this.nodes.forEach(Rne),this.isUpdating=!1,this.nodes.forEach(Ine),this.nodes.forEach(Ane),this.nodes.forEach(Ene),this.clearAllSnapshots();const l=ju.now();us.delta=lf(0,1e3/60,l-us.timestamp),us.timestamp=l,us.isProcessing=!0,BT.update.process(us),BT.preRender.process(us),BT.render.process(us),us.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,L3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wne),this.sharedNodes.forEach(One)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ho(this.snapshot.measuredBox.x)&&!ho(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=aa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!nU(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;s&&(l||Wp(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),Fne(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:s}=this.options;if(!s)return aa();const l=s.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(zne))){const{scroll:p}=this.root;p&&(Sg(l.x,p.offset.x),Sg(l.y,p.offset.y))}return l}removeElementScroll(s){var c;const l=aa();if(Vl(l,s),(c=this.scroll)!=null&&c.wasRoot)return l;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Vl(l,s),Sg(l.x,g.offset.x),Sg(l.y,g.offset.y))}return l}applyTransform(s,l=!1){const c=aa();Vl(c,s);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ag(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Wp(p.latestValues)&&Ag(c,p.latestValues)}return Wp(this.latestValues)&&Ag(c,this.latestValues),c}removeTransform(s){const l=aa();Vl(l,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Wp(f.latestValues))continue;Ww(f.latestValues)&&f.updateSnapshot();const p=aa(),g=f.measurePageBox();Vl(p,g),k5(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Wp(this.latestValues)&&k5(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==us.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=us.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=aa(),this.relativeTargetOrigin=aa(),Ov(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Vl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=aa(),this.targetWithTransforms=aa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vl(this.target,this.layout.layoutBox),Y8(this.target,this.targetDelta)):Vl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=aa(),this.relativeTargetOrigin=aa(),Ov(this.relativeTargetOrigin,this.target,v.target),Vl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ww(this.parent.latestValues)||W8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===us.timestamp&&(c=!1),c)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Vl(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;kte(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=aa());const{target:v}=s;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(z5(this.prevProjectionDelta.x,this.projectionDelta.x),z5(this.prevProjectionDelta.y,this.projectionDelta.y)),Bv(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!W5(this.projectionDelta.x,this.prevProjectionDelta.x)||!W5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mg(),this.projectionDelta=Mg(),this.projectionDeltaWithTransform=Mg()}setAnimationOrigin(s,l=!1){const c=this.snapshot,f=c?c.latestValues:{},p={...this.latestValues},g=Mg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=aa(),v=c?c.source:void 0,x=this.layout?this.layout.source:void 0,w=v!==x,A=this.getStack(),M=!A||A.members.length<=1,R=!!(w&&!M&&this.options.crossfade===!0&&!this.path.some(Lne));this.animationProgress=0;let P;this.mixTargetDelta=L=>{const F=L/1e3;Q5(g.x,s.x,F),Q5(g.y,s.y,F),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ov(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nne(this.relativeTarget,this.relativeTargetOrigin,y,F),P&&vne(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=aa()),Vl(P,this.relativeTarget)),w&&(this.animationValues=p,dne(p,f,this.latestValues,F,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pr.update(()=>{xS.hasAnimatedSinceResize=!0,this.currentAnimation=one(0,Y5,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:f,latestValues:p}=s;if(!(!l||!c||!f)){if(this!==s&&this.layout&&f&&sU(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||aa();const g=ho(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+g;const y=ho(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+y}Vl(l,c),Ag(l,p),Bv(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new bne),this.sharedNodes.get(s).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var l;const{layoutId:s}=this.options;return s?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:s}=this.options;return s?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const f={};c.z&&kT("z",s,f,this.animationValues);for(let p=0;p<jT.length;p++)kT(`rotate${jT[p]}`,s,f,this.animationValues),kT(`skew${jT[p]}`,s,f,this.animationValues);s.render();for(const p in f)s.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Mne;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=bS(s==null?void 0:s.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=bS(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Wp(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=xne(this.projectionDeltaWithTransform,this.treeScale,p),c&&(l.transform=c(p,l.transform));const{x:g,y}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in h1){if(p[v]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:A}=h1[v],M=l.transform==="none"?p[v]:x(p[v],f);if(w){const R=w.length;for(let P=0;P<R;P++)l[w[P]]=M}else A?this.options.visualElement.renderState.vars[v]=M:l[v]=M}return this.options.layoutId&&(l.pointerEvents=f===this?bS(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(K5),this.root.sharedNodes.clear()}}}function Ane(n){n.updateLayout()}function Ene(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:a}=n.options,s=e.source!==n.layout.source;a==="size"?Hl(g=>{const y=s?e.measuredBox[g]:e.layoutBox[g],v=ho(y);y.min=i[g].min,y.max=y.min+v}):sU(a,e.layoutBox,i)&&Hl(g=>{const y=s?e.measuredBox[g]:e.layoutBox[g],v=ho(i[g]);y.max=y.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+v)});const l=Mg();Bv(l,i,e.layoutBox);const c=Mg();s?Bv(c,n.applyTransform(r,!0),e.measuredBox):Bv(c,i,e.layoutBox);const f=!nU(l);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const x=aa();Ov(x,e.layoutBox,y.layoutBox);const w=aa();Ov(w,i,v.layoutBox),iU(x,w)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=x,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function Tne(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Cne(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function wne(n){n.clearSnapshot()}function K5(n){n.clearMeasurements()}function Rne(n){n.isLayoutDirty=!1}function Ine(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function J5(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Pne(n){n.resolveTargetDelta()}function Dne(n){n.calcProjection()}function Bne(n){n.resetSkewAndRotation()}function One(n){n.removeLeadSnapshot()}function Q5(n,e,t){n.translate=Fr(e.translate,0,t),n.scale=Fr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function $5(n,e,t,i){n.min=Fr(e.min,t.min,i),n.max=Fr(e.max,t.max,i)}function Nne(n,e,t,i){$5(n.x,e.x,t.x,i),$5(n.y,e.y,t.y,i)}function Lne(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Une={duration:.45,ease:[.4,0,.1,1]},Z5=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),eB=Z5("applewebkit/")&&!Z5("chrome/")?Math.round:Jl;function tB(n){n.min=eB(n.min),n.max=eB(n.max)}function Fne(n){tB(n.x),tB(n.y)}function sU(n,e,t){return n==="position"||n==="preserve-aspect"&&!Vte(q5(e),q5(t),.2)}function zne(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Vne=aU({attachResizeListener:(n,e)=>m1(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),HT={current:void 0},oU=aU({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!HT.current){const n=new Vne({});n.mount(window),n.setOptions({layoutScroll:!0}),HT.current=n}return HT.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),jne={pan:{Feature:ine},drag:{Feature:nne,ProjectionNode:oU,MeasureLayout:Z8}};function nB(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&pr.postRender(()=>a(e,Q1(e)))}class kne extends kd{mount(){const{current:e}=this.node;e&&(this.unmount=Q$(e,(t,i)=>(nB(this.node,i,"Start"),r=>nB(this.node,r,"End"))))}unmount(){}}class Hne extends kd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=J1(m1(this.node.current,"focus",()=>this.onFocus()),m1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iB(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&pr.postRender(()=>a(e,Q1(e)))}class Gne extends kd{mount(){const{current:e}=this.node;e&&(this.unmount=tZ(e,(t,i)=>(iB(this.node,i,"Start"),(r,{success:a})=>iB(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jw=new WeakMap,GT=new WeakMap,Xne=n=>{const e=Jw.get(n.target);e&&e(n)},qne=n=>{n.forEach(Xne)};function Wne({root:n,...e}){const t=n||document;GT.has(t)||GT.set(t,{});const i=GT.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(qne,{root:n,...e})),i[r]}function Yne(n,e,t){const i=Wne(e);return Jw.set(n,t),i.observe(n),()=>{Jw.delete(n),i.unobserve(n)}}const Kne={some:0,all:1};class Jne extends kd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Kne[r]},l=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=f?p:g;y&&y(c)};return Yne(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Qne(e,t))&&this.startObserver()}unmount(){}}function Qne({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const $ne={inView:{Feature:Jne},tap:{Feature:Gne},focus:{Feature:Hne},hover:{Feature:kne}},Zne={layout:{ProjectionNode:oU,MeasureLayout:Z8}},Qw={current:null},lU={current:!1};function eie(){if(lU.current=!0,!!T3)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qw.current=n.matches;n.addListener(e),e()}else Qw.current=!1}const tie=[...B8,Ls,Id],nie=n=>tie.find(D8(n)),iie=new WeakMap;function rie(n,e,t){for(const i in e){const r=e[i],a=t[i];if(zs(r))n.addValue(i,r);else if(zs(a))n.addValue(i,c1(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const s=n.getValue(i);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=n.getStaticValue(i);n.addValue(i,c1(s!==void 0?s:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const rB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aie{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ju.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,pr.render(this.render,!1,!0))};const{latestValues:c,renderState:f,onUpdate:p}=s;this.onUpdate=p,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=SE(t),this.isVariantNode=KL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in y){const x=y[v];c[v]!==void 0&&zs(x)&&x.set(c[v],!1)}}mount(e){this.current=e,iie.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),lU.current||eie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rd(this.notifyUpdate),Rd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Lm.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&pr.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qg){const t=qg[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):aa()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<rB.length;i++){const r=rB[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,s=e[a];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=rie(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=c1(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(I8(i)||b8(i))?i=parseFloat(i):!nie(i)&&Id.test(t)&&(i=C8(e,t)),this.setBaseTarget(e,zs(i)?i.get():i)),zs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const s=K3(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);s&&(i=s[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!zs(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new P3),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class cU extends aie{constructor(){super(...arguments),this.KeyframeResolver=O8}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function sie(n){return window.getComputedStyle(n)}class oie extends cU{constructor(){super(...arguments),this.type="html",this.renderInstance=s8}readValueFromInstance(e,t){if(Lm.has(t))return vee(e,t);{const i=sie(e),r=(j3(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return K8(e,t)}build(e,t,i){G3(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return J3(e,t,i)}}class lie extends cU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=aa,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&a8(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Lm.has(t)){const i=T8(t);return i&&i.default||0}return t=o8.has(t)?t:V3(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return c8(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&pr.postRender(this.updateDimensions)}build(e,t,i){W3(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){l8(e,t,i,r)}mount(e){this.isSVGTag=Y3(e.tagName),super.mount(e)}}const cie=(n,e)=>q3(n)?new lie(e):new oie(e,{allowProjection:n!==Y.Fragment}),uie=qZ({...Dte,...$ne,...jne,...Zne},cie),Vs=lZ(uie),hie=(n,e)=>n.find(t=>t.id===e);function aB(n,e){const t=uU(n,e),i=t?n[t].findIndex(r=>r.id===e):-1;return{position:t,index:i}}function uU(n,e){for(const[t,i]of Object.entries(n))if(hie(i,e))return t}function fie(n){const e=n.includes("right"),t=n.includes("left");let i="center";return e&&(i="flex-end"),t&&(i="flex-start"),{display:"flex",flexDirection:"column",alignItems:i}}function die(n){const t=n==="top"||n==="bottom"?"0 auto":void 0,i=n.includes("top")?"env(safe-area-inset-top, 0px)":void 0,r=n.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,a=n.includes("left")?void 0:"env(safe-area-inset-right, 0px)",s=n.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:t,top:i,bottom:r,right:a,left:s}}var pie=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mie=SL(function(n){return pie.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),gie=mie,yie=function(e){return e!=="theme"},sB=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?gie:yie},oB=function(e,t,i){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(s){return e.__emotion_forwardProp(s)&&a(s)}:a}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},_ie=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return y3(t,i,r),wL(function(){return _3(t,i,r)}),null},vie=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,a,s;t!==void 0&&(a=t.label,s=t.target);var l=oB(e,t,i),c=l||sB(r),f=!c("as");return function(){var p=arguments,g=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&g.push("label:"+a+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var y=p[0];g.push(y[0]);for(var v=p.length,x=1;x<v;x++)g.push(p[x],y[x])}var w=b3(function(A,M,R){var P=f&&A.as||r,L="",F=[],j=A;if(A.theme==null){j={};for(var U in A)j[U]=A[U];j.theme=Y.useContext(Xg)}typeof A.className=="string"?L=EL(M.registered,F,A.className):A.className!=null&&(L=A.className+" ");var N=vE(g.concat(F),M.registered,j);L+=M.key+"-"+N.name,s!==void 0&&(L+=" "+s);var B=f&&l===void 0?sB(P):c,O={};for(var H in A)f&&H==="as"||B(H)&&(O[H]=A[H]);return O.className=L,R&&(O.ref=R),Y.createElement(Y.Fragment,null,Y.createElement(_ie,{cache:M,serialized:N,isStringTag:typeof P=="string"}),Y.createElement(P,O))});return w.displayName=a!==void 0?a:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=r,w.__emotion_styles=g,w.__emotion_forwardProp=l,Object.defineProperty(w,"toString",{value:function(){return"."+s}}),w.withComponent=function(A,M){var R=n(A,Am({},t,M,{shouldForwardProp:oB(w,M,!0)}));return R.apply(void 0,g)},w}},bie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],$w=vie.bind(null);bie.forEach(function(n){$w[n]=$w(n)});const xie=new Set([...FG,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Mie=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Sie(n){return(Mie.has(n)||!xie.has(n))&&n[0]!=="_"}const Aie=KH($w),Eie=({baseStyle:n})=>e=>{const{theme:t,css:i,__css:r,sx:a,...s}=e,[l]=ZH(s,VG),c=Wl(n,e),f=jH({},r,c,s3(l),a),p=tL(f)(e.theme);return i?[p,i]:p};function XT(n,e){const{baseStyle:t,...i}=e??{};i.shouldForwardProp||(i.shouldForwardProp=Sie);const r=Eie({baseStyle:t}),a=Aie(n,i)(r);return Y.forwardRef(function(c,f){const{children:p,...g}=c,{colorMode:y,forced:v}=S3(),x=v?y:void 0;return Y.createElement(a,{ref:f,"data-theme":x,...g},p)})}function Tie(){const n=new Map;return new Proxy(XT,{apply(e,t,i){return XT(...i)},get(e,t){return n.has(t)||n.set(t,XT(t)),n.get(t)}})}const Ni=Tie(),Cie={initial:n=>{const{position:e}=n,t=["top","bottom"].includes(e)?"y":"x";let i=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(i=1),{opacity:0,[t]:i*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},hU=Y.memo(n=>{const{id:e,message:t,onCloseComplete:i,onRequestRemove:r,requestClose:a=!1,position:s="bottom",duration:l=5e3,containerStyle:c,motionVariants:f=Cie,toastSpacing:p="0.5rem"}=n,[g,y]=Y.useState(l),v=U$();uD(()=>{v||i==null||i()},[v]),uD(()=>{y(l)},[l]);const x=()=>y(null),w=()=>y(l),A=()=>{v&&r()};Y.useEffect(()=>{v&&a&&r()},[v,a,r]),aG(A,g);const M=Y.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:p,...c}),[c,p]),R=Y.useMemo(()=>fie(s),[s]);return C.jsx(Vs.div,{layout:!0,className:"chakra-toast",variants:f,initial:"initial",animate:"animate",exit:"exit",onHoverStart:x,onHoverEnd:w,custom:{position:s},style:R,children:C.jsx(Ni.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:M,children:Wl(t,{id:e,onClose:A})})})});hU.displayName="ToastComponent";function Qa(n){return Y.forwardRef(n)}var qT,lB;function wie(){if(lB)return qT;lB=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(a,s){if(a===s)return!0;if(a&&s&&typeof a=="object"&&typeof s=="object"){if(a.constructor!==s.constructor)return!1;var l,c,f;if(Array.isArray(a)){if(l=a.length,l!=s.length)return!1;for(c=l;c--!==0;)if(!r(a[c],s[c]))return!1;return!0}var p;if(e&&a instanceof Map&&s instanceof Map){if(a.size!==s.size)return!1;for(p=a.entries();!(c=p.next()).done;)if(!s.has(c.value[0]))return!1;for(p=a.entries();!(c=p.next()).done;)if(!r(c.value[1],s.get(c.value[0])))return!1;return!0}if(t&&a instanceof Set&&s instanceof Set){if(a.size!==s.size)return!1;for(p=a.entries();!(c=p.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(s)){if(l=a.length,l!=s.length)return!1;for(c=l;c--!==0;)if(a[c]!==s[c])return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof s.valueOf=="function")return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof s.toString=="function")return a.toString()===s.toString();if(f=Object.keys(a),l=f.length,l!==Object.keys(s).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(s,f[c]))return!1;if(n&&a instanceof Element)return!1;for(c=l;c--!==0;)if(!((f[c]==="_owner"||f[c]==="__v"||f[c]==="__o")&&a.$$typeof)&&!r(a[f[c]],s[f[c]]))return!1;return!0}return a!==a&&s!==s}return qT=function(s,l){try{return r(s,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},qT}var Rie=wie();const Iie=V1(Rie);function fU(){const n=Y.useContext(Xg);if(!n)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return n}function dU(){const n=S3(),e=fU();return{...n,theme:e}}function pU(n,e={}){const{styleConfig:t,...i}=e,{theme:r,colorMode:a}=dU(),s=n?YN(r,`components.${n}`):void 0,l=t||s,c=Yl({theme:r,colorMode:a},(l==null?void 0:l.defaultProps)??{},s3(G1(i,["children"])),(p,g)=>p?void 0:g),f=Y.useRef({});if(l){const g=QG(l)(c);Iie(f.current,g)||(f.current=g)}return f.current}function Hd(n,e={}){return pU(n,e)}function aR(n,e={}){return pU(n,e)}const cB={path:C.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[C.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),C.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),C.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},$1=Qa((n,e)=>{const{as:t,viewBox:i,color:r="currentColor",focusable:a=!1,children:s,className:l,__css:c,...f}=n,p=mo("chakra-icon",l),g=Hd("Icon",n),y={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:r,...c,...g},v={ref:e,focusable:a,className:p,__css:y},x=i??cB.viewBox;if(t&&typeof t!="string")return C.jsx(Ni.svg,{as:t,...v,...f});const w=s??cB.path;return C.jsx(Ni.svg,{verticalAlign:"middle",viewBox:x,...v,...f,children:w})});$1.displayName="Icon";function Pie(n){return C.jsx($1,{viewBox:"0 0 24 24",...n,children:C.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function Die(n){return C.jsx($1,{viewBox:"0 0 24 24",...n,children:C.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function uB(n){return C.jsx($1,{viewBox:"0 0 24 24",...n,children:C.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const Bie=v$({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),EE=Qa((n,e)=>{const t=Hd("Spinner",n),{label:i="Loading...",thickness:r="2px",speed:a="0.45s",emptyColor:s="transparent",className:l,...c}=ah(n),f=mo("chakra-spinner",l),p={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:r,borderBottomColor:s,borderLeftColor:s,animation:`${Bie} ${a} linear infinite`,...t};return C.jsx(Ni.div,{ref:e,__css:p,className:f,...c,children:i&&C.jsx(Ni.span,{srOnly:!0,children:i})})});EE.displayName="Spinner";const[Oie,sR]=mf({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Nie,oR]=mf({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),mU={info:{icon:Die,colorScheme:"blue"},warning:{icon:uB,colorScheme:"orange"},success:{icon:Pie,colorScheme:"green"},error:{icon:uB,colorScheme:"red"},loading:{icon:EE,colorScheme:"blue"}};function Lie(n){return mU[n].colorScheme}function Uie(n){return mU[n].icon}const gU=Qa(function(e,t){const{status:i="info",addRole:r=!0,...a}=ah(e),s=e.colorScheme??Lie(i),l=aR("Alert",{...e,colorScheme:s}),c={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return C.jsx(Oie,{value:{status:i},children:C.jsx(Nie,{value:l,children:C.jsx(Ni.div,{"data-status":i,role:r?"alert":void 0,ref:t,...a,className:mo("chakra-alert",e.className),__css:c})})})});gU.displayName="Alert";function yU(n){const{status:e}=sR(),t=Uie(e),i=oR(),r=e==="loading"?i.spinner:i.icon;return C.jsx(Ni.span,{display:"inherit","data-status":e,...n,className:mo("chakra-alert__icon",n.className),__css:r,children:n.children||C.jsx(t,{h:"100%",w:"100%"})})}yU.displayName="AlertIcon";const _U=Qa(function(e,t){const i=oR(),{status:r}=sR();return C.jsx(Ni.div,{ref:t,"data-status":r,...e,className:mo("chakra-alert__title",e.className),__css:i.title})});_U.displayName="AlertTitle";const vU=Qa(function(e,t){const{status:i}=sR(),r=oR(),a={display:"inline",...r.description};return C.jsx(Ni.div,{ref:t,"data-status":i,...e,className:mo("chakra-alert__desc",e.className),__css:a})});vU.displayName="AlertDescription";function Fie(n){return C.jsx($1,{focusable:"false","aria-hidden":!0,...n,children:C.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const bU=Qa(function(e,t){const i=Hd("CloseButton",e),{children:r,isDisabled:a,__css:s,...l}=ah(e),c={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return C.jsx(Ni.button,{type:"button","aria-label":"Close",ref:t,disabled:a,__css:{...c,...i,...s},...l,children:r||C.jsx(Fie,{width:"1em",height:"1em"})})});bU.displayName="CloseButton";const zie=n=>{const{status:e,variant:t="solid",id:i,title:r,isClosable:a,onClose:s,description:l,colorScheme:c,icon:f}=n,p=i?{root:`toast-${i}`,title:`toast-${i}-title`,description:`toast-${i}-description`}:void 0;return C.jsxs(gU,{addRole:!1,status:e,variant:t,id:p==null?void 0:p.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:c,children:[C.jsx(yU,{children:f}),C.jsxs(Ni.div,{flex:"1",maxWidth:"100%",children:[r&&C.jsx(_U,{id:p==null?void 0:p.title,children:r}),l&&C.jsx(vU,{id:p==null?void 0:p.description,display:"block",children:l})]}),a&&C.jsx(bU,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function xU(n={}){const{render:e,toastComponent:t=zie}=n;return r=>typeof e=="function"?e({...r,...n}):C.jsx(t,{...r,...n})}const Vie={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Ou=jie(Vie);function jie(n){let e=n;const t=new Set,i=r=>{e=r(e),t.forEach(a=>a())};return{getState:()=>e,subscribe:r=>(t.add(r),()=>{i(()=>n),t.delete(r)}),removeToast:(r,a)=>{i(s=>({...s,[a]:s[a].filter(l=>l.id!=r)}))},notify:(r,a)=>{const s=kie(r,a),{position:l,id:c}=s;return i(f=>{const g=l.includes("top")?[s,...f[l]??[]]:[...f[l]??[],s];return{...f,[l]:g}}),c},update:(r,a)=>{r&&i(s=>{const l={...s},{position:c,index:f}=aB(l,r);return c&&f!==-1&&(l[c][f]={...l[c][f],...a,message:xU(a)}),l})},closeAll:({positions:r}={})=>{i(a=>(r??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((c,f)=>(c[f]=a[f].map(p=>({...p,requestClose:!0})),c),{...a}))},close:r=>{i(a=>{const s=uU(a,r);return s?{...a,[s]:a[s].map(l=>l.id==r?{...l,requestClose:!0}:l)}:a})},isActive:r=>!!aB(Ou.getState(),r).position}}let hB=0;function kie(n,e={}){hB+=1;const t=e.id??hB,i=e.position??"bottom";return{id:t,message:n,position:i,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>Ou.removeToast(String(t),i),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}const[MU,Hie]=mf({strict:!1,name:"PortalContext"}),lR="chakra-portal",Gie=".chakra-portal",Xie=n=>C.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:n.zIndex,top:0,left:0,right:0},children:n.children}),qie=n=>{const{appendToParentPortal:e,children:t}=n,[i,r]=Y.useState(null),a=Y.useRef(null),[,s]=Y.useState({});Y.useEffect(()=>s({}),[]);const l=Hie(),c=P$();zS(()=>{if(!i)return;const p=i.ownerDocument,g=e?l??p.body:p.body;if(!g)return;a.current=p.createElement("div"),a.current.className=lR,g.appendChild(a.current),s({});const y=a.current;return()=>{g.contains(y)&&g.removeChild(y)}},[i]);const f=c!=null&&c.zIndex?C.jsx(Xie,{zIndex:c==null?void 0:c.zIndex,children:t}):t;return a.current?qN.createPortal(C.jsx(MU,{value:a.current,children:f}),a.current):C.jsx("span",{ref:p=>{p&&r(p)}})},Wie=n=>{const{children:e,containerRef:t,appendToParentPortal:i}=n,r=t.current,a=r??(typeof window<"u"?document.body:void 0),s=Y.useMemo(()=>{const c=r==null?void 0:r.ownerDocument.createElement("div");return c&&(c.className=lR),c},[r]),[,l]=Y.useState({});return zS(()=>l({}),[]),zS(()=>{if(!(!s||!a))return a.appendChild(s),()=>{a.removeChild(s)}},[s,a]),a&&s?qN.createPortal(C.jsx(MU,{value:i?s:null,children:e}),s):null};function Z1(n){const e={appendToParentPortal:!0,...n},{containerRef:t,...i}=e;return t?C.jsx(Wie,{containerRef:t,...i}):C.jsx(qie,{...i})}Z1.className=lR;Z1.selector=Gie;Z1.displayName="Portal";const[Yie,Kie]=mf({name:"ToastOptionsContext",strict:!1}),Jie=n=>{const e=Y.useSyncExternalStore(Ou.subscribe,Ou.getState,Ou.getState),{motionVariants:t,component:i=hU,portalProps:r,animatePresenceProps:a}=n,l=Object.keys(e).map(c=>{const f=e[c];return C.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${c}`,id:`chakra-toast-manager-${c}`,style:die(c),children:C.jsx(UL,{...a,initial:!1,children:f.map(p=>C.jsx(i,{motionVariants:t,...p},p.id))})},c)});return C.jsx(Z1,{...r,children:l})},Qie=n=>function({children:t,theme:i=n,toastOptions:r,...a}){return C.jsxs(D$,{theme:i,...a,children:[C.jsx(Yie,{value:r==null?void 0:r.defaultOptions,children:t}),C.jsx(Jie,{...r})]})},$ie=Qie(gL);function Zie(n){const{loading:e,src:t,srcSet:i,onLoad:r,onError:a,crossOrigin:s,sizes:l,ignoreFallback:c}=n,[f,p]=Y.useState("pending");Y.useEffect(()=>{p(t?"loading":"pending")},[t]);const g=Y.useRef(null),y=Y.useCallback(()=>{if(!t)return;v();const x=new Image;x.src=t,s&&(x.crossOrigin=s),i&&(x.srcset=i),l&&(x.sizes=l),e&&(x.loading=e),x.onload=w=>{v(),p("loaded"),r==null||r(w)},x.onerror=w=>{v(),p("failed"),a==null||a(w)},g.current=x},[t,s,i,l,r,a,e]),v=()=>{g.current&&(g.current.onload=null,g.current.onerror=null,g.current=null)};return zS(()=>{if(!c)return f==="loading"&&y(),()=>{v()}},[f,y,c]),c?"loaded":f}const ere=(n,e)=>n!=="loaded"&&e==="beforeLoadOrError"||n==="failed"&&e==="onError",Pd=Ni("div");Pd.displayName="Box";const[lxe,tre]=mf({strict:!1,name:"ButtonGroupContext"});function yv(n){const{children:e,className:t,...i}=n,r=Y.isValidElement(e)?Y.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,a=mo("chakra-button__icon",t);return C.jsx(Ni.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...i,className:a,children:r})}yv.displayName="ButtonIcon";function Zw(n){const{label:e,placement:t,spacing:i="0.5rem",children:r=C.jsx(EE,{color:"currentColor",width:"1em",height:"1em"}),className:a,__css:s,...l}=n,c=mo("chakra-button__spinner",a),f=t==="start"?"marginEnd":"marginStart",p=Y.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[f]:e?i:0,fontSize:"1em",lineHeight:"normal",...s}),[s,e,f,i]);return C.jsx(Ni.div,{className:c,...l,__css:p,children:r})}Zw.displayName="ButtonSpinner";function nre(n){const[e,t]=Y.useState(!n);return{ref:Y.useCallback(a=>{a&&t(a.tagName==="BUTTON")},[]),type:e?"button":void 0}}const SU=Qa((n,e)=>{const t=tre(),i=Hd("Button",{...t,...n}),{isDisabled:r=t==null?void 0:t.isDisabled,isLoading:a,isActive:s,children:l,leftIcon:c,rightIcon:f,loadingText:p,iconSpacing:g="0.5rem",type:y,spinner:v,spinnerPlacement:x="start",className:w,as:A,shouldWrapChildren:M,...R}=ah(n),P=Y.useMemo(()=>{const U={...i==null?void 0:i._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...i,...!!t&&{_focus:U}}},[i,t]),{ref:L,type:F}=nre(A),j={rightIcon:f,leftIcon:c,iconSpacing:g,children:l,shouldWrapChildren:M};return C.jsxs(Ni.button,{disabled:r||a,ref:rG(e,L),as:A,type:y??F,"data-active":wu(s),"data-loading":wu(a),__css:P,className:mo("chakra-button",w),...R,children:[a&&x==="start"&&C.jsx(Zw,{className:"chakra-button__spinner--start",label:p,placement:"start",spacing:g,children:v}),a?p||C.jsx(Ni.span,{opacity:0,children:C.jsx(fB,{...j})}):C.jsx(fB,{...j}),a&&x==="end"&&C.jsx(Zw,{className:"chakra-button__spinner--end",label:p,placement:"end",spacing:g,children:v})]})});SU.displayName="Button";function fB(n){const{leftIcon:e,rightIcon:t,children:i,iconSpacing:r,shouldWrapChildren:a}=n;return a?C.jsxs("span",{style:{display:"contents"},children:[e&&C.jsx(yv,{marginEnd:r,children:e}),i,t&&C.jsx(yv,{marginStart:r,children:t})]}):C.jsxs(C.Fragment,{children:[e&&C.jsx(yv,{marginEnd:r,children:e}),i,t&&C.jsx(yv,{marginStart:r,children:t})]})}const[ire,rre]=mf({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[are,AU]=mf({strict:!1,name:"FormControlContext"});function sre(n){const{id:e,isRequired:t,isInvalid:i,isDisabled:r,isReadOnly:a,...s}=n,l=Y.useId(),c=e||`field-${l}`,f=`${c}-label`,p=`${c}-feedback`,g=`${c}-helptext`,[y,v]=Y.useState(!1),[x,w]=Y.useState(!1),[A,M]=Y.useState(!1),R=Y.useCallback((U={},N=null)=>({id:g,...U,ref:jg(N,B=>{B&&w(!0)})}),[g]),P=Y.useCallback((U={},N=null)=>({...U,ref:N,"data-focus":wu(A),"data-disabled":wu(r),"data-invalid":wu(i),"data-readonly":wu(a),id:U.id!==void 0?U.id:f,htmlFor:U.htmlFor!==void 0?U.htmlFor:c}),[c,r,A,i,a,f]),L=Y.useCallback((U={},N=null)=>({id:p,...U,ref:jg(N,B=>{B&&v(!0)}),"aria-live":"polite"}),[p]),F=Y.useCallback((U={},N=null)=>({...U,...s,ref:N,role:"group","data-focus":wu(A),"data-disabled":wu(r),"data-invalid":wu(i),"data-readonly":wu(a)}),[s,r,A,i,a]),j=Y.useCallback((U={},N=null)=>({...U,ref:N,role:"presentation","aria-hidden":!0,children:U.children||"*"}),[]);return{isRequired:!!t,isInvalid:!!i,isReadOnly:!!a,isDisabled:!!r,isFocused:!!A,onFocus:()=>M(!0),onBlur:()=>M(!1),hasFeedbackText:y,setHasFeedbackText:v,hasHelpText:x,setHasHelpText:w,id:c,labelId:f,feedbackId:p,helpTextId:g,htmlProps:s,getHelpTextProps:R,getErrorMessageProps:L,getRootProps:F,getLabelProps:P,getRequiredIndicatorProps:j}}const ore=Qa(function(e,t){const i=aR("Form",e),r=ah(e),{getRootProps:a,htmlProps:s,...l}=sre(r),c=mo("chakra-form-control",e.className);return C.jsx(are,{value:l,children:C.jsx(ire,{value:i,children:C.jsx(Ni.div,{...a({},t),className:c,__css:i.container})})})});ore.displayName="FormControl";const lre=Qa(function(e,t){const i=AU(),r=rre(),a=mo("chakra-form__helper-text",e.className);return C.jsx(Ni.div,{...i==null?void 0:i.getHelpTextProps(e,t),__css:r.helperText,className:a})});lre.displayName="FormHelperText";function EU(n){const{isDisabled:e,isInvalid:t,isReadOnly:i,isRequired:r,...a}=cre(n);return{...a,disabled:e,readOnly:i,required:r,"aria-invalid":hT(t),"aria-required":hT(r),"aria-readonly":hT(i)}}function cre(n){const e=AU(),{id:t,disabled:i,readOnly:r,required:a,isRequired:s,isInvalid:l,isReadOnly:c,isDisabled:f,onFocus:p,onBlur:g,...y}=n,v=n["aria-describedby"]?[n["aria-describedby"]]:[];return e!=null&&e.hasFeedbackText&&(e!=null&&e.isInvalid)&&v.push(e.feedbackId),e!=null&&e.hasHelpText&&v.push(e.helpTextId),{...y,"aria-describedby":v.join(" ")||void 0,id:t??(e==null?void 0:e.id),isDisabled:i??f??(e==null?void 0:e.isDisabled),isReadOnly:r??c??(e==null?void 0:e.isReadOnly),isRequired:a??s??(e==null?void 0:e.isRequired),isInvalid:l??(e==null?void 0:e.isInvalid),onFocus:Zp(e==null?void 0:e.onFocus,p),onBlur:Zp(e==null?void 0:e.onBlur,g)}}const TU=Qa(function(e,t){const{borderLeftWidth:i,borderBottomWidth:r,borderTopWidth:a,borderRightWidth:s,borderWidth:l,borderStyle:c,borderColor:f,...p}=Hd("Divider",e),{className:g,orientation:y="horizontal",__css:v,...x}=ah(e),w={vertical:{borderLeftWidth:i||s||l||"1px",height:"100%"},horizontal:{borderBottomWidth:r||a||l||"1px",width:"100%"}};return C.jsx(Ni.hr,{ref:t,"aria-orientation":y,...x,__css:{...p,border:"0",borderColor:f,borderStyle:c,...w[y],...v},className:mo("chakra-divider",g)})});TU.displayName="Divider";function _v(n){return typeof n=="function"}function ure(...n){return e=>n.reduce((t,i)=>i(t),e)}const hre=n=>function(...t){let i=[...t],r=t[t.length-1];return MQ(r)&&i.length>1?i=i.slice(0,i.length-1):r=n,ure(...i.map(a=>s=>_v(a)?a(s):dre(s,a)))(r)},fre=hre(gL);function dre(...n){return Yl({},...n,CU)}function CU(n,e,t,i){if((_v(n)||_v(e))&&Object.prototype.hasOwnProperty.call(i,t))return(...r)=>{const a=_v(n)?n(...r):n,s=_v(e)?e(...r):e;return Yl({},a,s,CU)};if(jo(n)&&vw(e)||vw(n)&&jo(e))return e}const zn=Qa(function(e,t){const{direction:i,align:r,justify:a,wrap:s,basis:l,grow:c,shrink:f,...p}=e,g={display:"flex",flexDirection:i,alignItems:r,justifyContent:a,flexWrap:s,flexBasis:l,flexGrow:c,flexShrink:f};return C.jsx(Ni.div,{ref:t,__css:g,...p})});zn.displayName="Flex";const wU=Qa(function(e,t){const{templateAreas:i,gap:r,rowGap:a,columnGap:s,column:l,row:c,autoFlow:f,autoRows:p,templateRows:g,autoColumns:y,templateColumns:v,...x}=e,w={display:"grid",gridTemplateAreas:i,gridGap:r,gridRowGap:a,gridColumnGap:s,gridAutoColumns:y,gridColumn:l,gridRow:c,gridAutoFlow:f,gridAutoRows:p,gridTemplateRows:g,gridTemplateColumns:v};return C.jsx(Ni.div,{ref:t,__css:w,...x})});wU.displayName="Grid";const e4=Qa(function(e,t){const{htmlWidth:i,htmlHeight:r,alt:a,...s}=e;return C.jsx("img",{width:i,height:r,ref:t,alt:a,...s})});e4.displayName="NativeImage";const cR=Qa(function(e,t){const{fallbackSrc:i,fallback:r,src:a,srcSet:s,align:l,fit:c,loading:f,ignoreFallback:p,crossOrigin:g,fallbackStrategy:y="beforeLoadOrError",referrerPolicy:v,...x}=e,w=i!==void 0||r!==void 0,A=f!=null||p||!w,M=Zie({...e,crossOrigin:g,ignoreFallback:A}),R=ere(M,y),P={ref:t,objectFit:c,objectPosition:l,...A?x:G1(x,["onError","onLoad"])};return R?r||C.jsx(Ni.img,{as:e4,className:"chakra-image__placeholder",src:i,...P}):C.jsx(Ni.img,{as:e4,src:a,srcSet:s,crossOrigin:g,loading:f,referrerPolicy:v,className:"chakra-image",...P})});cR.displayName="Image";const Eg=Qa(function(e,t){const{htmlSize:i,...r}=e,a=aR("Input",r),s=ah(r),l=EU(s),c=mo("chakra-input",e.className);return C.jsx(Ni.input,{size:i,...l,__css:a.field,ref:t,className:c})});Eg.displayName="Input";Eg.id="Input";var ko="top",Zl="bottom",ec="right",Ho="left",uR="auto",eb=[ko,Zl,ec,Ho],Yg="start",g1="end",pre="clippingParents",RU="viewport",H_="popper",mre="reference",dB=eb.reduce(function(n,e){return n.concat([e+"-"+Yg,e+"-"+g1])},[]),IU=[].concat(eb,[uR]).reduce(function(n,e){return n.concat([e,e+"-"+Yg,e+"-"+g1])},[]),gre="beforeRead",yre="read",_re="afterRead",vre="beforeMain",bre="main",xre="afterMain",Mre="beforeWrite",Sre="write",Are="afterWrite",Ere=[gre,yre,_re,vre,bre,xre,Mre,Sre,Are];function Ju(n){return n?(n.nodeName||"").toLowerCase():null}function pl(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Em(n){var e=pl(n).Element;return n instanceof e||n instanceof Element}function Ql(n){var e=pl(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function hR(n){if(typeof ShadowRoot>"u")return!1;var e=pl(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Tre(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},a=e.elements[t];!Ql(a)||!Ju(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(s){var l=r[s];l===!1?a.removeAttribute(s):a.setAttribute(s,l===!0?"":l)}))})}function Cre(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],a=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),l=s.reduce(function(c,f){return c[f]="",c},{});!Ql(r)||!Ju(r)||(Object.assign(r.style,l),Object.keys(a).forEach(function(c){r.removeAttribute(c)}))})}}const wre={name:"applyStyles",enabled:!0,phase:"write",fn:Tre,effect:Cre,requires:["computeStyles"]};function Hu(n){return n.split("-")[0]}var _m=Math.max,QS=Math.min,Kg=Math.round;function t4(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function PU(){return!/^((?!chrome|android).)*safari/i.test(t4())}function Jg(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,a=1;e&&Ql(n)&&(r=n.offsetWidth>0&&Kg(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Kg(i.height)/n.offsetHeight||1);var s=Em(n)?pl(n):window,l=s.visualViewport,c=!PU()&&t,f=(i.left+(c&&l?l.offsetLeft:0))/r,p=(i.top+(c&&l?l.offsetTop:0))/a,g=i.width/r,y=i.height/a;return{width:g,height:y,top:p,right:f+g,bottom:p+y,left:f,x:f,y:p}}function fR(n){var e=Jg(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function DU(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&hR(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function cf(n){return pl(n).getComputedStyle(n)}function Rre(n){return["table","td","th"].indexOf(Ju(n))>=0}function Gd(n){return((Em(n)?n.ownerDocument:n.document)||window.document).documentElement}function TE(n){return Ju(n)==="html"?n:n.assignedSlot||n.parentNode||(hR(n)?n.host:null)||Gd(n)}function pB(n){return!Ql(n)||cf(n).position==="fixed"?null:n.offsetParent}function Ire(n){var e=/firefox/i.test(t4()),t=/Trident/i.test(t4());if(t&&Ql(n)){var i=cf(n);if(i.position==="fixed")return null}var r=TE(n);for(hR(r)&&(r=r.host);Ql(r)&&["html","body"].indexOf(Ju(r))<0;){var a=cf(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function tb(n){for(var e=pl(n),t=pB(n);t&&Rre(t)&&cf(t).position==="static";)t=pB(t);return t&&(Ju(t)==="html"||Ju(t)==="body"&&cf(t).position==="static")?e:t||Ire(n)||e}function dR(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Nv(n,e,t){return _m(n,QS(e,t))}function Pre(n,e,t){var i=Nv(n,e,t);return i>t?t:i}function BU(){return{top:0,right:0,bottom:0,left:0}}function OU(n){return Object.assign({},BU(),n)}function NU(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var Dre=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,OU(typeof e!="number"?e:NU(e,eb))};function Bre(n){var e,t=n.state,i=n.name,r=n.options,a=t.elements.arrow,s=t.modifiersData.popperOffsets,l=Hu(t.placement),c=dR(l),f=[Ho,ec].indexOf(l)>=0,p=f?"height":"width";if(!(!a||!s)){var g=Dre(r.padding,t),y=fR(a),v=c==="y"?ko:Ho,x=c==="y"?Zl:ec,w=t.rects.reference[p]+t.rects.reference[c]-s[c]-t.rects.popper[p],A=s[c]-t.rects.reference[c],M=tb(a),R=M?c==="y"?M.clientHeight||0:M.clientWidth||0:0,P=w/2-A/2,L=g[v],F=R-y[p]-g[x],j=R/2-y[p]/2+P,U=Nv(L,j,F),N=c;t.modifiersData[i]=(e={},e[N]=U,e.centerOffset=U-j,e)}}function Ore(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||DU(e.elements.popper,r)&&(e.elements.arrow=r))}const Nre={name:"arrow",enabled:!0,phase:"main",fn:Bre,effect:Ore,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qg(n){return n.split("-")[1]}var Lre={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ure(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:Kg(t*r)/r||0,y:Kg(i*r)/r||0}}function mB(n){var e,t=n.popper,i=n.popperRect,r=n.placement,a=n.variation,s=n.offsets,l=n.position,c=n.gpuAcceleration,f=n.adaptive,p=n.roundOffsets,g=n.isFixed,y=s.x,v=y===void 0?0:y,x=s.y,w=x===void 0?0:x,A=typeof p=="function"?p({x:v,y:w}):{x:v,y:w};v=A.x,w=A.y;var M=s.hasOwnProperty("x"),R=s.hasOwnProperty("y"),P=Ho,L=ko,F=window;if(f){var j=tb(t),U="clientHeight",N="clientWidth";if(j===pl(t)&&(j=Gd(t),cf(j).position!=="static"&&l==="absolute"&&(U="scrollHeight",N="scrollWidth")),j=j,r===ko||(r===Ho||r===ec)&&a===g1){L=Zl;var B=g&&j===F&&F.visualViewport?F.visualViewport.height:j[U];w-=B-i.height,w*=c?1:-1}if(r===Ho||(r===ko||r===Zl)&&a===g1){P=ec;var O=g&&j===F&&F.visualViewport?F.visualViewport.width:j[N];v-=O-i.width,v*=c?1:-1}}var H=Object.assign({position:l},f&&Lre),Q=p===!0?Ure({x:v,y:w},pl(t)):{x:v,y:w};if(v=Q.x,w=Q.y,c){var G;return Object.assign({},H,(G={},G[L]=R?"0":"",G[P]=M?"0":"",G.transform=(F.devicePixelRatio||1)<=1?"translate("+v+"px, "+w+"px)":"translate3d("+v+"px, "+w+"px, 0)",G))}return Object.assign({},H,(e={},e[L]=R?w+"px":"",e[P]=M?v+"px":"",e.transform="",e))}function Fre(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,a=t.adaptive,s=a===void 0?!0:a,l=t.roundOffsets,c=l===void 0?!0:l,f={placement:Hu(e.placement),variation:Qg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mB(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mB(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const zre={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Fre,data:{}};var eM={passive:!0};function Vre(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,a=r===void 0?!0:r,s=i.resize,l=s===void 0?!0:s,c=pl(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(p){p.addEventListener("scroll",t.update,eM)}),l&&c.addEventListener("resize",t.update,eM),function(){a&&f.forEach(function(p){p.removeEventListener("scroll",t.update,eM)}),l&&c.removeEventListener("resize",t.update,eM)}}const jre={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Vre,data:{}};var kre={left:"right",right:"left",bottom:"top",top:"bottom"};function MS(n){return n.replace(/left|right|bottom|top/g,function(e){return kre[e]})}var Hre={start:"end",end:"start"};function gB(n){return n.replace(/start|end/g,function(e){return Hre[e]})}function pR(n){var e=pl(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function mR(n){return Jg(Gd(n)).left+pR(n).scrollLeft}function Gre(n,e){var t=pl(n),i=Gd(n),r=t.visualViewport,a=i.clientWidth,s=i.clientHeight,l=0,c=0;if(r){a=r.width,s=r.height;var f=PU();(f||!f&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:a,height:s,x:l+mR(n),y:c}}function Xre(n){var e,t=Gd(n),i=pR(n),r=(e=n.ownerDocument)==null?void 0:e.body,a=_m(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=_m(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+mR(n),c=-i.scrollTop;return cf(r||t).direction==="rtl"&&(l+=_m(t.clientWidth,r?r.clientWidth:0)-a),{width:a,height:s,x:l,y:c}}function gR(n){var e=cf(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function LU(n){return["html","body","#document"].indexOf(Ju(n))>=0?n.ownerDocument.body:Ql(n)&&gR(n)?n:LU(TE(n))}function Lv(n,e){var t;e===void 0&&(e=[]);var i=LU(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),a=pl(i),s=r?[a].concat(a.visualViewport||[],gR(i)?i:[]):i,l=e.concat(s);return r?l:l.concat(Lv(TE(s)))}function n4(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function qre(n,e){var t=Jg(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function yB(n,e,t){return e===RU?n4(Gre(n,t)):Em(e)?qre(e,t):n4(Xre(Gd(n)))}function Wre(n){var e=Lv(TE(n)),t=["absolute","fixed"].indexOf(cf(n).position)>=0,i=t&&Ql(n)?tb(n):n;return Em(i)?e.filter(function(r){return Em(r)&&DU(r,i)&&Ju(r)!=="body"}):[]}function Yre(n,e,t,i){var r=e==="clippingParents"?Wre(n):[].concat(e),a=[].concat(r,[t]),s=a[0],l=a.reduce(function(c,f){var p=yB(n,f,i);return c.top=_m(p.top,c.top),c.right=QS(p.right,c.right),c.bottom=QS(p.bottom,c.bottom),c.left=_m(p.left,c.left),c},yB(n,s,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function UU(n){var e=n.reference,t=n.element,i=n.placement,r=i?Hu(i):null,a=i?Qg(i):null,s=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,c;switch(r){case ko:c={x:s,y:e.y-t.height};break;case Zl:c={x:s,y:e.y+e.height};break;case ec:c={x:e.x+e.width,y:l};break;case Ho:c={x:e.x-t.width,y:l};break;default:c={x:e.x,y:e.y}}var f=r?dR(r):null;if(f!=null){var p=f==="y"?"height":"width";switch(a){case Yg:c[f]=c[f]-(e[p]/2-t[p]/2);break;case g1:c[f]=c[f]+(e[p]/2-t[p]/2);break}}return c}function y1(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,a=t.strategy,s=a===void 0?n.strategy:a,l=t.boundary,c=l===void 0?pre:l,f=t.rootBoundary,p=f===void 0?RU:f,g=t.elementContext,y=g===void 0?H_:g,v=t.altBoundary,x=v===void 0?!1:v,w=t.padding,A=w===void 0?0:w,M=OU(typeof A!="number"?A:NU(A,eb)),R=y===H_?mre:H_,P=n.rects.popper,L=n.elements[x?R:y],F=Yre(Em(L)?L:L.contextElement||Gd(n.elements.popper),c,p,s),j=Jg(n.elements.reference),U=UU({reference:j,element:P,placement:r}),N=n4(Object.assign({},P,U)),B=y===H_?N:j,O={top:F.top-B.top+M.top,bottom:B.bottom-F.bottom+M.bottom,left:F.left-B.left+M.left,right:B.right-F.right+M.right},H=n.modifiersData.offset;if(y===H_&&H){var Q=H[r];Object.keys(O).forEach(function(G){var he=[ec,Zl].indexOf(G)>=0?1:-1,_e=[ko,Zl].indexOf(G)>=0?"y":"x";O[G]+=Q[_e]*he})}return O}function Kre(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,a=t.rootBoundary,s=t.padding,l=t.flipVariations,c=t.allowedAutoPlacements,f=c===void 0?IU:c,p=Qg(i),g=p?l?dB:dB.filter(function(x){return Qg(x)===p}):eb,y=g.filter(function(x){return f.indexOf(x)>=0});y.length===0&&(y=g);var v=y.reduce(function(x,w){return x[w]=y1(n,{placement:w,boundary:r,rootBoundary:a,padding:s})[Hu(w)],x},{});return Object.keys(v).sort(function(x,w){return v[x]-v[w]})}function Jre(n){if(Hu(n)===uR)return[];var e=MS(n);return[gB(n),e,gB(e)]}function Qre(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,a=r===void 0?!0:r,s=t.altAxis,l=s===void 0?!0:s,c=t.fallbackPlacements,f=t.padding,p=t.boundary,g=t.rootBoundary,y=t.altBoundary,v=t.flipVariations,x=v===void 0?!0:v,w=t.allowedAutoPlacements,A=e.options.placement,M=Hu(A),R=M===A,P=c||(R||!x?[MS(A)]:Jre(A)),L=[A].concat(P).reduce(function(de,Ne){return de.concat(Hu(Ne)===uR?Kre(e,{placement:Ne,boundary:p,rootBoundary:g,padding:f,flipVariations:x,allowedAutoPlacements:w}):Ne)},[]),F=e.rects.reference,j=e.rects.popper,U=new Map,N=!0,B=L[0],O=0;O<L.length;O++){var H=L[O],Q=Hu(H),G=Qg(H)===Yg,he=[ko,Zl].indexOf(Q)>=0,_e=he?"width":"height",X=y1(e,{placement:H,boundary:p,rootBoundary:g,altBoundary:y,padding:f}),Z=he?G?ec:Ho:G?Zl:ko;F[_e]>j[_e]&&(Z=MS(Z));var re=MS(Z),be=[];if(a&&be.push(X[Q]<=0),l&&be.push(X[Z]<=0,X[re]<=0),be.every(function(de){return de})){B=H,N=!1;break}U.set(H,be)}if(N)for(var $=x?3:1,pe=function(Ne){var Ve=L.find(function(ct){var ut=U.get(ct);if(ut)return ut.slice(0,Ne).every(function(Jt){return Jt})});if(Ve)return B=Ve,"break"},we=$;we>0;we--){var Te=pe(we);if(Te==="break")break}e.placement!==B&&(e.modifiersData[i]._skip=!0,e.placement=B,e.reset=!0)}}const $re={name:"flip",enabled:!0,phase:"main",fn:Qre,requiresIfExists:["offset"],data:{_skip:!1}};function _B(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function vB(n){return[ko,ec,Zl,Ho].some(function(e){return n[e]>=0})}function Zre(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,s=y1(e,{elementContext:"reference"}),l=y1(e,{altBoundary:!0}),c=_B(s,i),f=_B(l,r,a),p=vB(c),g=vB(f);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":g})}const eae={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zre};function tae(n,e,t){var i=Hu(n),r=[Ho,ko].indexOf(i)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=a[0],l=a[1];return s=s||0,l=(l||0)*r,[Ho,ec].indexOf(i)>=0?{x:l,y:s}:{x:s,y:l}}function nae(n){var e=n.state,t=n.options,i=n.name,r=t.offset,a=r===void 0?[0,0]:r,s=IU.reduce(function(p,g){return p[g]=tae(g,e.rects,a),p},{}),l=s[e.placement],c=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[i]=s}const iae={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nae};function rae(n){var e=n.state,t=n.name;e.modifiersData[t]=UU({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const aae={name:"popperOffsets",enabled:!0,phase:"read",fn:rae,data:{}};function sae(n){return n==="x"?"y":"x"}function oae(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,a=r===void 0?!0:r,s=t.altAxis,l=s===void 0?!1:s,c=t.boundary,f=t.rootBoundary,p=t.altBoundary,g=t.padding,y=t.tether,v=y===void 0?!0:y,x=t.tetherOffset,w=x===void 0?0:x,A=y1(e,{boundary:c,rootBoundary:f,padding:g,altBoundary:p}),M=Hu(e.placement),R=Qg(e.placement),P=!R,L=dR(M),F=sae(L),j=e.modifiersData.popperOffsets,U=e.rects.reference,N=e.rects.popper,B=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,O=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Q={x:0,y:0};if(j){if(a){var G,he=L==="y"?ko:Ho,_e=L==="y"?Zl:ec,X=L==="y"?"height":"width",Z=j[L],re=Z+A[he],be=Z-A[_e],$=v?-N[X]/2:0,pe=R===Yg?U[X]:N[X],we=R===Yg?-N[X]:-U[X],Te=e.elements.arrow,de=v&&Te?fR(Te):{width:0,height:0},Ne=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:BU(),Ve=Ne[he],ct=Ne[_e],ut=Nv(0,U[X],de[X]),Jt=P?U[X]/2-$-ut-Ve-O.mainAxis:pe-ut-Ve-O.mainAxis,It=P?-U[X]/2+$+ut+ct+O.mainAxis:we+ut+ct+O.mainAxis,Ct=e.elements.arrow&&tb(e.elements.arrow),Nt=Ct?L==="y"?Ct.clientTop||0:Ct.clientLeft||0:0,Ft=(G=H==null?void 0:H[L])!=null?G:0,fe=Z+Jt-Ft-Nt,Mn=Z+It-Ft,at=Nv(v?QS(re,fe):re,Z,v?_m(be,Mn):be);j[L]=at,Q[L]=at-Z}if(l){var et,rt=L==="x"?ko:Ho,xt=L==="x"?Zl:ec,We=j[F],ae=F==="y"?"height":"width",V=We+A[rt],ee=We-A[xt],ue=[ko,Ho].indexOf(M)!==-1,Ce=(et=H==null?void 0:H[F])!=null?et:0,ge=ue?V:We-U[ae]-N[ae]-Ce+O.altAxis,Pe=ue?We+U[ae]+N[ae]-Ce-O.altAxis:ee,Ue=v&&ue?Pre(ge,We,Pe):Nv(v?ge:V,We,v?Pe:ee);j[F]=Ue,Q[F]=Ue-We}e.modifiersData[i]=Q}}const lae={name:"preventOverflow",enabled:!0,phase:"main",fn:oae,requiresIfExists:["offset"]};function cae(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function uae(n){return n===pl(n)||!Ql(n)?pR(n):cae(n)}function hae(n){var e=n.getBoundingClientRect(),t=Kg(e.width)/n.offsetWidth||1,i=Kg(e.height)/n.offsetHeight||1;return t!==1||i!==1}function fae(n,e,t){t===void 0&&(t=!1);var i=Ql(e),r=Ql(e)&&hae(e),a=Gd(e),s=Jg(n,r,t),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!t)&&((Ju(e)!=="body"||gR(a))&&(l=uae(e)),Ql(e)?(c=Jg(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):a&&(c.x=mR(a))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function dae(n){var e=new Map,t=new Set,i=[];n.forEach(function(a){e.set(a.name,a)});function r(a){t.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(l){if(!t.has(l)){var c=e.get(l);c&&r(c)}}),i.push(a)}return n.forEach(function(a){t.has(a.name)||r(a)}),i}function pae(n){var e=dae(n);return Ere.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function mae(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function gae(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var bB={placement:"bottom",modifiers:[],strategy:"absolute"};function xB(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function yae(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,a=r===void 0?bB:r;return function(l,c,f){f===void 0&&(f=a);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},bB,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},g=[],y=!1,v={state:p,setOptions:function(M){var R=typeof M=="function"?M(p.options):M;w(),p.options=Object.assign({},a,p.options,R),p.scrollParents={reference:Em(l)?Lv(l):l.contextElement?Lv(l.contextElement):[],popper:Lv(c)};var P=pae(gae([].concat(i,p.options.modifiers)));return p.orderedModifiers=P.filter(function(L){return L.enabled}),x(),v.update()},forceUpdate:function(){if(!y){var M=p.elements,R=M.reference,P=M.popper;if(xB(R,P)){p.rects={reference:fae(R,tb(P),p.options.strategy==="fixed"),popper:fR(P)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(O){return p.modifiersData[O.name]=Object.assign({},O.data)});for(var L=0;L<p.orderedModifiers.length;L++){if(p.reset===!0){p.reset=!1,L=-1;continue}var F=p.orderedModifiers[L],j=F.fn,U=F.options,N=U===void 0?{}:U,B=F.name;typeof j=="function"&&(p=j({state:p,options:N,name:B,instance:v})||p)}}}},update:mae(function(){return new Promise(function(A){v.forceUpdate(),A(p)})}),destroy:function(){w(),y=!0}};if(!xB(l,c))return v;v.setOptions(f).then(function(A){!y&&f.onFirstUpdate&&f.onFirstUpdate(A)});function x(){p.orderedModifiers.forEach(function(A){var M=A.name,R=A.options,P=R===void 0?{}:R,L=A.effect;if(typeof L=="function"){var F=L({state:p,name:M,instance:v,options:P}),j=function(){};g.push(F||j)}})}function w(){g.forEach(function(A){return A()}),g=[]}return v}}var _ae=[jre,aae,zre,wre,iae,$re,lae,Nre,eae],vae=yae({defaultModifiers:_ae});const j0=(n,e)=>({var:n,varRef:e?`var(${n}, ${e})`:`var(${n})`}),ps={arrowShadowColor:j0("--popper-arrow-shadow-color"),arrowSize:j0("--popper-arrow-size","8px"),arrowSizeHalf:j0("--popper-arrow-size-half"),arrowBg:j0("--popper-arrow-bg"),transformOrigin:j0("--popper-transform-origin"),arrowOffset:j0("--popper-arrow-offset")};function bae(n){if(n.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(n.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(n.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(n.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const xae={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},Mae=n=>xae[n],MB={scroll:!0,resize:!0};function Sae(n){let e;return typeof n=="object"?e={enabled:!0,options:{...MB,...n}}:e={enabled:n,options:MB},e}const Aae={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:n})=>{n.styles.popper.width=`${n.rects.reference.width}px`},effect:({state:n})=>()=>{const e=n.elements.reference;n.elements.popper.style.width=`${e.offsetWidth}px`}},Eae={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:n})=>{SB(n)},effect:({state:n})=>()=>{SB(n)}},SB=n=>{n.elements.popper.style.setProperty(ps.transformOrigin.var,Mae(n.placement))},Tae={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:n})=>{Cae(n)}},Cae=n=>{var t;if(!n.placement)return;const e=wae(n.placement);if((t=n.elements)!=null&&t.arrow&&e){Object.assign(n.elements.arrow.style,{[e.property]:e.value,width:ps.arrowSize.varRef,height:ps.arrowSize.varRef,zIndex:-1});const i={[ps.arrowSizeHalf.var]:`calc(${ps.arrowSize.varRef} / 2 - 1px)`,[ps.arrowOffset.var]:`calc(${ps.arrowSizeHalf.varRef} * -1)`};for(const r in i)n.elements.arrow.style.setProperty(r,i[r])}},wae=n=>{if(n.startsWith("top"))return{property:"bottom",value:ps.arrowOffset.varRef};if(n.startsWith("bottom"))return{property:"top",value:ps.arrowOffset.varRef};if(n.startsWith("left"))return{property:"right",value:ps.arrowOffset.varRef};if(n.startsWith("right"))return{property:"left",value:ps.arrowOffset.varRef}},Rae={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:n})=>{AB(n)},effect:({state:n})=>()=>{AB(n)}},AB=n=>{if(!n.elements.arrow)return;const e=n.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const t=bae(n.placement);t&&e.style.setProperty("--popper-arrow-default-shadow",t),Object.assign(e.style,{transform:"rotate(45deg)",background:ps.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},Iae={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Pae={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function Dae(n,e="ltr"){var i;const t=((i=Iae[n])==null?void 0:i[e])||n;return e==="ltr"?t:Pae[n]??t}function Bae(n={}){const{enabled:e=!0,modifiers:t,placement:i="bottom",strategy:r="absolute",arrowPadding:a=8,eventListeners:s=!0,offset:l,gutter:c=8,flip:f=!0,boundary:p="clippingParents",preventOverflow:g=!0,matchWidth:y,direction:v="ltr"}=n,x=Y.useRef(null),w=Y.useRef(null),A=Y.useRef(null),M=Dae(i,v),R=Y.useRef(()=>{}),P=Y.useCallback(()=>{var O;!e||!x.current||!w.current||((O=R.current)==null||O.call(R),A.current=vae(x.current,w.current,{placement:M,modifiers:[Rae,Tae,Eae,{...Aae,enabled:!!y},{name:"eventListeners",...Sae(s)},{name:"arrow",options:{padding:a}},{name:"offset",options:{offset:l??[0,c]}},{name:"flip",enabled:!!f,options:{padding:8}},{name:"preventOverflow",enabled:!!g,options:{boundary:p}},...t??[]],strategy:r}),A.current.forceUpdate(),R.current=A.current.destroy)},[M,e,t,y,s,a,l,c,f,g,p,r]);Y.useEffect(()=>()=>{var O;!x.current&&!w.current&&((O=A.current)==null||O.destroy(),A.current=null)},[]);const L=Y.useCallback(O=>{x.current=O,P()},[P]),F=Y.useCallback((O={},H=null)=>({...O,ref:jg(L,H)}),[L]),j=Y.useCallback(O=>{w.current=O,P()},[P]),U=Y.useCallback((O={},H=null)=>({...O,ref:jg(j,H),style:{...O.style,position:r,minWidth:y?void 0:"max-content",inset:"0 auto auto 0"}}),[r,j,y]),N=Y.useCallback((O={},H=null)=>{const{size:Q,shadowColor:G,bg:he,style:_e,...X}=O;return{...X,ref:H,"data-popper-arrow":"",style:Oae(O)}},[]),B=Y.useCallback((O={},H=null)=>({...O,ref:H,"data-popper-arrow-inner":""}),[]);return{update(){var O;(O=A.current)==null||O.update()},forceUpdate(){var O;(O=A.current)==null||O.forceUpdate()},transformOrigin:ps.transformOrigin.varRef,referenceRef:L,popperRef:j,getPopperProps:U,getArrowProps:N,getArrowInnerProps:B,getReferenceProps:F}}function Oae(n){const{size:e,shadowColor:t,bg:i,style:r}=n,a={...r,position:"absolute"};return e&&(a["--popper-arrow-size"]=e),t&&(a["--popper-arrow-shadow-color"]=t),i&&(a["--popper-arrow-bg"]=i),a}function Nae(n){var t;const e=Y.version;return typeof e!="string"||e.startsWith("18.")?n==null?void 0:n.ref:(t=n==null?void 0:n.props)==null?void 0:t.ref}const Lae=["h","minH","height","minHeight"],FU=Qa((n,e)=>{const t=Hd("Textarea",n),{className:i,rows:r,...a}=ah(n),s=EU(a),l=r?G1(t,Lae):t;return C.jsx(Ni.textarea,{ref:e,rows:r,...s,className:mo("chakra-textarea",i),__css:l})});FU.displayName="Textarea";function Uae(n,e){const t=n??"bottom",r={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[t];return(r==null?void 0:r[e])??t}function Fae(n,e){const t=r=>({...e,...r,position:Uae((r==null?void 0:r.position)??(e==null?void 0:e.position),n)}),i=r=>{const a=t(r),s=xU(a);return Ou.notify(s,a)};return i.update=(r,a)=>{Ou.update(r,t(a))},i.promise=(r,a)=>{const s=i({...a.loading,status:"loading",duration:null});r.then(l=>i.update(s,{status:"success",duration:5e3,...Wl(a.success,l)})).catch(l=>i.update(s,{status:"error",duration:5e3,...Wl(a.error,l)}))},i.closeAll=Ou.closeAll,i.close=Ou.close,i.isActive=Ou.isActive,i}function zae(n){const{theme:e}=dU(),t=Kie();return Y.useMemo(()=>Fae(e.direction,{...t,...n}),[n,e.direction,t])}const Vae={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},i4=n=>{var e;return((e=n.current)==null?void 0:e.ownerDocument)||document},SS=n=>{var e,t;return((t=(e=n.current)==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)||window};function jae(n={}){const{openDelay:e=0,closeDelay:t=0,closeOnClick:i=!0,closeOnMouseDown:r,closeOnScroll:a,closeOnPointerDown:s=r,closeOnEsc:l=!0,onOpen:c,onClose:f,placement:p,id:g,isOpen:y,defaultIsOpen:v,arrowSize:x=10,arrowShadowColor:w,arrowPadding:A,modifiers:M,isDisabled:R,gutter:P,offset:L,direction:F,...j}=n,{isOpen:U,onOpen:N,onClose:B}=nG({isOpen:y,defaultIsOpen:v,onOpen:c,onClose:f}),{referenceRef:O,getPopperProps:H,getArrowInnerProps:Q,getArrowProps:G}=Bae({enabled:U,placement:p,arrowPadding:A,modifiers:M,gutter:P,offset:L,direction:F}),he=Y.useId(),X=`tooltip-${g??he}`,Z=Y.useRef(null),re=Y.useRef(void 0),be=Y.useCallback(()=>{re.current&&(clearTimeout(re.current),re.current=void 0)},[]),$=Y.useRef(void 0),pe=Y.useCallback(()=>{$.current&&(clearTimeout($.current),$.current=void 0)},[]),we=Y.useCallback(()=>{pe(),B()},[B,pe]),Te=kae(Z,we),de=Y.useCallback(()=>{if(!R&&!re.current){U&&Te();const Nt=SS(Z);re.current=Nt.setTimeout(N,e)}},[Te,R,U,N,e]),Ne=Y.useCallback(()=>{be();const Nt=SS(Z);$.current=Nt.setTimeout(we,t)},[t,we,be]),Ve=Y.useCallback(()=>{U&&i&&Ne()},[i,Ne,U]),ct=Y.useCallback(()=>{U&&s&&Ne()},[s,Ne,U]),ut=Y.useCallback(Nt=>{U&&Nt.key==="Escape"&&Ne()},[U,Ne]);fT(()=>i4(Z),"keydown",l?ut:void 0),fT(()=>{if(!a)return null;const Nt=Z.current;if(!Nt)return null;const Ft=JN(Nt);return Ft.localName==="body"?SS(Z):Ft},"scroll",()=>{U&&a&&we()},{passive:!0,capture:!0}),Y.useEffect(()=>{R&&(be(),U&&B())},[R,U,B,be]),Y.useEffect(()=>()=>{be(),pe()},[be,pe]),fT(()=>Z.current,"pointerleave",Ne);const Jt=Y.useCallback((Nt={},Ft=null)=>({...Nt,ref:jg(Z,Ft,O),onPointerEnter:Zp(Nt.onPointerEnter,Mn=>{Mn.pointerType!=="touch"&&de()}),onClick:Zp(Nt.onClick,Ve),onPointerDown:Zp(Nt.onPointerDown,ct),onFocus:Zp(Nt.onFocus,de),onBlur:Zp(Nt.onBlur,Ne),"aria-describedby":U?X:void 0}),[de,Ne,ct,U,X,Ve,O]),It=Y.useCallback((Nt={},Ft=null)=>H({...Nt,style:{...Nt.style,[ps.arrowSize.var]:x?`${x}px`:void 0,[ps.arrowShadowColor.var]:w}},Ft),[H,x,w]),Ct=Y.useCallback((Nt={},Ft=null)=>{const fe={...Nt.style,position:"relative",transformOrigin:ps.transformOrigin.varRef};return{ref:Ft,...j,...Nt,id:X,role:"tooltip",style:fe}},[j,X]);return{isOpen:U,show:de,hide:Ne,getTriggerProps:Jt,getTooltipProps:Ct,getTooltipPositionerProps:It,getArrowProps:G,getArrowInnerProps:Q}}const WT="chakra-ui:close-tooltip";function kae(n,e){return Y.useEffect(()=>{const t=i4(n);return t.addEventListener(WT,e),()=>t.removeEventListener(WT,e)},[e,n]),()=>{const t=i4(n),i=SS(n);t.dispatchEvent(new i.CustomEvent(WT))}}const Hae=Ni(Vs.div),r4=Qa((n,e)=>{const t=Hd("Tooltip",n),i=ah(n),r=fU(),{children:a,label:s,shouldWrapChildren:l,"aria-label":c,hasArrow:f,bg:p,portalProps:g,background:y,backgroundColor:v,bgColor:x,motionProps:w,animatePresenceProps:A,...M}=i,R=y??v??p??x;if(R){t.bg=R;const O=WG(r,"colors",R);t[ps.arrowBg.var]=O}const P=jae({...M,direction:r.direction}),L=!Y.isValidElement(a)||l;let F;if(L)F=C.jsx(Ni.span,{display:"inline-block",tabIndex:0,...P.getTriggerProps(),children:a});else{const O=Y.Children.only(a);F=Y.cloneElement(O,P.getTriggerProps(O.props,Nae(O)))}const j=!!c,U=P.getTooltipProps({},e),N=j?G1(U,["role","id"]):U,B=KN(U,["role","id"]);return s?C.jsxs(C.Fragment,{children:[F,C.jsx(UL,{...A,children:P.isOpen&&C.jsx(Z1,{...g,children:C.jsx(Ni.div,{...P.getTooltipPositionerProps(),__css:{zIndex:t.zIndex,pointerEvents:"none"},children:C.jsxs(Hae,{variants:Vae,initial:"exit",animate:"enter",exit:"exit",...w,...N,__css:t,children:[s,j&&C.jsx(Ni.span,{srOnly:!0,...B,children:c}),f&&C.jsx(Ni.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:C.jsx(Ni.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:t.bg}})})]})})})})]}):C.jsx(C.Fragment,{children:a})});r4.displayName="Tooltip";const Gn=Qa(function(e,t){const i=Hd("Text",e),{className:r,align:a,decoration:s,casing:l,...c}=ah(e),f=s3({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return C.jsx(Ni.p,{ref:t,className:mo("chakra-text",e.className),...f,...c,__css:i})});Gn.displayName="Text";const Gae=fre({colors:{primary:{10:"#f8f6ff",50:"#e9e4ff",100:"#d7cfff",200:"#c5baff",300:"#b3a5ff",400:"#a179ff",500:"#915EFF",600:"#7a4edb",700:"#633fb7",800:"#110d26",900:"#060816"},secondary:{10:"#f7f7f9",50:"#eeecf3",100:"#e4e2ec",200:"#d9d7e4",300:"#cfccdd",400:"#c4c1d6",500:"#bab6cf",600:"#aaa6c3",700:"#918da6",800:"#77748a",900:"#5e5b6d"},gray2:{10:"#f7f7f7",50:"#e8e8e8",100:"#d9d9d9",200:"#cacaca",300:"#bbbbbb",400:"#acacac",500:"#9d9d9d",600:"#8e8e8e",700:"#808080",800:"#707070",900:"#616161"},tertiary:{10:"#F0FFF7",50:"#D6FFEE",100:"#BDF5E5",200:"#A3FFDC",300:"#8AFFD3",400:"#71FFCA",500:"#58FFC1",600:"#3EFF9A",700:"#34DB83",800:"#2AB76C",900:"#219355"},focus:"#7FAC07",warning:"#D0342C",appGrey:"#8A8B8B",appDarkGrey:"#E8E8E8"},fonts:{body:"Roboto, sans-serif"},fontSizes:{xs:"0.75rem",sm:"0.75rem",md:"0.875rem",lg:"1rem",xl:"2rem","2xl":"4rem",xxl:"4rem"},borders:{"1px":"1px solid #D8D8D8","2px":"0.2rem solid"},shadows:{all:"0 0 10px 1px rgba(0,0,0,0.3)",onlyBottom:"rgba(0, 0, 0, 0.15) 0px 1.95px 2.6px;",sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"rgba(0, 0, 0, 0.25) 0px 1px 4px",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",innerBottom:"inset 0px -6px 10px  rgb(0 0 0 / 0.05);",excludingTop:"rgba(0, 0, 0, 0.15) 0px 1.95px 2.6px;",cardShadow:"rgba(0, 0, 0, 0.1) 0px 4px 6px",good:"rgba(0, 0, 0, 0.3) -5px 10px 20px 10px;",none:"none"},breakpoints:{xs:"300px",sm:"576px",md:"768px",lg:"992px",xl:"1200px","2xl":"1400px","3xl":"1600px","4xl":"1900px"}}),Xae="/three-portfolio/assets/logo-DhyI00bs.png",qae=()=>C.jsx(zn,{position:"fixed",top:0,w:"100%",left:0,h:"5rem",bg:"rgba(0,0,0,0.2)",backdropFilter:"blur(4px)",zIndex:9999,p:{lg:"0rem 6rem",md:"0rem 4rem",sm:"0rem 2rem",xs:"0rem"},boxShadow:"md",alignItems:"center",children:C.jsxs(zn,{gap:2,alignItems:"center",userSelect:"none",cursor:"pointer",children:[C.jsx(cR,{draggable:!1,src:Xae,w:"50px",aspectRatio:"1/1",h:"50px"})," ",C.jsxs(zn,{fontSize:"1.2em",className:"maintext",color:"#fff",alignItems:"center",gap:2,children:[C.jsx(Gn,{children:" Atif"}),C.jsx(TU,{h:"15px",opacity:1,border:"2px solid #fff !important",orientation:"vertical"}),C.jsx(Gn,{children:"SE - Frontend"})]})]})}),Wae=n=>{const{children:e,...t}=n;return C.jsxs(zn,{width:"100%",height:"100%",minHeight:"100vh",direction:"column",position:"relative",justifyContent:"start",alignItems:"start",...t,children:[C.jsx(qae,{}),e]})},Yae={base:"1rem",sm:"1rem 2rem",md:"1rem 3rem",lg:"1rem 5rem"},G_=n=>{const{children:e,padding:t=Yae,...i}=n;return C.jsx(zn,{w:"100%",minH:"100vh",justifyContent:"start",alignItems:"start",position:"relative",h:"100%",padding:t,...i,children:e})},Kae="/three-portfolio/assets/wall-DjmEMRg-.png",Qu=n=>{const{targetRef:e,offset:t}=n,[i,r]=Y.useState(!1);return Y.useEffect(()=>{const a=new IntersectionObserver(([s])=>{r(s.isIntersecting)},{root:null,rootMargin:t||"50px",threshold:.5});return e&&e.current&&a.observe(e.current),()=>{e&&e.current&&a.unobserve(e.current)}},[]),i};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const nb="175",Yp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Kp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},zU=0,a4=1,VU=2,Jae=3,jU=0,CE=1,Uv=2,Lc=3,$u=0,po=1,ul=2,Gu=0,vm=1,s4=2,o4=3,l4=4,kU=5,_d=100,HU=101,GU=102,XU=103,qU=104,WU=200,YU=201,KU=202,JU=203,$S=204,ZS=205,QU=206,$U=207,ZU=208,e7=209,t7=210,n7=211,i7=212,r7=213,a7=214,eA=0,tA=1,nA=2,Tm=3,iA=4,rA=5,aA=6,sA=7,ib=0,s7=1,o7=2,Xu=0,l7=1,c7=2,u7=3,yR=4,h7=5,f7=6,d7=7,c4="attached",p7="detached",Dd=300,Zu=301,Bd=302,$g=303,_1=304,Ey=306,Od=1e3,la=1001,Zg=1002,Ka=1003,wE=1004,Qae=1004,am=1005,$ae=1005,Hi=1006,Ng=1007,Zae=1007,Kl=1008,u4=1008,Xo=1009,RE=1010,IE=1011,ey=1012,rb=1013,eh=1014,Vr=1015,Ya=1016,PE=1017,DE=1018,ty=1020,_R=35902,vR=1021,bR=1022,ca=1023,xR=1024,MR=1025,ny=1026,iy=1027,ab=1028,sb=1029,SR=1030,BE=1031,ese=1032,OE=1033,Fv=33776,zv=33777,Vv=33778,jv=33779,oA=35840,lA=35841,cA=35842,uA=35843,hA=36196,fA=37492,dA=37496,pA=37808,mA=37809,gA=37810,yA=37811,_A=37812,vA=37813,bA=37814,xA=37815,MA=37816,SA=37817,AA=37818,EA=37819,TA=37820,CA=37821,kv=36492,wA=36494,RA=36495,AR=36283,IA=36284,PA=36285,DA=36286,m7=2200,g7=2201,y7=2202,ry=2300,ay=2301,AS=2302,sm=2400,om=2401,v1=2402,NE=2500,ER=2501,_7=0,TR=1,BA=2,v7=3200,b7=3201,tse=3202,nse=3203,Xd=0,x7=1,Kh="",ds="srgb",Xc="srgb-linear",b1="linear",tr="srgb",ise=0,Jp=7680,rse=7681,ase=7682,sse=7683,ose=34055,lse=34056,cse=5386,use=512,hse=513,fse=514,dse=515,pse=516,mse=517,gse=518,h4=519,M7=512,S7=513,A7=514,CR=515,E7=516,T7=517,C7=518,w7=519,x1=35044,yse=35048,_se=35040,vse=35045,bse=35049,xse=35041,Mse=35046,Sse=35050,Ase=35042,Ese="100",f4="300 es",jc=2e3,M1=2001,Tse={COMPUTE:"compute",RENDER:"render"};let sh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}};const Is=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let EB=1234567;const bm=Math.PI/180,sy=180/Math.PI;function dl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Is[n&255]+Is[n>>8&255]+Is[n>>16&255]+Is[n>>24&255]+"-"+Is[e&255]+Is[e>>8&255]+"-"+Is[e>>16&15|64]+Is[e>>24&255]+"-"+Is[t&63|128]+Is[t>>8&255]+"-"+Is[t>>16&255]+Is[t>>24&255]+Is[i&255]+Is[i>>8&255]+Is[i>>16&255]+Is[i>>24&255]).toLowerCase()}function Vn(n,e,t){return Math.max(e,Math.min(t,n))}function wR(n,e){return(n%e+e)%e}function Cse(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function wse(n,e,t){return n!==e?(t-n)/(e-n):0}function Hv(n,e,t){return(1-t)*n+t*e}function Rse(n,e,t,i){return Hv(n,e,1-Math.exp(-t*i))}function Ise(n,e=1){return e-Math.abs(wR(n,e*2)-e)}function Pse(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Dse(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Bse(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Ose(n,e){return n+Math.random()*(e-n)}function Nse(n){return n*(.5-Math.random())}function Lse(n){n!==void 0&&(EB=n);let e=EB+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Use(n){return n*bm}function Fse(n){return n*sy}function zse(n){return(n&n-1)===0&&n!==0}function Vse(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function jse(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function kse(n,e,t,i,r){const a=Math.cos,s=Math.sin,l=a(t/2),c=s(t/2),f=a((e+i)/2),p=s((e+i)/2),g=a((e-i)/2),y=s((e-i)/2),v=a((i-e)/2),x=s((i-e)/2);switch(r){case"XYX":n.set(l*p,c*g,c*y,l*f);break;case"YZY":n.set(c*y,l*p,c*g,l*f);break;case"ZXZ":n.set(c*g,c*y,l*p,l*f);break;case"XZX":n.set(l*p,c*x,c*v,l*f);break;case"YXY":n.set(c*v,l*p,c*x,l*f);break;case"ZYZ":n.set(c*x,c*v,l*p,l*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function co(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Jn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const R7={DEG2RAD:bm,RAD2DEG:sy,generateUUID:dl,clamp:Vn,euclideanModulo:wR,mapLinear:Cse,inverseLerp:wse,lerp:Hv,damp:Rse,pingpong:Ise,smoothstep:Pse,smootherstep:Dse,randInt:Bse,randFloat:Ose,randFloatSpread:Nse,seededRandom:Lse,degToRad:Use,radToDeg:Fse,isPowerOfTwo:zse,ceilPowerOfTwo:Vse,floorPowerOfTwo:jse,setQuaternionFromProperEuler:kse,normalize:Jn,denormalize:co};class pt{constructor(e=0,t=0){pt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Vn(this.x,e.x,t.x),this.y=Vn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Vn(this.x,e,t),this.y=Vn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Vn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Xn{constructor(e,t,i,r,a,s,l,c,f){Xn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,l,c,f)}set(e,t,i,r,a,s,l,c,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=t,p[4]=a,p[5]=c,p[6]=i,p[7]=s,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],l=i[3],c=i[6],f=i[1],p=i[4],g=i[7],y=i[2],v=i[5],x=i[8],w=r[0],A=r[3],M=r[6],R=r[1],P=r[4],L=r[7],F=r[2],j=r[5],U=r[8];return a[0]=s*w+l*R+c*F,a[3]=s*A+l*P+c*j,a[6]=s*M+l*L+c*U,a[1]=f*w+p*R+g*F,a[4]=f*A+p*P+g*j,a[7]=f*M+p*L+g*U,a[2]=y*w+v*R+x*F,a[5]=y*A+v*P+x*j,a[8]=y*M+v*L+x*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],f=e[7],p=e[8];return t*s*p-t*l*f-i*a*p+i*l*c+r*a*f-r*s*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],f=e[7],p=e[8],g=p*s-l*f,y=l*c-p*a,v=f*a-s*c,x=t*g+i*y+r*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=g*w,e[1]=(r*f-p*i)*w,e[2]=(l*i-r*s)*w,e[3]=y*w,e[4]=(p*t-r*c)*w,e[5]=(r*a-l*t)*w,e[6]=v*w,e[7]=(i*c-f*t)*w,e[8]=(s*t-i*a)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,s,l){const c=Math.cos(a),f=Math.sin(a);return this.set(i*c,i*f,-i*(c*s+f*l)+s+e,-r*f,r*c,-r*(-f*s+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(YT.makeScale(e,t)),this}rotate(e){return this.premultiply(YT.makeRotation(-e)),this}translate(e,t){return this.premultiply(YT.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const YT=new Xn;function I7(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Hse={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Tg(n,e){return new Hse[n](e)}function S1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function P7(){const n=S1("canvas");return n.style.display="block",n}const TB={};function ES(n){n in TB||(TB[n]=!0,console.warn(n))}function Gse(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}function Xse(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function qse(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const CB=new Xn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),wB=new Xn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Wse(){const n={enabled:!0,workingColorSpace:Xc,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===tr&&(r.r=nf(r.r),r.g=nf(r.g),r.b=nf(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===tr&&(r.r=Lg(r.r),r.g=Lg(r.g),r.b=Lg(r.b))),r},fromWorkingColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},toWorkingColorSpace:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Kh?b1:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Xc]:{primaries:e,whitePoint:i,transfer:b1,toXYZ:CB,fromXYZ:wB,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ds},outputColorSpaceConfig:{drawingBufferColorSpace:ds}},[ds]:{primaries:e,whitePoint:i,transfer:tr,toXYZ:CB,fromXYZ:wB,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ds}}}),n}const Si=Wse();function nf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Lg(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let k0;class D7{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{k0===void 0&&(k0=S1("canvas")),k0.width=e.width,k0.height=e.height;const r=k0.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=k0}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=S1("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=nf(a[s]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(nf(t[i]/255)*255):t[i]=nf(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Yse=0;class bd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Yse++}),this.uuid=dl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,l=r.length;s<l;s++)r[s].isDataTexture?a.push(KT(r[s].image)):a.push(KT(r[s]))}else a=KT(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function KT(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?D7.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Kse=0;class Wi extends sh{constructor(e=Wi.DEFAULT_IMAGE,t=Wi.DEFAULT_MAPPING,i=la,r=la,a=Hi,s=Kl,l=ca,c=Xo,f=Wi.DEFAULT_ANISOTROPY,p=Kh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Kse++}),this.uuid=dl(),this.name="",this.source=new bd(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=c,this.offset=new pt(0,0),this.repeat=new pt(1,1),this.center=new pt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Dd)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Od:e.x=e.x-Math.floor(e.x);break;case la:e.x=e.x<0?0:1;break;case Zg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Od:e.y=e.y-Math.floor(e.y);break;case la:e.y=e.y<0?0:1;break;case Zg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Wi.DEFAULT_IMAGE=null;Wi.DEFAULT_MAPPING=Dd;Wi.DEFAULT_ANISOTROPY=1;class Ri{constructor(e=0,t=0,i=0,r=1){Ri.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const c=e.elements,f=c[0],p=c[4],g=c[8],y=c[1],v=c[5],x=c[9],w=c[2],A=c[6],M=c[10];if(Math.abs(p-y)<.01&&Math.abs(g-w)<.01&&Math.abs(x-A)<.01){if(Math.abs(p+y)<.1&&Math.abs(g+w)<.1&&Math.abs(x+A)<.1&&Math.abs(f+v+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const P=(f+1)/2,L=(v+1)/2,F=(M+1)/2,j=(p+y)/4,U=(g+w)/4,N=(x+A)/4;return P>L&&P>F?P<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(P),r=j/i,a=U/i):L>F?L<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(L),i=j/r,a=N/r):F<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(F),i=U/a,r=N/a),this.set(i,r,a,t),this}let R=Math.sqrt((A-x)*(A-x)+(g-w)*(g-w)+(y-p)*(y-p));return Math.abs(R)<.001&&(R=1),this.x=(A-x)/R,this.y=(g-w)/R,this.z=(y-p)/R,this.w=Math.acos((f+v+M-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Vn(this.x,e.x,t.x),this.y=Vn(this.y,e.y,t.y),this.z=Vn(this.z,e.z,t.z),this.w=Vn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Vn(this.x,e,t),this.y=Vn(this.y,e,t),this.z=Vn(this.z,e,t),this.w=Vn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Vn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class LE extends sh{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ri(0,0,e,t),this.scissorTest=!1,this.viewport=new Ri(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Hi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const a=new Wi(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const s=i.count;for(let l=0;l<s;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new bd(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class tc extends LE{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class ob extends Wi{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ka,this.minFilter=Ka,this.wrapR=la,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Jse extends tc{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new ob(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class UE extends Wi{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ka,this.minFilter=Ka,this.wrapR=la,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Qse extends tc{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new UE(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Ja{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,s,l){let c=i[r+0],f=i[r+1],p=i[r+2],g=i[r+3];const y=a[s+0],v=a[s+1],x=a[s+2],w=a[s+3];if(l===0){e[t+0]=c,e[t+1]=f,e[t+2]=p,e[t+3]=g;return}if(l===1){e[t+0]=y,e[t+1]=v,e[t+2]=x,e[t+3]=w;return}if(g!==w||c!==y||f!==v||p!==x){let A=1-l;const M=c*y+f*v+p*x+g*w,R=M>=0?1:-1,P=1-M*M;if(P>Number.EPSILON){const F=Math.sqrt(P),j=Math.atan2(F,M*R);A=Math.sin(A*j)/F,l=Math.sin(l*j)/F}const L=l*R;if(c=c*A+y*L,f=f*A+v*L,p=p*A+x*L,g=g*A+w*L,A===1-l){const F=1/Math.sqrt(c*c+f*f+p*p+g*g);c*=F,f*=F,p*=F,g*=F}}e[t]=c,e[t+1]=f,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,a,s){const l=i[r],c=i[r+1],f=i[r+2],p=i[r+3],g=a[s],y=a[s+1],v=a[s+2],x=a[s+3];return e[t]=l*x+p*g+c*v-f*y,e[t+1]=c*x+p*y+f*g-l*v,e[t+2]=f*x+p*v+l*y-c*g,e[t+3]=p*x-l*g-c*y-f*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,s=e._order,l=Math.cos,c=Math.sin,f=l(i/2),p=l(r/2),g=l(a/2),y=c(i/2),v=c(r/2),x=c(a/2);switch(s){case"XYZ":this._x=y*p*g+f*v*x,this._y=f*v*g-y*p*x,this._z=f*p*x+y*v*g,this._w=f*p*g-y*v*x;break;case"YXZ":this._x=y*p*g+f*v*x,this._y=f*v*g-y*p*x,this._z=f*p*x-y*v*g,this._w=f*p*g+y*v*x;break;case"ZXY":this._x=y*p*g-f*v*x,this._y=f*v*g+y*p*x,this._z=f*p*x+y*v*g,this._w=f*p*g-y*v*x;break;case"ZYX":this._x=y*p*g-f*v*x,this._y=f*v*g+y*p*x,this._z=f*p*x-y*v*g,this._w=f*p*g+y*v*x;break;case"YZX":this._x=y*p*g+f*v*x,this._y=f*v*g+y*p*x,this._z=f*p*x-y*v*g,this._w=f*p*g-y*v*x;break;case"XZY":this._x=y*p*g-f*v*x,this._y=f*v*g-y*p*x,this._z=f*p*x+y*v*g,this._w=f*p*g+y*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],s=t[1],l=t[5],c=t[9],f=t[2],p=t[6],g=t[10],y=i+l+g;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(p-c)*v,this._y=(a-f)*v,this._z=(s-r)*v}else if(i>l&&i>g){const v=2*Math.sqrt(1+i-l-g);this._w=(p-c)/v,this._x=.25*v,this._y=(r+s)/v,this._z=(a+f)/v}else if(l>g){const v=2*Math.sqrt(1+l-i-g);this._w=(a-f)/v,this._x=(r+s)/v,this._y=.25*v,this._z=(c+p)/v}else{const v=2*Math.sqrt(1+g-i-l);this._w=(s-r)/v,this._x=(a+f)/v,this._y=(c+p)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,s=e._w,l=t._x,c=t._y,f=t._z,p=t._w;return this._x=i*p+s*l+r*f-a*c,this._y=r*p+s*c+a*l-i*f,this._z=a*p+s*f+i*c-r*l,this._w=s*p-i*l-r*c-a*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,s=this._w;let l=s*e._w+i*e._x+r*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=s,this._x=i,this._y=r,this._z=a,this;const c=1-l*l;if(c<=Number.EPSILON){const v=1-t;return this._w=v*s+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*a+t*this._z,this.normalize(),this}const f=Math.sqrt(c),p=Math.atan2(f,l),g=Math.sin((1-t)*p)/f,y=Math.sin(t*p)/f;return this._w=s*g+this._w*y,this._x=i*g+this._x*y,this._y=r*g+this._y*y,this._z=a*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oe{constructor(e=0,t=0,i=0){oe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(RB.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(RB.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,s=e.y,l=e.z,c=e.w,f=2*(s*r-l*i),p=2*(l*t-a*r),g=2*(a*i-s*t);return this.x=t+c*f+s*g-l*p,this.y=i+c*p+l*f-a*g,this.z=r+c*g+a*p-s*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Vn(this.x,e.x,t.x),this.y=Vn(this.y,e.y,t.y),this.z=Vn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Vn(this.x,e,t),this.y=Vn(this.y,e,t),this.z=Vn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Vn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,s=t.x,l=t.y,c=t.z;return this.x=r*c-a*l,this.y=a*s-i*c,this.z=i*l-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return JT.copy(this).projectOnVector(e),this.sub(JT)}reflect(e){return this.sub(JT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const JT=new oe,RB=new Ja;class js{constructor(e=new oe(1/0,1/0,1/0),t=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Pc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Pc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Pc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=a.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,Pc):Pc.fromBufferAttribute(a,s),Pc.applyMatrix4(e.matrixWorld),this.expandByPoint(Pc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),tM.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),tM.copy(i.boundingBox)),tM.applyMatrix4(e.matrixWorld),this.union(tM)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Pc),Pc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(X_),nM.subVectors(this.max,X_),H0.subVectors(e.a,X_),G0.subVectors(e.b,X_),X0.subVectors(e.c,X_),sd.subVectors(G0,H0),od.subVectors(X0,G0),Bp.subVectors(H0,X0);let t=[0,-sd.z,sd.y,0,-od.z,od.y,0,-Bp.z,Bp.y,sd.z,0,-sd.x,od.z,0,-od.x,Bp.z,0,-Bp.x,-sd.y,sd.x,0,-od.y,od.x,0,-Bp.y,Bp.x,0];return!QT(t,H0,G0,X0,nM)||(t=[1,0,0,0,1,0,0,0,1],!QT(t,H0,G0,X0,nM))?!1:(iM.crossVectors(sd,od),t=[iM.x,iM.y,iM.z],QT(t,H0,G0,X0,nM))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Pc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Pc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Nh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Nh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Nh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Nh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Nh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Nh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Nh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Nh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Nh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Nh=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],Pc=new oe,tM=new js,H0=new oe,G0=new oe,X0=new oe,sd=new oe,od=new oe,Bp=new oe,X_=new oe,nM=new oe,iM=new oe,Op=new oe;function QT(n,e,t,i,r){for(let a=0,s=n.length-3;a<=s;a+=3){Op.fromArray(n,a);const l=r.x*Math.abs(Op.x)+r.y*Math.abs(Op.y)+r.z*Math.abs(Op.z),c=e.dot(Op),f=t.dot(Op),p=i.dot(Op);if(Math.max(-Math.max(c,f,p),Math.min(c,f,p))>l)return!1}return!0}const $se=new js,q_=new oe,$T=new oe;class gs{constructor(e=new oe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):$se.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;q_.subVectors(e,this.center);const t=q_.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(q_,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):($T.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(q_.copy(e.center).add($T)),this.expandByPoint(q_.copy(e.center).sub($T))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Lh=new oe,ZT=new oe,rM=new oe,ld=new oe,eC=new oe,aM=new oe,tC=new oe;class Um{constructor(e=new oe,t=new oe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Lh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Lh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Lh.copy(this.origin).addScaledVector(this.direction,t),Lh.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){ZT.copy(e).add(t).multiplyScalar(.5),rM.copy(t).sub(e).normalize(),ld.copy(this.origin).sub(ZT);const a=e.distanceTo(t)*.5,s=-this.direction.dot(rM),l=ld.dot(this.direction),c=-ld.dot(rM),f=ld.lengthSq(),p=Math.abs(1-s*s);let g,y,v,x;if(p>0)if(g=s*c-l,y=s*l-c,x=a*p,g>=0)if(y>=-x)if(y<=x){const w=1/p;g*=w,y*=w,v=g*(g+s*y+2*l)+y*(s*g+y+2*c)+f}else y=a,g=Math.max(0,-(s*y+l)),v=-g*g+y*(y+2*c)+f;else y=-a,g=Math.max(0,-(s*y+l)),v=-g*g+y*(y+2*c)+f;else y<=-x?(g=Math.max(0,-(-s*a+l)),y=g>0?-a:Math.min(Math.max(-a,-c),a),v=-g*g+y*(y+2*c)+f):y<=x?(g=0,y=Math.min(Math.max(-a,-c),a),v=y*(y+2*c)+f):(g=Math.max(0,-(s*a+l)),y=g>0?a:Math.min(Math.max(-a,-c),a),v=-g*g+y*(y+2*c)+f);else y=s>0?-a:a,g=Math.max(0,-(s*y+l)),v=-g*g+y*(y+2*c)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(ZT).addScaledVector(rM,y),v}intersectSphere(e,t){Lh.subVectors(e.center,this.origin);const i=Lh.dot(this.direction),r=Lh.dot(Lh)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),l=i-s,c=i+s;return c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,s,l,c;const f=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,y=this.origin;return f>=0?(i=(e.min.x-y.x)*f,r=(e.max.x-y.x)*f):(i=(e.max.x-y.x)*f,r=(e.min.x-y.x)*f),p>=0?(a=(e.min.y-y.y)*p,s=(e.max.y-y.y)*p):(a=(e.max.y-y.y)*p,s=(e.min.y-y.y)*p),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),g>=0?(l=(e.min.z-y.z)*g,c=(e.max.z-y.z)*g):(l=(e.max.z-y.z)*g,c=(e.min.z-y.z)*g),i>c||l>r)||((l>i||i!==i)&&(i=l),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Lh)!==null}intersectTriangle(e,t,i,r,a){eC.subVectors(t,e),aM.subVectors(i,e),tC.crossVectors(eC,aM);let s=this.direction.dot(tC),l;if(s>0){if(r)return null;l=1}else if(s<0)l=-1,s=-s;else return null;ld.subVectors(this.origin,e);const c=l*this.direction.dot(aM.crossVectors(ld,aM));if(c<0)return null;const f=l*this.direction.dot(eC.cross(ld));if(f<0||c+f>s)return null;const p=-l*ld.dot(tC);return p<0?null:this.at(p/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class bn{constructor(e,t,i,r,a,s,l,c,f,p,g,y,v,x,w,A){bn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,l,c,f,p,g,y,v,x,w,A)}set(e,t,i,r,a,s,l,c,f,p,g,y,v,x,w,A){const M=this.elements;return M[0]=e,M[4]=t,M[8]=i,M[12]=r,M[1]=a,M[5]=s,M[9]=l,M[13]=c,M[2]=f,M[6]=p,M[10]=g,M[14]=y,M[3]=v,M[7]=x,M[11]=w,M[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new bn().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/q0.setFromMatrixColumn(e,0).length(),a=1/q0.setFromMatrixColumn(e,1).length(),s=1/q0.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),f=Math.sin(r),p=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const y=s*p,v=s*g,x=l*p,w=l*g;t[0]=c*p,t[4]=-c*g,t[8]=f,t[1]=v+x*f,t[5]=y-w*f,t[9]=-l*c,t[2]=w-y*f,t[6]=x+v*f,t[10]=s*c}else if(e.order==="YXZ"){const y=c*p,v=c*g,x=f*p,w=f*g;t[0]=y+w*l,t[4]=x*l-v,t[8]=s*f,t[1]=s*g,t[5]=s*p,t[9]=-l,t[2]=v*l-x,t[6]=w+y*l,t[10]=s*c}else if(e.order==="ZXY"){const y=c*p,v=c*g,x=f*p,w=f*g;t[0]=y-w*l,t[4]=-s*g,t[8]=x+v*l,t[1]=v+x*l,t[5]=s*p,t[9]=w-y*l,t[2]=-s*f,t[6]=l,t[10]=s*c}else if(e.order==="ZYX"){const y=s*p,v=s*g,x=l*p,w=l*g;t[0]=c*p,t[4]=x*f-v,t[8]=y*f+w,t[1]=c*g,t[5]=w*f+y,t[9]=v*f-x,t[2]=-f,t[6]=l*c,t[10]=s*c}else if(e.order==="YZX"){const y=s*c,v=s*f,x=l*c,w=l*f;t[0]=c*p,t[4]=w-y*g,t[8]=x*g+v,t[1]=g,t[5]=s*p,t[9]=-l*p,t[2]=-f*p,t[6]=v*g+x,t[10]=y-w*g}else if(e.order==="XZY"){const y=s*c,v=s*f,x=l*c,w=l*f;t[0]=c*p,t[4]=-g,t[8]=f*p,t[1]=y*g+w,t[5]=s*p,t[9]=v*g-x,t[2]=x*g-v,t[6]=l*p,t[10]=w*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Zse,e,eoe)}lookAt(e,t,i){const r=this.elements;return ll.subVectors(e,t),ll.lengthSq()===0&&(ll.z=1),ll.normalize(),cd.crossVectors(i,ll),cd.lengthSq()===0&&(Math.abs(i.z)===1?ll.x+=1e-4:ll.z+=1e-4,ll.normalize(),cd.crossVectors(i,ll)),cd.normalize(),sM.crossVectors(ll,cd),r[0]=cd.x,r[4]=sM.x,r[8]=ll.x,r[1]=cd.y,r[5]=sM.y,r[9]=ll.y,r[2]=cd.z,r[6]=sM.z,r[10]=ll.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],l=i[4],c=i[8],f=i[12],p=i[1],g=i[5],y=i[9],v=i[13],x=i[2],w=i[6],A=i[10],M=i[14],R=i[3],P=i[7],L=i[11],F=i[15],j=r[0],U=r[4],N=r[8],B=r[12],O=r[1],H=r[5],Q=r[9],G=r[13],he=r[2],_e=r[6],X=r[10],Z=r[14],re=r[3],be=r[7],$=r[11],pe=r[15];return a[0]=s*j+l*O+c*he+f*re,a[4]=s*U+l*H+c*_e+f*be,a[8]=s*N+l*Q+c*X+f*$,a[12]=s*B+l*G+c*Z+f*pe,a[1]=p*j+g*O+y*he+v*re,a[5]=p*U+g*H+y*_e+v*be,a[9]=p*N+g*Q+y*X+v*$,a[13]=p*B+g*G+y*Z+v*pe,a[2]=x*j+w*O+A*he+M*re,a[6]=x*U+w*H+A*_e+M*be,a[10]=x*N+w*Q+A*X+M*$,a[14]=x*B+w*G+A*Z+M*pe,a[3]=R*j+P*O+L*he+F*re,a[7]=R*U+P*H+L*_e+F*be,a[11]=R*N+P*Q+L*X+F*$,a[15]=R*B+P*G+L*Z+F*pe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],s=e[1],l=e[5],c=e[9],f=e[13],p=e[2],g=e[6],y=e[10],v=e[14],x=e[3],w=e[7],A=e[11],M=e[15];return x*(+a*c*g-r*f*g-a*l*y+i*f*y+r*l*v-i*c*v)+w*(+t*c*v-t*f*y+a*s*y-r*s*v+r*f*p-a*c*p)+A*(+t*f*g-t*l*v-a*s*g+i*s*v+a*l*p-i*f*p)+M*(-r*l*p-t*c*g+t*l*y+r*s*g-i*s*y+i*c*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],f=e[7],p=e[8],g=e[9],y=e[10],v=e[11],x=e[12],w=e[13],A=e[14],M=e[15],R=g*A*f-w*y*f+w*c*v-l*A*v-g*c*M+l*y*M,P=x*y*f-p*A*f-x*c*v+s*A*v+p*c*M-s*y*M,L=p*w*f-x*g*f+x*l*v-s*w*v-p*l*M+s*g*M,F=x*g*c-p*w*c-x*l*y+s*w*y+p*l*A-s*g*A,j=t*R+i*P+r*L+a*F;if(j===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const U=1/j;return e[0]=R*U,e[1]=(w*y*a-g*A*a-w*r*v+i*A*v+g*r*M-i*y*M)*U,e[2]=(l*A*a-w*c*a+w*r*f-i*A*f-l*r*M+i*c*M)*U,e[3]=(g*c*a-l*y*a-g*r*f+i*y*f+l*r*v-i*c*v)*U,e[4]=P*U,e[5]=(p*A*a-x*y*a+x*r*v-t*A*v-p*r*M+t*y*M)*U,e[6]=(x*c*a-s*A*a-x*r*f+t*A*f+s*r*M-t*c*M)*U,e[7]=(s*y*a-p*c*a+p*r*f-t*y*f-s*r*v+t*c*v)*U,e[8]=L*U,e[9]=(x*g*a-p*w*a-x*i*v+t*w*v+p*i*M-t*g*M)*U,e[10]=(s*w*a-x*l*a+x*i*f-t*w*f-s*i*M+t*l*M)*U,e[11]=(p*l*a-s*g*a-p*i*f+t*g*f+s*i*v-t*l*v)*U,e[12]=F*U,e[13]=(p*w*r-x*g*r+x*i*y-t*w*y-p*i*A+t*g*A)*U,e[14]=(x*l*r-s*w*r-x*i*c+t*w*c+s*i*A-t*l*A)*U,e[15]=(s*g*r-p*l*r+p*i*c-t*g*c-s*i*y+t*l*y)*U,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,s=e.x,l=e.y,c=e.z,f=a*s,p=a*l;return this.set(f*s+i,f*l-r*c,f*c+r*l,0,f*l+r*c,p*l+i,p*c-r*s,0,f*c-r*l,p*c+r*s,a*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,s=t._y,l=t._z,c=t._w,f=a+a,p=s+s,g=l+l,y=a*f,v=a*p,x=a*g,w=s*p,A=s*g,M=l*g,R=c*f,P=c*p,L=c*g,F=i.x,j=i.y,U=i.z;return r[0]=(1-(w+M))*F,r[1]=(v+L)*F,r[2]=(x-P)*F,r[3]=0,r[4]=(v-L)*j,r[5]=(1-(y+M))*j,r[6]=(A+R)*j,r[7]=0,r[8]=(x+P)*U,r[9]=(A-R)*U,r[10]=(1-(y+w))*U,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=q0.set(r[0],r[1],r[2]).length();const s=q0.set(r[4],r[5],r[6]).length(),l=q0.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Dc.copy(this);const f=1/a,p=1/s,g=1/l;return Dc.elements[0]*=f,Dc.elements[1]*=f,Dc.elements[2]*=f,Dc.elements[4]*=p,Dc.elements[5]*=p,Dc.elements[6]*=p,Dc.elements[8]*=g,Dc.elements[9]*=g,Dc.elements[10]*=g,t.setFromRotationMatrix(Dc),i.x=a,i.y=s,i.z=l,this}makePerspective(e,t,i,r,a,s,l=jc){const c=this.elements,f=2*a/(t-e),p=2*a/(i-r),g=(t+e)/(t-e),y=(i+r)/(i-r);let v,x;if(l===jc)v=-(s+a)/(s-a),x=-2*s*a/(s-a);else if(l===M1)v=-s/(s-a),x=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=f,c[4]=0,c[8]=g,c[12]=0,c[1]=0,c[5]=p,c[9]=y,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,r,a,s,l=jc){const c=this.elements,f=1/(t-e),p=1/(i-r),g=1/(s-a),y=(t+e)*f,v=(i+r)*p;let x,w;if(l===jc)x=(s+a)*g,w=-2*g;else if(l===M1)x=a*g,w=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*f,c[4]=0,c[8]=0,c[12]=-y,c[1]=0,c[5]=2*p,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=w,c[14]=-x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const q0=new oe,Dc=new bn,Zse=new oe(0,0,0),eoe=new oe(1,1,1),cd=new oe,sM=new oe,ll=new oe,IB=new bn,PB=new Ja;class ml{constructor(e=0,t=0,i=0,r=ml.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],l=r[8],c=r[1],f=r[5],p=r[9],g=r[2],y=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(Vn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,v),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Vn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,v),this._z=Math.atan2(c,f)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(Vn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,v),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-Vn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,v),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(Vn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,v));break;case"XZY":this._z=Math.asin(-Vn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-p,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return IB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(IB,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return PB.setFromEuler(this),this.setFromQuaternion(PB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ml.DEFAULT_ORDER="XYZ";class oy{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let toe=0;const DB=new oe,W0=new Ja,Uh=new bn,oM=new oe,W_=new oe,noe=new oe,ioe=new Ja,BB=new oe(1,0,0),OB=new oe(0,1,0),NB=new oe(0,0,1),LB={type:"added"},roe={type:"removed"},Y0={type:"childadded",child:null},nC={type:"childremoved",child:null};class fi extends sh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:toe++}),this.uuid=dl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=fi.DEFAULT_UP.clone();const e=new oe,t=new ml,i=new Ja,r=new oe(1,1,1);function a(){i.setFromEuler(t,!1)}function s(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new bn},normalMatrix:{value:new Xn}}),this.matrix=new bn,this.matrixWorld=new bn,this.matrixAutoUpdate=fi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=fi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new oy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return W0.setFromAxisAngle(e,t),this.quaternion.multiply(W0),this}rotateOnWorldAxis(e,t){return W0.setFromAxisAngle(e,t),this.quaternion.premultiply(W0),this}rotateX(e){return this.rotateOnAxis(BB,e)}rotateY(e){return this.rotateOnAxis(OB,e)}rotateZ(e){return this.rotateOnAxis(NB,e)}translateOnAxis(e,t){return DB.copy(e).applyQuaternion(this.quaternion),this.position.add(DB.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(BB,e)}translateY(e){return this.translateOnAxis(OB,e)}translateZ(e){return this.translateOnAxis(NB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Uh.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?oM.copy(e):oM.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),W_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Uh.lookAt(W_,oM,this.up):Uh.lookAt(oM,W_,this.up),this.quaternion.setFromRotationMatrix(Uh),r&&(Uh.extractRotation(r.matrixWorld),W0.setFromRotationMatrix(Uh),this.quaternion.premultiply(W0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(LB),Y0.child=e,this.dispatchEvent(Y0),Y0.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(roe),nC.child=e,this.dispatchEvent(nC),nC.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Uh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Uh.multiply(e.parent.matrixWorld)),e.applyMatrix4(Uh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(LB),Y0.child=e,this.dispatchEvent(Y0),Y0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(W_,e,noe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(W_,ioe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function a(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let f=0,p=c.length;f<p;f++){const g=c[f];a(e.shapes,g)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,f=this.material.length;c<f;c++)l.push(a(e.materials,this.material[c]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];r.animations.push(a(e.animations,c))}}if(t){const l=s(e.geometries),c=s(e.materials),f=s(e.textures),p=s(e.images),g=s(e.shapes),y=s(e.skeletons),v=s(e.animations),x=s(e.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),v.length>0&&(i.animations=v),x.length>0&&(i.nodes=x)}return i.object=r,i;function s(l){const c=[];for(const f in l){const p=l[f];delete p.metadata,c.push(p)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}fi.DEFAULT_UP=new oe(0,1,0);fi.DEFAULT_MATRIX_AUTO_UPDATE=!0;fi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Bc=new oe,Fh=new oe,iC=new oe,zh=new oe,K0=new oe,J0=new oe,UB=new oe,rC=new oe,aC=new oe,sC=new oe,oC=new Ri,lC=new Ri,cC=new Ri;class zo{constructor(e=new oe,t=new oe,i=new oe){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Bc.subVectors(e,t),r.cross(Bc);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){Bc.subVectors(r,t),Fh.subVectors(i,t),iC.subVectors(e,t);const s=Bc.dot(Bc),l=Bc.dot(Fh),c=Bc.dot(iC),f=Fh.dot(Fh),p=Fh.dot(iC),g=s*f-l*l;if(g===0)return a.set(0,0,0),null;const y=1/g,v=(f*c-l*p)*y,x=(s*p-l*c)*y;return a.set(1-v-x,x,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,zh)===null?!1:zh.x>=0&&zh.y>=0&&zh.x+zh.y<=1}static getInterpolation(e,t,i,r,a,s,l,c){return this.getBarycoord(e,t,i,r,zh)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(a,zh.x),c.addScaledVector(s,zh.y),c.addScaledVector(l,zh.z),c)}static getInterpolatedAttribute(e,t,i,r,a,s){return oC.setScalar(0),lC.setScalar(0),cC.setScalar(0),oC.fromBufferAttribute(e,t),lC.fromBufferAttribute(e,i),cC.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(oC,a.x),s.addScaledVector(lC,a.y),s.addScaledVector(cC,a.z),s}static isFrontFacing(e,t,i,r){return Bc.subVectors(i,t),Fh.subVectors(e,t),Bc.cross(Fh).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Bc.subVectors(this.c,this.b),Fh.subVectors(this.a,this.b),Bc.cross(Fh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return zo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return zo.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return zo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let s,l;K0.subVectors(r,i),J0.subVectors(a,i),rC.subVectors(e,i);const c=K0.dot(rC),f=J0.dot(rC);if(c<=0&&f<=0)return t.copy(i);aC.subVectors(e,r);const p=K0.dot(aC),g=J0.dot(aC);if(p>=0&&g<=p)return t.copy(r);const y=c*g-p*f;if(y<=0&&c>=0&&p<=0)return s=c/(c-p),t.copy(i).addScaledVector(K0,s);sC.subVectors(e,a);const v=K0.dot(sC),x=J0.dot(sC);if(x>=0&&v<=x)return t.copy(a);const w=v*f-c*x;if(w<=0&&f>=0&&x<=0)return l=f/(f-x),t.copy(i).addScaledVector(J0,l);const A=p*x-v*g;if(A<=0&&g-p>=0&&v-x>=0)return UB.subVectors(a,r),l=(g-p)/(g-p+(v-x)),t.copy(r).addScaledVector(UB,l);const M=1/(A+w+y);return s=w*M,l=y*M,t.copy(i).addScaledVector(K0,s).addScaledVector(J0,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const B7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ud={h:0,s:0,l:0},lM={h:0,s:0,l:0};function uC(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Vt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ds){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Si.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Si.workingColorSpace){return this.r=e,this.g=t,this.b=i,Si.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Si.workingColorSpace){if(e=wR(e,1),t=Vn(t,0,1),i=Vn(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,s=2*i-a;this.r=uC(s,a,e+1/3),this.g=uC(s,a,e),this.b=uC(s,a,e-1/3)}return Si.toWorkingColorSpace(this,r),this}setStyle(e,t=ds){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],l=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ds){const i=B7[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=nf(e.r),this.g=nf(e.g),this.b=nf(e.b),this}copyLinearToSRGB(e){return this.r=Lg(e.r),this.g=Lg(e.g),this.b=Lg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ds){return Si.fromWorkingColorSpace(Ps.copy(this),e),Math.round(Vn(Ps.r*255,0,255))*65536+Math.round(Vn(Ps.g*255,0,255))*256+Math.round(Vn(Ps.b*255,0,255))}getHexString(e=ds){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Si.workingColorSpace){Si.fromWorkingColorSpace(Ps.copy(this),t);const i=Ps.r,r=Ps.g,a=Ps.b,s=Math.max(i,r,a),l=Math.min(i,r,a);let c,f;const p=(l+s)/2;if(l===s)c=0,f=0;else{const g=s-l;switch(f=p<=.5?g/(s+l):g/(2-s-l),s){case i:c=(r-a)/g+(r<a?6:0);break;case r:c=(a-i)/g+2;break;case a:c=(i-r)/g+4;break}c/=6}return e.h=c,e.s=f,e.l=p,e}getRGB(e,t=Si.workingColorSpace){return Si.fromWorkingColorSpace(Ps.copy(this),t),e.r=Ps.r,e.g=Ps.g,e.b=Ps.b,e}getStyle(e=ds){Si.fromWorkingColorSpace(Ps.copy(this),e);const t=Ps.r,i=Ps.g,r=Ps.b;return e!==ds?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(ud),this.setHSL(ud.h+e,ud.s+t,ud.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(ud),e.getHSL(lM);const i=Hv(ud.h,lM.h,t),r=Hv(ud.s,lM.s,t),a=Hv(ud.l,lM.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ps=new Vt;Vt.NAMES=B7;let aoe=0;class Ba extends sh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:aoe++}),this.uuid=dl(),this.name="",this.type="Material",this.blending=vm,this.side=$u,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$S,this.blendDst=ZS,this.blendEquation=_d,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Vt(0,0,0),this.blendAlpha=0,this.depthFunc=Tm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=h4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Jp,this.stencilZFail=Jp,this.stencilZPass=Jp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==vm&&(i.blending=this.blending),this.side!==$u&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==$S&&(i.blendSrc=this.blendSrc),this.blendDst!==ZS&&(i.blendDst=this.blendDst),this.blendEquation!==_d&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Tm&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==h4&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Jp&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Jp&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Jp&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const l in a){const c=a[l];delete c.metadata,s.push(c)}return s}if(t){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Vo extends Ba{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.combine=ib,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Jh=soe();function soe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const f=c-127;f<-27?(i[c]=0,i[c|256]=32768,r[c]=24,r[c|256]=24):f<-14?(i[c]=1024>>-f-14,i[c|256]=1024>>-f-14|32768,r[c]=-f-1,r[c|256]=-f-1):f<=15?(i[c]=f+15<<10,i[c|256]=f+15<<10|32768,r[c]=13,r[c|256]=13):f<128?(i[c]=31744,i[c|256]=64512,r[c]=24,r[c|256]=24):(i[c]=31744,i[c|256]=64512,r[c]=13,r[c|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let f=c<<13,p=0;for(;(f&8388608)===0;)f<<=1,p-=8388608;f&=-8388609,p+=947912704,a[c]=f|p}for(let c=1024;c<2048;++c)a[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)s[c]=c<<23;s[31]=1199570944,s[32]=2147483648;for(let c=33;c<63;++c)s[c]=2147483648+(c-32<<23);s[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:l}}function No(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Vn(n,-65504,65504),Jh.floatView[0]=n;const e=Jh.uint32View[0],t=e>>23&511;return Jh.baseTable[t]+((e&8388607)>>Jh.shiftTable[t])}function vv(n){const e=n>>10;return Jh.uint32View[0]=Jh.mantissaTable[Jh.offsetTable[e]+(n&1023)]+Jh.exponentTable[e],Jh.floatView[0]}class lm{static toHalfFloat(e){return No(e)}static fromHalfFloat(e){return vv(e)}}const va=new oe,cM=new pt;let ooe=0;class Ii{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:ooe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=x1,this.updateRanges=[],this.gpuType=Vr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)cM.fromBufferAttribute(this,t),cM.applyMatrix3(e),this.setXY(t,cM.x,cM.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)va.fromBufferAttribute(this,t),va.applyMatrix3(e),this.setXYZ(t,va.x,va.y,va.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)va.fromBufferAttribute(this,t),va.applyMatrix4(e),this.setXYZ(t,va.x,va.y,va.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)va.fromBufferAttribute(this,t),va.applyNormalMatrix(e),this.setXYZ(t,va.x,va.y,va.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)va.fromBufferAttribute(this,t),va.transformDirection(e),this.setXYZ(t,va.x,va.y,va.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=co(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Jn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=co(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=co(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=co(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=co(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array),a=Jn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==x1&&(e.usage=this.usage),e}}class loe extends Ii{constructor(e,t,i){super(new Int8Array(e),t,i)}}class coe extends Ii{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class uoe extends Ii{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class hoe extends Ii{constructor(e,t,i){super(new Int16Array(e),t,i)}}class RR extends Ii{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class foe extends Ii{constructor(e,t,i){super(new Int32Array(e),t,i)}}class IR extends Ii{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class doe extends Ii{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=vv(this.array[e*this.itemSize]);return this.normalized&&(t=co(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize]=No(t),this}getY(e){let t=vv(this.array[e*this.itemSize+1]);return this.normalized&&(t=co(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+1]=No(t),this}getZ(e){let t=vv(this.array[e*this.itemSize+2]);return this.normalized&&(t=co(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+2]=No(t),this}getW(e){let t=vv(this.array[e*this.itemSize+3]);return this.normalized&&(t=co(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+3]=No(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array)),this.array[e+0]=No(t),this.array[e+1]=No(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array)),this.array[e+0]=No(t),this.array[e+1]=No(i),this.array[e+2]=No(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array),a=Jn(a,this.array)),this.array[e+0]=No(t),this.array[e+1]=No(i),this.array[e+2]=No(r),this.array[e+3]=No(a),this}}class rn extends Ii{constructor(e,t,i){super(new Float32Array(e),t,i)}}let poe=0;const jl=new bn,hC=new fi,Q0=new oe,cl=new js,Y_=new js,qa=new oe;class qn extends sh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:poe++}),this.uuid=dl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(I7(e)?IR:RR)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Xn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return jl.makeRotationFromQuaternion(e),this.applyMatrix4(jl),this}rotateX(e){return jl.makeRotationX(e),this.applyMatrix4(jl),this}rotateY(e){return jl.makeRotationY(e),this.applyMatrix4(jl),this}rotateZ(e){return jl.makeRotationZ(e),this.applyMatrix4(jl),this}translate(e,t,i){return jl.makeTranslation(e,t,i),this.applyMatrix4(jl),this}scale(e,t,i){return jl.makeScale(e,t,i),this.applyMatrix4(jl),this}lookAt(e){return hC.lookAt(e),hC.updateMatrix(),this.applyMatrix4(hC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Q0).negate(),this.translate(Q0.x,Q0.y,Q0.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new rn(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new js);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];cl.setFromBufferAttribute(a),this.morphTargetsRelative?(qa.addVectors(this.boundingBox.min,cl.min),this.boundingBox.expandByPoint(qa),qa.addVectors(this.boundingBox.max,cl.max),this.boundingBox.expandByPoint(qa)):(this.boundingBox.expandByPoint(cl.min),this.boundingBox.expandByPoint(cl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new oe,1/0);return}if(e){const i=this.boundingSphere.center;if(cl.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const l=t[a];Y_.setFromBufferAttribute(l),this.morphTargetsRelative?(qa.addVectors(cl.min,Y_.min),cl.expandByPoint(qa),qa.addVectors(cl.max,Y_.max),cl.expandByPoint(qa)):(cl.expandByPoint(Y_.min),cl.expandByPoint(Y_.max))}cl.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)qa.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(qa));if(t)for(let a=0,s=t.length;a<s;a++){const l=t[a],c=this.morphTargetsRelative;for(let f=0,p=l.count;f<p;f++)qa.fromBufferAttribute(l,f),c&&(Q0.fromBufferAttribute(e,f),qa.add(Q0)),r=Math.max(r,i.distanceToSquared(qa))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ii(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),l=[],c=[];for(let N=0;N<i.count;N++)l[N]=new oe,c[N]=new oe;const f=new oe,p=new oe,g=new oe,y=new pt,v=new pt,x=new pt,w=new oe,A=new oe;function M(N,B,O){f.fromBufferAttribute(i,N),p.fromBufferAttribute(i,B),g.fromBufferAttribute(i,O),y.fromBufferAttribute(a,N),v.fromBufferAttribute(a,B),x.fromBufferAttribute(a,O),p.sub(f),g.sub(f),v.sub(y),x.sub(y);const H=1/(v.x*x.y-x.x*v.y);isFinite(H)&&(w.copy(p).multiplyScalar(x.y).addScaledVector(g,-v.y).multiplyScalar(H),A.copy(g).multiplyScalar(v.x).addScaledVector(p,-x.x).multiplyScalar(H),l[N].add(w),l[B].add(w),l[O].add(w),c[N].add(A),c[B].add(A),c[O].add(A))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let N=0,B=R.length;N<B;++N){const O=R[N],H=O.start,Q=O.count;for(let G=H,he=H+Q;G<he;G+=3)M(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const P=new oe,L=new oe,F=new oe,j=new oe;function U(N){F.fromBufferAttribute(r,N),j.copy(F);const B=l[N];P.copy(B),P.sub(F.multiplyScalar(F.dot(B))).normalize(),L.crossVectors(j,B);const H=L.dot(c[N])<0?-1:1;s.setXYZW(N,P.x,P.y,P.z,H)}for(let N=0,B=R.length;N<B;++N){const O=R[N],H=O.start,Q=O.count;for(let G=H,he=H+Q;G<he;G+=3)U(e.getX(G+0)),U(e.getX(G+1)),U(e.getX(G+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ii(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,v=i.count;y<v;y++)i.setXYZ(y,0,0,0);const r=new oe,a=new oe,s=new oe,l=new oe,c=new oe,f=new oe,p=new oe,g=new oe;if(e)for(let y=0,v=e.count;y<v;y+=3){const x=e.getX(y+0),w=e.getX(y+1),A=e.getX(y+2);r.fromBufferAttribute(t,x),a.fromBufferAttribute(t,w),s.fromBufferAttribute(t,A),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,w),f.fromBufferAttribute(i,A),l.add(p),c.add(p),f.add(p),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(w,c.x,c.y,c.z),i.setXYZ(A,f.x,f.y,f.z)}else for(let y=0,v=t.count;y<v;y+=3)r.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),i.setXYZ(y+0,p.x,p.y,p.z),i.setXYZ(y+1,p.x,p.y,p.z),i.setXYZ(y+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)qa.fromBufferAttribute(e,t),qa.normalize(),e.setXYZ(t,qa.x,qa.y,qa.z)}toNonIndexed(){function e(l,c){const f=l.array,p=l.itemSize,g=l.normalized,y=new f.constructor(c.length*p);let v=0,x=0;for(let w=0,A=c.length;w<A;w++){l.isInterleavedBufferAttribute?v=c[w]*l.data.stride+l.offset:v=c[w]*p;for(let M=0;M<p;M++)y[x++]=f[v++]}return new Ii(y,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new qn,i=this.index.array,r=this.attributes;for(const l in r){const c=r[l],f=e(c,i);t.setAttribute(l,f)}const a=this.morphAttributes;for(const l in a){const c=[],f=a[l];for(let p=0,g=f.length;p<g;p++){const y=f[p],v=e(y,i);c.push(v)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,c=s.length;l<c;l++){const f=s[l];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const f in c)c[f]!==void 0&&(e[f]=c[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i){const f=i[c];e.data.attributes[c]=f.toJSON(e.data)}const r={};let a=!1;for(const c in this.morphAttributes){const f=this.morphAttributes[c],p=[];for(let g=0,y=f.length;g<y;g++){const v=f[g];p.push(v.toJSON(e.data))}p.length>0&&(r[c]=p,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(t))}const a=e.morphAttributes;for(const f in a){const p=[],g=a[f];for(let y=0,v=g.length;y<v;y++)p.push(g[y].clone(t));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,p=s.length;f<p;f++){const g=s[f];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const FB=new bn,Np=new Um,uM=new gs,zB=new oe,hM=new oe,fM=new oe,dM=new oe,fC=new oe,pM=new oe,VB=new oe,mM=new oe;class Ir extends fi{constructor(e=new qn,t=new Vo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(a&&l){pM.set(0,0,0);for(let c=0,f=a.length;c<f;c++){const p=l[c],g=a[c];p!==0&&(fC.fromBufferAttribute(g,e),s?pM.addScaledVector(fC,p):pM.addScaledVector(fC.sub(t),p))}t.add(pM)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),uM.copy(i.boundingSphere),uM.applyMatrix4(a),Np.copy(e.ray).recast(e.near),!(uM.containsPoint(Np.origin)===!1&&(Np.intersectSphere(uM,zB)===null||Np.origin.distanceToSquared(zB)>(e.far-e.near)**2))&&(FB.copy(a).invert(),Np.copy(e.ray).applyMatrix4(FB),!(i.boundingBox!==null&&Np.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Np)))}_computeIntersections(e,t,i){let r;const a=this.geometry,s=this.material,l=a.index,c=a.attributes.position,f=a.attributes.uv,p=a.attributes.uv1,g=a.attributes.normal,y=a.groups,v=a.drawRange;if(l!==null)if(Array.isArray(s))for(let x=0,w=y.length;x<w;x++){const A=y[x],M=s[A.materialIndex],R=Math.max(A.start,v.start),P=Math.min(l.count,Math.min(A.start+A.count,v.start+v.count));for(let L=R,F=P;L<F;L+=3){const j=l.getX(L),U=l.getX(L+1),N=l.getX(L+2);r=gM(this,M,e,i,f,p,g,j,U,N),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const x=Math.max(0,v.start),w=Math.min(l.count,v.start+v.count);for(let A=x,M=w;A<M;A+=3){const R=l.getX(A),P=l.getX(A+1),L=l.getX(A+2);r=gM(this,s,e,i,f,p,g,R,P,L),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(s))for(let x=0,w=y.length;x<w;x++){const A=y[x],M=s[A.materialIndex],R=Math.max(A.start,v.start),P=Math.min(c.count,Math.min(A.start+A.count,v.start+v.count));for(let L=R,F=P;L<F;L+=3){const j=L,U=L+1,N=L+2;r=gM(this,M,e,i,f,p,g,j,U,N),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const x=Math.max(0,v.start),w=Math.min(c.count,v.start+v.count);for(let A=x,M=w;A<M;A+=3){const R=A,P=A+1,L=A+2;r=gM(this,s,e,i,f,p,g,R,P,L),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}}}function moe(n,e,t,i,r,a,s,l){let c;if(e.side===po?c=i.intersectTriangle(s,a,r,!0,l):c=i.intersectTriangle(r,a,s,e.side===$u,l),c===null)return null;mM.copy(l),mM.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(mM);return f<t.near||f>t.far?null:{distance:f,point:mM.clone(),object:n}}function gM(n,e,t,i,r,a,s,l,c,f){n.getVertexPosition(l,hM),n.getVertexPosition(c,fM),n.getVertexPosition(f,dM);const p=moe(n,e,t,i,hM,fM,dM,VB);if(p){const g=new oe;zo.getBarycoord(VB,hM,fM,dM,g),r&&(p.uv=zo.getInterpolatedAttribute(r,l,c,f,g,new pt)),a&&(p.uv1=zo.getInterpolatedAttribute(a,l,c,f,g,new pt)),s&&(p.normal=zo.getInterpolatedAttribute(s,l,c,f,g,new oe),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const y={a:l,b:c,c:f,normal:new oe,materialIndex:0};zo.getNormal(hM,fM,dM,y.normal),p.face=y,p.barycoord=g}return p}class Fm extends qn{constructor(e=1,t=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const l=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const c=[],f=[],p=[],g=[];let y=0,v=0;x("z","y","x",-1,-1,i,t,e,s,a,0),x("z","y","x",1,-1,i,t,-e,s,a,1),x("x","z","y",1,1,e,i,t,r,s,2),x("x","z","y",1,-1,e,i,-t,r,s,3),x("x","y","z",1,-1,e,t,i,r,a,4),x("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(c),this.setAttribute("position",new rn(f,3)),this.setAttribute("normal",new rn(p,3)),this.setAttribute("uv",new rn(g,2));function x(w,A,M,R,P,L,F,j,U,N,B){const O=L/U,H=F/N,Q=L/2,G=F/2,he=j/2,_e=U+1,X=N+1;let Z=0,re=0;const be=new oe;for(let $=0;$<X;$++){const pe=$*H-G;for(let we=0;we<_e;we++){const Te=we*O-Q;be[w]=Te*R,be[A]=pe*P,be[M]=he,f.push(be.x,be.y,be.z),be[w]=0,be[A]=0,be[M]=j>0?1:-1,p.push(be.x,be.y,be.z),g.push(we/U),g.push(1-$/N),Z+=1}}for(let $=0;$<N;$++)for(let pe=0;pe<U;pe++){const we=y+pe+_e*$,Te=y+pe+_e*($+1),de=y+(pe+1)+_e*($+1),Ne=y+(pe+1)+_e*$;c.push(we,Te,Ne),c.push(Te,de,Ne),re+=6}l.addGroup(v,re,B),v+=re,y+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ly(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ao(n){const e={};for(let t=0;t<n.length;t++){const i=ly(n[t]);for(const r in i)e[r]=i[r]}return e}function goe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function O7(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Si.workingColorSpace}const N7={clone:ly,merge:ao};var yoe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,_oe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class qo extends Ba{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yoe,this.fragmentShader=_oe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ly(e.uniforms),this.uniformsGroups=goe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class FE extends fi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new bn,this.projectionMatrix=new bn,this.projectionMatrixInverse=new bn,this.coordinateSystem=jc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const hd=new oe,jB=new pt,kB=new pt;class wr extends FE{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=sy*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(bm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return sy*2*Math.atan(Math.tan(bm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){hd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(hd.x,hd.y).multiplyScalar(-e/hd.z),hd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(hd.x,hd.y).multiplyScalar(-e/hd.z)}getViewSize(e,t){return this.getViewBounds(e,jB,kB),t.subVectors(kB,jB)}setViewOffset(e,t,i,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(bm*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const c=s.fullWidth,f=s.fullHeight;a+=s.offsetX*r/c,t-=s.offsetY*i/f,r*=s.width/c,i*=s.height/f}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const $0=-90,Z0=1;class L7 extends fi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new wr($0,Z0,e,t);r.layers=this.layers,this.add(r);const a=new wr($0,Z0,e,t);a.layers=this.layers,this.add(a);const s=new wr($0,Z0,e,t);s.layers=this.layers,this.add(s);const l=new wr($0,Z0,e,t);l.layers=this.layers,this.add(l);const c=new wr($0,Z0,e,t);c.layers=this.layers,this.add(c);const f=new wr($0,Z0,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,s,l,c]=t;for(const f of t)this.remove(f);if(e===jc)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===M1)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,l,c,f,p]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,s),e.setRenderTarget(i,2,r),e.render(t,l),e.setRenderTarget(i,3,r),e.render(t,c),e.setRenderTarget(i,4,r),e.render(t,f),i.texture.generateMipmaps=w,e.setRenderTarget(i,5,r),e.render(t,p),e.setRenderTarget(g,y,v),e.xr.enabled=x,i.texture.needsPMREMUpdate=!0}}class lb extends Wi{constructor(e=[],t=Zu,i,r,a,s,l,c,f,p){super(e,t,i,r,a,s,l,c,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class PR extends tc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new lb(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Hi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Fm(5,5,5),a=new qo({name:"CubemapFromEquirect",uniforms:ly(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:po,blending:Gu});a.uniforms.tEquirect.value=t;const s=new Ir(r,a),l=t.minFilter;return t.minFilter===Kl&&(t.minFilter=Hi),new L7(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(a)}}class $h extends fi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const voe={type:"move"};class TS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new $h,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new $h,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new $h,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,s=null;const l=this._targetRay,c=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){s=!0;for(const w of e.hand.values()){const A=t.getJointPose(w,i),M=this._getHandJoint(f,w);A!==null&&(M.matrix.fromArray(A.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=A.radius),M.visible=A!==null}const p=f.joints["index-finger-tip"],g=f.joints["thumb-tip"],y=p.position.distanceTo(g.position),v=.02,x=.005;f.inputState.pinching&&y>v+x?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&y<=v-x&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(voe)))}return l!==null&&(l.visible=r!==null),c!==null&&(c.visible=a!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new $h;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class zE{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Vt(e),this.density=t}clone(){return new zE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class VE{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Vt(e),this.near=t,this.far=i}clone(){return new VE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class cb extends fi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ml,this.environmentIntensity=1,this.environmentRotation=new ml,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class ub{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=x1,this.updateRanges=[],this.version=0,this.uuid=dl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ro=new oe;class Nd{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ro.fromBufferAttribute(this,t),ro.applyMatrix4(e),this.setXYZ(t,ro.x,ro.y,ro.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ro.fromBufferAttribute(this,t),ro.applyNormalMatrix(e),this.setXYZ(t,ro.x,ro.y,ro.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ro.fromBufferAttribute(this,t),ro.transformDirection(e),this.setXYZ(t,ro.x,ro.y,ro.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=co(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Jn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=co(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=co(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=co(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=co(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array),a=Jn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Ii(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Nd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class DR extends Ba{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let eg;const K_=new oe,tg=new oe,ng=new oe,ig=new pt,J_=new pt,U7=new bn,yM=new oe,Q_=new oe,_M=new oe,HB=new pt,dC=new pt,GB=new pt;class F7 extends fi{constructor(e=new DR){if(super(),this.isSprite=!0,this.type="Sprite",eg===void 0){eg=new qn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new ub(t,5);eg.setIndex([0,1,2,0,2,3]),eg.setAttribute("position",new Nd(i,3,0,!1)),eg.setAttribute("uv",new Nd(i,2,3,!1))}this.geometry=eg,this.material=e,this.center=new pt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),tg.setFromMatrixScale(this.matrixWorld),U7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ng.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&tg.multiplyScalar(-ng.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;vM(yM.set(-.5,-.5,0),ng,s,tg,r,a),vM(Q_.set(.5,-.5,0),ng,s,tg,r,a),vM(_M.set(.5,.5,0),ng,s,tg,r,a),HB.set(0,0),dC.set(1,0),GB.set(1,1);let l=e.ray.intersectTriangle(yM,Q_,_M,!1,K_);if(l===null&&(vM(Q_.set(-.5,.5,0),ng,s,tg,r,a),dC.set(0,1),l=e.ray.intersectTriangle(yM,_M,Q_,!1,K_),l===null))return;const c=e.ray.origin.distanceTo(K_);c<e.near||c>e.far||t.push({distance:c,point:K_.clone(),uv:zo.getInterpolation(K_,yM,Q_,_M,HB,dC,GB,new pt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function vM(n,e,t,i,r,a){ig.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(J_.x=a*ig.x-r*ig.y,J_.y=r*ig.x+a*ig.y):J_.copy(ig),n.copy(e),n.x+=J_.x,n.y+=J_.y,n.applyMatrix4(U7)}const bM=new oe,XB=new oe;class z7 extends fi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){bM.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(bM);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){bM.setFromMatrixPosition(e.matrixWorld),XB.setFromMatrixPosition(this.matrixWorld);const i=bM.distanceTo(XB)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),i>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const qB=new oe,WB=new Ri,YB=new Ri,boe=new oe,KB=new bn,xM=new oe,pC=new gs,JB=new bn,mC=new Um;class BR extends Ir{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=c4,this.bindMatrix=new bn,this.bindMatrixInverse=new bn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new js),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xM),this.boundingBox.expandByPoint(xM)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new gs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xM),this.boundingSphere.expandByPoint(xM)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pC.copy(this.boundingSphere),pC.applyMatrix4(r),e.ray.intersectsSphere(pC)!==!1&&(JB.copy(r).invert(),mC.copy(e.ray).applyMatrix4(JB),!(this.boundingBox!==null&&mC.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,mC)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ri,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===c4?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===p7?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;WB.fromBufferAttribute(r.attributes.skinIndex,e),YB.fromBufferAttribute(r.attributes.skinWeight,e),qB.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=YB.getComponent(a);if(s!==0){const l=WB.getComponent(a);KB.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(boe.copy(qB).applyMatrix4(KB),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class jE extends fi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Hc extends Wi{constructor(e=null,t=1,i=1,r,a,s,l,c,f=Ka,p=Ka,g,y){super(null,s,l,c,f,p,r,a,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const QB=new bn,xoe=new bn;class hb{constructor(e=[],t=[]){this.uuid=dl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new bn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new bn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const l=e[a]?e[a].matrixWorld:xoe;QB.multiplyMatrices(l,t[a]),QB.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new hb(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Hc(t,e,e,ca,Vr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new jE),this.bones.push(s),this.boneInverses.push(new bn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const s=t[r];e.bones.push(s.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class Cm extends Ii{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const rg=new bn,$B=new bn,MM=[],ZB=new js,Moe=new bn,$_=new Ir,Z_=new gs;class OR extends Ir{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Cm(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Moe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new js),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,rg),ZB.copy(e.boundingBox).applyMatrix4(rg),this.boundingBox.union(ZB)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new gs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,rg),Z_.copy(e.boundingSphere).applyMatrix4(rg),this.boundingSphere.union(Z_)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let l=0;l<i.length;l++)i[l]=r[s+l]}raycast(e,t){const i=this.matrixWorld,r=this.count;if($_.geometry=this.geometry,$_.material=this.material,$_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Z_.copy(this.boundingSphere),Z_.applyMatrix4(i),e.ray.intersectsSphere(Z_)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,rg),$B.multiplyMatrices(i,rg),$_.matrixWorld=$B,$_.raycast(e,MM);for(let s=0,l=MM.length;s<l;s++){const c=MM[s];c.instanceId=a,c.object=this,t.push(c)}MM.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Cm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Hc(new Float32Array(r*this.count),r,this.count,ab,Vr));const a=this.morphTexture.source.data.data;let s=0;for(let f=0;f<i.length;f++)s+=i[f];const l=this.geometry.morphTargetsRelative?1:1-s,c=r*e;a[c]=l,a.set(i,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const gC=new oe,Soe=new oe,Aoe=new Xn;class Gh{constructor(e=new oe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=gC.subVectors(i,t).cross(Soe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(gC),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Aoe.getNormalMatrix(e),r=this.coplanarPoint(gC).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Lp=new gs,SM=new oe;class fb{constructor(e=new Gh,t=new Gh,i=new Gh,r=new Gh,a=new Gh,s=new Gh){this.planes=[e,t,i,r,a,s]}set(e,t,i,r,a,s){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(r),l[4].copy(a),l[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=jc){const i=this.planes,r=e.elements,a=r[0],s=r[1],l=r[2],c=r[3],f=r[4],p=r[5],g=r[6],y=r[7],v=r[8],x=r[9],w=r[10],A=r[11],M=r[12],R=r[13],P=r[14],L=r[15];if(i[0].setComponents(c-a,y-f,A-v,L-M).normalize(),i[1].setComponents(c+a,y+f,A+v,L+M).normalize(),i[2].setComponents(c+s,y+p,A+x,L+R).normalize(),i[3].setComponents(c-s,y-p,A-x,L-R).normalize(),i[4].setComponents(c-l,y-g,A-w,L-P).normalize(),t===jc)i[5].setComponents(c+l,y+g,A+w,L+P).normalize();else if(t===M1)i[5].setComponents(l,g,w,P).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Lp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Lp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Lp)}intersectsSprite(e){return Lp.center.set(0,0,0),Lp.radius=.7071067811865476,Lp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Lp)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(SM.x=r.normal.x>0?e.max.x:e.min.x,SM.y=r.normal.y>0?e.max.y:e.min.y,SM.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(SM)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function yC(n,e){return n-e}function Eoe(n,e){return n.z-e.z}function Toe(n,e){return e.z-n.z}class Coe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];s.push(l),this.index++,l.start=e,l.count=t,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const Oo=new bn,woe=new Vt(1,1,1),_C=new fb,AM=new js,Up=new gs,ev=new oe,eO=new oe,Roe=new oe,vC=new Coe,Ds=new Ir,EM=[];function Ioe(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+t,s,n.getComponent(a,s))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Fp(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class V7 extends Ir{constructor(e,t,i=t*2,r){super(new qn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Hc(t,e,e,ca,Vr);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Hc(t,e,e,sb,eh);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Hc(t,e,e,ca,Vr);i.colorSpace=Si.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:l,itemSize:c,normalized:f}=s,p=new l.constructor(i*c),g=new Ii(p,c,f);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Ii(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new js);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Oo),this.getBoundingBoxAt(a,AM).applyMatrix4(Oo),e.union(AM)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Oo),this.getBoundingSphereAt(a,Up).applyMatrix4(Oo),e.union(Up)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(yC),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Oo.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(woe.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(yC),c=this._availableGeometryIds.shift(),a[c]=r):(c=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=t.getIndex(),l=this._geometryInfo[e];if(r&&s.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,f=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const p in i.attributes){const g=t.getAttribute(p),y=i.getAttribute(p);Ioe(g,y,c);const v=g.itemSize;for(let x=g.count,w=f;x<w;x++){const A=c+x;for(let M=0;M<v;M++)y.setComponent(A,M,0)}y.needsUpdate=!0,y.addUpdateRange(c*v,f*v)}if(r){const p=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let y=0;y<s.count;y++)a.setX(p+y,c+s.getX(y));for(let y=s.count,v=g;y<v;y++)a.setX(p+y,c);a.needsUpdate=!0,a.addUpdateRange(p,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((s,l)=>l).sort((s,l)=>i[s].vertexStart-i[l].vertexStart),a=this.geometry;for(let s=0,l=i.length;s<l;s++){const c=r[s],f=i[c];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==t){const{indexStart:p,vertexStart:g,reservedIndexCount:y}=f,v=a.index,x=v.array,w=e-g;for(let A=p;A<p+y;A++)x[A]=x[A]+w;v.array.copyWithin(t,p,p+y),v.addUpdateRange(t,y),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=f,y=a.attributes;for(const v in y){const x=y[v],{array:w,itemSize:A}=x;w.copyWithin(e*A,p*A,(p+g)*A),x.addUpdateRange(e*A,g*A)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new js,s=i.index,l=i.attributes.position;for(let c=r.start,f=r.start+r.count;c<f;c++){let p=c;s&&(p=s.getX(p)),a.expandByPoint(ev.fromBufferAttribute(l,p))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new gs;this.getBoundingBoxAt(e,AM),AM.getCenter(a.center);const s=i.index,l=i.attributes.position;let c=0;for(let f=r.start,p=r.start+r.count;f<p;f++){let g=f;s&&(g=s.getX(g)),ev.fromBufferAttribute(l,g),c=Math.max(c,a.center.distanceToSquared(ev))}a.radius=Math.sqrt(c),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(yC);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Fp(this._multiDrawCounts,r),Fp(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,l=this._matricesTexture,c=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Fp(s.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Fp(l.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),Fp(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(c=>c.indexStart+c.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new qn,this._initializeGeometry(a));const s=this.geometry;a.index&&Fp(a.index.array,s.index.array);for(const l in a.attributes)Fp(a.attributes[l].array,s.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Ds.material=this.material,Ds.geometry.index=s.index,Ds.geometry.attributes=s.attributes,Ds.geometry.boundingBox===null&&(Ds.geometry.boundingBox=new js),Ds.geometry.boundingSphere===null&&(Ds.geometry.boundingSphere=new gs);for(let l=0,c=i.length;l<c;l++){if(!i[l].visible||!i[l].active)continue;const f=i[l].geometryIndex,p=r[f];Ds.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(l,Ds.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,Ds.geometry.boundingBox),this.getBoundingSphereAt(f,Ds.geometry.boundingSphere),Ds.raycast(e,EM);for(let g=0,y=EM.length;g<y;g++){const v=EM[g];v.object=this,v.batchId=l,t.push(v)}EM.length=0}Ds.material=null,Ds.geometry.index=null,Ds.geometry.attributes={},Ds.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),l=s===null?1:s.array.BYTES_PER_ELEMENT,c=this._instanceInfo,f=this._multiDrawStarts,p=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,v=this._indirectTexture,x=v.image.data;y&&(Oo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),_C.setFromProjectionMatrix(Oo,e.coordinateSystem));let w=0;if(this.sortObjects){Oo.copy(this.matrixWorld).invert(),ev.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Oo),eO.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Oo);for(let R=0,P=c.length;R<P;R++)if(c[R].visible&&c[R].active){const L=c[R].geometryIndex;this.getMatrixAt(R,Oo),this.getBoundingSphereAt(L,Up).applyMatrix4(Oo);let F=!1;if(y&&(F=!_C.intersectsSphere(Up)),!F){const j=g[L],U=Roe.subVectors(Up.center,ev).dot(eO);vC.push(j.start,j.count,U,R)}}const A=vC.list,M=this.customSort;M===null?A.sort(a.transparent?Toe:Eoe):M.call(this,A,i);for(let R=0,P=A.length;R<P;R++){const L=A[R];f[w]=L.start*l,p[w]=L.count,x[w]=L.index,w++}vC.reset()}else for(let A=0,M=c.length;A<M;A++)if(c[A].visible&&c[A].active){const R=c[A].geometryIndex;let P=!1;if(y&&(this.getMatrixAt(A,Oo),this.getBoundingSphereAt(R,Up).applyMatrix4(Oo),P=!_C.intersectsSphere(Up)),!P){const L=g[R];f[w]=L.start*l,p[w]=L.count,x[w]=A,w++}}v.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class ks extends Ba{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Vt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const OA=new oe,NA=new oe,tO=new bn,tv=new Um,TM=new gs,bC=new oe,nO=new oe;class uf extends fi{constructor(e=new qn,t=new ks){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)OA.fromBufferAttribute(t,r-1),NA.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=OA.distanceTo(NA);e.setAttribute("lineDistance",new rn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),TM.copy(i.boundingSphere),TM.applyMatrix4(r),TM.radius+=a,e.ray.intersectsSphere(TM)===!1)return;tO.copy(r).invert(),tv.copy(e.ray).applyMatrix4(tO);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,f=this.isLineSegments?2:1,p=i.index,y=i.attributes.position;if(p!==null){const v=Math.max(0,s.start),x=Math.min(p.count,s.start+s.count);for(let w=v,A=x-1;w<A;w+=f){const M=p.getX(w),R=p.getX(w+1),P=CM(this,e,tv,c,M,R,w);P&&t.push(P)}if(this.isLineLoop){const w=p.getX(x-1),A=p.getX(v),M=CM(this,e,tv,c,w,A,x-1);M&&t.push(M)}}else{const v=Math.max(0,s.start),x=Math.min(y.count,s.start+s.count);for(let w=v,A=x-1;w<A;w+=f){const M=CM(this,e,tv,c,w,w+1,w);M&&t.push(M)}if(this.isLineLoop){const w=CM(this,e,tv,c,x-1,v,x-1);w&&t.push(w)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function CM(n,e,t,i,r,a,s){const l=n.geometry.attributes.position;if(OA.fromBufferAttribute(l,r),NA.fromBufferAttribute(l,a),t.distanceSqToSegment(OA,NA,bC,nO)>i)return;bC.applyMatrix4(n.matrixWorld);const f=e.ray.origin.distanceTo(bC);if(!(f<e.near||f>e.far))return{distance:f,point:nO.clone().applyMatrix4(n.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:n}}const iO=new oe,rO=new oe;class qc extends uf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)iO.fromBufferAttribute(t,r),rO.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+iO.distanceTo(rO);e.setAttribute("lineDistance",new rn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class NR extends uf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class kE extends Ba{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const aO=new bn,d4=new Um,wM=new gs,RM=new oe;class LR extends fi{constructor(e=new qn,t=new kE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),wM.copy(i.boundingSphere),wM.applyMatrix4(r),wM.radius+=a,e.ray.intersectsSphere(wM)===!1)return;aO.copy(r).invert(),d4.copy(e.ray).applyMatrix4(aO);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,f=i.index,g=i.attributes.position;if(f!==null){const y=Math.max(0,s.start),v=Math.min(f.count,s.start+s.count);for(let x=y,w=v;x<w;x++){const A=f.getX(x);RM.fromBufferAttribute(g,A),sO(RM,A,c,r,e,t,this)}}else{const y=Math.max(0,s.start),v=Math.min(g.count,s.start+s.count);for(let x=y,w=v;x<w;x++)RM.fromBufferAttribute(g,x),sO(RM,x,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function sO(n,e,t,i,r,a,s){const l=d4.distanceSqToPoint(n);if(l<t){const c=new oe;d4.closestPointToPoint(n,c),c.applyMatrix4(i);const f=r.ray.origin.distanceTo(c);if(f<r.near||f>r.far)return;a.push({distance:f,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class j7 extends Wi{constructor(e,t,i,r,a=Hi,s=Hi,l,c,f){super(e,t,i,r,a,s,l,c,f),this.isVideoTexture=!0,this.generateMipmaps=!1;const p=this;function g(){p.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Poe extends j7{constructor(e,t,i,r,a,s,l,c){super({},e,t,i,r,a,s,l,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Doe extends Wi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ka,this.minFilter=Ka,this.generateMipmaps=!1,this.needsUpdate=!0}}class HE extends Wi{constructor(e,t,i,r,a,s,l,c,f,p,g,y){super(null,s,l,c,f,p,r,a,g,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Boe extends HE{constructor(e,t,i,r,a,s){super(e,t,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=la,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ooe extends HE{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Zu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Noe extends Wi{constructor(e,t,i,r,a,s,l,c,f){super(e,t,i,r,a,s,l,c,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class UR extends Wi{constructor(e,t,i=eh,r,a,s,l=Ka,c=Ka,f,p=ny){if(p!==ny&&p!==iy)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,a,s,l,c,p,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new bd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Wc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let s;t?s=t:s=e*i[a-1];let l=0,c=a-1,f;for(;l<=c;)if(r=Math.floor(l+(c-l)/2),f=i[r]-s,f<0)l=r+1;else if(f>0)c=r-1;else{c=r;break}if(r=c,i[r]===s)return r/(a-1);const p=i[r],y=i[r+1]-p,v=(s-p)/y;return(r+v)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),l=this.getPoint(a),c=t||(s.isVector2?new pt:new oe);return c.copy(l).sub(s).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new oe,r=[],a=[],s=[],l=new oe,c=new bn;for(let v=0;v<=e;v++){const x=v/e;r[v]=this.getTangentAt(x,new oe)}a[0]=new oe,s[0]=new oe;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);p<=f&&(f=p,i.set(1,0,0)),g<=f&&(f=g,i.set(0,1,0)),y<=f&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],l),s[0].crossVectors(r[0],a[0]);for(let v=1;v<=e;v++){if(a[v]=a[v-1].clone(),s[v]=s[v-1].clone(),l.crossVectors(r[v-1],r[v]),l.length()>Number.EPSILON){l.normalize();const x=Math.acos(Vn(r[v-1].dot(r[v]),-1,1));a[v].applyMatrix4(c.makeRotationAxis(l,x))}s[v].crossVectors(r[v],a[v])}if(t===!0){let v=Math.acos(Vn(a[0].dot(a[e]),-1,1));v/=e,r[0].dot(l.crossVectors(a[0],a[e]))>0&&(v=-v);for(let x=1;x<=e;x++)a[x].applyMatrix4(c.makeRotationAxis(r[x],v*x)),s[x].crossVectors(r[x],a[x])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class GE extends Wc{constructor(e=0,t=0,i=1,r=1,a=0,s=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=l,this.aRotation=c}getPoint(e,t=new pt){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+e*a;let c=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=c-this.aX,v=f-this.aY;c=y*p-v*g+this.aX,f=y*g+v*p+this.aY}return i.set(c,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class k7 extends GE{constructor(e,t,i,r,a,s){super(e,t,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function FR(){let n=0,e=0,t=0,i=0;function r(a,s,l,c){n=a,e=l,t=-3*a+3*s-2*l-c,i=2*a-2*s+l+c}return{initCatmullRom:function(a,s,l,c,f){r(s,l,f*(l-a),f*(c-s))},initNonuniformCatmullRom:function(a,s,l,c,f,p,g){let y=(s-a)/f-(l-a)/(f+p)+(l-s)/p,v=(l-s)/p-(c-s)/(p+g)+(c-l)/g;y*=p,v*=p,r(s,l,y,v)},calc:function(a){const s=a*a,l=s*a;return n+e*a+t*s+i*l}}}const IM=new oe,xC=new FR,MC=new FR,SC=new FR;class H7 extends Wc{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new oe){const i=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:c===0&&l===a-1&&(l=a-2,c=1);let f,p;this.closed||l>0?f=r[(l-1)%a]:(IM.subVectors(r[0],r[1]).add(r[0]),f=IM);const g=r[l%a],y=r[(l+1)%a];if(this.closed||l+2<a?p=r[(l+2)%a]:(IM.subVectors(r[a-1],r[a-2]).add(r[a-1]),p=IM),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let x=Math.pow(f.distanceToSquared(g),v),w=Math.pow(g.distanceToSquared(y),v),A=Math.pow(y.distanceToSquared(p),v);w<1e-4&&(w=1),x<1e-4&&(x=w),A<1e-4&&(A=w),xC.initNonuniformCatmullRom(f.x,g.x,y.x,p.x,x,w,A),MC.initNonuniformCatmullRom(f.y,g.y,y.y,p.y,x,w,A),SC.initNonuniformCatmullRom(f.z,g.z,y.z,p.z,x,w,A)}else this.curveType==="catmullrom"&&(xC.initCatmullRom(f.x,g.x,y.x,p.x,this.tension),MC.initCatmullRom(f.y,g.y,y.y,p.y,this.tension),SC.initCatmullRom(f.z,g.z,y.z,p.z,this.tension));return i.set(xC.calc(c),MC.calc(c),SC.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new oe().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function oO(n,e,t,i,r){const a=(i-e)*.5,s=(r-t)*.5,l=n*n,c=n*l;return(2*t-2*i+a+s)*c+(-3*t+3*i-2*a-s)*l+a*n+t}function Loe(n,e){const t=1-n;return t*t*e}function Uoe(n,e){return 2*(1-n)*n*e}function Foe(n,e){return n*n*e}function Gv(n,e,t,i){return Loe(n,e)+Uoe(n,t)+Foe(n,i)}function zoe(n,e){const t=1-n;return t*t*t*e}function Voe(n,e){const t=1-n;return 3*t*t*n*e}function joe(n,e){return 3*(1-n)*n*n*e}function koe(n,e){return n*n*n*e}function Xv(n,e,t,i,r){return zoe(n,e)+Voe(n,t)+joe(n,i)+koe(n,r)}class zR extends Wc{constructor(e=new pt,t=new pt,i=new pt,r=new pt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pt){const i=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(Xv(e,r.x,a.x,s.x,l.x),Xv(e,r.y,a.y,s.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class G7 extends Wc{constructor(e=new oe,t=new oe,i=new oe,r=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new oe){const i=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(Xv(e,r.x,a.x,s.x,l.x),Xv(e,r.y,a.y,s.y,l.y),Xv(e,r.z,a.z,s.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class VR extends Wc{constructor(e=new pt,t=new pt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class X7 extends Wc{constructor(e=new oe,t=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new oe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new oe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jR extends Wc{constructor(e=new pt,t=new pt,i=new pt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pt){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(Gv(e,r.x,a.x,s.x),Gv(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kR extends Wc{constructor(e=new oe,t=new oe,i=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new oe){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(Gv(e,r.x,a.x,s.x),Gv(e,r.y,a.y,s.y),Gv(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HR extends Wc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pt){const i=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),l=a-s,c=r[s===0?s:s-1],f=r[s],p=r[s>r.length-2?r.length-1:s+1],g=r[s>r.length-3?r.length-1:s+2];return i.set(oO(l,c.x,f.x,p.x,g.x),oO(l,c.y,f.y,p.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new pt().fromArray(r))}return this}}var LA=Object.freeze({__proto__:null,ArcCurve:k7,CatmullRomCurve3:H7,CubicBezierCurve:zR,CubicBezierCurve3:G7,EllipseCurve:GE,LineCurve:VR,LineCurve3:X7,QuadraticBezierCurve:jR,QuadraticBezierCurve3:kR,SplineCurve:HR});class q7 extends Wc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new LA[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,l=this.curves[a],c=l.getLength(),f=c===0?0:1-s/c;return l.getPointAt(f,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,c=s.getPoints(l);for(let f=0;f<c.length;f++){const p=c[f];i&&i.equals(p)||(t.push(p),i=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new LA[r.type]().fromJSON(r))}return this}}class A1 extends q7{constructor(e){super(),this.type="Path",this.currentPoint=new pt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new VR(this.currentPoint.clone(),new pt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new jR(this.currentPoint.clone(),new pt(e,t),new pt(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,s){const l=new zR(this.currentPoint.clone(),new pt(e,t),new pt(i,r),new pt(a,s));return this.curves.push(l),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new HR(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,t+c,i,r,a,s),this}absarc(e,t,i,r,a,s){return this.absellipse(e,t,i,i,r,a,s),this}ellipse(e,t,i,r,a,s,l,c){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,t+p,i,r,a,s,l,c),this}absellipse(e,t,i,r,a,s,l,c){const f=new GE(e,t,i,r,a,s,l,c);if(this.curves.length>0){const g=f.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class db extends qn{constructor(e=[new pt(0,-.5),new pt(.5,0),new pt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Vn(r,0,Math.PI*2);const a=[],s=[],l=[],c=[],f=[],p=1/t,g=new oe,y=new pt,v=new oe,x=new oe,w=new oe;let A=0,M=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:A=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,v.x=M*1,v.y=-A,v.z=M*0,w.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case e.length-1:c.push(w.x,w.y,w.z);break;default:A=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,v.x=M*1,v.y=-A,v.z=M*0,x.copy(v),v.x+=w.x,v.y+=w.y,v.z+=w.z,v.normalize(),c.push(v.x,v.y,v.z),w.copy(x)}for(let R=0;R<=t;R++){const P=i+R*p*r,L=Math.sin(P),F=Math.cos(P);for(let j=0;j<=e.length-1;j++){g.x=e[j].x*L,g.y=e[j].y,g.z=e[j].x*F,s.push(g.x,g.y,g.z),y.x=R/t,y.y=j/(e.length-1),l.push(y.x,y.y);const U=c[3*j+0]*L,N=c[3*j+1],B=c[3*j+0]*F;f.push(U,N,B)}}for(let R=0;R<t;R++)for(let P=0;P<e.length-1;P++){const L=P+R*e.length,F=L,j=L+e.length,U=L+e.length+1,N=L+1;a.push(F,j,N),a.push(U,N,j)}this.setIndex(a),this.setAttribute("position",new rn(s,3)),this.setAttribute("uv",new rn(l,2)),this.setAttribute("normal",new rn(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new db(e.points,e.segments,e.phiStart,e.phiLength)}}class XE extends db{constructor(e=1,t=1,i=4,r=8){const a=new A1;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new XE(e.radius,e.length,e.capSegments,e.radialSegments)}}class qE extends qn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],s=[],l=[],c=[],f=new oe,p=new pt;s.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const v=i+g/t*r;f.x=e*Math.cos(v),f.y=e*Math.sin(v),s.push(f.x,f.y,f.z),l.push(0,0,1),p.x=(s[y]/e+1)/2,p.y=(s[y+1]/e+1)/2,c.push(p.x,p.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new rn(s,3)),this.setAttribute("normal",new rn(l,3)),this.setAttribute("uv",new rn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ty extends qn{constructor(e=1,t=1,i=1,r=32,a=1,s=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:c};const f=this;r=Math.floor(r),a=Math.floor(a);const p=[],g=[],y=[],v=[];let x=0;const w=[],A=i/2;let M=0;R(),s===!1&&(e>0&&P(!0),t>0&&P(!1)),this.setIndex(p),this.setAttribute("position",new rn(g,3)),this.setAttribute("normal",new rn(y,3)),this.setAttribute("uv",new rn(v,2));function R(){const L=new oe,F=new oe;let j=0;const U=(t-e)/i;for(let N=0;N<=a;N++){const B=[],O=N/a,H=O*(t-e)+e;for(let Q=0;Q<=r;Q++){const G=Q/r,he=G*c+l,_e=Math.sin(he),X=Math.cos(he);F.x=H*_e,F.y=-O*i+A,F.z=H*X,g.push(F.x,F.y,F.z),L.set(_e,U,X).normalize(),y.push(L.x,L.y,L.z),v.push(G,1-O),B.push(x++)}w.push(B)}for(let N=0;N<r;N++)for(let B=0;B<a;B++){const O=w[B][N],H=w[B+1][N],Q=w[B+1][N+1],G=w[B][N+1];(e>0||B!==0)&&(p.push(O,H,G),j+=3),(t>0||B!==a-1)&&(p.push(H,Q,G),j+=3)}f.addGroup(M,j,0),M+=j}function P(L){const F=x,j=new pt,U=new oe;let N=0;const B=L===!0?e:t,O=L===!0?1:-1;for(let Q=1;Q<=r;Q++)g.push(0,A*O,0),y.push(0,O,0),v.push(.5,.5),x++;const H=x;for(let Q=0;Q<=r;Q++){const he=Q/r*c+l,_e=Math.cos(he),X=Math.sin(he);U.x=B*X,U.y=A*O,U.z=B*_e,g.push(U.x,U.y,U.z),y.push(0,O,0),j.x=_e*.5+.5,j.y=X*.5*O+.5,v.push(j.x,j.y),x++}for(let Q=0;Q<r;Q++){const G=F+Q,he=H+Q;L===!0?p.push(he,he+1,G):p.push(he+1,he,G),N+=3}f.addGroup(M,N,L===!0?1:2),M+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ty(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class WE extends Ty{constructor(e=1,t=1,i=32,r=1,a=!1,s=0,l=Math.PI*2){super(0,e,t,i,r,a,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:l}}static fromJSON(e){return new WE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class qd extends qn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],s=[];l(r),f(i),p(),this.setAttribute("position",new rn(a,3)),this.setAttribute("normal",new rn(a.slice(),3)),this.setAttribute("uv",new rn(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(R){const P=new oe,L=new oe,F=new oe;for(let j=0;j<t.length;j+=3)v(t[j+0],P),v(t[j+1],L),v(t[j+2],F),c(P,L,F,R)}function c(R,P,L,F){const j=F+1,U=[];for(let N=0;N<=j;N++){U[N]=[];const B=R.clone().lerp(L,N/j),O=P.clone().lerp(L,N/j),H=j-N;for(let Q=0;Q<=H;Q++)Q===0&&N===j?U[N][Q]=B:U[N][Q]=B.clone().lerp(O,Q/H)}for(let N=0;N<j;N++)for(let B=0;B<2*(j-N)-1;B++){const O=Math.floor(B/2);B%2===0?(y(U[N][O+1]),y(U[N+1][O]),y(U[N][O])):(y(U[N][O+1]),y(U[N+1][O+1]),y(U[N+1][O]))}}function f(R){const P=new oe;for(let L=0;L<a.length;L+=3)P.x=a[L+0],P.y=a[L+1],P.z=a[L+2],P.normalize().multiplyScalar(R),a[L+0]=P.x,a[L+1]=P.y,a[L+2]=P.z}function p(){const R=new oe;for(let P=0;P<a.length;P+=3){R.x=a[P+0],R.y=a[P+1],R.z=a[P+2];const L=A(R)/2/Math.PI+.5,F=M(R)/Math.PI+.5;s.push(L,1-F)}x(),g()}function g(){for(let R=0;R<s.length;R+=6){const P=s[R+0],L=s[R+2],F=s[R+4],j=Math.max(P,L,F),U=Math.min(P,L,F);j>.9&&U<.1&&(P<.2&&(s[R+0]+=1),L<.2&&(s[R+2]+=1),F<.2&&(s[R+4]+=1))}}function y(R){a.push(R.x,R.y,R.z)}function v(R,P){const L=R*3;P.x=e[L+0],P.y=e[L+1],P.z=e[L+2]}function x(){const R=new oe,P=new oe,L=new oe,F=new oe,j=new pt,U=new pt,N=new pt;for(let B=0,O=0;B<a.length;B+=9,O+=6){R.set(a[B+0],a[B+1],a[B+2]),P.set(a[B+3],a[B+4],a[B+5]),L.set(a[B+6],a[B+7],a[B+8]),j.set(s[O+0],s[O+1]),U.set(s[O+2],s[O+3]),N.set(s[O+4],s[O+5]),F.copy(R).add(P).add(L).divideScalar(3);const H=A(F);w(j,O+0,R,H),w(U,O+2,P,H),w(N,O+4,L,H)}}function w(R,P,L,F){F<0&&R.x===1&&(s[P]=R.x-1),L.x===0&&L.z===0&&(s[P]=F/2/Math.PI+.5)}function A(R){return Math.atan2(R.z,-R.x)}function M(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qd(e.vertices,e.indices,e.radius,e.details)}}class YE extends qd{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new YE(e.radius,e.detail)}}const PM=new oe,DM=new oe,AC=new oe,BM=new zo;class W7 extends qn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(bm*t),s=e.getIndex(),l=e.getAttribute("position"),c=s?s.count:l.count,f=[0,0,0],p=["a","b","c"],g=new Array(3),y={},v=[];for(let x=0;x<c;x+=3){s?(f[0]=s.getX(x),f[1]=s.getX(x+1),f[2]=s.getX(x+2)):(f[0]=x,f[1]=x+1,f[2]=x+2);const{a:w,b:A,c:M}=BM;if(w.fromBufferAttribute(l,f[0]),A.fromBufferAttribute(l,f[1]),M.fromBufferAttribute(l,f[2]),BM.getNormal(AC),g[0]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,g[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,g[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let R=0;R<3;R++){const P=(R+1)%3,L=g[R],F=g[P],j=BM[p[R]],U=BM[p[P]],N=`${L}_${F}`,B=`${F}_${L}`;B in y&&y[B]?(AC.dot(y[B].normal)<=a&&(v.push(j.x,j.y,j.z),v.push(U.x,U.y,U.z)),y[B]=null):N in y||(y[N]={index0:f[R],index1:f[P],normal:AC.clone()})}}for(const x in y)if(y[x]){const{index0:w,index1:A}=y[x];PM.fromBufferAttribute(l,w),DM.fromBufferAttribute(l,A),v.push(PM.x,PM.y,PM.z),v.push(DM.x,DM.y,DM.z)}this.setAttribute("position",new rn(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class xm extends A1{constructor(e){super(e),this.uuid=dl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new A1().fromJSON(r))}return this}}function Hoe(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=Y7(n,0,r,t,!0);const s=[];if(!a||a.next===a.prev)return s;let l,c,f;if(i&&(a=Yoe(n,e,a,t)),n.length>80*t){l=1/0,c=1/0;let p=-1/0,g=-1/0;for(let y=t;y<r;y+=t){const v=n[y],x=n[y+1];v<l&&(l=v),x<c&&(c=x),v>p&&(p=v),x>g&&(g=x)}f=Math.max(p-l,g-c),f=f!==0?32767/f:0}return E1(a,s,t,l,c,f,0),s}function Y7(n,e,t,i,r){let a;if(r===ale(n,e,t,i)>0)for(let s=e;s<t;s+=i)a=lO(s/i|0,n[s],n[s+1],a);else for(let s=t-i;s>=e;s-=i)a=lO(s/i|0,n[s],n[s+1],a);return a&&cy(a,a.next)&&(C1(a),a=a.next),a}function wm(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(cy(t,t.next)||zr(t.prev,t,t.next)===0)){if(C1(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function E1(n,e,t,i,r,a,s){if(!n)return;!s&&a&&Zoe(n,i,r,a);let l=n;for(;n.prev!==n.next;){const c=n.prev,f=n.next;if(a?Xoe(n,i,r,a):Goe(n)){e.push(c.i,n.i,f.i),C1(n),n=f.next,l=f.next;continue}if(n=f,n===l){s?s===1?(n=qoe(wm(n),e),E1(n,e,t,i,r,a,2)):s===2&&Woe(n,e,t,i,r,a):E1(wm(n),e,t,i,r,a,1);break}}}function Goe(n){const e=n.prev,t=n,i=n.next;if(zr(e,t,i)>=0)return!1;const r=e.x,a=t.x,s=i.x,l=e.y,c=t.y,f=i.y,p=Math.min(r,a,s),g=Math.min(l,c,f),y=Math.max(r,a,s),v=Math.max(l,c,f);let x=i.next;for(;x!==e;){if(x.x>=p&&x.x<=y&&x.y>=g&&x.y<=v&&bv(r,l,a,c,s,f,x.x,x.y)&&zr(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function Xoe(n,e,t,i){const r=n.prev,a=n,s=n.next;if(zr(r,a,s)>=0)return!1;const l=r.x,c=a.x,f=s.x,p=r.y,g=a.y,y=s.y,v=Math.min(l,c,f),x=Math.min(p,g,y),w=Math.max(l,c,f),A=Math.max(p,g,y),M=p4(v,x,e,t,i),R=p4(w,A,e,t,i);let P=n.prevZ,L=n.nextZ;for(;P&&P.z>=M&&L&&L.z<=R;){if(P.x>=v&&P.x<=w&&P.y>=x&&P.y<=A&&P!==r&&P!==s&&bv(l,p,c,g,f,y,P.x,P.y)&&zr(P.prev,P,P.next)>=0||(P=P.prevZ,L.x>=v&&L.x<=w&&L.y>=x&&L.y<=A&&L!==r&&L!==s&&bv(l,p,c,g,f,y,L.x,L.y)&&zr(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;P&&P.z>=M;){if(P.x>=v&&P.x<=w&&P.y>=x&&P.y<=A&&P!==r&&P!==s&&bv(l,p,c,g,f,y,P.x,P.y)&&zr(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;L&&L.z<=R;){if(L.x>=v&&L.x<=w&&L.y>=x&&L.y<=A&&L!==r&&L!==s&&bv(l,p,c,g,f,y,L.x,L.y)&&zr(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function qoe(n,e){let t=n;do{const i=t.prev,r=t.next.next;!cy(i,r)&&J7(i,t,t.next,r)&&T1(i,r)&&T1(r,i)&&(e.push(i.i,t.i,r.i),C1(t),C1(t.next),t=n=r),t=t.next}while(t!==n);return wm(t)}function Woe(n,e,t,i,r,a){let s=n;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&nle(s,l)){let c=Q7(s,l);s=wm(s,s.next),c=wm(c,c.next),E1(s,e,t,i,r,a,0),E1(c,e,t,i,r,a,0);return}l=l.next}s=s.next}while(s!==n)}function Yoe(n,e,t,i){const r=[];for(let a=0,s=e.length;a<s;a++){const l=e[a]*i,c=a<s-1?e[a+1]*i:n.length,f=Y7(n,l,c,i,!1);f===f.next&&(f.steiner=!0),r.push(tle(f))}r.sort(Koe);for(let a=0;a<r.length;a++)t=Joe(r[a],t);return t}function Koe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function Joe(n,e){const t=Qoe(n,e);if(!t)return e;const i=Q7(t,n);return wm(i,i.next),wm(t,t.next)}function Qoe(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,s;if(cy(n,t))return t;do{if(cy(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>a&&(a=g,s=t.x<t.next.x?t:t.next,g===i))return s}t=t.next}while(t!==e);if(!s)return null;const l=s,c=s.x,f=s.y;let p=1/0;t=s;do{if(i>=t.x&&t.x>=c&&i!==t.x&&K7(r<f?i:a,r,c,f,r<f?a:i,r,t.x,t.y)){const g=Math.abs(r-t.y)/(i-t.x);T1(t,n)&&(g<p||g===p&&(t.x>s.x||t.x===s.x&&$oe(s,t)))&&(s=t,p=g)}t=t.next}while(t!==l);return s}function $oe(n,e){return zr(n.prev,n,e.prev)<0&&zr(e.next,n,n.next)<0}function Zoe(n,e,t,i){let r=n;do r.z===0&&(r.z=p4(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,ele(r)}function ele(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let s=i,l=0;for(let f=0;f<t&&(l++,s=s.nextZ,!!s);f++);let c=t;for(;l>0||c>0&&s;)l!==0&&(c===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,l--):(r=s,s=s.nextZ,c--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=s}a.nextZ=null,t*=2}while(e>1);return n}function p4(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function tle(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function K7(n,e,t,i,r,a,s,l){return(r-s)*(e-l)>=(n-s)*(a-l)&&(n-s)*(i-l)>=(t-s)*(e-l)&&(t-s)*(a-l)>=(r-s)*(i-l)}function bv(n,e,t,i,r,a,s,l){return!(n===s&&e===l)&&K7(n,e,t,i,r,a,s,l)}function nle(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!ile(n,e)&&(T1(n,e)&&T1(e,n)&&rle(n,e)&&(zr(n.prev,n,e.prev)||zr(n,e.prev,e))||cy(n,e)&&zr(n.prev,n,n.next)>0&&zr(e.prev,e,e.next)>0)}function zr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function cy(n,e){return n.x===e.x&&n.y===e.y}function J7(n,e,t,i){const r=NM(zr(n,e,t)),a=NM(zr(n,e,i)),s=NM(zr(t,i,n)),l=NM(zr(t,i,e));return!!(r!==a&&s!==l||r===0&&OM(n,t,e)||a===0&&OM(n,i,e)||s===0&&OM(t,n,i)||l===0&&OM(t,e,i))}function OM(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function NM(n){return n>0?1:n<0?-1:0}function ile(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&J7(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function T1(n,e){return zr(n.prev,n,n.next)<0?zr(n,e,n.next)>=0&&zr(n,n.prev,e)>=0:zr(n,e,n.prev)<0||zr(n,n.next,e)<0}function rle(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Q7(n,e){const t=m4(n.i,n.x,n.y),i=m4(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function lO(n,e,t,i){const r=m4(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function C1(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function m4(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function ale(n,e,t,i){let r=0;for(let a=e,s=t-i;a<t;a+=i)r+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return r}class sle{static triangulate(e,t,i=2){return Hoe(e,t,i)}}class qu{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return qu.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];cO(e),uO(i,e);let s=e.length;t.forEach(cO);for(let c=0;c<t.length;c++)r.push(s),s+=t[c].length,uO(i,t[c]);const l=sle.triangulate(i,r);for(let c=0;c<l.length;c+=3)a.push(l.slice(c,c+3));return a}}function cO(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function uO(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class KE extends qn{constructor(e=new xm([new pt(.5,.5),new pt(-.5,.5),new pt(-.5,-.5),new pt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let l=0,c=e.length;l<c;l++){const f=e[l];s(f)}this.setAttribute("position",new rn(r,3)),this.setAttribute("uv",new rn(a,2)),this.computeVertexNormals();function s(l){const c=[],f=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:v-.1,w=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:ole;let P,L=!1,F,j,U,N;M&&(P=M.getSpacedPoints(p),L=!0,y=!1,F=M.computeFrenetFrames(p,!1),j=new oe,U=new oe,N=new oe),y||(A=0,v=0,x=0,w=0);const B=l.extractPoints(f);let O=B.shape;const H=B.holes;if(!qu.isClockWise(O)){O=O.reverse();for(let at=0,et=H.length;at<et;at++){const rt=H[at];qu.isClockWise(rt)&&(H[at]=rt.reverse())}}function G(at){const rt=10000000000000001e-36;let xt=at[0];for(let We=1;We<=at.length;We++){const ae=We%at.length,V=at[ae],ee=V.x-xt.x,ue=V.y-xt.y,Ce=ee*ee+ue*ue,ge=Math.max(Math.abs(V.x),Math.abs(V.y),Math.abs(xt.x),Math.abs(xt.y)),Pe=rt*ge*ge;if(Ce<=Pe){at.splice(ae,1),We--;continue}xt=V}}G(O),H.forEach(G);const he=H.length,_e=O;for(let at=0;at<he;at++){const et=H[at];O=O.concat(et)}function X(at,et,rt){return et||console.error("THREE.ExtrudeGeometry: vec does not exist"),at.clone().addScaledVector(et,rt)}const Z=O.length;function re(at,et,rt){let xt,We,ae;const V=at.x-et.x,ee=at.y-et.y,ue=rt.x-at.x,Ce=rt.y-at.y,ge=V*V+ee*ee,Pe=V*Ce-ee*ue;if(Math.abs(Pe)>Number.EPSILON){const Ue=Math.sqrt(ge),lt=Math.sqrt(ue*ue+Ce*Ce),Xt=et.x-ee/Ue,ht=et.y+V/Ue,Ot=rt.x-Ce/lt,zt=rt.y+ue/lt,Pt=((Ot-Xt)*Ce-(zt-ht)*ue)/(V*Ce-ee*ue);xt=Xt+V*Pt-at.x,We=ht+ee*Pt-at.y;const St=xt*xt+We*We;if(St<=2)return new pt(xt,We);ae=Math.sqrt(St/2)}else{let Ue=!1;V>Number.EPSILON?ue>Number.EPSILON&&(Ue=!0):V<-Number.EPSILON?ue<-Number.EPSILON&&(Ue=!0):Math.sign(ee)===Math.sign(Ce)&&(Ue=!0),Ue?(xt=-ee,We=V,ae=Math.sqrt(ge)):(xt=V,We=ee,ae=Math.sqrt(ge/2))}return new pt(xt/ae,We/ae)}const be=[];for(let at=0,et=_e.length,rt=et-1,xt=at+1;at<et;at++,rt++,xt++)rt===et&&(rt=0),xt===et&&(xt=0),be[at]=re(_e[at],_e[rt],_e[xt]);const $=[];let pe,we=be.concat();for(let at=0,et=he;at<et;at++){const rt=H[at];pe=[];for(let xt=0,We=rt.length,ae=We-1,V=xt+1;xt<We;xt++,ae++,V++)ae===We&&(ae=0),V===We&&(V=0),pe[xt]=re(rt[xt],rt[ae],rt[V]);$.push(pe),we=we.concat(pe)}const Te=[],de=[];for(let at=0;at<A;at++){const et=at/A,rt=v*Math.cos(et*Math.PI/2),xt=x*Math.sin(et*Math.PI/2)+w;for(let We=0,ae=_e.length;We<ae;We++){const V=X(_e[We],be[We],xt);Ct(V.x,V.y,-rt),et==0&&Te.push(V)}for(let We=0,ae=he;We<ae;We++){const V=H[We];pe=$[We];const ee=[];for(let ue=0,Ce=V.length;ue<Ce;ue++){const ge=X(V[ue],pe[ue],xt);Ct(ge.x,ge.y,-rt),et==0&&ee.push(ge)}et==0&&de.push(ee)}}const Ne=qu.triangulateShape(Te,de),Ve=Ne.length,ct=x+w;for(let at=0;at<Z;at++){const et=y?X(O[at],we[at],ct):O[at];L?(U.copy(F.normals[0]).multiplyScalar(et.x),j.copy(F.binormals[0]).multiplyScalar(et.y),N.copy(P[0]).add(U).add(j),Ct(N.x,N.y,N.z)):Ct(et.x,et.y,0)}for(let at=1;at<=p;at++)for(let et=0;et<Z;et++){const rt=y?X(O[et],we[et],ct):O[et];L?(U.copy(F.normals[at]).multiplyScalar(rt.x),j.copy(F.binormals[at]).multiplyScalar(rt.y),N.copy(P[at]).add(U).add(j),Ct(N.x,N.y,N.z)):Ct(rt.x,rt.y,g/p*at)}for(let at=A-1;at>=0;at--){const et=at/A,rt=v*Math.cos(et*Math.PI/2),xt=x*Math.sin(et*Math.PI/2)+w;for(let We=0,ae=_e.length;We<ae;We++){const V=X(_e[We],be[We],xt);Ct(V.x,V.y,g+rt)}for(let We=0,ae=H.length;We<ae;We++){const V=H[We];pe=$[We];for(let ee=0,ue=V.length;ee<ue;ee++){const Ce=X(V[ee],pe[ee],xt);L?Ct(Ce.x,Ce.y+P[p-1].y,P[p-1].x+rt):Ct(Ce.x,Ce.y,g+rt)}}}ut(),Jt();function ut(){const at=r.length/3;if(y){let et=0,rt=Z*et;for(let xt=0;xt<Ve;xt++){const We=Ne[xt];Nt(We[2]+rt,We[1]+rt,We[0]+rt)}et=p+A*2,rt=Z*et;for(let xt=0;xt<Ve;xt++){const We=Ne[xt];Nt(We[0]+rt,We[1]+rt,We[2]+rt)}}else{for(let et=0;et<Ve;et++){const rt=Ne[et];Nt(rt[2],rt[1],rt[0])}for(let et=0;et<Ve;et++){const rt=Ne[et];Nt(rt[0]+Z*p,rt[1]+Z*p,rt[2]+Z*p)}}i.addGroup(at,r.length/3-at,0)}function Jt(){const at=r.length/3;let et=0;It(_e,et),et+=_e.length;for(let rt=0,xt=H.length;rt<xt;rt++){const We=H[rt];It(We,et),et+=We.length}i.addGroup(at,r.length/3-at,1)}function It(at,et){let rt=at.length;for(;--rt>=0;){const xt=rt;let We=rt-1;We<0&&(We=at.length-1);for(let ae=0,V=p+A*2;ae<V;ae++){const ee=Z*ae,ue=Z*(ae+1),Ce=et+xt+ee,ge=et+We+ee,Pe=et+We+ue,Ue=et+xt+ue;Ft(Ce,ge,Pe,Ue)}}}function Ct(at,et,rt){c.push(at),c.push(et),c.push(rt)}function Nt(at,et,rt){fe(at),fe(et),fe(rt);const xt=r.length/3,We=R.generateTopUV(i,r,xt-3,xt-2,xt-1);Mn(We[0]),Mn(We[1]),Mn(We[2])}function Ft(at,et,rt,xt){fe(at),fe(et),fe(xt),fe(et),fe(rt),fe(xt);const We=r.length/3,ae=R.generateSideWallUV(i,r,We-6,We-3,We-2,We-1);Mn(ae[0]),Mn(ae[1]),Mn(ae[3]),Mn(ae[1]),Mn(ae[2]),Mn(ae[3])}function fe(at){r.push(c[at*3+0]),r.push(c[at*3+1]),r.push(c[at*3+2])}function Mn(at){a.push(at.x),a.push(at.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return lle(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const l=t[e.shapes[a]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new LA[r.type]().fromJSON(r)),new KE(i,e.options)}}const ole={generateTopUV:function(n,e,t,i,r){const a=e[t*3],s=e[t*3+1],l=e[i*3],c=e[i*3+1],f=e[r*3],p=e[r*3+1];return[new pt(a,s),new pt(l,c),new pt(f,p)]},generateSideWallUV:function(n,e,t,i,r,a){const s=e[t*3],l=e[t*3+1],c=e[t*3+2],f=e[i*3],p=e[i*3+1],g=e[i*3+2],y=e[r*3],v=e[r*3+1],x=e[r*3+2],w=e[a*3],A=e[a*3+1],M=e[a*3+2];return Math.abs(l-p)<Math.abs(s-f)?[new pt(s,1-c),new pt(f,1-g),new pt(y,1-x),new pt(w,1-M)]:[new pt(l,1-c),new pt(p,1-g),new pt(v,1-x),new pt(A,1-M)]}};function lle(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class pb extends qd{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pb(e.radius,e.detail)}}class mb extends qd{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mb(e.radius,e.detail)}}class Wd extends qn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,s=t/2,l=Math.floor(i),c=Math.floor(r),f=l+1,p=c+1,g=e/l,y=t/c,v=[],x=[],w=[],A=[];for(let M=0;M<p;M++){const R=M*y-s;for(let P=0;P<f;P++){const L=P*g-a;x.push(L,-R,0),w.push(0,0,1),A.push(P/l),A.push(1-M/c)}}for(let M=0;M<c;M++)for(let R=0;R<l;R++){const P=R+f*M,L=R+f*(M+1),F=R+1+f*(M+1),j=R+1+f*M;v.push(P,L,j),v.push(L,F,j)}this.setIndex(v),this.setAttribute("position",new rn(x,3)),this.setAttribute("normal",new rn(w,3)),this.setAttribute("uv",new rn(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wd(e.width,e.height,e.widthSegments,e.heightSegments)}}class JE extends qn{constructor(e=.5,t=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const l=[],c=[],f=[],p=[];let g=e;const y=(t-e)/r,v=new oe,x=new pt;for(let w=0;w<=r;w++){for(let A=0;A<=i;A++){const M=a+A/i*s;v.x=g*Math.cos(M),v.y=g*Math.sin(M),c.push(v.x,v.y,v.z),f.push(0,0,1),x.x=(v.x/t+1)/2,x.y=(v.y/t+1)/2,p.push(x.x,x.y)}g+=y}for(let w=0;w<r;w++){const A=w*(i+1);for(let M=0;M<i;M++){const R=M+A,P=R,L=R+i+1,F=R+i+2,j=R+1;l.push(P,L,j),l.push(L,F,j)}}this.setIndex(l),this.setAttribute("position",new rn(c,3)),this.setAttribute("normal",new rn(f,3)),this.setAttribute("uv",new rn(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class QE extends qn{constructor(e=new xm([new pt(0,.5),new pt(-.5,-.5),new pt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],s=[];let l=0,c=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(l,c,p),l+=c,c=0;this.setIndex(i),this.setAttribute("position",new rn(r,3)),this.setAttribute("normal",new rn(a,3)),this.setAttribute("uv",new rn(s,2));function f(p){const g=r.length/3,y=p.extractPoints(t);let v=y.shape;const x=y.holes;qu.isClockWise(v)===!1&&(v=v.reverse());for(let A=0,M=x.length;A<M;A++){const R=x[A];qu.isClockWise(R)===!0&&(x[A]=R.reverse())}const w=qu.triangulateShape(v,x);for(let A=0,M=x.length;A<M;A++){const R=x[A];v=v.concat(R)}for(let A=0,M=v.length;A<M;A++){const R=v[A];r.push(R.x,R.y,0),a.push(0,0,1),s.push(R.x,R.y)}for(let A=0,M=w.length;A<M;A++){const R=w[A],P=R[0]+g,L=R[1]+g,F=R[2]+g;i.push(P,L,F),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return cle(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=t[e.shapes[r]];i.push(s)}return new QE(i,e.curveSegments)}}function cle(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class gb extends qn{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const c=Math.min(s+l,Math.PI);let f=0;const p=[],g=new oe,y=new oe,v=[],x=[],w=[],A=[];for(let M=0;M<=i;M++){const R=[],P=M/i;let L=0;M===0&&s===0?L=.5/t:M===i&&c===Math.PI&&(L=-.5/t);for(let F=0;F<=t;F++){const j=F/t;g.x=-e*Math.cos(r+j*a)*Math.sin(s+P*l),g.y=e*Math.cos(s+P*l),g.z=e*Math.sin(r+j*a)*Math.sin(s+P*l),x.push(g.x,g.y,g.z),y.copy(g).normalize(),w.push(y.x,y.y,y.z),A.push(j+L,1-P),R.push(f++)}p.push(R)}for(let M=0;M<i;M++)for(let R=0;R<t;R++){const P=p[M][R+1],L=p[M][R],F=p[M+1][R],j=p[M+1][R+1];(M!==0||s>0)&&v.push(P,L,j),(M!==i-1||c<Math.PI)&&v.push(L,F,j)}this.setIndex(v),this.setAttribute("position",new rn(x,3)),this.setAttribute("normal",new rn(w,3)),this.setAttribute("uv",new rn(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gb(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class $E extends qd{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $E(e.radius,e.detail)}}class ZE extends qn{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],l=[],c=[],f=[],p=new oe,g=new oe,y=new oe;for(let v=0;v<=i;v++)for(let x=0;x<=r;x++){const w=x/r*a,A=v/i*Math.PI*2;g.x=(e+t*Math.cos(A))*Math.cos(w),g.y=(e+t*Math.cos(A))*Math.sin(w),g.z=t*Math.sin(A),l.push(g.x,g.y,g.z),p.x=e*Math.cos(w),p.y=e*Math.sin(w),y.subVectors(g,p).normalize(),c.push(y.x,y.y,y.z),f.push(x/r),f.push(v/i)}for(let v=1;v<=i;v++)for(let x=1;x<=r;x++){const w=(r+1)*v+x-1,A=(r+1)*(v-1)+x-1,M=(r+1)*(v-1)+x,R=(r+1)*v+x;s.push(w,A,R),s.push(A,M,R)}this.setIndex(s),this.setAttribute("position",new rn(l,3)),this.setAttribute("normal",new rn(c,3)),this.setAttribute("uv",new rn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class e2 extends qn{constructor(e=1,t=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const l=[],c=[],f=[],p=[],g=new oe,y=new oe,v=new oe,x=new oe,w=new oe,A=new oe,M=new oe;for(let P=0;P<=i;++P){const L=P/i*a*Math.PI*2;R(L,a,s,e,v),R(L+.01,a,s,e,x),A.subVectors(x,v),M.addVectors(x,v),w.crossVectors(A,M),M.crossVectors(w,A),w.normalize(),M.normalize();for(let F=0;F<=r;++F){const j=F/r*Math.PI*2,U=-t*Math.cos(j),N=t*Math.sin(j);g.x=v.x+(U*M.x+N*w.x),g.y=v.y+(U*M.y+N*w.y),g.z=v.z+(U*M.z+N*w.z),c.push(g.x,g.y,g.z),y.subVectors(g,v).normalize(),f.push(y.x,y.y,y.z),p.push(P/i),p.push(F/r)}}for(let P=1;P<=i;P++)for(let L=1;L<=r;L++){const F=(r+1)*(P-1)+(L-1),j=(r+1)*P+(L-1),U=(r+1)*P+L,N=(r+1)*(P-1)+L;l.push(F,j,N),l.push(j,U,N)}this.setIndex(l),this.setAttribute("position",new rn(c,3)),this.setAttribute("normal",new rn(f,3)),this.setAttribute("uv",new rn(p,2));function R(P,L,F,j,U){const N=Math.cos(P),B=Math.sin(P),O=F/L*P,H=Math.cos(O);U.x=j*(2+H)*.5*N,U.y=j*(2+H)*B*.5,U.z=j*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e2(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class t2 extends qn{constructor(e=new kR(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new oe,c=new oe,f=new pt;let p=new oe;const g=[],y=[],v=[],x=[];w(),this.setIndex(x),this.setAttribute("position",new rn(g,3)),this.setAttribute("normal",new rn(y,3)),this.setAttribute("uv",new rn(v,2));function w(){for(let P=0;P<t;P++)A(P);A(a===!1?t:0),R(),M()}function A(P){p=e.getPointAt(P/t,p);const L=s.normals[P],F=s.binormals[P];for(let j=0;j<=r;j++){const U=j/r*Math.PI*2,N=Math.sin(U),B=-Math.cos(U);c.x=B*L.x+N*F.x,c.y=B*L.y+N*F.y,c.z=B*L.z+N*F.z,c.normalize(),y.push(c.x,c.y,c.z),l.x=p.x+i*c.x,l.y=p.y+i*c.y,l.z=p.z+i*c.z,g.push(l.x,l.y,l.z)}}function M(){for(let P=1;P<=t;P++)for(let L=1;L<=r;L++){const F=(r+1)*(P-1)+(L-1),j=(r+1)*P+(L-1),U=(r+1)*P+L,N=(r+1)*(P-1)+L;x.push(F,j,N),x.push(j,U,N)}}function R(){for(let P=0;P<=t;P++)for(let L=0;L<=r;L++)f.x=P/t,f.y=L/r,v.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new t2(new LA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class $7 extends qn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new oe,a=new oe;if(e.index!==null){const s=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let f=0,p=c.length;f<p;++f){const g=c[f],y=g.start,v=g.count;for(let x=y,w=y+v;x<w;x+=3)for(let A=0;A<3;A++){const M=l.getX(x+A),R=l.getX(x+(A+1)%3);r.fromBufferAttribute(s,M),a.fromBufferAttribute(s,R),hO(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let l=0,c=s.count/3;l<c;l++)for(let f=0;f<3;f++){const p=3*l+f,g=3*l+(f+1)%3;r.fromBufferAttribute(s,p),a.fromBufferAttribute(s,g),hO(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new rn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function hO(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var fO=Object.freeze({__proto__:null,BoxGeometry:Fm,CapsuleGeometry:XE,CircleGeometry:qE,ConeGeometry:WE,CylinderGeometry:Ty,DodecahedronGeometry:YE,EdgesGeometry:W7,ExtrudeGeometry:KE,IcosahedronGeometry:pb,LatheGeometry:db,OctahedronGeometry:mb,PlaneGeometry:Wd,PolyhedronGeometry:qd,RingGeometry:JE,ShapeGeometry:QE,SphereGeometry:gb,TetrahedronGeometry:$E,TorusGeometry:ZE,TorusKnotGeometry:e2,TubeGeometry:t2,WireframeGeometry:$7});class Z7 extends Ba{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Vt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class eF extends qo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class yb extends Ba{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xd,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nc extends yb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class tF extends Ba{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Vt(16777215),this.specular=new Vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xd,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.combine=ib,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nF extends Ba{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Vt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xd,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class iF extends Ba{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xd,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class rF extends Ba{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xd,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.combine=ib,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GR extends Ba{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=v7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class XR extends Ba{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class aF extends Ba{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Vt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xd,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sF extends ks{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function cm(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function oF(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function lF(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function g4(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,s=0;s!==i;++a){const l=t[a]*e;for(let c=0;c!==e;++c)r[s++]=n[l+c]}return r}function qR(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),t.push(...s)),a=n[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),t.push(s)),a=n[r++];while(a!==void 0)}function ule(n,e,t,i,r=30){const a=n.clone();a.name=e;const s=[];for(let c=0;c<a.tracks.length;++c){const f=a.tracks[c],p=f.getValueSize(),g=[],y=[];for(let v=0;v<f.times.length;++v){const x=f.times[v]*r;if(!(x<t||x>=i)){g.push(f.times[v]);for(let w=0;w<p;++w)y.push(f.values[v*p+w])}}g.length!==0&&(f.times=cm(g,f.times.constructor),f.values=cm(y,f.values.constructor),s.push(f))}a.tracks=s;let l=1/0;for(let c=0;c<a.tracks.length;++c)l>a.tracks[c].times[0]&&(l=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*l);return a.resetDuration(),a}function hle(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let s=0;s<r;++s){const l=t.tracks[s],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const f=n.tracks.find(function(M){return M.name===l.name&&M.ValueTypeName===c});if(f===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let y=0;const v=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const x=l.times.length-1;let w;if(a<=l.times[0]){const M=p,R=g-p;w=l.values.slice(M,R)}else if(a>=l.times[x]){const M=x*g+p,R=M+g-p;w=l.values.slice(M,R)}else{const M=l.createInterpolant(),R=p,P=g-p;M.evaluate(a),w=M.resultBuffer.slice(R,P)}c==="quaternion"&&new Ja().fromArray(w).normalize().conjugate().toArray(w);const A=f.times.length;for(let M=0;M<A;++M){const R=M*v+y;if(c==="quaternion")Ja.multiplyQuaternionsFlat(f.values,R,w,0,f.values,R);else{const P=v-y*2;for(let L=0;L<P;++L)f.values[R+L]-=w[L]}}}return n.blendMode=ER,n}class fle{static convertArray(e,t){return cm(e,t)}static isTypedArray(e){return oF(e)}static getKeyframeOrder(e){return lF(e)}static sortedArray(e,t,i){return g4(e,t,i)}static flattenJSON(e,t,i,r){qR(e,t,i,r)}static subclip(e,t,i,r,a=30){return ule(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return hle(e,t,i,r)}}class Cy{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(a=r,r=t[++i],e<r)break t}s=t.length;break n}if(!(e>=a)){const l=t[1];e<l&&(i=2,a=l);for(let c=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=a,a=t[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const l=i+s>>>1;e<t[l]?s=l:i=l+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=i[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cF extends Cy{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:sm,endingEnd:sm}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,s=e+1,l=r[a],c=r[s];if(l===void 0)switch(this.getSettings_().endingStart){case om:a=e,l=2*t-i;break;case v1:a=r.length-2,l=t+r[a]-r[a+1];break;default:a=e,l=i}if(c===void 0)switch(this.getSettings_().endingEnd){case om:s=e,c=2*i-t;break;case v1:s=1,c=i+r[1]-r[0];break;default:s=e-1,c=t}const f=(i-t)*.5,p=this.valueSize;this._weightPrev=f/(t-l),this._weightNext=f/(c-i),this._offsetPrev=a*p,this._offsetNext=s*p}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=e*l,f=c-l,p=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,v=this._weightNext,x=(i-t)/(r-t),w=x*x,A=w*x,M=-y*A+2*y*w-y*x,R=(1+y)*A+(-1.5-2*y)*w+(-.5+y)*x+1,P=(-1-v)*A+(1.5+v)*w+.5*x,L=v*A-v*w;for(let F=0;F!==l;++F)a[F]=M*s[p+F]+R*s[f+F]+P*s[c+F]+L*s[g+F];return a}}class WR extends Cy{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=e*l,f=c-l,p=(i-t)/(r-t),g=1-p;for(let y=0;y!==l;++y)a[y]=s[f+y]*g+s[c+y]*p;return a}}class uF extends Cy{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ic{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=cm(t,this.TimeBufferType),this.values=cm(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:cm(e.times,Array),values:cm(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new uF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new WR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new cF(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ry:t=this.InterpolantFactoryMethodDiscrete;break;case ay:t=this.InterpolantFactoryMethodLinear;break;case AS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ry;case this.InterpolantFactoryMethodLinear:return ay;case this.InterpolantFactoryMethodSmooth:return AS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const l=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*l,s*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==a;l++){const c=i[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(s!==null&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,s),e=!1;break}s=c}if(r!==void 0&&oF(r))for(let l=0,c=r.length;l!==c;++l){const f=r[l];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===AS,a=e.length-1;let s=1;for(let l=1;l<a;++l){let c=!1;const f=e[l],p=e[l+1];if(f!==p&&(l!==1||f!==e[0]))if(r)c=!0;else{const g=l*i,y=g-i,v=g+i;for(let x=0;x!==i;++x){const w=t[g+x];if(w!==t[y+x]||w!==t[v+x]){c=!0;break}}}if(c){if(l!==s){e[s]=e[l];const g=l*i,y=s*i;for(let v=0;v!==i;++v)t[y+v]=t[g+v]}++s}}if(a>0){e[s]=e[a];for(let l=a*i,c=s*i,f=0;f!==i;++f)t[c+f]=t[l+f];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ic.prototype.ValueTypeName="";ic.prototype.TimeBufferType=Float32Array;ic.prototype.ValueBufferType=Float32Array;ic.prototype.DefaultInterpolation=ay;class zm extends ic{constructor(e,t,i){super(e,t,i)}}zm.prototype.ValueTypeName="bool";zm.prototype.ValueBufferType=Array;zm.prototype.DefaultInterpolation=ry;zm.prototype.InterpolantFactoryMethodLinear=void 0;zm.prototype.InterpolantFactoryMethodSmooth=void 0;class YR extends ic{constructor(e,t,i,r){super(e,t,i,r)}}YR.prototype.ValueTypeName="color";class Rm extends ic{constructor(e,t,i,r){super(e,t,i,r)}}Rm.prototype.ValueTypeName="number";class hF extends Cy{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=(i-t)/(r-t);let f=e*l;for(let p=f+l;f!==p;f+=4)Ja.slerpFlat(a,0,s,f-l,s,f,c);return a}}class Im extends ic{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new hF(this.times,this.values,this.getValueSize(),e)}}Im.prototype.ValueTypeName="quaternion";Im.prototype.InterpolantFactoryMethodSmooth=void 0;class Vm extends ic{constructor(e,t,i){super(e,t,i)}}Vm.prototype.ValueTypeName="string";Vm.prototype.ValueBufferType=Array;Vm.prototype.DefaultInterpolation=ry;Vm.prototype.InterpolantFactoryMethodLinear=void 0;Vm.prototype.InterpolantFactoryMethodSmooth=void 0;class Pm extends ic{constructor(e,t,i,r){super(e,t,i,r)}}Pm.prototype.ValueTypeName="vector";class uy{constructor(e="",t=-1,i=[],r=NE){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=dl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,l=i.length;s!==l;++s)t.push(ple(i[s]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=i.length;a!==s;++a)t.push(ic.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,s=[];for(let l=0;l<a;l++){let c=[],f=[];c.push((l+a-1)%a,l,(l+1)%a),f.push(0,1,0);const p=lF(c);c=g4(c,1,p),f=g4(f,1,p),!r&&c[0]===0&&(c.push(a),f.push(f[0])),s.push(new Rm(".morphTargetInfluences["+t[l].name+"]",c,f).scale(1/i))}return new this(e,-1,s)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const f=e[l],p=f.name.match(a);if(p&&p.length>1){const g=p[1];let y=r[g];y||(r[g]=y=[]),y.push(f)}}const s=[];for(const l in r)s.push(this.CreateFromMorphTargetSequence(l,r[l],t,i));return s}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,v,x,w){if(v.length!==0){const A=[],M=[];qR(v,A,M,x),A.length!==0&&w.push(new g(y,A,M))}},r=[],a=e.name||"default",s=e.fps||30,l=e.blendMode;let c=e.length||-1;const f=e.hierarchy||[];for(let g=0;g<f.length;g++){const y=f[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let x;for(x=0;x<y.length;x++)if(y[x].morphTargets)for(let w=0;w<y[x].morphTargets.length;w++)v[y[x].morphTargets[w]]=-1;for(const w in v){const A=[],M=[];for(let R=0;R!==y[x].morphTargets.length;++R){const P=y[x];A.push(P.time),M.push(P.morphTarget===w?1:0)}r.push(new Rm(".morphTargetInfluence["+w+"]",A,M))}c=v.length*s}else{const v=".bones["+t[g].name+"]";i(Pm,v+".position",y,"pos",r),i(Im,v+".quaternion",y,"rot",r),i(Pm,v+".scale",y,"scl",r)}}return r.length===0?null:new this(a,c,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function dle(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Rm;case"vector":case"vector2":case"vector3":case"vector4":return Pm;case"color":return YR;case"quaternion":return Im;case"bool":case"boolean":return zm;case"string":return Vm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function ple(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=dle(n.type);if(n.times===void 0){const t=[],i=[];qR(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Zh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class n2{constructor(e,t,i){const r=this;let a=!1,s=0,l=0,c;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(p){l++,a===!1&&r.onStart!==void 0&&r.onStart(p,s,l),a=!0},this.itemEnd=function(p){s++,r.onProgress!==void 0&&r.onProgress(p,s,l),s===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return c?c(p):p},this.setURLModifier=function(p){return c=p,this},this.addHandler=function(p,g){return f.push(p,g),this},this.removeHandler=function(p){const g=f.indexOf(p);return g!==-1&&f.splice(g,2),this},this.getHandler=function(p){for(let g=0,y=f.length;g<y;g+=2){const v=f[g],x=f[g+1];if(v.global&&(v.lastIndex=0),v.test(p))return x}return null}}}const Cg=new n2;let vs=class{constructor(e){this.manager=e!==void 0?e:Cg,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};vs.DEFAULT_MATERIAL_NAME="__DEFAULT";const Vh={};class mle extends Error{constructor(e,t){super(e),this.response=t}}class ys extends vs{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Zh.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Vh[e]!==void 0){Vh[e].push({onLoad:t,onProgress:i,onError:r});return}Vh[e]=[],Vh[e].push({onLoad:t,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(s).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const p=Vh[e],g=f.body.getReader(),y=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),v=y?parseInt(y):0,x=v!==0;let w=0;const A=new ReadableStream({start(M){R();function R(){g.read().then(({done:P,value:L})=>{if(P)M.close();else{w+=L.byteLength;const F=new ProgressEvent("progress",{lengthComputable:x,loaded:w,total:v});for(let j=0,U=p.length;j<U;j++){const N=p[j];N.onProgress&&N.onProgress(F)}M.enqueue(L),R()}},P=>{M.error(P)})}}});return new Response(A)}else throw new mle(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(c){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return f.json();default:if(l==="")return f.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),y=g&&g[1]?g[1].toLowerCase():void 0,v=new TextDecoder(y);return f.arrayBuffer().then(x=>v.decode(x))}}}).then(f=>{Zh.add(e,f);const p=Vh[e];delete Vh[e];for(let g=0,y=p.length;g<y;g++){const v=p[g];v.onLoad&&v.onLoad(f)}}).catch(f=>{const p=Vh[e];if(p===void 0)throw this.manager.itemError(e),f;delete Vh[e];for(let g=0,y=p.length;g<y;g++){const v=p[g];v.onError&&v.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class gle extends vs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new ys(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=uy.parse(e[i]);t.push(r)}return t}}class yle extends vs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=[],l=new HE,c=new ys(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let f=0;function p(g){c.load(e[g],function(y){const v=a.parse(y,!0);s[g]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},f+=1,f===6&&(v.mipmapCount===1&&(l.minFilter=Hi),l.image=s,l.format=v.format,l.needsUpdate=!0,t&&t(l))},i,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)p(g);else c.load(e,function(g){const y=a.parse(g,!0);if(y.isCubemap){const v=y.mipmaps.length/y.mipmapCount;for(let x=0;x<v;x++){s[x]={mipmaps:[]};for(let w=0;w<y.mipmapCount;w++)s[x].mipmaps.push(y.mipmaps[x*y.mipmapCount+w]),s[x].format=y.format,s[x].width=y.width,s[x].height=y.height}l.image=s}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=Hi),l.format=y.format,l.needsUpdate=!0,t&&t(l)},i,r);return l}}class w1 extends vs{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Zh.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const l=S1("img");function c(){p(),Zh.add(e,this),t&&t(this),a.manager.itemEnd(e)}function f(g){p(),r&&r(g),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){l.removeEventListener("load",c,!1),l.removeEventListener("error",f,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(e),l.src=e,l}}class fF extends vs{constructor(e){super(e)}load(e,t,i,r){const a=new lb;a.colorSpace=ds;const s=new w1(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function c(f){s.load(e[f],function(p){a.images[f]=p,l++,l===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let f=0;f<e.length;++f)c(f);return a}}class KR extends vs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Hc,l=new ys(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(c){let f;try{f=a.parse(c)}catch(p){if(r!==void 0)r(p);else{console.error(p);return}}f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:la,s.wrapT=f.wrapT!==void 0?f.wrapT:la,s.magFilter=f.magFilter!==void 0?f.magFilter:Hi,s.minFilter=f.minFilter!==void 0?f.minFilter:Hi,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(s.colorSpace=f.colorSpace),f.flipY!==void 0&&(s.flipY=f.flipY),f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps,s.minFilter=Kl),f.mipmapCount===1&&(s.minFilter=Hi),f.generateMipmaps!==void 0&&(s.generateMipmaps=f.generateMipmaps),s.needsUpdate=!0,t&&t(s,f)},i,r),s}}class dF extends vs{constructor(e){super(e)}load(e,t,i,r){const a=new Wi,s=new w1(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){a.image=l,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class Yd extends fi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Vt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class pF extends Yd{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(fi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Vt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const EC=new bn,dO=new oe,pO=new oe;class JR{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pt(512,512),this.map=null,this.mapPass=null,this.matrix=new bn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new fb,this._frameExtents=new pt(1,1),this._viewportCount=1,this._viewports=[new Ri(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;dO.setFromMatrixPosition(e.matrixWorld),t.position.copy(dO),pO.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(pO),t.updateMatrixWorld(),EC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(EC),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(EC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class _le extends JR{constructor(){super(new wr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=sy*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class QR extends Yd{constructor(e,t,i=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(fi.DEFAULT_UP),this.updateMatrix(),this.target=new fi,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new _le}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const mO=new bn,nv=new oe,TC=new oe;class vle extends JR{constructor(){super(new wr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pt(4,2),this._viewportCount=6,this._viewports=[new Ri(2,1,1,1),new Ri(0,1,1,1),new Ri(3,1,1,1),new Ri(1,1,1,1),new Ri(3,0,1,1),new Ri(1,0,1,1)],this._cubeDirections=[new oe(1,0,0),new oe(-1,0,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,1,0),new oe(0,-1,0)],this._cubeUps=[new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,0,1),new oe(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),nv.setFromMatrixPosition(e.matrixWorld),i.position.copy(nv),TC.copy(i.position),TC.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(TC),i.updateMatrixWorld(),r.makeTranslation(-nv.x,-nv.y,-nv.z),mO.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mO)}}class $R extends Yd{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new vle}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class $l extends FE{constructor(e=-1,t=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,l=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,s=a+f*this.view.width,l-=p*this.view.offsetY,c=l-p*this.view.height}this.projectionMatrix.makeOrthographic(a,s,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class ble extends JR{constructor(){super(new $l(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ZR extends Yd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(fi.DEFAULT_UP),this.updateMatrix(),this.target=new fi,this.shadow=new ble}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class mF extends Yd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class gF extends Yd{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class yF{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*i),t.addScaledVector(s[4],1.092548*(i*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(i*a)),t.addScaledVector(s[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*i),t.addScaledVector(s[4],2*.429043*i*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*i*a),t.addScaledVector(s[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class _F extends Yd{constructor(e=new yF,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class i2 extends vs{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,s=new ys(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Vt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new Vt().setHex(s.value);break;case"v2":r.uniforms[a].value=new pt().fromArray(s.value);break;case"v3":r.uniforms[a].value=new oe().fromArray(s.value);break;case"v4":r.uniforms[a].value=new Ri().fromArray(s.value);break;case"m3":r.uniforms[a].value=new Xn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new bn().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new pt().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return i2.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Z7,SpriteMaterial:DR,RawShaderMaterial:eF,ShaderMaterial:qo,PointsMaterial:kE,MeshPhysicalMaterial:nc,MeshStandardMaterial:yb,MeshPhongMaterial:tF,MeshToonMaterial:nF,MeshNormalMaterial:iF,MeshLambertMaterial:rF,MeshDepthMaterial:GR,MeshDistanceMaterial:XR,MeshBasicMaterial:Vo,MeshMatcapMaterial:aF,LineDashedMaterial:sF,LineBasicMaterial:ks,Material:Ba};return new t[e]}}class Sd{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class vF extends qn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class bF extends vs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new ys(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,x){if(t[x]!==void 0)return t[x];const A=v.interleavedBuffers[x],M=a(v,A.buffer),R=Tg(A.type,M),P=new ub(R,A.stride);return P.uuid=A.uuid,t[x]=P,P}function a(v,x){if(i[x]!==void 0)return i[x];const A=v.arrayBuffers[x],M=new Uint32Array(A).buffer;return i[x]=M,M}const s=e.isInstancedBufferGeometry?new vF:new qn,l=e.data.index;if(l!==void 0){const v=Tg(l.type,l.array);s.setIndex(new Ii(v,1))}const c=e.data.attributes;for(const v in c){const x=c[v];let w;if(x.isInterleavedBufferAttribute){const A=r(e.data,x.data);w=new Nd(A,x.itemSize,x.offset,x.normalized)}else{const A=Tg(x.type,x.array),M=x.isInstancedBufferAttribute?Cm:Ii;w=new M(A,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),x.usage!==void 0&&w.setUsage(x.usage),s.setAttribute(v,w)}const f=e.data.morphAttributes;if(f)for(const v in f){const x=f[v],w=[];for(let A=0,M=x.length;A<M;A++){const R=x[A];let P;if(R.isInterleavedBufferAttribute){const L=r(e.data,R.data);P=new Nd(L,R.itemSize,R.offset,R.normalized)}else{const L=Tg(R.type,R.array);P=new Ii(L,R.itemSize,R.normalized)}R.name!==void 0&&(P.name=R.name),w.push(P)}s.morphAttributes[v]=w}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let v=0,x=g.length;v!==x;++v){const w=g[v];s.addGroup(w.start,w.count,w.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const v=new oe;y.center!==void 0&&v.fromArray(y.center),s.boundingSphere=new gs(v,y.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class xle extends vs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=this.path===""?Sd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new ys(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let f=null;try{f=JSON.parse(c)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Sd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new ys(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),l=JSON.parse(s),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(f)}),l=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,a,c,l,i),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),this.bindLightTargets(f),t!==void 0){let g=!1;for(const y in s)if(s[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,r,l,s,t),f=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,f),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new xm().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=new hb().fromJSON(e[a],r);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new bF;for(let a=0,s=e.length;a<s;a++){let l;const c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(c);break;default:c.type in fO?l=fO[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),i[c.uuid]=l}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new i2;a.setTextures(t);for(let s=0,l=e.length;s<l;s++){const c=e[s];i[c.uuid]===void 0&&(i[c.uuid]=a.parse(c)),r[c.uuid]=i[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=uy.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function s(c){return i.manager.itemStart(c),a.load(c,function(){i.manager.itemEnd(c)},void 0,function(){i.manager.itemError(c),i.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const f=c,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return s(p)}else return c.data?{data:Tg(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new n2(t);a=new w1(c),a.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const g=e[f],y=g.url;if(Array.isArray(y)){const v=[];for(let x=0,w=y.length;x<w;x++){const A=y[x],M=l(A);M!==null&&(M instanceof HTMLImageElement?v.push(M):v.push(new Hc(M.data,M.width,M.height)))}r[g.uuid]=new bd(v)}else{const v=l(g.url);r[g.uuid]=new bd(v)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(s){if(typeof s=="string"){const l=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(c)}else return s.data?{data:Tg(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new w1(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const c=e[s],f=c.url;if(Array.isArray(f)){const p=[];for(let g=0,y=f.length;g<y;g++){const v=f[g],x=await a(v);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new Hc(x.data,x.width,x.height)))}i[c.uuid]=new bd(p)}else{const p=await a(c.url);i[c.uuid]=new bd(p)}}}return i}parseTextures(e,t){function i(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=t[l.image],f=c.data;let p;Array.isArray(f)?(p=new lb,f.length===6&&(p.needsUpdate=!0)):(f&&f.data?p=new Hc:p=new Wi,f&&(p.needsUpdate=!0)),p.source=c,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=i(l.mapping,Mle)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=i(l.wrap[0],gO),p.wrapT=i(l.wrap[1],gO)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.colorSpace!==void 0&&(p.colorSpace=l.colorSpace),l.minFilter!==void 0&&(p.minFilter=i(l.minFilter,yO)),l.magFilter!==void 0&&(p.magFilter=i(l.magFilter,yO)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(p.compareFunction=l.compareFunction),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,t,i,r,a){let s;function l(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function c(y){if(y!==void 0){if(Array.isArray(y)){const v=[];for(let x=0,w=y.length;x<w;x++){const A=y[x];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),v.push(i[A])}return v}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function f(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let p,g;switch(e.type){case"Scene":s=new cb,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Vt(e.background):s.background=f(e.background)),e.environment!==void 0&&(s.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new VE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new zE(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new wr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new $l(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new mF(e.color,e.intensity);break;case"DirectionalLight":s=new ZR(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new $R(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new gF(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new QR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new pF(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new _F().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),g=c(e.material),s=new BR(p,g),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=c(e.material),s=new Ir(p,g);break;case"InstancedMesh":p=l(e.geometry),g=c(e.material);const y=e.count,v=e.instanceMatrix,x=e.instanceColor;s=new OR(p,g,y),s.instanceMatrix=new Cm(new Float32Array(v.array),16),x!==void 0&&(s.instanceColor=new Cm(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":p=l(e.geometry),g=c(e.material),s=new V7(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),s.geometry=p,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(w=>{const A=new js;A.min.fromArray(w.boxMin),A.max.fromArray(w.boxMax);const M=new gs;return M.radius=w.sphereRadius,M.center.fromArray(w.sphereCenter),{boxInitialized:w.boxInitialized,box:A,sphereInitialized:w.sphereInitialized,sphere:M}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=f(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=f(e.colorsTexture.uuid));break;case"LOD":s=new z7;break;case"Line":s=new uf(l(e.geometry),c(e.material));break;case"LineLoop":s=new NR(l(e.geometry),c(e.material));break;case"LineSegments":s=new qc(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new LR(l(e.geometry),c(e.material));break;case"Sprite":s=new F7(c(e.material));break;case"Group":s=new $h;break;case"Bone":s=new jE;break;default:s=new fi}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let v=0;v<y.length;v++)s.add(this.parseObject(y[v],t,i,r,a))}if(e.animations!==void 0){const y=e.animations;for(let v=0;v<y.length;v++){const x=y[v];s.animations.push(a[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const y=e.levels;for(let v=0;v<y.length;v++){const x=y[v],w=s.getObjectByProperty("uuid",x.object);w!==void 0&&s.addLevel(w,x.distance,x.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new fi}})}}const Mle={UVMapping:Dd,CubeReflectionMapping:Zu,CubeRefractionMapping:Bd,EquirectangularReflectionMapping:$g,EquirectangularRefractionMapping:_1,CubeUVReflectionMapping:Ey},gO={RepeatWrapping:Od,ClampToEdgeWrapping:la,MirroredRepeatWrapping:Zg},yO={NearestFilter:Ka,NearestMipmapNearestFilter:wE,NearestMipmapLinearFilter:am,LinearFilter:Hi,LinearMipmapNearestFilter:Ng,LinearMipmapLinearFilter:Kl};class xF extends vs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Zh.get(e);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(f=>{t&&t(f),a.manager.itemEnd(e)}).catch(f=>{r&&r(f)});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const c=fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return Zh.add(e,f),t&&t(f),a.manager.itemEnd(e),f}).catch(function(f){r&&r(f),Zh.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Zh.add(e,c),a.manager.itemStart(e)}}let LM;class eI{static getContext(){return LM===void 0&&(LM=new(window.AudioContext||window.webkitAudioContext)),LM}static setContext(e){LM=e}}class Sle extends vs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new ys(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(c){try{const f=c.slice(0);eI.getContext().decodeAudioData(f,function(g){t(g)}).catch(l)}catch(f){l(f)}},i,r);function l(c){r?r(c):console.error(c),a.manager.itemError(e)}}}const _O=new bn,vO=new bn,zp=new bn;class Ale{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new wr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new wr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,zp.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(bm*t.fov*.5)/t.zoom;let l,c;vO.elements[12]=-r,_O.elements[12]=r,l=-s*t.aspect+a,c=s*t.aspect+a,zp.elements[0]=2*t.near/(c-l),zp.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(zp),l=-s*t.aspect-a,c=s*t.aspect-a,zp.elements[0]=2*t.near/(c-l),zp.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(zp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_O)}}class MF extends wr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class tI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=bO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=bO();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function bO(){return performance.now()}const Vp=new oe,xO=new Ja,Ele=new oe,jp=new oe;class Tle extends fi{constructor(){super(),this.type="AudioListener",this.context=eI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new tI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Vp,xO,Ele),jp.set(0,0,-1).applyQuaternion(xO),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Vp.x,r),t.positionY.linearRampToValueAtTime(Vp.y,r),t.positionZ.linearRampToValueAtTime(Vp.z,r),t.forwardX.linearRampToValueAtTime(jp.x,r),t.forwardY.linearRampToValueAtTime(jp.y,r),t.forwardZ.linearRampToValueAtTime(jp.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Vp.x,Vp.y,Vp.z),t.setOrientation(jp.x,jp.y,jp.z,i.x,i.y,i.z)}}class SF extends fi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const kp=new oe,MO=new Ja,Cle=new oe,Hp=new oe;class wle extends SF{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(kp,MO,Cle),Hp.set(0,0,1).applyQuaternion(MO);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(kp.x,i),t.positionY.linearRampToValueAtTime(kp.y,i),t.positionZ.linearRampToValueAtTime(kp.z,i),t.orientationX.linearRampToValueAtTime(Hp.x,i),t.orientationY.linearRampToValueAtTime(Hp.y,i),t.orientationZ.linearRampToValueAtTime(Hp.z,i)}else t.setPosition(kp.x,kp.y,kp.z),t.setOrientation(Hp.x,Hp.y,Hp.z)}}class Rle{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class AF{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==r;++l)i[a+l]=i[l];s=t}else{s+=t;const l=t/s;this._mixBufferRegion(i,a,0,l,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const c=t*this._origIndex;this._mixBufferRegion(i,r,c,1-a,t)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let c=t,f=t+t;c!==f;++c)if(i[c]!==i[c+t]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,s=r;a!==s;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[i+s]}_slerp(e,t,i,r){Ja.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const s=this._workIndex*a;Ja.multiplyQuaternionsFlat(e,s,e,t,e,i),Ja.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,i,r,a){const s=1-r;for(let l=0;l!==a;++l){const c=t+l;e[c]=e[c]*s+e[i+l]*r}}_lerpAdditive(e,t,i,r,a){for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]+e[i+s]*r}}}const nI="\\[\\]\\.:\\/",Ile=new RegExp("["+nI+"]","g"),iI="[^"+nI+"]",Ple="[^"+nI.replace("\\.","")+"]",Dle=/((?:WC+[\/:])*)/.source.replace("WC",iI),Ble=/(WCOD+)?/.source.replace("WCOD",Ple),Ole=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",iI),Nle=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",iI),Lle=new RegExp("^"+Dle+Ble+Ole+Nle+"$"),Ule=["material","materials","bones","map"];class Fle{constructor(e,t,i){const r=i||Ci.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ci{constructor(e,t,i){this.path=t,this.parsedPath=i||Ci.parseTrackName(t),this.node=Ci.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ci.Composite(e,t,i):new Ci(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ile,"")}static parseTrackName(e){const t=Lle.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);Ule.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const l=a[s];if(l.name===t||l.uuid===t)return l;const c=i(l.children);if(c)return c}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=Ci.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const s=e[r];if(s===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ci.Composite=Fle;Ci.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ci.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ci.prototype.GetterByBindingType=[Ci.prototype._getValue_direct,Ci.prototype._getValue_array,Ci.prototype._getValue_arrayElement,Ci.prototype._getValue_toArray];Ci.prototype.SetterByBindingTypeAndVersioning=[[Ci.prototype._setValue_direct,Ci.prototype._setValue_direct_setNeedsUpdate,Ci.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ci.prototype._setValue_array,Ci.prototype._setValue_array_setNeedsUpdate,Ci.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ci.prototype._setValue_arrayElement,Ci.prototype._setValue_arrayElement_setNeedsUpdate,Ci.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ci.prototype._setValue_fromArray,Ci.prototype._setValue_fromArray_setNeedsUpdate,Ci.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zle{constructor(){this.isAnimationObjectGroup=!0,this.uuid=dl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let l,c=e.length,f=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const y=arguments[p],v=y.uuid;let x=t[v];if(x===void 0){x=c++,t[v]=x,e.push(y);for(let w=0,A=s;w!==A;++w)a[w].push(new Ci(y,i[w],r[w]))}else if(x<f){l=e[x];const w=--f,A=e[w];t[A.uuid]=x,e[x]=A,t[v]=w,e[w]=y;for(let M=0,R=s;M!==R;++M){const P=a[M],L=P[w];let F=P[x];P[x]=L,F===void 0&&(F=new Ci(y,i[M],r[M])),P[w]=F}}else e[x]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],f=c.uuid,p=t[f];if(p!==void 0&&p>=a){const g=a++,y=e[g];t[y.uuid]=p,e[p]=y,t[f]=g,e[g]=c;for(let v=0,x=r;v!==x;++v){const w=i[v],A=w[g],M=w[p];w[p]=A,w[g]=M}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let l=0,c=arguments.length;l!==c;++l){const f=arguments[l],p=f.uuid,g=t[p];if(g!==void 0)if(delete t[p],g<a){const y=--a,v=e[y],x=--s,w=e[x];t[v.uuid]=g,e[g]=v,t[w.uuid]=y,e[y]=w,e.pop();for(let A=0,M=r;A!==M;++A){const R=i[A],P=R[y],L=R[x];R[g]=P,R[y]=L,R.pop()}}else{const y=--s,v=e[y];y>0&&(t[v.uuid]=g),e[g]=v,e.pop();for(let x=0,w=r;x!==w;++x){const A=i[x];A[g]=A[y],A.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,l=this._parsedPaths,c=this._objects,f=c.length,p=this.nCachedObjects_,g=new Array(f);r=a.length,i[e]=r,s.push(e),l.push(t),a.push(g);for(let y=p,v=c.length;y!==v;++y){const x=c[y];g[y]=new Ci(x,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length-1,c=s[l],f=e[l];t[f]=i,s[i]=c,s.pop(),a[i]=a[l],a.pop(),r[i]=r[l],r.pop()}}}class EF{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,s=a.length,l=new Array(s),c={endingStart:sm,endingEnd:sm};for(let f=0;f!==s;++f){const p=a[f].createInterpolant(null);l[f]=p,p.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=g7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,l=r/a;e.warp(1,s,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,f=l.sampleValues;return c[0]=a,c[1]=a+i,f[0]=e/s,f[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const c=(e-a)*i;c<0||i===0?t=0:(this._startTime=null,t=i*c)}t*=this._updateTimeScale(e);const s=this._updateTime(t),l=this._updateWeight(e);if(l>0){const c=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case ER:for(let p=0,g=c.length;p!==g;++p)c[p].evaluate(s),f[p].accumulateAdditive(l);break;case NE:default:for(let p=0,g=c.length;p!==g;++p)c[p].evaluate(s),f[p].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===y7;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(i===m7){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,a+=Math.abs(l);const c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=om,r.endingEnd=om):(e?r.endingStart=this.zeroSlopeAtStart?om:sm:r.endingStart=v1,t?r.endingEnd=this.zeroSlopeAtEnd?om:sm:r.endingEnd=v1)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=a,c[0]=t,l[1]=a+e,c[1]=i,this}}const Vle=new Float32Array(1);class TF extends sh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,l=e._interpolants,c=i.uuid,f=this._bindingsByRootAndName;let p=f[c];p===void 0&&(p={},f[c]=p);for(let g=0;g!==a;++g){const y=r[g],v=y.name;let x=p[v];if(x!==void 0)++x.referenceCount,s[g]=x;else{if(x=s[g],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,c,v));continue}const w=t&&t._propertyBindings[g].binding.parsedPath;x=new AF(Ci.create(i,v,w),y.ValueTypeName,y.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,c,v),s[g]=x}l[g].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,l=s[a],c=l.knownActions,f=c[c.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,c[p]=f,c.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],c.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,l=s[r],c=t[t.length-1],f=e._cacheIndex;c._cacheIndex=f,t[f]=c,t.pop(),delete l[a],Object.keys(l).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new WR(new Float32Array(2),new Float32Array(2),1,Vle),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let s=typeof e=="string"?uy.findByName(r,e):e;const l=s!==null?s.uuid:e,c=this._actionsByClip[l];let f=null;if(i===void 0&&(s!==null?i=s.blendMode:i=NE),c!==void 0){const g=c.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;f=c.knownActions[0],s===null&&(s=f._clip)}if(s===null)return null;const p=new EF(this,s,t,i);return this._bindAction(p,f),this._addInactiveAction(p,l,a),p}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?uy.findByName(i,e):e,s=a?a.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,a,s);const l=this._bindings,c=this._nActiveBindings;for(let f=0;f!==c;++f)l[f].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let l=0,c=s.length;l!==c;++l){const f=s[l];this._deactivateAction(f);const p=f._cacheIndex,g=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const s in i){const l=i[s].actionByRoot,c=l[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const s in a){const l=a[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class jle extends LE{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new UE(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class kle extends LE{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new ob(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class rI{constructor(e){this.value=e}clone(){return new rI(this.value.clone===void 0?this.value:this.value.clone())}}let Hle=0;class Gle extends sh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Hle++}),this.name="",this.usage=x1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class Xle extends ub{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class qle{constructor(e,t,i,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const SO=new bn;class aI{constructor(e,t,i=0,r=1/0){this.ray=new Um(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new oy,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return SO.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(SO),this}intersectObject(e,t=!0,i=[]){return y4(e,this,i,t),i.sort(AO),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)y4(e[r],this,i,t);return i.sort(AO),i}}function AO(n,e){return n.distance-e.distance}function y4(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let s=0,l=a.length;s<l;s++)y4(a[s],e,t,!0)}}class _4{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Vn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Vn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Wle{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class sI{constructor(e,t,i,r){sI.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const EO=new pt;class Yle{constructor(e=new pt(1/0,1/0),t=new pt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=EO.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,EO).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const TO=new oe,UM=new oe;class Kle{constructor(e=new oe,t=new oe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){TO.subVectors(e,this.start),UM.subVectors(this.end,this.start);const i=UM.dot(UM);let a=UM.dot(TO)/i;return t&&(a=Vn(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const CO=new oe;class Jle extends fi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new qn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,c=32;s<c;s++,l++){const f=s/c*Math.PI*2,p=l/c*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new rn(r,3));const a=new ks({fog:!1,toneMapped:!1});this.cone=new qc(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),CO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(CO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const fd=new oe,FM=new bn,CC=new bn;class Qle extends qc{constructor(e){const t=CF(e),i=new qn,r=[],a=[],s=new Vt(0,0,1),l=new Vt(0,1,0);for(let f=0;f<t.length;f++){const p=t[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(s.r,s.g,s.b),a.push(l.r,l.g,l.b))}i.setAttribute("position",new rn(r,3)),i.setAttribute("color",new rn(a,3));const c=new ks({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");CC.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const l=t[a];l.parent&&l.parent.isBone&&(FM.multiplyMatrices(CC,l.matrixWorld),fd.setFromMatrixPosition(FM),r.setXYZ(s,fd.x,fd.y,fd.z),FM.multiplyMatrices(CC,l.parent.matrixWorld),fd.setFromMatrixPosition(FM),r.setXYZ(s+1,fd.x,fd.y,fd.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function CF(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...CF(n.children[t]));return e}class $le extends Ir{constructor(e,t,i){const r=new gb(t,4,2),a=new Vo({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Zle=new oe,wO=new Vt,RO=new Vt;class ece extends fi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new mb(t);r.rotateY(Math.PI*.5),this.material=new Vo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Ii(s,3)),this.add(new Ir(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");wO.copy(this.light.color),RO.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?wO:RO;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Zle.setFromMatrixPosition(this.light.matrixWorld).negate())}}class tce extends qc{constructor(e=10,t=10,i=4473924,r=8947848){i=new Vt(i),r=new Vt(r);const a=t/2,s=e/t,l=e/2,c=[],f=[];for(let y=0,v=0,x=-l;y<=t;y++,x+=s){c.push(-l,0,x,l,0,x),c.push(x,0,-l,x,0,l);const w=y===a?i:r;w.toArray(f,v),v+=3,w.toArray(f,v),v+=3,w.toArray(f,v),v+=3,w.toArray(f,v),v+=3}const p=new qn;p.setAttribute("position",new rn(c,3)),p.setAttribute("color",new rn(f,3));const g=new ks({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class nce extends qc{constructor(e=10,t=16,i=8,r=64,a=4473924,s=8947848){a=new Vt(a),s=new Vt(s);const l=[],c=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),v=Math.sin(y)*e,x=Math.cos(y)*e;l.push(0,0,0),l.push(v,0,x);const w=g&1?a:s;c.push(w.r,w.g,w.b),c.push(w.r,w.g,w.b)}for(let g=0;g<i;g++){const y=g&1?a:s,v=e-e/i*g;for(let x=0;x<r;x++){let w=x/r*(Math.PI*2),A=Math.sin(w)*v,M=Math.cos(w)*v;l.push(A,0,M),c.push(y.r,y.g,y.b),w=(x+1)/r*(Math.PI*2),A=Math.sin(w)*v,M=Math.cos(w)*v,l.push(A,0,M),c.push(y.r,y.g,y.b)}}const f=new qn;f.setAttribute("position",new rn(l,3)),f.setAttribute("color",new rn(c,3));const p=new ks({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const IO=new oe,zM=new oe,PO=new oe;class ice extends fi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new qn;r.setAttribute("position",new rn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new ks({fog:!1,toneMapped:!1});this.lightPlane=new uf(r,a),this.add(this.lightPlane),r=new qn,r.setAttribute("position",new rn([0,0,0,0,0,1],3)),this.targetLine=new uf(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),IO.setFromMatrixPosition(this.light.matrixWorld),zM.setFromMatrixPosition(this.light.target.matrixWorld),PO.subVectors(zM,IO),this.lightPlane.lookAt(zM),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zM),this.targetLine.scale.z=PO.length()}}const VM=new oe,Qr=new FE;class rce extends qc{constructor(e){const t=new qn,i=new ks({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(x,w){c(x),c(w)}function c(x){r.push(0,0,0),a.push(0,0,0),s[x]===void 0&&(s[x]=[]),s[x].push(r.length/3-1)}t.setAttribute("position",new rn(r,3)),t.setAttribute("color",new rn(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const f=new Vt(16755200),p=new Vt(16711680),g=new Vt(43775),y=new Vt(16777215),v=new Vt(3355443);this.setColors(f,p,g,y,v)}setColors(e,t,i,r,a){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Qr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===jc?-1:0;ra("c",t,e,Qr,0,0,a),ra("t",t,e,Qr,0,0,1),ra("n1",t,e,Qr,-1,-1,a),ra("n2",t,e,Qr,i,-1,a),ra("n3",t,e,Qr,-1,r,a),ra("n4",t,e,Qr,i,r,a),ra("f1",t,e,Qr,-1,-1,1),ra("f2",t,e,Qr,i,-1,1),ra("f3",t,e,Qr,-1,r,1),ra("f4",t,e,Qr,i,r,1),ra("u1",t,e,Qr,i*.7,r*1.1,a),ra("u2",t,e,Qr,-1*.7,r*1.1,a),ra("u3",t,e,Qr,0,r*2,a),ra("cf1",t,e,Qr,-1,0,1),ra("cf2",t,e,Qr,i,0,1),ra("cf3",t,e,Qr,0,-1,1),ra("cf4",t,e,Qr,0,r,1),ra("cn1",t,e,Qr,-1,0,a),ra("cn2",t,e,Qr,i,0,a),ra("cn3",t,e,Qr,0,-1,a),ra("cn4",t,e,Qr,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ra(n,e,t,i,r,a,s){VM.set(r,a,s).unproject(i);const l=e[n];if(l!==void 0){const c=t.getAttribute("position");for(let f=0,p=l.length;f<p;f++)c.setXYZ(l[f],VM.x,VM.y,VM.z)}}const jM=new js;class ace extends qc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new qn;a.setIndex(new Ii(i,1)),a.setAttribute("position",new Ii(r,3)),super(a,new ks({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&jM.setFromObject(this.object),jM.isEmpty())return;const e=jM.min,t=jM.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class sce extends qc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new qn;a.setIndex(new Ii(i,1)),a.setAttribute("position",new rn(r,3)),super(a,new ks({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class oce extends uf{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new qn;s.setAttribute("position",new rn(a,3)),s.computeBoundingSphere(),super(s,new ks({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new qn;c.setAttribute("position",new rn(l,3)),c.computeBoundingSphere(),this.add(new Ir(c,new Vo({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const DO=new oe;let kM,wC;class lce extends fi{constructor(e=new oe(0,0,1),t=new oe(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",kM===void 0&&(kM=new qn,kM.setAttribute("position",new rn([0,0,0,0,1,0],3)),wC=new Ty(0,.5,1,5,1),wC.translate(0,-.5,0)),this.position.copy(t),this.line=new uf(kM,new ks({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ir(wC,new Vo({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{DO.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(DO,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class cce extends qc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new qn;r.setAttribute("position",new rn(t,3)),r.setAttribute("color",new rn(i,3));const a=new ks({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new Vt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uce{constructor(){this.type="ShapePath",this.color=new Vt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new A1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,s){return this.currentPath.bezierCurveTo(e,t,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const R=[];for(let P=0,L=M.length;P<L;P++){const F=M[P],j=new xm;j.curves=F.curves,R.push(j)}return R}function i(M,R){const P=R.length;let L=!1;for(let F=P-1,j=0;j<P;F=j++){let U=R[F],N=R[j],B=N.x-U.x,O=N.y-U.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(U=R[j],B=-B,N=R[F],O=-O),M.y<U.y||M.y>N.y)continue;if(M.y===U.y){if(M.x===U.x)return!0}else{const H=O*(M.x-U.x)-B*(M.y-U.y);if(H===0)return!0;if(H<0)continue;L=!L}}else{if(M.y!==U.y)continue;if(N.x<=M.x&&M.x<=U.x||U.x<=M.x&&M.x<=N.x)return!0}}return L}const r=qu.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,l,c;const f=[];if(a.length===1)return l=a[0],c=new xm,c.curves=l.curves,f.push(c),f;let p=!r(a[0].getPoints());p=e?!p:p;const g=[],y=[];let v=[],x=0,w;y[x]=void 0,v[x]=[];for(let M=0,R=a.length;M<R;M++)l=a[M],w=l.getPoints(),s=r(w),s=e?!s:s,s?(!p&&y[x]&&x++,y[x]={s:new xm,p:w},y[x].s.curves=l.curves,p&&x++,v[x]=[]):v[x].push({h:l,p:w[0]});if(!y[0])return t(a);if(y.length>1){let M=!1,R=0;for(let P=0,L=y.length;P<L;P++)g[P]=[];for(let P=0,L=y.length;P<L;P++){const F=v[P];for(let j=0;j<F.length;j++){const U=F[j];let N=!0;for(let B=0;B<y.length;B++)i(U.p,y[B].p)&&(P!==B&&R++,N?(N=!1,g[B].push(U)):M=!0);N&&g[P].push(U)}}R>0&&M===!1&&(v=g)}let A;for(let M=0,R=y.length;M<R;M++){c=y[M].s,f.push(c),A=v[M];for(let P=0,L=A.length;P<L;P++)c.holes.push(A[P].h)}return f}}class hce extends sh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function fce(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function dce(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function pce(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function v4(n,e,t,i){const r=mce(i);switch(t){case vR:return n*e;case xR:return n*e;case MR:return n*e*2;case ab:return n*e/r.components*r.byteLength;case sb:return n*e/r.components*r.byteLength;case SR:return n*e*2/r.components*r.byteLength;case BE:return n*e*2/r.components*r.byteLength;case bR:return n*e*3/r.components*r.byteLength;case ca:return n*e*4/r.components*r.byteLength;case OE:return n*e*4/r.components*r.byteLength;case Fv:case zv:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Vv:case jv:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case lA:case uA:return Math.max(n,16)*Math.max(e,8)/4;case oA:case cA:return Math.max(n,8)*Math.max(e,8)/2;case hA:case fA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case dA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case pA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case mA:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case gA:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case yA:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case _A:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case vA:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case bA:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case xA:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case MA:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case SA:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case AA:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case EA:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case TA:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case CA:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case kv:case wA:case RA:return Math.ceil(n/4)*Math.ceil(e/4)*16;case AR:case IA:return Math.ceil(n/4)*Math.ceil(e/4)*8;case PA:case DA:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function mce(n){switch(n){case Xo:case RE:return{byteLength:1,components:1};case ey:case IE:case Ya:return{byteLength:2,components:1};case PE:case DE:return{byteLength:2,components:4};case eh:case rb:case Vr:return{byteLength:4,components:1};case _R:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class gce{static contain(e,t){return fce(e,t)}static cover(e,t){return dce(e,t)}static fill(e){return pce(e)}static getByteLength(e,t,i,r){return v4(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:nb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=nb);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function wF(){let n=null,e=!1,t=null,i=null;function r(a,s){t(a,s),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function yce(n){const e=new WeakMap;function t(l,c){const f=l.array,p=l.usage,g=f.byteLength,y=n.createBuffer();n.bindBuffer(c,y),n.bufferData(c,f,p),l.onUploadCallback();let v;if(f instanceof Float32Array)v=n.FLOAT;else if(f instanceof Uint16Array)l.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=n.SHORT;else if(f instanceof Uint32Array)v=n.UNSIGNED_INT;else if(f instanceof Int32Array)v=n.INT;else if(f instanceof Int8Array)v=n.BYTE;else if(f instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,c,f){const p=c.array,g=c.updateRanges;if(n.bindBuffer(f,l),g.length===0)n.bufferSubData(f,0,p);else{g.sort((v,x)=>v.start-x.start);let y=0;for(let v=1;v<g.length;v++){const x=g[y],w=g[v];w.start<=x.start+x.count+1?x.count=Math.max(x.count,w.start+w.count-x.start):(++y,g[y]=w)}g.length=y+1;for(let v=0,x=g.length;v<x;v++){const w=g[v];n.bufferSubData(f,w.start*p.BYTES_PER_ELEMENT,p,w.start,w.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(n.deleteBuffer(c.buffer),e.delete(l))}function s(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const p=e.get(l);(!p||p.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const f=e.get(l);if(f===void 0)e.set(l,t(l,c));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,l,c),f.version=l.version}}return{get:r,remove:a,update:s}}var _ce=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,vce=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,bce=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,xce=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Mce=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Sce=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ace=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ece=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Tce=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Cce=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,wce=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Rce=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ice=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Pce=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Dce=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Bce=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Oce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Nce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Lce=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Uce=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Fce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,zce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Vce=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,jce=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,kce=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Hce=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Gce=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Xce=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,qce=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Wce=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Yce="gl_FragColor = linearToOutputTexel( gl_FragColor );",Kce=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Jce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Qce=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,$ce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Zce=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,eue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,tue=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,nue=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,iue=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,rue=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,aue=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,sue=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,oue=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lue=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,cue=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,uue=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hue=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,fue=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,due=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,pue=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,mue=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,gue=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,yue=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_ue=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,vue=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,bue=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,xue=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Mue=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Sue=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Aue=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Eue=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Tue=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Cue=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wue=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Rue=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Iue=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Pue=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Due=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Bue=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Oue=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Nue=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Lue=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Uue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Fue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zue=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Vue=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,jue=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,kue=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Hue=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Gue=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Xue=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,que=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Wue=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Yue=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Kue=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Jue=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Que=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,$ue=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Zue=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,ehe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,the=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,nhe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ihe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,rhe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,ahe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,she=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ohe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,lhe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,che=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,uhe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,hhe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,fhe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,dhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,phe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,ghe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const yhe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_he=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bhe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Mhe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,She=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Ahe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Ehe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,The=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Che=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,whe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Rhe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ihe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Phe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Dhe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bhe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ohe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nhe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Lhe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uhe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Fhe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,zhe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vhe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jhe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,khe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hhe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ghe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xhe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Whe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yhe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Khe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Zn={alphahash_fragment:_ce,alphahash_pars_fragment:vce,alphamap_fragment:bce,alphamap_pars_fragment:xce,alphatest_fragment:Mce,alphatest_pars_fragment:Sce,aomap_fragment:Ace,aomap_pars_fragment:Ece,batching_pars_vertex:Tce,batching_vertex:Cce,begin_vertex:wce,beginnormal_vertex:Rce,bsdfs:Ice,iridescence_fragment:Pce,bumpmap_pars_fragment:Dce,clipping_planes_fragment:Bce,clipping_planes_pars_fragment:Oce,clipping_planes_pars_vertex:Nce,clipping_planes_vertex:Lce,color_fragment:Uce,color_pars_fragment:Fce,color_pars_vertex:zce,color_vertex:Vce,common:jce,cube_uv_reflection_fragment:kce,defaultnormal_vertex:Hce,displacementmap_pars_vertex:Gce,displacementmap_vertex:Xce,emissivemap_fragment:qce,emissivemap_pars_fragment:Wce,colorspace_fragment:Yce,colorspace_pars_fragment:Kce,envmap_fragment:Jce,envmap_common_pars_fragment:Qce,envmap_pars_fragment:$ce,envmap_pars_vertex:Zce,envmap_physical_pars_fragment:uue,envmap_vertex:eue,fog_vertex:tue,fog_pars_vertex:nue,fog_fragment:iue,fog_pars_fragment:rue,gradientmap_pars_fragment:aue,lightmap_pars_fragment:sue,lights_lambert_fragment:oue,lights_lambert_pars_fragment:lue,lights_pars_begin:cue,lights_toon_fragment:hue,lights_toon_pars_fragment:fue,lights_phong_fragment:due,lights_phong_pars_fragment:pue,lights_physical_fragment:mue,lights_physical_pars_fragment:gue,lights_fragment_begin:yue,lights_fragment_maps:_ue,lights_fragment_end:vue,logdepthbuf_fragment:bue,logdepthbuf_pars_fragment:xue,logdepthbuf_pars_vertex:Mue,logdepthbuf_vertex:Sue,map_fragment:Aue,map_pars_fragment:Eue,map_particle_fragment:Tue,map_particle_pars_fragment:Cue,metalnessmap_fragment:wue,metalnessmap_pars_fragment:Rue,morphinstance_vertex:Iue,morphcolor_vertex:Pue,morphnormal_vertex:Due,morphtarget_pars_vertex:Bue,morphtarget_vertex:Oue,normal_fragment_begin:Nue,normal_fragment_maps:Lue,normal_pars_fragment:Uue,normal_pars_vertex:Fue,normal_vertex:zue,normalmap_pars_fragment:Vue,clearcoat_normal_fragment_begin:jue,clearcoat_normal_fragment_maps:kue,clearcoat_pars_fragment:Hue,iridescence_pars_fragment:Gue,opaque_fragment:Xue,packing:que,premultiplied_alpha_fragment:Wue,project_vertex:Yue,dithering_fragment:Kue,dithering_pars_fragment:Jue,roughnessmap_fragment:Que,roughnessmap_pars_fragment:$ue,shadowmap_pars_fragment:Zue,shadowmap_pars_vertex:ehe,shadowmap_vertex:the,shadowmask_pars_fragment:nhe,skinbase_vertex:ihe,skinning_pars_vertex:rhe,skinning_vertex:ahe,skinnormal_vertex:she,specularmap_fragment:ohe,specularmap_pars_fragment:lhe,tonemapping_fragment:che,tonemapping_pars_fragment:uhe,transmission_fragment:hhe,transmission_pars_fragment:fhe,uv_pars_fragment:dhe,uv_pars_vertex:phe,uv_vertex:mhe,worldpos_vertex:ghe,background_vert:yhe,background_frag:_he,backgroundCube_vert:vhe,backgroundCube_frag:bhe,cube_vert:xhe,cube_frag:Mhe,depth_vert:She,depth_frag:Ahe,distanceRGBA_vert:Ehe,distanceRGBA_frag:The,equirect_vert:Che,equirect_frag:whe,linedashed_vert:Rhe,linedashed_frag:Ihe,meshbasic_vert:Phe,meshbasic_frag:Dhe,meshlambert_vert:Bhe,meshlambert_frag:Ohe,meshmatcap_vert:Nhe,meshmatcap_frag:Lhe,meshnormal_vert:Uhe,meshnormal_frag:Fhe,meshphong_vert:zhe,meshphong_frag:Vhe,meshphysical_vert:jhe,meshphysical_frag:khe,meshtoon_vert:Hhe,meshtoon_frag:Ghe,points_vert:Xhe,points_frag:qhe,shadow_vert:Whe,shadow_frag:Yhe,sprite_vert:Khe,sprite_frag:Jhe},kt={common:{diffuse:{value:new Vt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Xn},alphaMap:{value:null},alphaMapTransform:{value:new Xn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Xn}},envmap:{envMap:{value:null},envMapRotation:{value:new Xn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Xn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Xn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Xn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Xn},normalScale:{value:new pt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Xn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Xn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Xn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Xn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Xn},alphaTest:{value:0},uvTransform:{value:new Xn}},sprite:{diffuse:{value:new Vt(16777215)},opacity:{value:1},center:{value:new pt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Xn},alphaMap:{value:null},alphaMapTransform:{value:new Xn},alphaTest:{value:0}}},Uc={basic:{uniforms:ao([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.fog]),vertexShader:Zn.meshbasic_vert,fragmentShader:Zn.meshbasic_frag},lambert:{uniforms:ao([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,kt.lights,{emissive:{value:new Vt(0)}}]),vertexShader:Zn.meshlambert_vert,fragmentShader:Zn.meshlambert_frag},phong:{uniforms:ao([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,kt.lights,{emissive:{value:new Vt(0)},specular:{value:new Vt(1118481)},shininess:{value:30}}]),vertexShader:Zn.meshphong_vert,fragmentShader:Zn.meshphong_frag},standard:{uniforms:ao([kt.common,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.roughnessmap,kt.metalnessmap,kt.fog,kt.lights,{emissive:{value:new Vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Zn.meshphysical_vert,fragmentShader:Zn.meshphysical_frag},toon:{uniforms:ao([kt.common,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.gradientmap,kt.fog,kt.lights,{emissive:{value:new Vt(0)}}]),vertexShader:Zn.meshtoon_vert,fragmentShader:Zn.meshtoon_frag},matcap:{uniforms:ao([kt.common,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,{matcap:{value:null}}]),vertexShader:Zn.meshmatcap_vert,fragmentShader:Zn.meshmatcap_frag},points:{uniforms:ao([kt.points,kt.fog]),vertexShader:Zn.points_vert,fragmentShader:Zn.points_frag},dashed:{uniforms:ao([kt.common,kt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Zn.linedashed_vert,fragmentShader:Zn.linedashed_frag},depth:{uniforms:ao([kt.common,kt.displacementmap]),vertexShader:Zn.depth_vert,fragmentShader:Zn.depth_frag},normal:{uniforms:ao([kt.common,kt.bumpmap,kt.normalmap,kt.displacementmap,{opacity:{value:1}}]),vertexShader:Zn.meshnormal_vert,fragmentShader:Zn.meshnormal_frag},sprite:{uniforms:ao([kt.sprite,kt.fog]),vertexShader:Zn.sprite_vert,fragmentShader:Zn.sprite_frag},background:{uniforms:{uvTransform:{value:new Xn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Zn.background_vert,fragmentShader:Zn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Xn}},vertexShader:Zn.backgroundCube_vert,fragmentShader:Zn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Zn.cube_vert,fragmentShader:Zn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Zn.equirect_vert,fragmentShader:Zn.equirect_frag},distanceRGBA:{uniforms:ao([kt.common,kt.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Zn.distanceRGBA_vert,fragmentShader:Zn.distanceRGBA_frag},shadow:{uniforms:ao([kt.lights,kt.fog,{color:{value:new Vt(0)},opacity:{value:1}}]),vertexShader:Zn.shadow_vert,fragmentShader:Zn.shadow_frag}};Uc.physical={uniforms:ao([Uc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Xn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Xn},clearcoatNormalScale:{value:new pt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Xn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Xn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Xn},sheen:{value:0},sheenColor:{value:new Vt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Xn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Xn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Xn},transmissionSamplerSize:{value:new pt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Xn},attenuationDistance:{value:0},attenuationColor:{value:new Vt(0)},specularColor:{value:new Vt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Xn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Xn},anisotropyVector:{value:new pt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Xn}}]),vertexShader:Zn.meshphysical_vert,fragmentShader:Zn.meshphysical_frag};const HM={r:0,b:0,g:0},Gp=new ml,Qhe=new bn;function $he(n,e,t,i,r,a,s){const l=new Vt(0);let c=a===!0?0:1,f,p,g=null,y=0,v=null;function x(P){let L=P.isScene===!0?P.background:null;return L&&L.isTexture&&(L=(P.backgroundBlurriness>0?t:e).get(L)),L}function w(P){let L=!1;const F=x(P);F===null?M(l,c):F&&F.isColor&&(M(F,1),L=!0);const j=n.xr.getEnvironmentBlendMode();j==="additive"?i.buffers.color.setClear(0,0,0,1,s):j==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(n.autoClear||L)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function A(P,L){const F=x(L);F&&(F.isCubeTexture||F.mapping===Ey)?(p===void 0&&(p=new Ir(new Fm(1,1,1),new qo({name:"BackgroundCubeMaterial",uniforms:ly(Uc.backgroundCube.uniforms),vertexShader:Uc.backgroundCube.vertexShader,fragmentShader:Uc.backgroundCube.fragmentShader,side:po,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(j,U,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),Gp.copy(L.backgroundRotation),Gp.x*=-1,Gp.y*=-1,Gp.z*=-1,F.isCubeTexture&&F.isRenderTargetTexture===!1&&(Gp.y*=-1,Gp.z*=-1),p.material.uniforms.envMap.value=F,p.material.uniforms.flipEnvMap.value=F.isCubeTexture&&F.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(Qhe.makeRotationFromEuler(Gp)),p.material.toneMapped=Si.getTransfer(F.colorSpace)!==tr,(g!==F||y!==F.version||v!==n.toneMapping)&&(p.material.needsUpdate=!0,g=F,y=F.version,v=n.toneMapping),p.layers.enableAll(),P.unshift(p,p.geometry,p.material,0,0,null)):F&&F.isTexture&&(f===void 0&&(f=new Ir(new Wd(2,2),new qo({name:"BackgroundMaterial",uniforms:ly(Uc.background.uniforms),vertexShader:Uc.background.vertexShader,fragmentShader:Uc.background.fragmentShader,side:$u,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=F,f.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,f.material.toneMapped=Si.getTransfer(F.colorSpace)!==tr,F.matrixAutoUpdate===!0&&F.updateMatrix(),f.material.uniforms.uvTransform.value.copy(F.matrix),(g!==F||y!==F.version||v!==n.toneMapping)&&(f.material.needsUpdate=!0,g=F,y=F.version,v=n.toneMapping),f.layers.enableAll(),P.unshift(f,f.geometry,f.material,0,0,null))}function M(P,L){P.getRGB(HM,O7(n)),i.buffers.color.setClear(HM.r,HM.g,HM.b,L,s)}function R(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return l},setClearColor:function(P,L=1){l.set(P),c=L,M(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(P){c=P,M(l,c)},render:w,addToRenderList:A,dispose:R}}function Zhe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let a=r,s=!1;function l(O,H,Q,G,he){let _e=!1;const X=g(G,Q,H);a!==X&&(a=X,f(a.object)),_e=v(O,G,Q,he),_e&&x(O,G,Q,he),he!==null&&e.update(he,n.ELEMENT_ARRAY_BUFFER),(_e||s)&&(s=!1,L(O,H,Q,G),he!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(he).buffer))}function c(){return n.createVertexArray()}function f(O){return n.bindVertexArray(O)}function p(O){return n.deleteVertexArray(O)}function g(O,H,Q){const G=Q.wireframe===!0;let he=i[O.id];he===void 0&&(he={},i[O.id]=he);let _e=he[H.id];_e===void 0&&(_e={},he[H.id]=_e);let X=_e[G];return X===void 0&&(X=y(c()),_e[G]=X),X}function y(O){const H=[],Q=[],G=[];for(let he=0;he<t;he++)H[he]=0,Q[he]=0,G[he]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:Q,attributeDivisors:G,object:O,attributes:{},index:null}}function v(O,H,Q,G){const he=a.attributes,_e=H.attributes;let X=0;const Z=Q.getAttributes();for(const re in Z)if(Z[re].location>=0){const $=he[re];let pe=_e[re];if(pe===void 0&&(re==="instanceMatrix"&&O.instanceMatrix&&(pe=O.instanceMatrix),re==="instanceColor"&&O.instanceColor&&(pe=O.instanceColor)),$===void 0||$.attribute!==pe||pe&&$.data!==pe.data)return!0;X++}return a.attributesNum!==X||a.index!==G}function x(O,H,Q,G){const he={},_e=H.attributes;let X=0;const Z=Q.getAttributes();for(const re in Z)if(Z[re].location>=0){let $=_e[re];$===void 0&&(re==="instanceMatrix"&&O.instanceMatrix&&($=O.instanceMatrix),re==="instanceColor"&&O.instanceColor&&($=O.instanceColor));const pe={};pe.attribute=$,$&&$.data&&(pe.data=$.data),he[re]=pe,X++}a.attributes=he,a.attributesNum=X,a.index=G}function w(){const O=a.newAttributes;for(let H=0,Q=O.length;H<Q;H++)O[H]=0}function A(O){M(O,0)}function M(O,H){const Q=a.newAttributes,G=a.enabledAttributes,he=a.attributeDivisors;Q[O]=1,G[O]===0&&(n.enableVertexAttribArray(O),G[O]=1),he[O]!==H&&(n.vertexAttribDivisor(O,H),he[O]=H)}function R(){const O=a.newAttributes,H=a.enabledAttributes;for(let Q=0,G=H.length;Q<G;Q++)H[Q]!==O[Q]&&(n.disableVertexAttribArray(Q),H[Q]=0)}function P(O,H,Q,G,he,_e,X){X===!0?n.vertexAttribIPointer(O,H,Q,he,_e):n.vertexAttribPointer(O,H,Q,G,he,_e)}function L(O,H,Q,G){w();const he=G.attributes,_e=Q.getAttributes(),X=H.defaultAttributeValues;for(const Z in _e){const re=_e[Z];if(re.location>=0){let be=he[Z];if(be===void 0&&(Z==="instanceMatrix"&&O.instanceMatrix&&(be=O.instanceMatrix),Z==="instanceColor"&&O.instanceColor&&(be=O.instanceColor)),be!==void 0){const $=be.normalized,pe=be.itemSize,we=e.get(be);if(we===void 0)continue;const Te=we.buffer,de=we.type,Ne=we.bytesPerElement,Ve=de===n.INT||de===n.UNSIGNED_INT||be.gpuType===rb;if(be.isInterleavedBufferAttribute){const ct=be.data,ut=ct.stride,Jt=be.offset;if(ct.isInstancedInterleavedBuffer){for(let It=0;It<re.locationSize;It++)M(re.location+It,ct.meshPerAttribute);O.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=ct.meshPerAttribute*ct.count)}else for(let It=0;It<re.locationSize;It++)A(re.location+It);n.bindBuffer(n.ARRAY_BUFFER,Te);for(let It=0;It<re.locationSize;It++)P(re.location+It,pe/re.locationSize,de,$,ut*Ne,(Jt+pe/re.locationSize*It)*Ne,Ve)}else{if(be.isInstancedBufferAttribute){for(let ct=0;ct<re.locationSize;ct++)M(re.location+ct,be.meshPerAttribute);O.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=be.meshPerAttribute*be.count)}else for(let ct=0;ct<re.locationSize;ct++)A(re.location+ct);n.bindBuffer(n.ARRAY_BUFFER,Te);for(let ct=0;ct<re.locationSize;ct++)P(re.location+ct,pe/re.locationSize,de,$,pe*Ne,pe/re.locationSize*ct*Ne,Ve)}}else if(X!==void 0){const $=X[Z];if($!==void 0)switch($.length){case 2:n.vertexAttrib2fv(re.location,$);break;case 3:n.vertexAttrib3fv(re.location,$);break;case 4:n.vertexAttrib4fv(re.location,$);break;default:n.vertexAttrib1fv(re.location,$)}}}}R()}function F(){N();for(const O in i){const H=i[O];for(const Q in H){const G=H[Q];for(const he in G)p(G[he].object),delete G[he];delete H[Q]}delete i[O]}}function j(O){if(i[O.id]===void 0)return;const H=i[O.id];for(const Q in H){const G=H[Q];for(const he in G)p(G[he].object),delete G[he];delete H[Q]}delete i[O.id]}function U(O){for(const H in i){const Q=i[H];if(Q[O.id]===void 0)continue;const G=Q[O.id];for(const he in G)p(G[he].object),delete G[he];delete Q[O.id]}}function N(){B(),s=!0,a!==r&&(a=r,f(a.object))}function B(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:N,resetDefaultState:B,dispose:F,releaseStatesOfGeometry:j,releaseStatesOfProgram:U,initAttributes:w,enableAttribute:A,disableUnusedAttributes:R}}function efe(n,e,t){let i;function r(f){i=f}function a(f,p){n.drawArrays(i,f,p),t.update(p,i,1)}function s(f,p,g){g!==0&&(n.drawArraysInstanced(i,f,p,g),t.update(p,i,g))}function l(f,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,p,0,g);let v=0;for(let x=0;x<g;x++)v+=p[x];t.update(v,i,1)}function c(f,p,g,y){if(g===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let x=0;x<f.length;x++)s(f[x],p[x],y[x]);else{v.multiDrawArraysInstancedWEBGL(i,f,0,p,0,y,0,g);let x=0;for(let w=0;w<g;w++)x+=p[w]*y[w];t.update(x,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function tfe(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const U=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(U.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(U){return!(U!==ca&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(U){const N=U===Ya&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(U!==Xo&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&U!==Vr&&!N)}function c(U){if(U==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";U="mediump"}return U==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const p=c(f);p!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const g=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=n.getParameter(n.MAX_TEXTURE_SIZE),A=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),M=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),P=n.getParameter(n.MAX_VARYING_VECTORS),L=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),F=x>0,j=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:l,precision:f,logarithmicDepthBuffer:g,reverseDepthBuffer:y,maxTextures:v,maxVertexTextures:x,maxTextureSize:w,maxCubemapSize:A,maxAttributes:M,maxVertexUniforms:R,maxVaryings:P,maxFragmentUniforms:L,vertexTextures:F,maxSamples:j}}function nfe(n){const e=this;let t=null,i=0,r=!1,a=!1;const s=new Gh,l=new Xn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const v=g.length!==0||y||i!==0||r;return r=y,i=g.length,v},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,y){t=p(g,y,0)},this.setState=function(g,y,v){const x=g.clippingPlanes,w=g.clipIntersection,A=g.clipShadows,M=n.get(g);if(!r||x===null||x.length===0||a&&!A)a?p(null):f();else{const R=a?0:i,P=R*4;let L=M.clippingState||null;c.value=L,L=p(x,y,P,v);for(let F=0;F!==P;++F)L[F]=t[F];M.clippingState=L,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=R}};function f(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(g,y,v,x){const w=g!==null?g.length:0;let A=null;if(w!==0){if(A=c.value,x!==!0||A===null){const M=v+w*4,R=y.matrixWorldInverse;l.getNormalMatrix(R),(A===null||A.length<M)&&(A=new Float32Array(M));for(let P=0,L=v;P!==w;++P,L+=4)s.copy(g[P]).applyMatrix4(R,l),s.normal.toArray(A,L),A[L+3]=s.constant}c.value=A,c.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,A}}function ife(n){let e=new WeakMap;function t(s,l){return l===$g?s.mapping=Zu:l===_1&&(s.mapping=Bd),s}function i(s){if(s&&s.isTexture){const l=s.mapping;if(l===$g||l===_1)if(e.has(s)){const c=e.get(s).texture;return t(c,s.mapping)}else{const c=s.image;if(c&&c.height>0){const f=new PR(c.height);return f.fromEquirectangularTexture(n,s),e.set(s,f),s.addEventListener("dispose",r),t(f.texture,s.mapping)}else return null}}return s}function r(s){const l=s.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const wg=4,BO=[.125,.215,.35,.446,.526,.582],tm=20,RC=new $l,OO=new Vt;let IC=null,PC=0,DC=0,BC=!1;const Qp=(1+Math.sqrt(5))/2,ag=1/Qp,NO=[new oe(-Qp,ag,0),new oe(Qp,ag,0),new oe(-ag,0,Qp),new oe(ag,0,Qp),new oe(0,Qp,-ag),new oe(0,Qp,ag),new oe(-1,1,-1),new oe(1,1,-1),new oe(-1,1,1),new oe(1,1,1)],rfe=new oe;class b4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,a={}){const{size:s=256,position:l=rfe}=a;IC=this._renderer.getRenderTarget(),PC=this._renderer.getActiveCubeFace(),DC=this._renderer.getActiveMipmapLevel(),BC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,i,r,c,l),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=FO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=UO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(IC,PC,DC),this._renderer.xr.enabled=BC,e.scissorTest=!1,GM(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Zu||e.mapping===Bd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),IC=this._renderer.getRenderTarget(),PC=this._renderer.getActiveCubeFace(),DC=this._renderer.getActiveMipmapLevel(),BC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Hi,minFilter:Hi,generateMipmaps:!1,type:Ya,format:ca,colorSpace:Xc,depthBuffer:!1},r=LO(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=LO(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=afe(a)),this._blurMaterial=sfe(a,e,t)}return r}_compileMaterial(e){const t=new Ir(this._lodPlanes[0],e);this._renderer.compile(t,RC)}_sceneToCubeUV(e,t,i,r,a){const c=new wr(90,1,t,i),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,v=g.toneMapping;g.getClearColor(OO),g.toneMapping=Xu,g.autoClear=!1;const x=new Vo({name:"PMREM.Background",side:po,depthWrite:!1,depthTest:!1}),w=new Ir(new Fm,x);let A=!1;const M=e.background;M?M.isColor&&(x.color.copy(M),e.background=null,A=!0):(x.color.copy(OO),A=!0);for(let R=0;R<6;R++){const P=R%3;P===0?(c.up.set(0,f[R],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x+p[R],a.y,a.z)):P===1?(c.up.set(0,0,f[R]),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y+p[R],a.z)):(c.up.set(0,f[R],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y,a.z+p[R]));const L=this._cubeSize;GM(r,P*L,R>2?L:0,L,L),g.setRenderTarget(r),A&&g.render(w,c),g.render(e,c)}w.geometry.dispose(),w.material.dispose(),g.toneMapping=v,g.autoClear=y,e.background=M}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Zu||e.mapping===Bd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=FO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=UO());const a=r?this._cubemapMaterial:this._equirectMaterial,s=new Ir(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const c=this._cubeSize;GM(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(s,RC)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=NO[(r-a-1)%NO.length];this._blur(e,a-1,a,s,l)}t.autoClear=i}_blur(e,t,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,s,l){const c=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new Ir(this._lodPlanes[r],f),y=f.uniforms,v=this._sizeLods[i]-1,x=isFinite(a)?Math.PI/(2*v):2*Math.PI/(2*tm-1),w=a/x,A=isFinite(a)?1+Math.floor(p*w):tm;A>tm&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${tm}`);const M=[];let R=0;for(let U=0;U<tm;++U){const N=U/w,B=Math.exp(-N*N/2);M.push(B),U===0?R+=B:U<A&&(R+=2*B)}for(let U=0;U<M.length;U++)M[U]=M[U]/R;y.envMap.value=e.texture,y.samples.value=A,y.weights.value=M,y.latitudinal.value=s==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:P}=this;y.dTheta.value=x,y.mipInt.value=P-i;const L=this._sizeLods[r],F=3*L*(r>P-wg?r-P+wg:0),j=4*(this._cubeSize-L);GM(t,F,j,3*L,2*L),c.setRenderTarget(t),c.render(g,RC)}}function afe(n){const e=[],t=[],i=[];let r=n;const a=n-wg+1+BO.length;for(let s=0;s<a;s++){const l=Math.pow(2,r);t.push(l);let c=1/l;s>n-wg?c=BO[s-n+wg-1]:s===0&&(c=0),i.push(c);const f=1/(l-2),p=-f,g=1+f,y=[p,p,g,p,g,g,p,p,g,g,p,g],v=6,x=6,w=3,A=2,M=1,R=new Float32Array(w*x*v),P=new Float32Array(A*x*v),L=new Float32Array(M*x*v);for(let j=0;j<v;j++){const U=j%3*2/3-1,N=j>2?0:-1,B=[U,N,0,U+2/3,N,0,U+2/3,N+1,0,U,N,0,U+2/3,N+1,0,U,N+1,0];R.set(B,w*x*j),P.set(y,A*x*j);const O=[j,j,j,j,j,j];L.set(O,M*x*j)}const F=new qn;F.setAttribute("position",new Ii(R,w)),F.setAttribute("uv",new Ii(P,A)),F.setAttribute("faceIndex",new Ii(L,M)),e.push(F),r>wg&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function LO(n,e,t){const i=new tc(n,e,t);return i.texture.mapping=Ey,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function GM(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function sfe(n,e,t){const i=new Float32Array(tm),r=new oe(0,1,0);return new qo({name:"SphericalGaussianBlur",defines:{n:tm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:oI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Gu,depthTest:!1,depthWrite:!1})}function UO(){return new qo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Gu,depthTest:!1,depthWrite:!1})}function FO(){return new qo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Gu,depthTest:!1,depthWrite:!1})}function oI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ofe(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const c=l.mapping,f=c===$g||c===_1,p=c===Zu||c===Bd;if(f||p){let g=e.get(l);const y=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==y)return t===null&&(t=new b4(n)),g=f?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const v=l.image;return f&&v&&v.height>0||p&&v&&r(v)?(t===null&&(t=new b4(n)),g=f?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",a),g.texture):null}}}return l}function r(l){let c=0;const f=6;for(let p=0;p<f;p++)l[p]!==void 0&&c++;return c===f}function a(l){const c=l.target;c.removeEventListener("dispose",a);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function lfe(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&ES("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function cfe(n,e,t,i){const r={},a=new WeakMap;function s(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const x in y.attributes)e.remove(y.attributes[x]);y.removeEventListener("dispose",s),delete r[y.id];const v=a.get(y);v&&(e.remove(v),a.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function l(g,y){return r[y.id]===!0||(y.addEventListener("dispose",s),r[y.id]=!0,t.memory.geometries++),y}function c(g){const y=g.attributes;for(const v in y)e.update(y[v],n.ARRAY_BUFFER)}function f(g){const y=[],v=g.index,x=g.attributes.position;let w=0;if(v!==null){const R=v.array;w=v.version;for(let P=0,L=R.length;P<L;P+=3){const F=R[P+0],j=R[P+1],U=R[P+2];y.push(F,j,j,U,U,F)}}else if(x!==void 0){const R=x.array;w=x.version;for(let P=0,L=R.length/3-1;P<L;P+=3){const F=P+0,j=P+1,U=P+2;y.push(F,j,j,U,U,F)}}else return;const A=new(I7(y)?IR:RR)(y,1);A.version=w;const M=a.get(g);M&&e.remove(M),a.set(g,A)}function p(g){const y=a.get(g);if(y){const v=g.index;v!==null&&y.version<v.version&&f(g)}else f(g);return a.get(g)}return{get:l,update:c,getWireframeAttribute:p}}function ufe(n,e,t){let i;function r(y){i=y}let a,s;function l(y){a=y.type,s=y.bytesPerElement}function c(y,v){n.drawElements(i,v,a,y*s),t.update(v,i,1)}function f(y,v,x){x!==0&&(n.drawElementsInstanced(i,v,a,y*s,x),t.update(v,i,x))}function p(y,v,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,a,y,0,x);let A=0;for(let M=0;M<x;M++)A+=v[M];t.update(A,i,1)}function g(y,v,x,w){if(x===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let M=0;M<y.length;M++)f(y[M]/s,v[M],w[M]);else{A.multiDrawElementsInstancedWEBGL(i,v,0,a,y,0,w,0,x);let M=0;for(let R=0;R<x;R++)M+=v[R]*w[R];t.update(M,i,1)}}this.setMode=r,this.setIndex=l,this.render=c,this.renderInstances=f,this.renderMultiDraw=p,this.renderMultiDrawInstances=g}function hfe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,l){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=l*(a/3);break;case n.LINES:t.lines+=l*(a/2);break;case n.LINE_STRIP:t.lines+=l*(a-1);break;case n.LINE_LOOP:t.lines+=l*a;break;case n.POINTS:t.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function ffe(n,e,t){const i=new WeakMap,r=new Ri;function a(s,l,c){const f=s.morphTargetInfluences,p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=p!==void 0?p.length:0;let y=i.get(l);if(y===void 0||y.count!==g){let O=function(){N.dispose(),i.delete(l),l.removeEventListener("dispose",O)};var v=O;y!==void 0&&y.texture.dispose();const x=l.morphAttributes.position!==void 0,w=l.morphAttributes.normal!==void 0,A=l.morphAttributes.color!==void 0,M=l.morphAttributes.position||[],R=l.morphAttributes.normal||[],P=l.morphAttributes.color||[];let L=0;x===!0&&(L=1),w===!0&&(L=2),A===!0&&(L=3);let F=l.attributes.position.count*L,j=1;F>e.maxTextureSize&&(j=Math.ceil(F/e.maxTextureSize),F=e.maxTextureSize);const U=new Float32Array(F*j*4*g),N=new ob(U,F,j,g);N.type=Vr,N.needsUpdate=!0;const B=L*4;for(let H=0;H<g;H++){const Q=M[H],G=R[H],he=P[H],_e=F*j*4*H;for(let X=0;X<Q.count;X++){const Z=X*B;x===!0&&(r.fromBufferAttribute(Q,X),U[_e+Z+0]=r.x,U[_e+Z+1]=r.y,U[_e+Z+2]=r.z,U[_e+Z+3]=0),w===!0&&(r.fromBufferAttribute(G,X),U[_e+Z+4]=r.x,U[_e+Z+5]=r.y,U[_e+Z+6]=r.z,U[_e+Z+7]=0),A===!0&&(r.fromBufferAttribute(he,X),U[_e+Z+8]=r.x,U[_e+Z+9]=r.y,U[_e+Z+10]=r.z,U[_e+Z+11]=he.itemSize===4?r.w:1)}}y={count:g,texture:N,size:new pt(F,j)},i.set(l,y),l.addEventListener("dispose",O)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let x=0;for(let A=0;A<f.length;A++)x+=f[A];const w=l.morphTargetsRelative?1:1-x;c.getUniforms().setValue(n,"morphTargetBaseInfluence",w),c.getUniforms().setValue(n,"morphTargetInfluences",f)}c.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),c.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:a}}function dfe(n,e,t,i){let r=new WeakMap;function a(c){const f=i.render.frame,p=c.geometry,g=e.get(c,p);if(r.get(g)!==f&&(e.update(g),r.set(g,f)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),r.get(c)!==f&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,f))),c.isSkinnedMesh){const y=c.skeleton;r.get(y)!==f&&(y.update(),r.set(y,f))}return g}function s(){r=new WeakMap}function l(c){const f=c.target;f.removeEventListener("dispose",l),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:a,dispose:s}}const RF=new Wi,zO=new UR(1,1),IF=new ob,PF=new UE,DF=new lb,VO=[],jO=[],kO=new Float32Array(16),HO=new Float32Array(9),GO=new Float32Array(4);function wy(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=VO[r];if(a===void 0&&(a=new Float32Array(r),VO[r]=a),e!==0){i.toArray(a,0);for(let s=1,l=0;s!==e;++s)l+=t,n[s].toArray(a,l)}return a}function La(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ua(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function r2(n,e){let t=jO[e];t===void 0&&(t=new Int32Array(e),jO[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function pfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function mfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(La(t,e))return;n.uniform2fv(this.addr,e),Ua(t,e)}}function gfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(La(t,e))return;n.uniform3fv(this.addr,e),Ua(t,e)}}function yfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(La(t,e))return;n.uniform4fv(this.addr,e),Ua(t,e)}}function _fe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(La(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ua(t,e)}else{if(La(t,i))return;GO.set(i),n.uniformMatrix2fv(this.addr,!1,GO),Ua(t,i)}}function vfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(La(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ua(t,e)}else{if(La(t,i))return;HO.set(i),n.uniformMatrix3fv(this.addr,!1,HO),Ua(t,i)}}function bfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(La(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ua(t,e)}else{if(La(t,i))return;kO.set(i),n.uniformMatrix4fv(this.addr,!1,kO),Ua(t,i)}}function xfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Mfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(La(t,e))return;n.uniform2iv(this.addr,e),Ua(t,e)}}function Sfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(La(t,e))return;n.uniform3iv(this.addr,e),Ua(t,e)}}function Afe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(La(t,e))return;n.uniform4iv(this.addr,e),Ua(t,e)}}function Efe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Tfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(La(t,e))return;n.uniform2uiv(this.addr,e),Ua(t,e)}}function Cfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(La(t,e))return;n.uniform3uiv(this.addr,e),Ua(t,e)}}function wfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(La(t,e))return;n.uniform4uiv(this.addr,e),Ua(t,e)}}function Rfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(zO.compareFunction=CR,a=zO):a=RF,t.setTexture2D(e||a,r)}function Ife(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||PF,r)}function Pfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||DF,r)}function Dfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||IF,r)}function Bfe(n){switch(n){case 5126:return pfe;case 35664:return mfe;case 35665:return gfe;case 35666:return yfe;case 35674:return _fe;case 35675:return vfe;case 35676:return bfe;case 5124:case 35670:return xfe;case 35667:case 35671:return Mfe;case 35668:case 35672:return Sfe;case 35669:case 35673:return Afe;case 5125:return Efe;case 36294:return Tfe;case 36295:return Cfe;case 36296:return wfe;case 35678:case 36198:case 36298:case 36306:case 35682:return Rfe;case 35679:case 36299:case 36307:return Ife;case 35680:case 36300:case 36308:case 36293:return Pfe;case 36289:case 36303:case 36311:case 36292:return Dfe}}function Ofe(n,e){n.uniform1fv(this.addr,e)}function Nfe(n,e){const t=wy(e,this.size,2);n.uniform2fv(this.addr,t)}function Lfe(n,e){const t=wy(e,this.size,3);n.uniform3fv(this.addr,t)}function Ufe(n,e){const t=wy(e,this.size,4);n.uniform4fv(this.addr,t)}function Ffe(n,e){const t=wy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function zfe(n,e){const t=wy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Vfe(n,e){const t=wy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function jfe(n,e){n.uniform1iv(this.addr,e)}function kfe(n,e){n.uniform2iv(this.addr,e)}function Hfe(n,e){n.uniform3iv(this.addr,e)}function Gfe(n,e){n.uniform4iv(this.addr,e)}function Xfe(n,e){n.uniform1uiv(this.addr,e)}function qfe(n,e){n.uniform2uiv(this.addr,e)}function Wfe(n,e){n.uniform3uiv(this.addr,e)}function Yfe(n,e){n.uniform4uiv(this.addr,e)}function Kfe(n,e,t){const i=this.cache,r=e.length,a=r2(t,r);La(i,a)||(n.uniform1iv(this.addr,a),Ua(i,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||RF,a[s])}function Jfe(n,e,t){const i=this.cache,r=e.length,a=r2(t,r);La(i,a)||(n.uniform1iv(this.addr,a),Ua(i,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||PF,a[s])}function Qfe(n,e,t){const i=this.cache,r=e.length,a=r2(t,r);La(i,a)||(n.uniform1iv(this.addr,a),Ua(i,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||DF,a[s])}function $fe(n,e,t){const i=this.cache,r=e.length,a=r2(t,r);La(i,a)||(n.uniform1iv(this.addr,a),Ua(i,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||IF,a[s])}function Zfe(n){switch(n){case 5126:return Ofe;case 35664:return Nfe;case 35665:return Lfe;case 35666:return Ufe;case 35674:return Ffe;case 35675:return zfe;case 35676:return Vfe;case 5124:case 35670:return jfe;case 35667:case 35671:return kfe;case 35668:case 35672:return Hfe;case 35669:case 35673:return Gfe;case 5125:return Xfe;case 36294:return qfe;case 36295:return Wfe;case 36296:return Yfe;case 35678:case 36198:case 36298:case 36306:case 35682:return Kfe;case 35679:case 36299:case 36307:return Jfe;case 35680:case 36300:case 36308:case 36293:return Qfe;case 36289:case 36303:case 36311:case 36292:return $fe}}class ede{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Bfe(t.type)}}class tde{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Zfe(t.type)}}class nde{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const l=r[a];l.setValue(e,t[l.id],i)}}}const OC=/(\w+)(\])?(\[|\.)?/g;function XO(n,e){n.seq.push(e),n.map[e.id]=e}function ide(n,e,t){const i=n.name,r=i.length;for(OC.lastIndex=0;;){const a=OC.exec(i),s=OC.lastIndex;let l=a[1];const c=a[2]==="]",f=a[3];if(c&&(l=l|0),f===void 0||f==="["&&s+2===r){XO(t,f===void 0?new ede(l,n,e):new tde(l,n,e));break}else{let g=t.map[l];g===void 0&&(g=new nde(l),XO(t,g)),t=g}}}class CS{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);ide(a,s,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,s=t.length;a!==s;++a){const l=t[a],c=i[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in t&&i.push(s)}return i}}function qO(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const rde=37297;let ade=0;function sde(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){const l=s+1;i.push(`${l===e?">":" "} ${l}: ${t[s]}`)}return i.join(`
`)}const WO=new Xn;function ode(n){Si._getMatrix(WO,Si.workingColorSpace,n);const e=`mat3( ${WO.elements.map(t=>t.toFixed(4))} )`;switch(Si.getTransfer(n)){case b1:return[e,"LinearTransferOETF"];case tr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function YO(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+r+`

`+sde(n.getShaderSource(e),s)}else return r}function lde(n,e){const t=ode(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function cde(n,e){let t;switch(e){case l7:t="Linear";break;case c7:t="Reinhard";break;case u7:t="Cineon";break;case yR:t="ACESFilmic";break;case f7:t="AgX";break;case d7:t="Neutral";break;case h7:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const XM=new oe;function ude(){Si.getLuminanceCoefficients(XM);const n=XM.x.toFixed(4),e=XM.y.toFixed(4),t=XM.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function hde(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(xv).join(`
`)}function fde(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function dde(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),s=a.name;let l=1;a.type===n.FLOAT_MAT2&&(l=2),a.type===n.FLOAT_MAT3&&(l=3),a.type===n.FLOAT_MAT4&&(l=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:l}}return t}function xv(n){return n!==""}function KO(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function JO(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const pde=/^[ \t]*#include +<([\w\d./]+)>/gm;function x4(n){return n.replace(pde,gde)}const mde=new Map;function gde(n,e){let t=Zn[e];if(t===void 0){const i=mde.get(e);if(i!==void 0)t=Zn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return x4(t)}const yde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function QO(n){return n.replace(yde,_de)}function _de(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function $O(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function vde(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===CE?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Uv?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Lc&&(e="SHADOWMAP_TYPE_VSM"),e}function bde(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Zu:case Bd:e="ENVMAP_TYPE_CUBE";break;case Ey:e="ENVMAP_TYPE_CUBE_UV";break}return e}function xde(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Bd:e="ENVMAP_MODE_REFRACTION";break}return e}function Mde(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case ib:e="ENVMAP_BLENDING_MULTIPLY";break;case s7:e="ENVMAP_BLENDING_MIX";break;case o7:e="ENVMAP_BLENDING_ADD";break}return e}function Sde(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function Ade(n,e,t,i){const r=n.getContext(),a=t.defines;let s=t.vertexShader,l=t.fragmentShader;const c=vde(t),f=bde(t),p=xde(t),g=Mde(t),y=Sde(t),v=hde(t),x=fde(a),w=r.createProgram();let A,M,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(xv).join(`
`),A.length>0&&(A+=`
`),M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(xv).join(`
`),M.length>0&&(M+=`
`)):(A=[$O(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(xv).join(`
`),M=[$O(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Xu?"#define TONE_MAPPING":"",t.toneMapping!==Xu?Zn.tonemapping_pars_fragment:"",t.toneMapping!==Xu?cde("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Zn.colorspace_pars_fragment,lde("linearToOutputTexel",t.outputColorSpace),ude(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(xv).join(`
`)),s=x4(s),s=KO(s,t),s=JO(s,t),l=x4(l),l=KO(l,t),l=JO(l,t),s=QO(s),l=QO(l),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,A=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,M=["#define varying in",t.glslVersion===f4?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===f4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const P=R+A+s,L=R+M+l,F=qO(r,r.VERTEX_SHADER,P),j=qO(r,r.FRAGMENT_SHADER,L);r.attachShader(w,F),r.attachShader(w,j),t.index0AttributeName!==void 0?r.bindAttribLocation(w,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function U(H){if(n.debug.checkShaderErrors){const Q=r.getProgramInfoLog(w).trim(),G=r.getShaderInfoLog(F).trim(),he=r.getShaderInfoLog(j).trim();let _e=!0,X=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(_e=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,w,F,j);else{const Z=YO(r,F,"vertex"),re=YO(r,j,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+Q+`
`+Z+`
`+re)}else Q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Q):(G===""||he==="")&&(X=!1);X&&(H.diagnostics={runnable:_e,programLog:Q,vertexShader:{log:G,prefix:A},fragmentShader:{log:he,prefix:M}})}r.deleteShader(F),r.deleteShader(j),N=new CS(r,w),B=dde(r,w)}let N;this.getUniforms=function(){return N===void 0&&U(this),N};let B;this.getAttributes=function(){return B===void 0&&U(this),B};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=r.getProgramParameter(w,rde)),O},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=ade++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=F,this.fragmentShader=j,this}let Ede=0;class Tde{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Cde(e),t.set(e,i)),i}}class Cde{constructor(e){this.id=Ede++,this.code=e,this.usedTimes=0}}function wde(n,e,t,i,r,a,s){const l=new oy,c=new Tde,f=new Set,p=[],g=r.logarithmicDepthBuffer,y=r.vertexTextures;let v=r.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(B){return f.add(B),B===0?"uv":`uv${B}`}function A(B,O,H,Q,G){const he=Q.fog,_e=G.geometry,X=B.isMeshStandardMaterial?Q.environment:null,Z=(B.isMeshStandardMaterial?t:e).get(B.envMap||X),re=Z&&Z.mapping===Ey?Z.image.height:null,be=x[B.type];B.precision!==null&&(v=r.getMaxPrecision(B.precision),v!==B.precision&&console.warn("THREE.WebGLProgram.getParameters:",B.precision,"not supported, using",v,"instead."));const $=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,pe=$!==void 0?$.length:0;let we=0;_e.morphAttributes.position!==void 0&&(we=1),_e.morphAttributes.normal!==void 0&&(we=2),_e.morphAttributes.color!==void 0&&(we=3);let Te,de,Ne,Ve;if(be){const dn=Uc[be];Te=dn.vertexShader,de=dn.fragmentShader}else Te=B.vertexShader,de=B.fragmentShader,c.update(B),Ne=c.getVertexShaderID(B),Ve=c.getFragmentShaderID(B);const ct=n.getRenderTarget(),ut=n.state.buffers.depth.getReversed(),Jt=G.isInstancedMesh===!0,It=G.isBatchedMesh===!0,Ct=!!B.map,Nt=!!B.matcap,Ft=!!Z,fe=!!B.aoMap,Mn=!!B.lightMap,at=!!B.bumpMap,et=!!B.normalMap,rt=!!B.displacementMap,xt=!!B.emissiveMap,We=!!B.metalnessMap,ae=!!B.roughnessMap,V=B.anisotropy>0,ee=B.clearcoat>0,ue=B.dispersion>0,Ce=B.iridescence>0,ge=B.sheen>0,Pe=B.transmission>0,Ue=V&&!!B.anisotropyMap,lt=ee&&!!B.clearcoatMap,Xt=ee&&!!B.clearcoatNormalMap,ht=ee&&!!B.clearcoatRoughnessMap,Ot=Ce&&!!B.iridescenceMap,zt=Ce&&!!B.iridescenceThicknessMap,Pt=ge&&!!B.sheenColorMap,St=ge&&!!B.sheenRoughnessMap,Me=!!B.specularMap,Je=!!B.specularColorMap,bt=!!B.specularIntensityMap,Se=Pe&&!!B.transmissionMap,je=Pe&&!!B.thicknessMap,Ge=!!B.gradientMap,st=!!B.alphaMap,wt=B.alphaTest>0,Tt=!!B.alphaHash,$t=!!B.extensions;let An=Xu;B.toneMapped&&(ct===null||ct.isXRRenderTarget===!0)&&(An=n.toneMapping);const ti={shaderID:be,shaderType:B.type,shaderName:B.name,vertexShader:Te,fragmentShader:de,defines:B.defines,customVertexShaderID:Ne,customFragmentShaderID:Ve,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:v,batching:It,batchingColor:It&&G._colorsTexture!==null,instancing:Jt,instancingColor:Jt&&G.instanceColor!==null,instancingMorph:Jt&&G.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:ct===null?n.outputColorSpace:ct.isXRRenderTarget===!0?ct.texture.colorSpace:Xc,alphaToCoverage:!!B.alphaToCoverage,map:Ct,matcap:Nt,envMap:Ft,envMapMode:Ft&&Z.mapping,envMapCubeUVHeight:re,aoMap:fe,lightMap:Mn,bumpMap:at,normalMap:et,displacementMap:y&&rt,emissiveMap:xt,normalMapObjectSpace:et&&B.normalMapType===x7,normalMapTangentSpace:et&&B.normalMapType===Xd,metalnessMap:We,roughnessMap:ae,anisotropy:V,anisotropyMap:Ue,clearcoat:ee,clearcoatMap:lt,clearcoatNormalMap:Xt,clearcoatRoughnessMap:ht,dispersion:ue,iridescence:Ce,iridescenceMap:Ot,iridescenceThicknessMap:zt,sheen:ge,sheenColorMap:Pt,sheenRoughnessMap:St,specularMap:Me,specularColorMap:Je,specularIntensityMap:bt,transmission:Pe,transmissionMap:Se,thicknessMap:je,gradientMap:Ge,opaque:B.transparent===!1&&B.blending===vm&&B.alphaToCoverage===!1,alphaMap:st,alphaTest:wt,alphaHash:Tt,combine:B.combine,mapUv:Ct&&w(B.map.channel),aoMapUv:fe&&w(B.aoMap.channel),lightMapUv:Mn&&w(B.lightMap.channel),bumpMapUv:at&&w(B.bumpMap.channel),normalMapUv:et&&w(B.normalMap.channel),displacementMapUv:rt&&w(B.displacementMap.channel),emissiveMapUv:xt&&w(B.emissiveMap.channel),metalnessMapUv:We&&w(B.metalnessMap.channel),roughnessMapUv:ae&&w(B.roughnessMap.channel),anisotropyMapUv:Ue&&w(B.anisotropyMap.channel),clearcoatMapUv:lt&&w(B.clearcoatMap.channel),clearcoatNormalMapUv:Xt&&w(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ht&&w(B.clearcoatRoughnessMap.channel),iridescenceMapUv:Ot&&w(B.iridescenceMap.channel),iridescenceThicknessMapUv:zt&&w(B.iridescenceThicknessMap.channel),sheenColorMapUv:Pt&&w(B.sheenColorMap.channel),sheenRoughnessMapUv:St&&w(B.sheenRoughnessMap.channel),specularMapUv:Me&&w(B.specularMap.channel),specularColorMapUv:Je&&w(B.specularColorMap.channel),specularIntensityMapUv:bt&&w(B.specularIntensityMap.channel),transmissionMapUv:Se&&w(B.transmissionMap.channel),thicknessMapUv:je&&w(B.thicknessMap.channel),alphaMapUv:st&&w(B.alphaMap.channel),vertexTangents:!!_e.attributes.tangent&&(et||V),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!_e.attributes.uv&&(Ct||st),fog:!!he,useFog:B.fog===!0,fogExp2:!!he&&he.isFogExp2,flatShading:B.flatShading===!0,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:ut,skinning:G.isSkinnedMesh===!0,morphTargets:_e.morphAttributes.position!==void 0,morphNormals:_e.morphAttributes.normal!==void 0,morphColors:_e.morphAttributes.color!==void 0,morphTargetsCount:pe,morphTextureStride:we,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:B.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:An,decodeVideoTexture:Ct&&B.map.isVideoTexture===!0&&Si.getTransfer(B.map.colorSpace)===tr,decodeVideoTextureEmissive:xt&&B.emissiveMap.isVideoTexture===!0&&Si.getTransfer(B.emissiveMap.colorSpace)===tr,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===ul,flipSided:B.side===po,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionClipCullDistance:$t&&B.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:($t&&B.extensions.multiDraw===!0||It)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()};return ti.vertexUv1s=f.has(1),ti.vertexUv2s=f.has(2),ti.vertexUv3s=f.has(3),f.clear(),ti}function M(B){const O=[];if(B.shaderID?O.push(B.shaderID):(O.push(B.customVertexShaderID),O.push(B.customFragmentShaderID)),B.defines!==void 0)for(const H in B.defines)O.push(H),O.push(B.defines[H]);return B.isRawShaderMaterial===!1&&(R(O,B),P(O,B),O.push(n.outputColorSpace)),O.push(B.customProgramCacheKey),O.join()}function R(B,O){B.push(O.precision),B.push(O.outputColorSpace),B.push(O.envMapMode),B.push(O.envMapCubeUVHeight),B.push(O.mapUv),B.push(O.alphaMapUv),B.push(O.lightMapUv),B.push(O.aoMapUv),B.push(O.bumpMapUv),B.push(O.normalMapUv),B.push(O.displacementMapUv),B.push(O.emissiveMapUv),B.push(O.metalnessMapUv),B.push(O.roughnessMapUv),B.push(O.anisotropyMapUv),B.push(O.clearcoatMapUv),B.push(O.clearcoatNormalMapUv),B.push(O.clearcoatRoughnessMapUv),B.push(O.iridescenceMapUv),B.push(O.iridescenceThicknessMapUv),B.push(O.sheenColorMapUv),B.push(O.sheenRoughnessMapUv),B.push(O.specularMapUv),B.push(O.specularColorMapUv),B.push(O.specularIntensityMapUv),B.push(O.transmissionMapUv),B.push(O.thicknessMapUv),B.push(O.combine),B.push(O.fogExp2),B.push(O.sizeAttenuation),B.push(O.morphTargetsCount),B.push(O.morphAttributeCount),B.push(O.numDirLights),B.push(O.numPointLights),B.push(O.numSpotLights),B.push(O.numSpotLightMaps),B.push(O.numHemiLights),B.push(O.numRectAreaLights),B.push(O.numDirLightShadows),B.push(O.numPointLightShadows),B.push(O.numSpotLightShadows),B.push(O.numSpotLightShadowsWithMaps),B.push(O.numLightProbes),B.push(O.shadowMapType),B.push(O.toneMapping),B.push(O.numClippingPlanes),B.push(O.numClipIntersection),B.push(O.depthPacking)}function P(B,O){l.disableAll(),O.supportsVertexTextures&&l.enable(0),O.instancing&&l.enable(1),O.instancingColor&&l.enable(2),O.instancingMorph&&l.enable(3),O.matcap&&l.enable(4),O.envMap&&l.enable(5),O.normalMapObjectSpace&&l.enable(6),O.normalMapTangentSpace&&l.enable(7),O.clearcoat&&l.enable(8),O.iridescence&&l.enable(9),O.alphaTest&&l.enable(10),O.vertexColors&&l.enable(11),O.vertexAlphas&&l.enable(12),O.vertexUv1s&&l.enable(13),O.vertexUv2s&&l.enable(14),O.vertexUv3s&&l.enable(15),O.vertexTangents&&l.enable(16),O.anisotropy&&l.enable(17),O.alphaHash&&l.enable(18),O.batching&&l.enable(19),O.dispersion&&l.enable(20),O.batchingColor&&l.enable(21),B.push(l.mask),l.disableAll(),O.fog&&l.enable(0),O.useFog&&l.enable(1),O.flatShading&&l.enable(2),O.logarithmicDepthBuffer&&l.enable(3),O.reverseDepthBuffer&&l.enable(4),O.skinning&&l.enable(5),O.morphTargets&&l.enable(6),O.morphNormals&&l.enable(7),O.morphColors&&l.enable(8),O.premultipliedAlpha&&l.enable(9),O.shadowMapEnabled&&l.enable(10),O.doubleSided&&l.enable(11),O.flipSided&&l.enable(12),O.useDepthPacking&&l.enable(13),O.dithering&&l.enable(14),O.transmission&&l.enable(15),O.sheen&&l.enable(16),O.opaque&&l.enable(17),O.pointsUvs&&l.enable(18),O.decodeVideoTexture&&l.enable(19),O.decodeVideoTextureEmissive&&l.enable(20),O.alphaToCoverage&&l.enable(21),B.push(l.mask)}function L(B){const O=x[B.type];let H;if(O){const Q=Uc[O];H=N7.clone(Q.uniforms)}else H=B.uniforms;return H}function F(B,O){let H;for(let Q=0,G=p.length;Q<G;Q++){const he=p[Q];if(he.cacheKey===O){H=he,++H.usedTimes;break}}return H===void 0&&(H=new Ade(n,O,B,a),p.push(H)),H}function j(B){if(--B.usedTimes===0){const O=p.indexOf(B);p[O]=p[p.length-1],p.pop(),B.destroy()}}function U(B){c.remove(B)}function N(){c.dispose()}return{getParameters:A,getProgramCacheKey:M,getUniforms:L,acquireProgram:F,releaseProgram:j,releaseShaderCache:U,programs:p,dispose:N}}function Rde(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let l=n.get(s);return l===void 0&&(l={},n.set(s,l)),l}function i(s){n.delete(s)}function r(s,l,c){n.get(s)[l]=c}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function Ide(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function ZO(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function e6(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function s(g,y,v,x,w,A){let M=n[e];return M===void 0?(M={id:g.id,object:g,geometry:y,material:v,groupOrder:x,renderOrder:g.renderOrder,z:w,group:A},n[e]=M):(M.id=g.id,M.object=g,M.geometry=y,M.material=v,M.groupOrder=x,M.renderOrder=g.renderOrder,M.z=w,M.group=A),e++,M}function l(g,y,v,x,w,A){const M=s(g,y,v,x,w,A);v.transmission>0?i.push(M):v.transparent===!0?r.push(M):t.push(M)}function c(g,y,v,x,w,A){const M=s(g,y,v,x,w,A);v.transmission>0?i.unshift(M):v.transparent===!0?r.unshift(M):t.unshift(M)}function f(g,y){t.length>1&&t.sort(g||Ide),i.length>1&&i.sort(y||ZO),r.length>1&&r.sort(y||ZO)}function p(){for(let g=e,y=n.length;g<y;g++){const v=n[g];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:l,unshift:c,finish:p,sort:f}}function Pde(){let n=new WeakMap;function e(i,r){const a=n.get(i);let s;return a===void 0?(s=new e6,n.set(i,[s])):r>=a.length?(s=new e6,a.push(s)):s=a[r],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function Dde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new oe,color:new Vt};break;case"SpotLight":t={position:new oe,direction:new oe,color:new Vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new oe,color:new Vt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new oe,skyColor:new Vt,groundColor:new Vt};break;case"RectAreaLight":t={color:new Vt,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return n[e.id]=t,t}}}function Bde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Ode=0;function Nde(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Lde(n){const e=new Dde,t=Bde(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new oe);const r=new oe,a=new bn,s=new bn;function l(f){let p=0,g=0,y=0;for(let B=0;B<9;B++)i.probe[B].set(0,0,0);let v=0,x=0,w=0,A=0,M=0,R=0,P=0,L=0,F=0,j=0,U=0;f.sort(Nde);for(let B=0,O=f.length;B<O;B++){const H=f[B],Q=H.color,G=H.intensity,he=H.distance,_e=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)p+=Q.r*G,g+=Q.g*G,y+=Q.b*G;else if(H.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector(H.sh.coefficients[X],G);U++}else if(H.isDirectionalLight){const X=e.get(H);if(X.color.copy(H.color).multiplyScalar(H.intensity),H.castShadow){const Z=H.shadow,re=t.get(H);re.shadowIntensity=Z.intensity,re.shadowBias=Z.bias,re.shadowNormalBias=Z.normalBias,re.shadowRadius=Z.radius,re.shadowMapSize=Z.mapSize,i.directionalShadow[v]=re,i.directionalShadowMap[v]=_e,i.directionalShadowMatrix[v]=H.shadow.matrix,R++}i.directional[v]=X,v++}else if(H.isSpotLight){const X=e.get(H);X.position.setFromMatrixPosition(H.matrixWorld),X.color.copy(Q).multiplyScalar(G),X.distance=he,X.coneCos=Math.cos(H.angle),X.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),X.decay=H.decay,i.spot[w]=X;const Z=H.shadow;if(H.map&&(i.spotLightMap[F]=H.map,F++,Z.updateMatrices(H),H.castShadow&&j++),i.spotLightMatrix[w]=Z.matrix,H.castShadow){const re=t.get(H);re.shadowIntensity=Z.intensity,re.shadowBias=Z.bias,re.shadowNormalBias=Z.normalBias,re.shadowRadius=Z.radius,re.shadowMapSize=Z.mapSize,i.spotShadow[w]=re,i.spotShadowMap[w]=_e,L++}w++}else if(H.isRectAreaLight){const X=e.get(H);X.color.copy(Q).multiplyScalar(G),X.halfWidth.set(H.width*.5,0,0),X.halfHeight.set(0,H.height*.5,0),i.rectArea[A]=X,A++}else if(H.isPointLight){const X=e.get(H);if(X.color.copy(H.color).multiplyScalar(H.intensity),X.distance=H.distance,X.decay=H.decay,H.castShadow){const Z=H.shadow,re=t.get(H);re.shadowIntensity=Z.intensity,re.shadowBias=Z.bias,re.shadowNormalBias=Z.normalBias,re.shadowRadius=Z.radius,re.shadowMapSize=Z.mapSize,re.shadowCameraNear=Z.camera.near,re.shadowCameraFar=Z.camera.far,i.pointShadow[x]=re,i.pointShadowMap[x]=_e,i.pointShadowMatrix[x]=H.shadow.matrix,P++}i.point[x]=X,x++}else if(H.isHemisphereLight){const X=e.get(H);X.skyColor.copy(H.color).multiplyScalar(G),X.groundColor.copy(H.groundColor).multiplyScalar(G),i.hemi[M]=X,M++}}A>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=kt.LTC_FLOAT_1,i.rectAreaLTC2=kt.LTC_FLOAT_2):(i.rectAreaLTC1=kt.LTC_HALF_1,i.rectAreaLTC2=kt.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=y;const N=i.hash;(N.directionalLength!==v||N.pointLength!==x||N.spotLength!==w||N.rectAreaLength!==A||N.hemiLength!==M||N.numDirectionalShadows!==R||N.numPointShadows!==P||N.numSpotShadows!==L||N.numSpotMaps!==F||N.numLightProbes!==U)&&(i.directional.length=v,i.spot.length=w,i.rectArea.length=A,i.point.length=x,i.hemi.length=M,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=L+F-j,i.spotLightMap.length=F,i.numSpotLightShadowsWithMaps=j,i.numLightProbes=U,N.directionalLength=v,N.pointLength=x,N.spotLength=w,N.rectAreaLength=A,N.hemiLength=M,N.numDirectionalShadows=R,N.numPointShadows=P,N.numSpotShadows=L,N.numSpotMaps=F,N.numLightProbes=U,i.version=Ode++)}function c(f,p){let g=0,y=0,v=0,x=0,w=0;const A=p.matrixWorldInverse;for(let M=0,R=f.length;M<R;M++){const P=f[M];if(P.isDirectionalLight){const L=i.directional[g];L.direction.setFromMatrixPosition(P.matrixWorld),r.setFromMatrixPosition(P.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(A),g++}else if(P.isSpotLight){const L=i.spot[v];L.position.setFromMatrixPosition(P.matrixWorld),L.position.applyMatrix4(A),L.direction.setFromMatrixPosition(P.matrixWorld),r.setFromMatrixPosition(P.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(A),v++}else if(P.isRectAreaLight){const L=i.rectArea[x];L.position.setFromMatrixPosition(P.matrixWorld),L.position.applyMatrix4(A),s.identity(),a.copy(P.matrixWorld),a.premultiply(A),s.extractRotation(a),L.halfWidth.set(P.width*.5,0,0),L.halfHeight.set(0,P.height*.5,0),L.halfWidth.applyMatrix4(s),L.halfHeight.applyMatrix4(s),x++}else if(P.isPointLight){const L=i.point[y];L.position.setFromMatrixPosition(P.matrixWorld),L.position.applyMatrix4(A),y++}else if(P.isHemisphereLight){const L=i.hemi[w];L.direction.setFromMatrixPosition(P.matrixWorld),L.direction.transformDirection(A),w++}}}return{setup:l,setupView:c,state:i}}function t6(n){const e=new Lde(n),t=[],i=[];function r(p){f.camera=p,t.length=0,i.length=0}function a(p){t.push(p)}function s(p){i.push(p)}function l(){e.setup(t)}function c(p){e.setupView(t,p)}const f={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function Ude(n){let e=new WeakMap;function t(r,a=0){const s=e.get(r);let l;return s===void 0?(l=new t6(n),e.set(r,[l])):a>=s.length?(l=new t6(n),s.push(l)):l=s[a],l}function i(){e=new WeakMap}return{get:t,dispose:i}}const Fde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,zde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Vde(n,e,t){let i=new fb;const r=new pt,a=new pt,s=new Ri,l=new GR({depthPacking:b7}),c=new XR,f={},p=t.maxTextureSize,g={[$u]:po,[po]:$u,[ul]:ul},y=new qo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pt},radius:{value:4}},vertexShader:Fde,fragmentShader:zde}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const x=new qn;x.setAttribute("position",new Ii(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new Ir(x,y),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=CE;let M=this.type;this.render=function(j,U,N){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||j.length===0)return;const B=n.getRenderTarget(),O=n.getActiveCubeFace(),H=n.getActiveMipmapLevel(),Q=n.state;Q.setBlending(Gu),Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const G=M!==Lc&&this.type===Lc,he=M===Lc&&this.type!==Lc;for(let _e=0,X=j.length;_e<X;_e++){const Z=j[_e],re=Z.shadow;if(re===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(re.autoUpdate===!1&&re.needsUpdate===!1)continue;r.copy(re.mapSize);const be=re.getFrameExtents();if(r.multiply(be),a.copy(re.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(a.x=Math.floor(p/be.x),r.x=a.x*be.x,re.mapSize.x=a.x),r.y>p&&(a.y=Math.floor(p/be.y),r.y=a.y*be.y,re.mapSize.y=a.y)),re.map===null||G===!0||he===!0){const pe=this.type!==Lc?{minFilter:Ka,magFilter:Ka}:{};re.map!==null&&re.map.dispose(),re.map=new tc(r.x,r.y,pe),re.map.texture.name=Z.name+".shadowMap",re.camera.updateProjectionMatrix()}n.setRenderTarget(re.map),n.clear();const $=re.getViewportCount();for(let pe=0;pe<$;pe++){const we=re.getViewport(pe);s.set(a.x*we.x,a.y*we.y,a.x*we.z,a.y*we.w),Q.viewport(s),re.updateMatrices(Z,pe),i=re.getFrustum(),L(U,N,re.camera,Z,this.type)}re.isPointLightShadow!==!0&&this.type===Lc&&R(re,N),re.needsUpdate=!1}M=this.type,A.needsUpdate=!1,n.setRenderTarget(B,O,H)};function R(j,U){const N=e.update(w);y.defines.VSM_SAMPLES!==j.blurSamples&&(y.defines.VSM_SAMPLES=j.blurSamples,v.defines.VSM_SAMPLES=j.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),j.mapPass===null&&(j.mapPass=new tc(r.x,r.y)),y.uniforms.shadow_pass.value=j.map.texture,y.uniforms.resolution.value=j.mapSize,y.uniforms.radius.value=j.radius,n.setRenderTarget(j.mapPass),n.clear(),n.renderBufferDirect(U,null,N,y,w,null),v.uniforms.shadow_pass.value=j.mapPass.texture,v.uniforms.resolution.value=j.mapSize,v.uniforms.radius.value=j.radius,n.setRenderTarget(j.map),n.clear(),n.renderBufferDirect(U,null,N,v,w,null)}function P(j,U,N,B){let O=null;const H=N.isPointLight===!0?j.customDistanceMaterial:j.customDepthMaterial;if(H!==void 0)O=H;else if(O=N.isPointLight===!0?c:l,n.localClippingEnabled&&U.clipShadows===!0&&Array.isArray(U.clippingPlanes)&&U.clippingPlanes.length!==0||U.displacementMap&&U.displacementScale!==0||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0){const Q=O.uuid,G=U.uuid;let he=f[Q];he===void 0&&(he={},f[Q]=he);let _e=he[G];_e===void 0&&(_e=O.clone(),he[G]=_e,U.addEventListener("dispose",F)),O=_e}if(O.visible=U.visible,O.wireframe=U.wireframe,B===Lc?O.side=U.shadowSide!==null?U.shadowSide:U.side:O.side=U.shadowSide!==null?U.shadowSide:g[U.side],O.alphaMap=U.alphaMap,O.alphaTest=U.alphaTest,O.map=U.map,O.clipShadows=U.clipShadows,O.clippingPlanes=U.clippingPlanes,O.clipIntersection=U.clipIntersection,O.displacementMap=U.displacementMap,O.displacementScale=U.displacementScale,O.displacementBias=U.displacementBias,O.wireframeLinewidth=U.wireframeLinewidth,O.linewidth=U.linewidth,N.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const Q=n.properties.get(O);Q.light=N}return O}function L(j,U,N,B,O){if(j.visible===!1)return;if(j.layers.test(U.layers)&&(j.isMesh||j.isLine||j.isPoints)&&(j.castShadow||j.receiveShadow&&O===Lc)&&(!j.frustumCulled||i.intersectsObject(j))){j.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,j.matrixWorld);const G=e.update(j),he=j.material;if(Array.isArray(he)){const _e=G.groups;for(let X=0,Z=_e.length;X<Z;X++){const re=_e[X],be=he[re.materialIndex];if(be&&be.visible){const $=P(j,be,B,O);j.onBeforeShadow(n,j,U,N,G,$,re),n.renderBufferDirect(N,null,G,$,j,re),j.onAfterShadow(n,j,U,N,G,$,re)}}}else if(he.visible){const _e=P(j,he,B,O);j.onBeforeShadow(n,j,U,N,G,_e,null),n.renderBufferDirect(N,null,G,_e,j,null),j.onAfterShadow(n,j,U,N,G,_e,null)}}const Q=j.children;for(let G=0,he=Q.length;G<he;G++)L(Q[G],U,N,B,O)}function F(j){j.target.removeEventListener("dispose",F);for(const N in f){const B=f[N],O=j.target.uuid;O in B&&(B[O].dispose(),delete B[O])}}}const jde={[eA]:tA,[nA]:aA,[iA]:sA,[Tm]:rA,[tA]:eA,[aA]:nA,[sA]:iA,[rA]:Tm};function kde(n,e){function t(){let Se=!1;const je=new Ri;let Ge=null;const st=new Ri(0,0,0,0);return{setMask:function(wt){Ge!==wt&&!Se&&(n.colorMask(wt,wt,wt,wt),Ge=wt)},setLocked:function(wt){Se=wt},setClear:function(wt,Tt,$t,An,ti){ti===!0&&(wt*=An,Tt*=An,$t*=An),je.set(wt,Tt,$t,An),st.equals(je)===!1&&(n.clearColor(wt,Tt,$t,An),st.copy(je))},reset:function(){Se=!1,Ge=null,st.set(-1,0,0,0)}}}function i(){let Se=!1,je=!1,Ge=null,st=null,wt=null;return{setReversed:function(Tt){if(je!==Tt){const $t=e.get("EXT_clip_control");Tt?$t.clipControlEXT($t.LOWER_LEFT_EXT,$t.ZERO_TO_ONE_EXT):$t.clipControlEXT($t.LOWER_LEFT_EXT,$t.NEGATIVE_ONE_TO_ONE_EXT),je=Tt;const An=wt;wt=null,this.setClear(An)}},getReversed:function(){return je},setTest:function(Tt){Tt?ct(n.DEPTH_TEST):ut(n.DEPTH_TEST)},setMask:function(Tt){Ge!==Tt&&!Se&&(n.depthMask(Tt),Ge=Tt)},setFunc:function(Tt){if(je&&(Tt=jde[Tt]),st!==Tt){switch(Tt){case eA:n.depthFunc(n.NEVER);break;case tA:n.depthFunc(n.ALWAYS);break;case nA:n.depthFunc(n.LESS);break;case Tm:n.depthFunc(n.LEQUAL);break;case iA:n.depthFunc(n.EQUAL);break;case rA:n.depthFunc(n.GEQUAL);break;case aA:n.depthFunc(n.GREATER);break;case sA:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}st=Tt}},setLocked:function(Tt){Se=Tt},setClear:function(Tt){wt!==Tt&&(je&&(Tt=1-Tt),n.clearDepth(Tt),wt=Tt)},reset:function(){Se=!1,Ge=null,st=null,wt=null,je=!1}}}function r(){let Se=!1,je=null,Ge=null,st=null,wt=null,Tt=null,$t=null,An=null,ti=null;return{setTest:function(dn){Se||(dn?ct(n.STENCIL_TEST):ut(n.STENCIL_TEST))},setMask:function(dn){je!==dn&&!Se&&(n.stencilMask(dn),je=dn)},setFunc:function(dn,ci,Dn){(Ge!==dn||st!==ci||wt!==Dn)&&(n.stencilFunc(dn,ci,Dn),Ge=dn,st=ci,wt=Dn)},setOp:function(dn,ci,Dn){(Tt!==dn||$t!==ci||An!==Dn)&&(n.stencilOp(dn,ci,Dn),Tt=dn,$t=ci,An=Dn)},setLocked:function(dn){Se=dn},setClear:function(dn){ti!==dn&&(n.clearStencil(dn),ti=dn)},reset:function(){Se=!1,je=null,Ge=null,st=null,wt=null,Tt=null,$t=null,An=null,ti=null}}}const a=new t,s=new i,l=new r,c=new WeakMap,f=new WeakMap;let p={},g={},y=new WeakMap,v=[],x=null,w=!1,A=null,M=null,R=null,P=null,L=null,F=null,j=null,U=new Vt(0,0,0),N=0,B=!1,O=null,H=null,Q=null,G=null,he=null;const _e=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,Z=0;const re=n.getParameter(n.VERSION);re.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(re)[1]),X=Z>=1):re.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(re)[1]),X=Z>=2);let be=null,$={};const pe=n.getParameter(n.SCISSOR_BOX),we=n.getParameter(n.VIEWPORT),Te=new Ri().fromArray(pe),de=new Ri().fromArray(we);function Ne(Se,je,Ge,st){const wt=new Uint8Array(4),Tt=n.createTexture();n.bindTexture(Se,Tt),n.texParameteri(Se,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Se,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let $t=0;$t<Ge;$t++)Se===n.TEXTURE_3D||Se===n.TEXTURE_2D_ARRAY?n.texImage3D(je,0,n.RGBA,1,1,st,0,n.RGBA,n.UNSIGNED_BYTE,wt):n.texImage2D(je+$t,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,wt);return Tt}const Ve={};Ve[n.TEXTURE_2D]=Ne(n.TEXTURE_2D,n.TEXTURE_2D,1),Ve[n.TEXTURE_CUBE_MAP]=Ne(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ve[n.TEXTURE_2D_ARRAY]=Ne(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ve[n.TEXTURE_3D]=Ne(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),ct(n.DEPTH_TEST),s.setFunc(Tm),at(!1),et(a4),ct(n.CULL_FACE),fe(Gu);function ct(Se){p[Se]!==!0&&(n.enable(Se),p[Se]=!0)}function ut(Se){p[Se]!==!1&&(n.disable(Se),p[Se]=!1)}function Jt(Se,je){return g[Se]!==je?(n.bindFramebuffer(Se,je),g[Se]=je,Se===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=je),Se===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=je),!0):!1}function It(Se,je){let Ge=v,st=!1;if(Se){Ge=y.get(je),Ge===void 0&&(Ge=[],y.set(je,Ge));const wt=Se.textures;if(Ge.length!==wt.length||Ge[0]!==n.COLOR_ATTACHMENT0){for(let Tt=0,$t=wt.length;Tt<$t;Tt++)Ge[Tt]=n.COLOR_ATTACHMENT0+Tt;Ge.length=wt.length,st=!0}}else Ge[0]!==n.BACK&&(Ge[0]=n.BACK,st=!0);st&&n.drawBuffers(Ge)}function Ct(Se){return x!==Se?(n.useProgram(Se),x=Se,!0):!1}const Nt={[_d]:n.FUNC_ADD,[HU]:n.FUNC_SUBTRACT,[GU]:n.FUNC_REVERSE_SUBTRACT};Nt[XU]=n.MIN,Nt[qU]=n.MAX;const Ft={[WU]:n.ZERO,[YU]:n.ONE,[KU]:n.SRC_COLOR,[$S]:n.SRC_ALPHA,[t7]:n.SRC_ALPHA_SATURATE,[ZU]:n.DST_COLOR,[QU]:n.DST_ALPHA,[JU]:n.ONE_MINUS_SRC_COLOR,[ZS]:n.ONE_MINUS_SRC_ALPHA,[e7]:n.ONE_MINUS_DST_COLOR,[$U]:n.ONE_MINUS_DST_ALPHA,[n7]:n.CONSTANT_COLOR,[i7]:n.ONE_MINUS_CONSTANT_COLOR,[r7]:n.CONSTANT_ALPHA,[a7]:n.ONE_MINUS_CONSTANT_ALPHA};function fe(Se,je,Ge,st,wt,Tt,$t,An,ti,dn){if(Se===Gu){w===!0&&(ut(n.BLEND),w=!1);return}if(w===!1&&(ct(n.BLEND),w=!0),Se!==kU){if(Se!==A||dn!==B){if((M!==_d||L!==_d)&&(n.blendEquation(n.FUNC_ADD),M=_d,L=_d),dn)switch(Se){case vm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case s4:n.blendFunc(n.ONE,n.ONE);break;case o4:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case l4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Se);break}else switch(Se){case vm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case s4:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case o4:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case l4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Se);break}R=null,P=null,F=null,j=null,U.set(0,0,0),N=0,A=Se,B=dn}return}wt=wt||je,Tt=Tt||Ge,$t=$t||st,(je!==M||wt!==L)&&(n.blendEquationSeparate(Nt[je],Nt[wt]),M=je,L=wt),(Ge!==R||st!==P||Tt!==F||$t!==j)&&(n.blendFuncSeparate(Ft[Ge],Ft[st],Ft[Tt],Ft[$t]),R=Ge,P=st,F=Tt,j=$t),(An.equals(U)===!1||ti!==N)&&(n.blendColor(An.r,An.g,An.b,ti),U.copy(An),N=ti),A=Se,B=!1}function Mn(Se,je){Se.side===ul?ut(n.CULL_FACE):ct(n.CULL_FACE);let Ge=Se.side===po;je&&(Ge=!Ge),at(Ge),Se.blending===vm&&Se.transparent===!1?fe(Gu):fe(Se.blending,Se.blendEquation,Se.blendSrc,Se.blendDst,Se.blendEquationAlpha,Se.blendSrcAlpha,Se.blendDstAlpha,Se.blendColor,Se.blendAlpha,Se.premultipliedAlpha),s.setFunc(Se.depthFunc),s.setTest(Se.depthTest),s.setMask(Se.depthWrite),a.setMask(Se.colorWrite);const st=Se.stencilWrite;l.setTest(st),st&&(l.setMask(Se.stencilWriteMask),l.setFunc(Se.stencilFunc,Se.stencilRef,Se.stencilFuncMask),l.setOp(Se.stencilFail,Se.stencilZFail,Se.stencilZPass)),xt(Se.polygonOffset,Se.polygonOffsetFactor,Se.polygonOffsetUnits),Se.alphaToCoverage===!0?ct(n.SAMPLE_ALPHA_TO_COVERAGE):ut(n.SAMPLE_ALPHA_TO_COVERAGE)}function at(Se){O!==Se&&(Se?n.frontFace(n.CW):n.frontFace(n.CCW),O=Se)}function et(Se){Se!==zU?(ct(n.CULL_FACE),Se!==H&&(Se===a4?n.cullFace(n.BACK):Se===VU?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ut(n.CULL_FACE),H=Se}function rt(Se){Se!==Q&&(X&&n.lineWidth(Se),Q=Se)}function xt(Se,je,Ge){Se?(ct(n.POLYGON_OFFSET_FILL),(G!==je||he!==Ge)&&(n.polygonOffset(je,Ge),G=je,he=Ge)):ut(n.POLYGON_OFFSET_FILL)}function We(Se){Se?ct(n.SCISSOR_TEST):ut(n.SCISSOR_TEST)}function ae(Se){Se===void 0&&(Se=n.TEXTURE0+_e-1),be!==Se&&(n.activeTexture(Se),be=Se)}function V(Se,je,Ge){Ge===void 0&&(be===null?Ge=n.TEXTURE0+_e-1:Ge=be);let st=$[Ge];st===void 0&&(st={type:void 0,texture:void 0},$[Ge]=st),(st.type!==Se||st.texture!==je)&&(be!==Ge&&(n.activeTexture(Ge),be=Ge),n.bindTexture(Se,je||Ve[Se]),st.type=Se,st.texture=je)}function ee(){const Se=$[be];Se!==void 0&&Se.type!==void 0&&(n.bindTexture(Se.type,null),Se.type=void 0,Se.texture=void 0)}function ue(){try{n.compressedTexImage2D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function Ce(){try{n.compressedTexImage3D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function ge(){try{n.texSubImage2D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function Pe(){try{n.texSubImage3D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function Ue(){try{n.compressedTexSubImage2D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function lt(){try{n.compressedTexSubImage3D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function Xt(){try{n.texStorage2D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function ht(){try{n.texStorage3D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function Ot(){try{n.texImage2D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function zt(){try{n.texImage3D(...arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function Pt(Se){Te.equals(Se)===!1&&(n.scissor(Se.x,Se.y,Se.z,Se.w),Te.copy(Se))}function St(Se){de.equals(Se)===!1&&(n.viewport(Se.x,Se.y,Se.z,Se.w),de.copy(Se))}function Me(Se,je){let Ge=f.get(je);Ge===void 0&&(Ge=new WeakMap,f.set(je,Ge));let st=Ge.get(Se);st===void 0&&(st=n.getUniformBlockIndex(je,Se.name),Ge.set(Se,st))}function Je(Se,je){const st=f.get(je).get(Se);c.get(je)!==st&&(n.uniformBlockBinding(je,st,Se.__bindingPointIndex),c.set(je,st))}function bt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},be=null,$={},g={},y=new WeakMap,v=[],x=null,w=!1,A=null,M=null,R=null,P=null,L=null,F=null,j=null,U=new Vt(0,0,0),N=0,B=!1,O=null,H=null,Q=null,G=null,he=null,Te.set(0,0,n.canvas.width,n.canvas.height),de.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),l.reset()}return{buffers:{color:a,depth:s,stencil:l},enable:ct,disable:ut,bindFramebuffer:Jt,drawBuffers:It,useProgram:Ct,setBlending:fe,setMaterial:Mn,setFlipSided:at,setCullFace:et,setLineWidth:rt,setPolygonOffset:xt,setScissorTest:We,activeTexture:ae,bindTexture:V,unbindTexture:ee,compressedTexImage2D:ue,compressedTexImage3D:Ce,texImage2D:Ot,texImage3D:zt,updateUBOMapping:Me,uniformBlockBinding:Je,texStorage2D:Xt,texStorage3D:ht,texSubImage2D:ge,texSubImage3D:Pe,compressedTexSubImage2D:Ue,compressedTexSubImage3D:lt,scissor:Pt,viewport:St,reset:bt}}function Hde(n,e,t,i,r,a,s){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new pt,p=new WeakMap;let g;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(ae,V){return v?new OffscreenCanvas(ae,V):S1("canvas")}function w(ae,V,ee){let ue=1;const Ce=We(ae);if((Ce.width>ee||Ce.height>ee)&&(ue=ee/Math.max(Ce.width,Ce.height)),ue<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){const ge=Math.floor(ue*Ce.width),Pe=Math.floor(ue*Ce.height);g===void 0&&(g=x(ge,Pe));const Ue=V?x(ge,Pe):g;return Ue.width=ge,Ue.height=Pe,Ue.getContext("2d").drawImage(ae,0,0,ge,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ce.width+"x"+Ce.height+") to ("+ge+"x"+Pe+")."),Ue}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ce.width+"x"+Ce.height+")."),ae;return ae}function A(ae){return ae.generateMipmaps}function M(ae){n.generateMipmap(ae)}function R(ae){return ae.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ae.isWebGL3DRenderTarget?n.TEXTURE_3D:ae.isWebGLArrayRenderTarget||ae.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function P(ae,V,ee,ue,Ce=!1){if(ae!==null){if(n[ae]!==void 0)return n[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let ge=V;if(V===n.RED&&(ee===n.FLOAT&&(ge=n.R32F),ee===n.HALF_FLOAT&&(ge=n.R16F),ee===n.UNSIGNED_BYTE&&(ge=n.R8)),V===n.RED_INTEGER&&(ee===n.UNSIGNED_BYTE&&(ge=n.R8UI),ee===n.UNSIGNED_SHORT&&(ge=n.R16UI),ee===n.UNSIGNED_INT&&(ge=n.R32UI),ee===n.BYTE&&(ge=n.R8I),ee===n.SHORT&&(ge=n.R16I),ee===n.INT&&(ge=n.R32I)),V===n.RG&&(ee===n.FLOAT&&(ge=n.RG32F),ee===n.HALF_FLOAT&&(ge=n.RG16F),ee===n.UNSIGNED_BYTE&&(ge=n.RG8)),V===n.RG_INTEGER&&(ee===n.UNSIGNED_BYTE&&(ge=n.RG8UI),ee===n.UNSIGNED_SHORT&&(ge=n.RG16UI),ee===n.UNSIGNED_INT&&(ge=n.RG32UI),ee===n.BYTE&&(ge=n.RG8I),ee===n.SHORT&&(ge=n.RG16I),ee===n.INT&&(ge=n.RG32I)),V===n.RGB_INTEGER&&(ee===n.UNSIGNED_BYTE&&(ge=n.RGB8UI),ee===n.UNSIGNED_SHORT&&(ge=n.RGB16UI),ee===n.UNSIGNED_INT&&(ge=n.RGB32UI),ee===n.BYTE&&(ge=n.RGB8I),ee===n.SHORT&&(ge=n.RGB16I),ee===n.INT&&(ge=n.RGB32I)),V===n.RGBA_INTEGER&&(ee===n.UNSIGNED_BYTE&&(ge=n.RGBA8UI),ee===n.UNSIGNED_SHORT&&(ge=n.RGBA16UI),ee===n.UNSIGNED_INT&&(ge=n.RGBA32UI),ee===n.BYTE&&(ge=n.RGBA8I),ee===n.SHORT&&(ge=n.RGBA16I),ee===n.INT&&(ge=n.RGBA32I)),V===n.RGB&&ee===n.UNSIGNED_INT_5_9_9_9_REV&&(ge=n.RGB9_E5),V===n.RGBA){const Pe=Ce?b1:Si.getTransfer(ue);ee===n.FLOAT&&(ge=n.RGBA32F),ee===n.HALF_FLOAT&&(ge=n.RGBA16F),ee===n.UNSIGNED_BYTE&&(ge=Pe===tr?n.SRGB8_ALPHA8:n.RGBA8),ee===n.UNSIGNED_SHORT_4_4_4_4&&(ge=n.RGBA4),ee===n.UNSIGNED_SHORT_5_5_5_1&&(ge=n.RGB5_A1)}return(ge===n.R16F||ge===n.R32F||ge===n.RG16F||ge===n.RG32F||ge===n.RGBA16F||ge===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ge}function L(ae,V){let ee;return ae?V===null||V===eh||V===ty?ee=n.DEPTH24_STENCIL8:V===Vr?ee=n.DEPTH32F_STENCIL8:V===ey&&(ee=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===eh||V===ty?ee=n.DEPTH_COMPONENT24:V===Vr?ee=n.DEPTH_COMPONENT32F:V===ey&&(ee=n.DEPTH_COMPONENT16),ee}function F(ae,V){return A(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==Ka&&ae.minFilter!==Hi?Math.log2(Math.max(V.width,V.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?V.mipmaps.length:1}function j(ae){const V=ae.target;V.removeEventListener("dispose",j),N(V),V.isVideoTexture&&p.delete(V)}function U(ae){const V=ae.target;V.removeEventListener("dispose",U),O(V)}function N(ae){const V=i.get(ae);if(V.__webglInit===void 0)return;const ee=ae.source,ue=y.get(ee);if(ue){const Ce=ue[V.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&B(ae),Object.keys(ue).length===0&&y.delete(ee)}i.remove(ae)}function B(ae){const V=i.get(ae);n.deleteTexture(V.__webglTexture);const ee=ae.source,ue=y.get(ee);delete ue[V.__cacheKey],s.memory.textures--}function O(ae){const V=i.get(ae);if(ae.depthTexture&&(ae.depthTexture.dispose(),i.remove(ae.depthTexture)),ae.isWebGLCubeRenderTarget)for(let ue=0;ue<6;ue++){if(Array.isArray(V.__webglFramebuffer[ue]))for(let Ce=0;Ce<V.__webglFramebuffer[ue].length;Ce++)n.deleteFramebuffer(V.__webglFramebuffer[ue][Ce]);else n.deleteFramebuffer(V.__webglFramebuffer[ue]);V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer[ue])}else{if(Array.isArray(V.__webglFramebuffer))for(let ue=0;ue<V.__webglFramebuffer.length;ue++)n.deleteFramebuffer(V.__webglFramebuffer[ue]);else n.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&n.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let ue=0;ue<V.__webglColorRenderbuffer.length;ue++)V.__webglColorRenderbuffer[ue]&&n.deleteRenderbuffer(V.__webglColorRenderbuffer[ue]);V.__webglDepthRenderbuffer&&n.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const ee=ae.textures;for(let ue=0,Ce=ee.length;ue<Ce;ue++){const ge=i.get(ee[ue]);ge.__webglTexture&&(n.deleteTexture(ge.__webglTexture),s.memory.textures--),i.remove(ee[ue])}i.remove(ae)}let H=0;function Q(){H=0}function G(){const ae=H;return ae>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+r.maxTextures),H+=1,ae}function he(ae){const V=[];return V.push(ae.wrapS),V.push(ae.wrapT),V.push(ae.wrapR||0),V.push(ae.magFilter),V.push(ae.minFilter),V.push(ae.anisotropy),V.push(ae.internalFormat),V.push(ae.format),V.push(ae.type),V.push(ae.generateMipmaps),V.push(ae.premultiplyAlpha),V.push(ae.flipY),V.push(ae.unpackAlignment),V.push(ae.colorSpace),V.join()}function _e(ae,V){const ee=i.get(ae);if(ae.isVideoTexture&&rt(ae),ae.isRenderTargetTexture===!1&&ae.version>0&&ee.__version!==ae.version){const ue=ae.image;if(ue===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ue.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{de(ee,ae,V);return}}t.bindTexture(n.TEXTURE_2D,ee.__webglTexture,n.TEXTURE0+V)}function X(ae,V){const ee=i.get(ae);if(ae.version>0&&ee.__version!==ae.version){de(ee,ae,V);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ee.__webglTexture,n.TEXTURE0+V)}function Z(ae,V){const ee=i.get(ae);if(ae.version>0&&ee.__version!==ae.version){de(ee,ae,V);return}t.bindTexture(n.TEXTURE_3D,ee.__webglTexture,n.TEXTURE0+V)}function re(ae,V){const ee=i.get(ae);if(ae.version>0&&ee.__version!==ae.version){Ne(ee,ae,V);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ee.__webglTexture,n.TEXTURE0+V)}const be={[Od]:n.REPEAT,[la]:n.CLAMP_TO_EDGE,[Zg]:n.MIRRORED_REPEAT},$={[Ka]:n.NEAREST,[wE]:n.NEAREST_MIPMAP_NEAREST,[am]:n.NEAREST_MIPMAP_LINEAR,[Hi]:n.LINEAR,[Ng]:n.LINEAR_MIPMAP_NEAREST,[Kl]:n.LINEAR_MIPMAP_LINEAR},pe={[M7]:n.NEVER,[w7]:n.ALWAYS,[S7]:n.LESS,[CR]:n.LEQUAL,[A7]:n.EQUAL,[C7]:n.GEQUAL,[E7]:n.GREATER,[T7]:n.NOTEQUAL};function we(ae,V){if(V.type===Vr&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===Hi||V.magFilter===Ng||V.magFilter===am||V.magFilter===Kl||V.minFilter===Hi||V.minFilter===Ng||V.minFilter===am||V.minFilter===Kl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ae,n.TEXTURE_WRAP_S,be[V.wrapS]),n.texParameteri(ae,n.TEXTURE_WRAP_T,be[V.wrapT]),(ae===n.TEXTURE_3D||ae===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ae,n.TEXTURE_WRAP_R,be[V.wrapR]),n.texParameteri(ae,n.TEXTURE_MAG_FILTER,$[V.magFilter]),n.texParameteri(ae,n.TEXTURE_MIN_FILTER,$[V.minFilter]),V.compareFunction&&(n.texParameteri(ae,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ae,n.TEXTURE_COMPARE_FUNC,pe[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===Ka||V.minFilter!==am&&V.minFilter!==Kl||V.type===Vr&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||i.get(V).__currentAnisotropy){const ee=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ae,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,r.getMaxAnisotropy())),i.get(V).__currentAnisotropy=V.anisotropy}}}function Te(ae,V){let ee=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,V.addEventListener("dispose",j));const ue=V.source;let Ce=y.get(ue);Ce===void 0&&(Ce={},y.set(ue,Ce));const ge=he(V);if(ge!==ae.__cacheKey){Ce[ge]===void 0&&(Ce[ge]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,ee=!0),Ce[ge].usedTimes++;const Pe=Ce[ae.__cacheKey];Pe!==void 0&&(Ce[ae.__cacheKey].usedTimes--,Pe.usedTimes===0&&B(V)),ae.__cacheKey=ge,ae.__webglTexture=Ce[ge].texture}return ee}function de(ae,V,ee){let ue=n.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(ue=n.TEXTURE_2D_ARRAY),V.isData3DTexture&&(ue=n.TEXTURE_3D);const Ce=Te(ae,V),ge=V.source;t.bindTexture(ue,ae.__webglTexture,n.TEXTURE0+ee);const Pe=i.get(ge);if(ge.version!==Pe.__version||Ce===!0){t.activeTexture(n.TEXTURE0+ee);const Ue=Si.getPrimaries(Si.workingColorSpace),lt=V.colorSpace===Kh?null:Si.getPrimaries(V.colorSpace),Xt=V.colorSpace===Kh||Ue===lt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xt);let ht=w(V.image,!1,r.maxTextureSize);ht=xt(V,ht);const Ot=a.convert(V.format,V.colorSpace),zt=a.convert(V.type);let Pt=P(V.internalFormat,Ot,zt,V.colorSpace,V.isVideoTexture);we(ue,V);let St;const Me=V.mipmaps,Je=V.isVideoTexture!==!0,bt=Pe.__version===void 0||Ce===!0,Se=ge.dataReady,je=F(V,ht);if(V.isDepthTexture)Pt=L(V.format===iy,V.type),bt&&(Je?t.texStorage2D(n.TEXTURE_2D,1,Pt,ht.width,ht.height):t.texImage2D(n.TEXTURE_2D,0,Pt,ht.width,ht.height,0,Ot,zt,null));else if(V.isDataTexture)if(Me.length>0){Je&&bt&&t.texStorage2D(n.TEXTURE_2D,je,Pt,Me[0].width,Me[0].height);for(let Ge=0,st=Me.length;Ge<st;Ge++)St=Me[Ge],Je?Se&&t.texSubImage2D(n.TEXTURE_2D,Ge,0,0,St.width,St.height,Ot,zt,St.data):t.texImage2D(n.TEXTURE_2D,Ge,Pt,St.width,St.height,0,Ot,zt,St.data);V.generateMipmaps=!1}else Je?(bt&&t.texStorage2D(n.TEXTURE_2D,je,Pt,ht.width,ht.height),Se&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ht.width,ht.height,Ot,zt,ht.data)):t.texImage2D(n.TEXTURE_2D,0,Pt,ht.width,ht.height,0,Ot,zt,ht.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){Je&&bt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,je,Pt,Me[0].width,Me[0].height,ht.depth);for(let Ge=0,st=Me.length;Ge<st;Ge++)if(St=Me[Ge],V.format!==ca)if(Ot!==null)if(Je){if(Se)if(V.layerUpdates.size>0){const wt=v4(St.width,St.height,V.format,V.type);for(const Tt of V.layerUpdates){const $t=St.data.subarray(Tt*wt/St.data.BYTES_PER_ELEMENT,(Tt+1)*wt/St.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ge,0,0,Tt,St.width,St.height,1,Ot,$t)}V.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ge,0,0,0,St.width,St.height,ht.depth,Ot,St.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ge,Pt,St.width,St.height,ht.depth,0,St.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Je?Se&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ge,0,0,0,St.width,St.height,ht.depth,Ot,zt,St.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ge,Pt,St.width,St.height,ht.depth,0,Ot,zt,St.data)}else{Je&&bt&&t.texStorage2D(n.TEXTURE_2D,je,Pt,Me[0].width,Me[0].height);for(let Ge=0,st=Me.length;Ge<st;Ge++)St=Me[Ge],V.format!==ca?Ot!==null?Je?Se&&t.compressedTexSubImage2D(n.TEXTURE_2D,Ge,0,0,St.width,St.height,Ot,St.data):t.compressedTexImage2D(n.TEXTURE_2D,Ge,Pt,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Je?Se&&t.texSubImage2D(n.TEXTURE_2D,Ge,0,0,St.width,St.height,Ot,zt,St.data):t.texImage2D(n.TEXTURE_2D,Ge,Pt,St.width,St.height,0,Ot,zt,St.data)}else if(V.isDataArrayTexture)if(Je){if(bt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,je,Pt,ht.width,ht.height,ht.depth),Se)if(V.layerUpdates.size>0){const Ge=v4(ht.width,ht.height,V.format,V.type);for(const st of V.layerUpdates){const wt=ht.data.subarray(st*Ge/ht.data.BYTES_PER_ELEMENT,(st+1)*Ge/ht.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,st,ht.width,ht.height,1,Ot,zt,wt)}V.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ht.width,ht.height,ht.depth,Ot,zt,ht.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Pt,ht.width,ht.height,ht.depth,0,Ot,zt,ht.data);else if(V.isData3DTexture)Je?(bt&&t.texStorage3D(n.TEXTURE_3D,je,Pt,ht.width,ht.height,ht.depth),Se&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ht.width,ht.height,ht.depth,Ot,zt,ht.data)):t.texImage3D(n.TEXTURE_3D,0,Pt,ht.width,ht.height,ht.depth,0,Ot,zt,ht.data);else if(V.isFramebufferTexture){if(bt)if(Je)t.texStorage2D(n.TEXTURE_2D,je,Pt,ht.width,ht.height);else{let Ge=ht.width,st=ht.height;for(let wt=0;wt<je;wt++)t.texImage2D(n.TEXTURE_2D,wt,Pt,Ge,st,0,Ot,zt,null),Ge>>=1,st>>=1}}else if(Me.length>0){if(Je&&bt){const Ge=We(Me[0]);t.texStorage2D(n.TEXTURE_2D,je,Pt,Ge.width,Ge.height)}for(let Ge=0,st=Me.length;Ge<st;Ge++)St=Me[Ge],Je?Se&&t.texSubImage2D(n.TEXTURE_2D,Ge,0,0,Ot,zt,St):t.texImage2D(n.TEXTURE_2D,Ge,Pt,Ot,zt,St);V.generateMipmaps=!1}else if(Je){if(bt){const Ge=We(ht);t.texStorage2D(n.TEXTURE_2D,je,Pt,Ge.width,Ge.height)}Se&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ot,zt,ht)}else t.texImage2D(n.TEXTURE_2D,0,Pt,Ot,zt,ht);A(V)&&M(ue),Pe.__version=ge.version,V.onUpdate&&V.onUpdate(V)}ae.__version=V.version}function Ne(ae,V,ee){if(V.image.length!==6)return;const ue=Te(ae,V),Ce=V.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ae.__webglTexture,n.TEXTURE0+ee);const ge=i.get(Ce);if(Ce.version!==ge.__version||ue===!0){t.activeTexture(n.TEXTURE0+ee);const Pe=Si.getPrimaries(Si.workingColorSpace),Ue=V.colorSpace===Kh?null:Si.getPrimaries(V.colorSpace),lt=V.colorSpace===Kh||Pe===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,lt);const Xt=V.isCompressedTexture||V.image[0].isCompressedTexture,ht=V.image[0]&&V.image[0].isDataTexture,Ot=[];for(let st=0;st<6;st++)!Xt&&!ht?Ot[st]=w(V.image[st],!0,r.maxCubemapSize):Ot[st]=ht?V.image[st].image:V.image[st],Ot[st]=xt(V,Ot[st]);const zt=Ot[0],Pt=a.convert(V.format,V.colorSpace),St=a.convert(V.type),Me=P(V.internalFormat,Pt,St,V.colorSpace),Je=V.isVideoTexture!==!0,bt=ge.__version===void 0||ue===!0,Se=Ce.dataReady;let je=F(V,zt);we(n.TEXTURE_CUBE_MAP,V);let Ge;if(Xt){Je&&bt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,je,Me,zt.width,zt.height);for(let st=0;st<6;st++){Ge=Ot[st].mipmaps;for(let wt=0;wt<Ge.length;wt++){const Tt=Ge[wt];V.format!==ca?Pt!==null?Je?Se&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,wt,0,0,Tt.width,Tt.height,Pt,Tt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,wt,Me,Tt.width,Tt.height,0,Tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Je?Se&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,wt,0,0,Tt.width,Tt.height,Pt,St,Tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,wt,Me,Tt.width,Tt.height,0,Pt,St,Tt.data)}}}else{if(Ge=V.mipmaps,Je&&bt){Ge.length>0&&je++;const st=We(Ot[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,je,Me,st.width,st.height)}for(let st=0;st<6;st++)if(ht){Je?Se&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,0,0,Ot[st].width,Ot[st].height,Pt,St,Ot[st].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,Me,Ot[st].width,Ot[st].height,0,Pt,St,Ot[st].data);for(let wt=0;wt<Ge.length;wt++){const $t=Ge[wt].image[st].image;Je?Se&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,wt+1,0,0,$t.width,$t.height,Pt,St,$t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,wt+1,Me,$t.width,$t.height,0,Pt,St,$t.data)}}else{Je?Se&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,0,0,Pt,St,Ot[st]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,Me,Pt,St,Ot[st]);for(let wt=0;wt<Ge.length;wt++){const Tt=Ge[wt];Je?Se&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,wt+1,0,0,Pt,St,Tt.image[st]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+st,wt+1,Me,Pt,St,Tt.image[st])}}}A(V)&&M(n.TEXTURE_CUBE_MAP),ge.__version=Ce.version,V.onUpdate&&V.onUpdate(V)}ae.__version=V.version}function Ve(ae,V,ee,ue,Ce,ge){const Pe=a.convert(ee.format,ee.colorSpace),Ue=a.convert(ee.type),lt=P(ee.internalFormat,Pe,Ue,ee.colorSpace),Xt=i.get(V),ht=i.get(ee);if(ht.__renderTarget=V,!Xt.__hasExternalTextures){const Ot=Math.max(1,V.width>>ge),zt=Math.max(1,V.height>>ge);Ce===n.TEXTURE_3D||Ce===n.TEXTURE_2D_ARRAY?t.texImage3D(Ce,ge,lt,Ot,zt,V.depth,0,Pe,Ue,null):t.texImage2D(Ce,ge,lt,Ot,zt,0,Pe,Ue,null)}t.bindFramebuffer(n.FRAMEBUFFER,ae),et(V)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ue,Ce,ht.__webglTexture,0,at(V)):(Ce===n.TEXTURE_2D||Ce>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ce<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ue,Ce,ht.__webglTexture,ge),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ct(ae,V,ee){if(n.bindRenderbuffer(n.RENDERBUFFER,ae),V.depthBuffer){const ue=V.depthTexture,Ce=ue&&ue.isDepthTexture?ue.type:null,ge=L(V.stencilBuffer,Ce),Pe=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=at(V);et(V)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ue,ge,V.width,V.height):ee?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,ge,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,ge,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Pe,n.RENDERBUFFER,ae)}else{const ue=V.textures;for(let Ce=0;Ce<ue.length;Ce++){const ge=ue[Ce],Pe=a.convert(ge.format,ge.colorSpace),Ue=a.convert(ge.type),lt=P(ge.internalFormat,Pe,Ue,ge.colorSpace),Xt=at(V);ee&&et(V)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Xt,lt,V.width,V.height):et(V)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Xt,lt,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,lt,V.width,V.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ut(ae,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ae),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ue=i.get(V.depthTexture);ue.__renderTarget=V,(!ue.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),_e(V.depthTexture,0);const Ce=ue.__webglTexture,ge=at(V);if(V.depthTexture.format===ny)et(V)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ce,0,ge):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ce,0);else if(V.depthTexture.format===iy)et(V)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ce,0,ge):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ce,0);else throw new Error("Unknown depthTexture format")}function Jt(ae){const V=i.get(ae),ee=ae.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==ae.depthTexture){const ue=ae.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),ue){const Ce=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,ue.removeEventListener("dispose",Ce)};ue.addEventListener("dispose",Ce),V.__depthDisposeCallback=Ce}V.__boundDepthTexture=ue}if(ae.depthTexture&&!V.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");ut(V.__webglFramebuffer,ae)}else if(ee){V.__webglDepthbuffer=[];for(let ue=0;ue<6;ue++)if(t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer[ue]),V.__webglDepthbuffer[ue]===void 0)V.__webglDepthbuffer[ue]=n.createRenderbuffer(),ct(V.__webglDepthbuffer[ue],ae,!1);else{const Ce=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ge=V.__webglDepthbuffer[ue];n.bindRenderbuffer(n.RENDERBUFFER,ge),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ce,n.RENDERBUFFER,ge)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=n.createRenderbuffer(),ct(V.__webglDepthbuffer,ae,!1);else{const ue=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ce=V.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ce),n.framebufferRenderbuffer(n.FRAMEBUFFER,ue,n.RENDERBUFFER,Ce)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function It(ae,V,ee){const ue=i.get(ae);V!==void 0&&Ve(ue.__webglFramebuffer,ae,ae.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ee!==void 0&&Jt(ae)}function Ct(ae){const V=ae.texture,ee=i.get(ae),ue=i.get(V);ae.addEventListener("dispose",U);const Ce=ae.textures,ge=ae.isWebGLCubeRenderTarget===!0,Pe=Ce.length>1;if(Pe||(ue.__webglTexture===void 0&&(ue.__webglTexture=n.createTexture()),ue.__version=V.version,s.memory.textures++),ge){ee.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(V.mipmaps&&V.mipmaps.length>0){ee.__webglFramebuffer[Ue]=[];for(let lt=0;lt<V.mipmaps.length;lt++)ee.__webglFramebuffer[Ue][lt]=n.createFramebuffer()}else ee.__webglFramebuffer[Ue]=n.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){ee.__webglFramebuffer=[];for(let Ue=0;Ue<V.mipmaps.length;Ue++)ee.__webglFramebuffer[Ue]=n.createFramebuffer()}else ee.__webglFramebuffer=n.createFramebuffer();if(Pe)for(let Ue=0,lt=Ce.length;Ue<lt;Ue++){const Xt=i.get(Ce[Ue]);Xt.__webglTexture===void 0&&(Xt.__webglTexture=n.createTexture(),s.memory.textures++)}if(ae.samples>0&&et(ae)===!1){ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let Ue=0;Ue<Ce.length;Ue++){const lt=Ce[Ue];ee.__webglColorRenderbuffer[Ue]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ee.__webglColorRenderbuffer[Ue]);const Xt=a.convert(lt.format,lt.colorSpace),ht=a.convert(lt.type),Ot=P(lt.internalFormat,Xt,ht,lt.colorSpace,ae.isXRRenderTarget===!0),zt=at(ae);n.renderbufferStorageMultisample(n.RENDERBUFFER,zt,Ot,ae.width,ae.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,ee.__webglColorRenderbuffer[Ue])}n.bindRenderbuffer(n.RENDERBUFFER,null),ae.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),ct(ee.__webglDepthRenderbuffer,ae,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ge){t.bindTexture(n.TEXTURE_CUBE_MAP,ue.__webglTexture),we(n.TEXTURE_CUBE_MAP,V);for(let Ue=0;Ue<6;Ue++)if(V.mipmaps&&V.mipmaps.length>0)for(let lt=0;lt<V.mipmaps.length;lt++)Ve(ee.__webglFramebuffer[Ue][lt],ae,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,lt);else Ve(ee.__webglFramebuffer[Ue],ae,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);A(V)&&M(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Pe){for(let Ue=0,lt=Ce.length;Ue<lt;Ue++){const Xt=Ce[Ue],ht=i.get(Xt);t.bindTexture(n.TEXTURE_2D,ht.__webglTexture),we(n.TEXTURE_2D,Xt),Ve(ee.__webglFramebuffer,ae,Xt,n.COLOR_ATTACHMENT0+Ue,n.TEXTURE_2D,0),A(Xt)&&M(n.TEXTURE_2D)}t.unbindTexture()}else{let Ue=n.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(Ue=ae.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ue,ue.__webglTexture),we(Ue,V),V.mipmaps&&V.mipmaps.length>0)for(let lt=0;lt<V.mipmaps.length;lt++)Ve(ee.__webglFramebuffer[lt],ae,V,n.COLOR_ATTACHMENT0,Ue,lt);else Ve(ee.__webglFramebuffer,ae,V,n.COLOR_ATTACHMENT0,Ue,0);A(V)&&M(Ue),t.unbindTexture()}ae.depthBuffer&&Jt(ae)}function Nt(ae){const V=ae.textures;for(let ee=0,ue=V.length;ee<ue;ee++){const Ce=V[ee];if(A(Ce)){const ge=R(ae),Pe=i.get(Ce).__webglTexture;t.bindTexture(ge,Pe),M(ge),t.unbindTexture()}}}const Ft=[],fe=[];function Mn(ae){if(ae.samples>0){if(et(ae)===!1){const V=ae.textures,ee=ae.width,ue=ae.height;let Ce=n.COLOR_BUFFER_BIT;const ge=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Pe=i.get(ae),Ue=V.length>1;if(Ue)for(let lt=0;lt<V.length;lt++)t.bindFramebuffer(n.FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Pe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Pe.__webglFramebuffer);for(let lt=0;lt<V.length;lt++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&(Ce|=n.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&(Ce|=n.STENCIL_BUFFER_BIT)),Ue){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Pe.__webglColorRenderbuffer[lt]);const Xt=i.get(V[lt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Xt,0)}n.blitFramebuffer(0,0,ee,ue,0,0,ee,ue,Ce,n.NEAREST),c===!0&&(Ft.length=0,fe.length=0,Ft.push(n.COLOR_ATTACHMENT0+lt),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(Ft.push(ge),fe.push(ge),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,fe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ft))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ue)for(let lt=0;lt<V.length;lt++){t.bindFramebuffer(n.FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,Pe.__webglColorRenderbuffer[lt]);const Xt=i.get(V[lt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Pe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,Xt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Pe.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&c){const V=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[V])}}}function at(ae){return Math.min(r.maxSamples,ae.samples)}function et(ae){const V=i.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function rt(ae){const V=s.render.frame;p.get(ae)!==V&&(p.set(ae,V),ae.update())}function xt(ae,V){const ee=ae.colorSpace,ue=ae.format,Ce=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||ee!==Xc&&ee!==Kh&&(Si.getTransfer(ee)===tr?(ue!==ca||Ce!==Xo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),V}function We(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(f.width=ae.naturalWidth||ae.width,f.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(f.width=ae.displayWidth,f.height=ae.displayHeight):(f.width=ae.width,f.height=ae.height),f}this.allocateTextureUnit=G,this.resetTextureUnits=Q,this.setTexture2D=_e,this.setTexture2DArray=X,this.setTexture3D=Z,this.setTextureCube=re,this.rebindTextures=It,this.setupRenderTarget=Ct,this.updateRenderTargetMipmap=Nt,this.updateMultisampleRenderTarget=Mn,this.setupDepthRenderbuffer=Jt,this.setupFrameBufferTexture=Ve,this.useMultisampledRTT=et}function BF(n,e){function t(i,r=Kh){let a;const s=Si.getTransfer(r);if(i===Xo)return n.UNSIGNED_BYTE;if(i===PE)return n.UNSIGNED_SHORT_4_4_4_4;if(i===DE)return n.UNSIGNED_SHORT_5_5_5_1;if(i===_R)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===RE)return n.BYTE;if(i===IE)return n.SHORT;if(i===ey)return n.UNSIGNED_SHORT;if(i===rb)return n.INT;if(i===eh)return n.UNSIGNED_INT;if(i===Vr)return n.FLOAT;if(i===Ya)return n.HALF_FLOAT;if(i===vR)return n.ALPHA;if(i===bR)return n.RGB;if(i===ca)return n.RGBA;if(i===xR)return n.LUMINANCE;if(i===MR)return n.LUMINANCE_ALPHA;if(i===ny)return n.DEPTH_COMPONENT;if(i===iy)return n.DEPTH_STENCIL;if(i===ab)return n.RED;if(i===sb)return n.RED_INTEGER;if(i===SR)return n.RG;if(i===BE)return n.RG_INTEGER;if(i===OE)return n.RGBA_INTEGER;if(i===Fv||i===zv||i===Vv||i===jv)if(s===tr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Fv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===zv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Vv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===jv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Fv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===zv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Vv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===jv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===oA||i===lA||i===cA||i===uA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===oA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===lA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===cA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===uA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===hA||i===fA||i===dA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===hA||i===fA)return s===tr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===dA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===pA||i===mA||i===gA||i===yA||i===_A||i===vA||i===bA||i===xA||i===MA||i===SA||i===AA||i===EA||i===TA||i===CA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===pA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===mA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===gA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===yA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===_A)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===vA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===bA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===xA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===MA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===SA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===AA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===EA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===TA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===CA)return s===tr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===kv||i===wA||i===RA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===kv)return s===tr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===wA)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===RA)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===AR||i===IA||i===PA||i===DA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===kv)return a.COMPRESSED_RED_RGTC1_EXT;if(i===IA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===PA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===DA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===ty?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Gde=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Xde=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class qde{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new Wi,a=e.properties.get(r);a.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new qo({vertexShader:Gde,fragmentShader:Xde,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ir(new Wd(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Wde extends sh{constructor(e,t){super();const i=this;let r=null,a=1,s=null,l="local-floor",c=1,f=null,p=null,g=null,y=null,v=null,x=null;const w=new qde,A=t.getContextAttributes();let M=null,R=null;const P=[],L=[],F=new pt;let j=null;const U=new wr;U.viewport=new Ri;const N=new wr;N.viewport=new Ri;const B=[U,N],O=new MF;let H=null,Q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(de){let Ne=P[de];return Ne===void 0&&(Ne=new TS,P[de]=Ne),Ne.getTargetRaySpace()},this.getControllerGrip=function(de){let Ne=P[de];return Ne===void 0&&(Ne=new TS,P[de]=Ne),Ne.getGripSpace()},this.getHand=function(de){let Ne=P[de];return Ne===void 0&&(Ne=new TS,P[de]=Ne),Ne.getHandSpace()};function G(de){const Ne=L.indexOf(de.inputSource);if(Ne===-1)return;const Ve=P[Ne];Ve!==void 0&&(Ve.update(de.inputSource,de.frame,f||s),Ve.dispatchEvent({type:de.type,data:de.inputSource}))}function he(){r.removeEventListener("select",G),r.removeEventListener("selectstart",G),r.removeEventListener("selectend",G),r.removeEventListener("squeeze",G),r.removeEventListener("squeezestart",G),r.removeEventListener("squeezeend",G),r.removeEventListener("end",he),r.removeEventListener("inputsourceschange",_e);for(let de=0;de<P.length;de++){const Ne=L[de];Ne!==null&&(L[de]=null,P[de].disconnect(Ne))}H=null,Q=null,w.reset(),e.setRenderTarget(M),v=null,y=null,g=null,r=null,R=null,Te.stop(),i.isPresenting=!1,e.setPixelRatio(j),e.setSize(F.width,F.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(de){a=de,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(de){l=de,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(de){f=de},this.getBaseLayer=function(){return y!==null?y:v},this.getBinding=function(){return g},this.getFrame=function(){return x},this.getSession=function(){return r},this.setSession=async function(de){if(r=de,r!==null){if(M=e.getRenderTarget(),r.addEventListener("select",G),r.addEventListener("selectstart",G),r.addEventListener("selectend",G),r.addEventListener("squeeze",G),r.addEventListener("squeezestart",G),r.addEventListener("squeezeend",G),r.addEventListener("end",he),r.addEventListener("inputsourceschange",_e),A.xrCompatible!==!0&&await t.makeXRCompatible(),j=e.getPixelRatio(),e.getSize(F),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ve=null,ct=null,ut=null;A.depth&&(ut=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ve=A.stencil?iy:ny,ct=A.stencil?ty:eh);const Jt={colorFormat:t.RGBA8,depthFormat:ut,scaleFactor:a};g=new XRWebGLBinding(r,t),y=g.createProjectionLayer(Jt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),R=new tc(y.textureWidth,y.textureHeight,{format:ca,type:Xo,depthTexture:new UR(y.textureWidth,y.textureHeight,ct,void 0,void 0,void 0,void 0,void 0,void 0,Ve),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Ve={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:a};v=new XRWebGLLayer(r,t,Ve),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),R=new tc(v.framebufferWidth,v.framebufferHeight,{format:ca,type:Xo,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}R.isXRRenderTarget=!0,this.setFoveation(c),f=null,s=await r.requestReferenceSpace(l),Te.setContext(r),Te.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function _e(de){for(let Ne=0;Ne<de.removed.length;Ne++){const Ve=de.removed[Ne],ct=L.indexOf(Ve);ct>=0&&(L[ct]=null,P[ct].disconnect(Ve))}for(let Ne=0;Ne<de.added.length;Ne++){const Ve=de.added[Ne];let ct=L.indexOf(Ve);if(ct===-1){for(let Jt=0;Jt<P.length;Jt++)if(Jt>=L.length){L.push(Ve),ct=Jt;break}else if(L[Jt]===null){L[Jt]=Ve,ct=Jt;break}if(ct===-1)break}const ut=P[ct];ut&&ut.connect(Ve)}}const X=new oe,Z=new oe;function re(de,Ne,Ve){X.setFromMatrixPosition(Ne.matrixWorld),Z.setFromMatrixPosition(Ve.matrixWorld);const ct=X.distanceTo(Z),ut=Ne.projectionMatrix.elements,Jt=Ve.projectionMatrix.elements,It=ut[14]/(ut[10]-1),Ct=ut[14]/(ut[10]+1),Nt=(ut[9]+1)/ut[5],Ft=(ut[9]-1)/ut[5],fe=(ut[8]-1)/ut[0],Mn=(Jt[8]+1)/Jt[0],at=It*fe,et=It*Mn,rt=ct/(-fe+Mn),xt=rt*-fe;if(Ne.matrixWorld.decompose(de.position,de.quaternion,de.scale),de.translateX(xt),de.translateZ(rt),de.matrixWorld.compose(de.position,de.quaternion,de.scale),de.matrixWorldInverse.copy(de.matrixWorld).invert(),ut[10]===-1)de.projectionMatrix.copy(Ne.projectionMatrix),de.projectionMatrixInverse.copy(Ne.projectionMatrixInverse);else{const We=It+rt,ae=Ct+rt,V=at-xt,ee=et+(ct-xt),ue=Nt*Ct/ae*We,Ce=Ft*Ct/ae*We;de.projectionMatrix.makePerspective(V,ee,ue,Ce,We,ae),de.projectionMatrixInverse.copy(de.projectionMatrix).invert()}}function be(de,Ne){Ne===null?de.matrixWorld.copy(de.matrix):de.matrixWorld.multiplyMatrices(Ne.matrixWorld,de.matrix),de.matrixWorldInverse.copy(de.matrixWorld).invert()}this.updateCamera=function(de){if(r===null)return;let Ne=de.near,Ve=de.far;w.texture!==null&&(w.depthNear>0&&(Ne=w.depthNear),w.depthFar>0&&(Ve=w.depthFar)),O.near=N.near=U.near=Ne,O.far=N.far=U.far=Ve,(H!==O.near||Q!==O.far)&&(r.updateRenderState({depthNear:O.near,depthFar:O.far}),H=O.near,Q=O.far),U.layers.mask=de.layers.mask|2,N.layers.mask=de.layers.mask|4,O.layers.mask=U.layers.mask|N.layers.mask;const ct=de.parent,ut=O.cameras;be(O,ct);for(let Jt=0;Jt<ut.length;Jt++)be(ut[Jt],ct);ut.length===2?re(O,U,N):O.projectionMatrix.copy(U.projectionMatrix),$(de,O,ct)};function $(de,Ne,Ve){Ve===null?de.matrix.copy(Ne.matrixWorld):(de.matrix.copy(Ve.matrixWorld),de.matrix.invert(),de.matrix.multiply(Ne.matrixWorld)),de.matrix.decompose(de.position,de.quaternion,de.scale),de.updateMatrixWorld(!0),de.projectionMatrix.copy(Ne.projectionMatrix),de.projectionMatrixInverse.copy(Ne.projectionMatrixInverse),de.isPerspectiveCamera&&(de.fov=sy*2*Math.atan(1/de.projectionMatrix.elements[5]),de.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(y===null&&v===null))return c},this.setFoveation=function(de){c=de,y!==null&&(y.fixedFoveation=de),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=de)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(O)};let pe=null;function we(de,Ne){if(p=Ne.getViewerPose(f||s),x=Ne,p!==null){const Ve=p.views;v!==null&&(e.setRenderTargetFramebuffer(R,v.framebuffer),e.setRenderTarget(R));let ct=!1;Ve.length!==O.cameras.length&&(O.cameras.length=0,ct=!0);for(let It=0;It<Ve.length;It++){const Ct=Ve[It];let Nt=null;if(v!==null)Nt=v.getViewport(Ct);else{const fe=g.getViewSubImage(y,Ct);Nt=fe.viewport,It===0&&(e.setRenderTargetTextures(R,fe.colorTexture,fe.depthStencilTexture),e.setRenderTarget(R))}let Ft=B[It];Ft===void 0&&(Ft=new wr,Ft.layers.enable(It),Ft.viewport=new Ri,B[It]=Ft),Ft.matrix.fromArray(Ct.transform.matrix),Ft.matrix.decompose(Ft.position,Ft.quaternion,Ft.scale),Ft.projectionMatrix.fromArray(Ct.projectionMatrix),Ft.projectionMatrixInverse.copy(Ft.projectionMatrix).invert(),Ft.viewport.set(Nt.x,Nt.y,Nt.width,Nt.height),It===0&&(O.matrix.copy(Ft.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),ct===!0&&O.cameras.push(Ft)}const ut=r.enabledFeatures;if(ut&&ut.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&g){const It=g.getDepthInformation(Ve[0]);It&&It.isValid&&It.texture&&w.init(e,It,r.renderState)}}for(let Ve=0;Ve<P.length;Ve++){const ct=L[Ve],ut=P[Ve];ct!==null&&ut!==void 0&&ut.update(ct,Ne,f||s)}pe&&pe(de,Ne),Ne.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ne}),x=null}const Te=new wF;Te.setAnimationLoop(we),this.setAnimationLoop=function(de){pe=de},this.dispose=function(){}}}const Xp=new ml,Yde=new bn;function Kde(n,e){function t(A,M){A.matrixAutoUpdate===!0&&A.updateMatrix(),M.value.copy(A.matrix)}function i(A,M){M.color.getRGB(A.fogColor.value,O7(n)),M.isFog?(A.fogNear.value=M.near,A.fogFar.value=M.far):M.isFogExp2&&(A.fogDensity.value=M.density)}function r(A,M,R,P,L){M.isMeshBasicMaterial||M.isMeshLambertMaterial?a(A,M):M.isMeshToonMaterial?(a(A,M),g(A,M)):M.isMeshPhongMaterial?(a(A,M),p(A,M)):M.isMeshStandardMaterial?(a(A,M),y(A,M),M.isMeshPhysicalMaterial&&v(A,M,L)):M.isMeshMatcapMaterial?(a(A,M),x(A,M)):M.isMeshDepthMaterial?a(A,M):M.isMeshDistanceMaterial?(a(A,M),w(A,M)):M.isMeshNormalMaterial?a(A,M):M.isLineBasicMaterial?(s(A,M),M.isLineDashedMaterial&&l(A,M)):M.isPointsMaterial?c(A,M,R,P):M.isSpriteMaterial?f(A,M):M.isShadowMaterial?(A.color.value.copy(M.color),A.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function a(A,M){A.opacity.value=M.opacity,M.color&&A.diffuse.value.copy(M.color),M.emissive&&A.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(A.map.value=M.map,t(M.map,A.mapTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.bumpMap&&(A.bumpMap.value=M.bumpMap,t(M.bumpMap,A.bumpMapTransform),A.bumpScale.value=M.bumpScale,M.side===po&&(A.bumpScale.value*=-1)),M.normalMap&&(A.normalMap.value=M.normalMap,t(M.normalMap,A.normalMapTransform),A.normalScale.value.copy(M.normalScale),M.side===po&&A.normalScale.value.negate()),M.displacementMap&&(A.displacementMap.value=M.displacementMap,t(M.displacementMap,A.displacementMapTransform),A.displacementScale.value=M.displacementScale,A.displacementBias.value=M.displacementBias),M.emissiveMap&&(A.emissiveMap.value=M.emissiveMap,t(M.emissiveMap,A.emissiveMapTransform)),M.specularMap&&(A.specularMap.value=M.specularMap,t(M.specularMap,A.specularMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest);const R=e.get(M),P=R.envMap,L=R.envMapRotation;P&&(A.envMap.value=P,Xp.copy(L),Xp.x*=-1,Xp.y*=-1,Xp.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(Xp.y*=-1,Xp.z*=-1),A.envMapRotation.value.setFromMatrix4(Yde.makeRotationFromEuler(Xp)),A.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=M.reflectivity,A.ior.value=M.ior,A.refractionRatio.value=M.refractionRatio),M.lightMap&&(A.lightMap.value=M.lightMap,A.lightMapIntensity.value=M.lightMapIntensity,t(M.lightMap,A.lightMapTransform)),M.aoMap&&(A.aoMap.value=M.aoMap,A.aoMapIntensity.value=M.aoMapIntensity,t(M.aoMap,A.aoMapTransform))}function s(A,M){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,M.map&&(A.map.value=M.map,t(M.map,A.mapTransform))}function l(A,M){A.dashSize.value=M.dashSize,A.totalSize.value=M.dashSize+M.gapSize,A.scale.value=M.scale}function c(A,M,R,P){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,A.size.value=M.size*R,A.scale.value=P*.5,M.map&&(A.map.value=M.map,t(M.map,A.uvTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest)}function f(A,M){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,A.rotation.value=M.rotation,M.map&&(A.map.value=M.map,t(M.map,A.mapTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest)}function p(A,M){A.specular.value.copy(M.specular),A.shininess.value=Math.max(M.shininess,1e-4)}function g(A,M){M.gradientMap&&(A.gradientMap.value=M.gradientMap)}function y(A,M){A.metalness.value=M.metalness,M.metalnessMap&&(A.metalnessMap.value=M.metalnessMap,t(M.metalnessMap,A.metalnessMapTransform)),A.roughness.value=M.roughness,M.roughnessMap&&(A.roughnessMap.value=M.roughnessMap,t(M.roughnessMap,A.roughnessMapTransform)),M.envMap&&(A.envMapIntensity.value=M.envMapIntensity)}function v(A,M,R){A.ior.value=M.ior,M.sheen>0&&(A.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),A.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(A.sheenColorMap.value=M.sheenColorMap,t(M.sheenColorMap,A.sheenColorMapTransform)),M.sheenRoughnessMap&&(A.sheenRoughnessMap.value=M.sheenRoughnessMap,t(M.sheenRoughnessMap,A.sheenRoughnessMapTransform))),M.clearcoat>0&&(A.clearcoat.value=M.clearcoat,A.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(A.clearcoatMap.value=M.clearcoatMap,t(M.clearcoatMap,A.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,t(M.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(A.clearcoatNormalMap.value=M.clearcoatNormalMap,t(M.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===po&&A.clearcoatNormalScale.value.negate())),M.dispersion>0&&(A.dispersion.value=M.dispersion),M.iridescence>0&&(A.iridescence.value=M.iridescence,A.iridescenceIOR.value=M.iridescenceIOR,A.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(A.iridescenceMap.value=M.iridescenceMap,t(M.iridescenceMap,A.iridescenceMapTransform)),M.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=M.iridescenceThicknessMap,t(M.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),M.transmission>0&&(A.transmission.value=M.transmission,A.transmissionSamplerMap.value=R.texture,A.transmissionSamplerSize.value.set(R.width,R.height),M.transmissionMap&&(A.transmissionMap.value=M.transmissionMap,t(M.transmissionMap,A.transmissionMapTransform)),A.thickness.value=M.thickness,M.thicknessMap&&(A.thicknessMap.value=M.thicknessMap,t(M.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=M.attenuationDistance,A.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(A.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(A.anisotropyMap.value=M.anisotropyMap,t(M.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=M.specularIntensity,A.specularColor.value.copy(M.specularColor),M.specularColorMap&&(A.specularColorMap.value=M.specularColorMap,t(M.specularColorMap,A.specularColorMapTransform)),M.specularIntensityMap&&(A.specularIntensityMap.value=M.specularIntensityMap,t(M.specularIntensityMap,A.specularIntensityMapTransform))}function x(A,M){M.matcap&&(A.matcap.value=M.matcap)}function w(A,M){const R=e.get(M).light;A.referencePosition.value.setFromMatrixPosition(R.matrixWorld),A.nearDistance.value=R.shadow.camera.near,A.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Jde(n,e,t,i){let r={},a={},s=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function c(R,P){const L=P.program;i.uniformBlockBinding(R,L)}function f(R,P){let L=r[R.id];L===void 0&&(x(R),L=p(R),r[R.id]=L,R.addEventListener("dispose",A));const F=P.program;i.updateUBOMapping(R,F);const j=e.render.frame;a[R.id]!==j&&(y(R),a[R.id]=j)}function p(R){const P=g();R.__bindingPointIndex=P;const L=n.createBuffer(),F=R.__size,j=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,L),n.bufferData(n.UNIFORM_BUFFER,F,j),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,P,L),L}function g(){for(let R=0;R<l;R++)if(s.indexOf(R)===-1)return s.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(R){const P=r[R.id],L=R.uniforms,F=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,P);for(let j=0,U=L.length;j<U;j++){const N=Array.isArray(L[j])?L[j]:[L[j]];for(let B=0,O=N.length;B<O;B++){const H=N[B];if(v(H,j,B,F)===!0){const Q=H.__offset,G=Array.isArray(H.value)?H.value:[H.value];let he=0;for(let _e=0;_e<G.length;_e++){const X=G[_e],Z=w(X);typeof X=="number"||typeof X=="boolean"?(H.__data[0]=X,n.bufferSubData(n.UNIFORM_BUFFER,Q+he,H.__data)):X.isMatrix3?(H.__data[0]=X.elements[0],H.__data[1]=X.elements[1],H.__data[2]=X.elements[2],H.__data[3]=0,H.__data[4]=X.elements[3],H.__data[5]=X.elements[4],H.__data[6]=X.elements[5],H.__data[7]=0,H.__data[8]=X.elements[6],H.__data[9]=X.elements[7],H.__data[10]=X.elements[8],H.__data[11]=0):(X.toArray(H.__data,he),he+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Q,H.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(R,P,L,F){const j=R.value,U=P+"_"+L;if(F[U]===void 0)return typeof j=="number"||typeof j=="boolean"?F[U]=j:F[U]=j.clone(),!0;{const N=F[U];if(typeof j=="number"||typeof j=="boolean"){if(N!==j)return F[U]=j,!0}else if(N.equals(j)===!1)return N.copy(j),!0}return!1}function x(R){const P=R.uniforms;let L=0;const F=16;for(let U=0,N=P.length;U<N;U++){const B=Array.isArray(P[U])?P[U]:[P[U]];for(let O=0,H=B.length;O<H;O++){const Q=B[O],G=Array.isArray(Q.value)?Q.value:[Q.value];for(let he=0,_e=G.length;he<_e;he++){const X=G[he],Z=w(X),re=L%F,be=re%Z.boundary,$=re+be;L+=be,$!==0&&F-$<Z.storage&&(L+=F-$),Q.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),Q.__offset=L,L+=Z.storage}}}const j=L%F;return j>0&&(L+=F-j),R.__size=L,R.__cache={},this}function w(R){const P={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(P.boundary=4,P.storage=4):R.isVector2?(P.boundary=8,P.storage=8):R.isVector3||R.isColor?(P.boundary=16,P.storage=12):R.isVector4?(P.boundary=16,P.storage=16):R.isMatrix3?(P.boundary=48,P.storage=48):R.isMatrix4?(P.boundary=64,P.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),P}function A(R){const P=R.target;P.removeEventListener("dispose",A);const L=s.indexOf(P.__bindingPointIndex);s.splice(L,1),n.deleteBuffer(r[P.id]),delete r[P.id],delete a[P.id]}function M(){for(const R in r)n.deleteBuffer(r[R]);s=[],r={},a={}}return{bind:c,update:f,dispose:M}}class lI{constructor(e={}){const{canvas:t=P7(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=s;const x=new Uint32Array(4),w=new Int32Array(4);let A=null,M=null;const R=[],P=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Xu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const L=this;let F=!1;this._outputColorSpace=ds;let j=0,U=0,N=null,B=-1,O=null;const H=new Ri,Q=new Ri;let G=null;const he=new Vt(0);let _e=0,X=t.width,Z=t.height,re=1,be=null,$=null;const pe=new Ri(0,0,X,Z),we=new Ri(0,0,X,Z);let Te=!1;const de=new fb;let Ne=!1,Ve=!1;const ct=new bn,ut=new bn,Jt=new oe,It=new Ri,Ct={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Nt=!1;function Ft(){return N===null?re:1}let fe=i;function Mn(K,ce){return t.getContext(K,ce)}try{const K={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${nb}`),t.addEventListener("webglcontextlost",st,!1),t.addEventListener("webglcontextrestored",wt,!1),t.addEventListener("webglcontextcreationerror",Tt,!1),fe===null){const ce="webgl2";if(fe=Mn(ce,K),fe===null)throw Mn(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let at,et,rt,xt,We,ae,V,ee,ue,Ce,ge,Pe,Ue,lt,Xt,ht,Ot,zt,Pt,St,Me,Je,bt,Se;function je(){at=new lfe(fe),at.init(),Je=new BF(fe,at),et=new tfe(fe,at,e,Je),rt=new kde(fe,at),et.reverseDepthBuffer&&y&&rt.buffers.depth.setReversed(!0),xt=new hfe(fe),We=new Rde,ae=new Hde(fe,at,rt,We,et,Je,xt),V=new ife(L),ee=new ofe(L),ue=new yce(fe),bt=new Zhe(fe,ue),Ce=new cfe(fe,ue,xt,bt),ge=new dfe(fe,Ce,ue,xt),Pt=new ffe(fe,et,ae),ht=new nfe(We),Pe=new wde(L,V,ee,at,et,bt,ht),Ue=new Kde(L,We),lt=new Pde,Xt=new Ude(at),zt=new $he(L,V,ee,rt,ge,v,c),Ot=new Vde(L,ge,et),Se=new Jde(fe,xt,et,rt),St=new efe(fe,at,xt),Me=new ufe(fe,at,xt),xt.programs=Pe.programs,L.capabilities=et,L.extensions=at,L.properties=We,L.renderLists=lt,L.shadowMap=Ot,L.state=rt,L.info=xt}je();const Ge=new Wde(L,fe);this.xr=Ge,this.getContext=function(){return fe},this.getContextAttributes=function(){return fe.getContextAttributes()},this.forceContextLoss=function(){const K=at.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=at.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function(K){K!==void 0&&(re=K,this.setSize(X,Z,!1))},this.getSize=function(K){return K.set(X,Z)},this.setSize=function(K,ce,ye=!0){if(Ge.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=K,Z=ce,t.width=Math.floor(K*re),t.height=Math.floor(ce*re),ye===!0&&(t.style.width=K+"px",t.style.height=ce+"px"),this.setViewport(0,0,K,ce)},this.getDrawingBufferSize=function(K){return K.set(X*re,Z*re).floor()},this.setDrawingBufferSize=function(K,ce,ye){X=K,Z=ce,re=ye,t.width=Math.floor(K*ye),t.height=Math.floor(ce*ye),this.setViewport(0,0,K,ce)},this.getCurrentViewport=function(K){return K.copy(H)},this.getViewport=function(K){return K.copy(pe)},this.setViewport=function(K,ce,ye,me){K.isVector4?pe.set(K.x,K.y,K.z,K.w):pe.set(K,ce,ye,me),rt.viewport(H.copy(pe).multiplyScalar(re).round())},this.getScissor=function(K){return K.copy(we)},this.setScissor=function(K,ce,ye,me){K.isVector4?we.set(K.x,K.y,K.z,K.w):we.set(K,ce,ye,me),rt.scissor(Q.copy(we).multiplyScalar(re).round())},this.getScissorTest=function(){return Te},this.setScissorTest=function(K){rt.setScissorTest(Te=K)},this.setOpaqueSort=function(K){be=K},this.setTransparentSort=function(K){$=K},this.getClearColor=function(K){return K.copy(zt.getClearColor())},this.setClearColor=function(){zt.setClearColor(...arguments)},this.getClearAlpha=function(){return zt.getClearAlpha()},this.setClearAlpha=function(){zt.setClearAlpha(...arguments)},this.clear=function(K=!0,ce=!0,ye=!0){let me=0;if(K){let Re=!1;if(N!==null){const ze=N.texture.format;Re=ze===OE||ze===BE||ze===sb}if(Re){const ze=N.texture.type,tt=ze===Xo||ze===eh||ze===ey||ze===ty||ze===PE||ze===DE,ot=zt.getClearColor(),gt=zt.getClearAlpha(),Ut=ot.r,Dt=ot.g,Lt=ot.b;tt?(x[0]=Ut,x[1]=Dt,x[2]=Lt,x[3]=gt,fe.clearBufferuiv(fe.COLOR,0,x)):(w[0]=Ut,w[1]=Dt,w[2]=Lt,w[3]=gt,fe.clearBufferiv(fe.COLOR,0,w))}else me|=fe.COLOR_BUFFER_BIT}ce&&(me|=fe.DEPTH_BUFFER_BIT),ye&&(me|=fe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),fe.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",st,!1),t.removeEventListener("webglcontextrestored",wt,!1),t.removeEventListener("webglcontextcreationerror",Tt,!1),zt.dispose(),lt.dispose(),Xt.dispose(),We.dispose(),V.dispose(),ee.dispose(),ge.dispose(),bt.dispose(),Se.dispose(),Pe.dispose(),Ge.dispose(),Ge.removeEventListener("sessionstart",Ki),Ge.removeEventListener("sessionend",Li),Ui.stop()};function st(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),F=!0}function wt(){console.log("THREE.WebGLRenderer: Context Restored."),F=!1;const K=xt.autoReset,ce=Ot.enabled,ye=Ot.autoUpdate,me=Ot.needsUpdate,Re=Ot.type;je(),xt.autoReset=K,Ot.enabled=ce,Ot.autoUpdate=ye,Ot.needsUpdate=me,Ot.type=Re}function Tt(K){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",K.statusMessage)}function $t(K){const ce=K.target;ce.removeEventListener("dispose",$t),An(ce)}function An(K){ti(K),We.remove(K)}function ti(K){const ce=We.get(K).programs;ce!==void 0&&(ce.forEach(function(ye){Pe.releaseProgram(ye)}),K.isShaderMaterial&&Pe.releaseShaderCache(K))}this.renderBufferDirect=function(K,ce,ye,me,Re,ze){ce===null&&(ce=Ct);const tt=Re.isMesh&&Re.matrixWorld.determinant()<0,ot=Ae(K,ce,ye,me,Re);rt.setMaterial(me,tt);let gt=ye.index,Ut=1;if(me.wireframe===!0){if(gt=Ce.getWireframeAttribute(ye),gt===void 0)return;Ut=2}const Dt=ye.drawRange,Lt=ye.attributes.position;let tn=Dt.start*Ut,Yt=(Dt.start+Dt.count)*Ut;ze!==null&&(tn=Math.max(tn,ze.start*Ut),Yt=Math.min(Yt,(ze.start+ze.count)*Ut)),gt!==null?(tn=Math.max(tn,0),Yt=Math.min(Yt,gt.count)):Lt!=null&&(tn=Math.max(tn,0),Yt=Math.min(Yt,Lt.count));const kn=Yt-tn;if(kn<0||kn===1/0)return;bt.setup(Re,me,ot,ye,gt);let qt,en=St;if(gt!==null&&(qt=ue.get(gt),en=Me,en.setIndex(qt)),Re.isMesh)me.wireframe===!0?(rt.setLineWidth(me.wireframeLinewidth*Ft()),en.setMode(fe.LINES)):en.setMode(fe.TRIANGLES);else if(Re.isLine){let Wt=me.linewidth;Wt===void 0&&(Wt=1),rt.setLineWidth(Wt*Ft()),Re.isLineSegments?en.setMode(fe.LINES):Re.isLineLoop?en.setMode(fe.LINE_LOOP):en.setMode(fe.LINE_STRIP)}else Re.isPoints?en.setMode(fe.POINTS):Re.isSprite&&en.setMode(fe.TRIANGLES);if(Re.isBatchedMesh)if(Re._multiDrawInstances!==null)ES("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),en.renderMultiDrawInstances(Re._multiDrawStarts,Re._multiDrawCounts,Re._multiDrawCount,Re._multiDrawInstances);else if(at.get("WEBGL_multi_draw"))en.renderMultiDraw(Re._multiDrawStarts,Re._multiDrawCounts,Re._multiDrawCount);else{const Wt=Re._multiDrawStarts,_i=Re._multiDrawCounts,un=Re._multiDrawCount,mn=gt?ue.get(gt).bytesPerElement:1,di=We.get(me).currentProgram.getUniforms();for(let Qt=0;Qt<un;Qt++)di.setValue(fe,"_gl_DrawID",Qt),en.render(Wt[Qt]/mn,_i[Qt])}else if(Re.isInstancedMesh)en.renderInstances(tn,kn,Re.count);else if(ye.isInstancedBufferGeometry){const Wt=ye._maxInstanceCount!==void 0?ye._maxInstanceCount:1/0,_i=Math.min(ye.instanceCount,Wt);en.renderInstances(tn,kn,_i)}else en.render(tn,kn)};function dn(K,ce,ye){K.transparent===!0&&K.side===ul&&K.forceSinglePass===!1?(K.side=po,K.needsUpdate=!0,ni(K,ce,ye),K.side=$u,K.needsUpdate=!0,ni(K,ce,ye),K.side=ul):ni(K,ce,ye)}this.compile=function(K,ce,ye=null){ye===null&&(ye=K),M=Xt.get(ye),M.init(ce),P.push(M),ye.traverseVisible(function(Re){Re.isLight&&Re.layers.test(ce.layers)&&(M.pushLight(Re),Re.castShadow&&M.pushShadow(Re))}),K!==ye&&K.traverseVisible(function(Re){Re.isLight&&Re.layers.test(ce.layers)&&(M.pushLight(Re),Re.castShadow&&M.pushShadow(Re))}),M.setupLights();const me=new Set;return K.traverse(function(Re){if(!(Re.isMesh||Re.isPoints||Re.isLine||Re.isSprite))return;const ze=Re.material;if(ze)if(Array.isArray(ze))for(let tt=0;tt<ze.length;tt++){const ot=ze[tt];dn(ot,ye,Re),me.add(ot)}else dn(ze,ye,Re),me.add(ze)}),M=P.pop(),me},this.compileAsync=function(K,ce,ye=null){const me=this.compile(K,ce,ye);return new Promise(Re=>{function ze(){if(me.forEach(function(tt){We.get(tt).currentProgram.isReady()&&me.delete(tt)}),me.size===0){Re(K);return}setTimeout(ze,10)}at.get("KHR_parallel_shader_compile")!==null?ze():setTimeout(ze,10)})};let ci=null;function Dn(K){ci&&ci(K)}function Ki(){Ui.stop()}function Li(){Ui.start()}const Ui=new wF;Ui.setAnimationLoop(Dn),typeof self<"u"&&Ui.setContext(self),this.setAnimationLoop=function(K){ci=K,Ge.setAnimationLoop(K),K===null?Ui.stop():Ui.start()},Ge.addEventListener("sessionstart",Ki),Ge.addEventListener("sessionend",Li),this.render=function(K,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(F===!0)return;if(K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),Ge.enabled===!0&&Ge.isPresenting===!0&&(Ge.cameraAutoUpdate===!0&&Ge.updateCamera(ce),ce=Ge.getCamera()),K.isScene===!0&&K.onBeforeRender(L,K,ce,N),M=Xt.get(K,P.length),M.init(ce),P.push(M),ut.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),de.setFromProjectionMatrix(ut),Ve=this.localClippingEnabled,Ne=ht.init(this.clippingPlanes,Ve),A=lt.get(K,R.length),A.init(),R.push(A),Ge.enabled===!0&&Ge.isPresenting===!0){const ze=L.xr.getDepthSensingMesh();ze!==null&&Hr(ze,ce,-1/0,L.sortObjects)}Hr(K,ce,0,L.sortObjects),A.finish(),L.sortObjects===!0&&A.sort(be,$),Nt=Ge.enabled===!1||Ge.isPresenting===!1||Ge.hasDepthSensing()===!1,Nt&&zt.addToRenderList(A,K),this.info.render.frame++,Ne===!0&&ht.beginShadows();const ye=M.state.shadowsArray;Ot.render(ye,K,ce),Ne===!0&&ht.endShadows(),this.info.autoReset===!0&&this.info.reset();const me=A.opaque,Re=A.transmissive;if(M.setupLights(),ce.isArrayCamera){const ze=ce.cameras;if(Re.length>0)for(let tt=0,ot=ze.length;tt<ot;tt++){const gt=ze[tt];nr(me,Re,K,gt)}Nt&&zt.render(K);for(let tt=0,ot=ze.length;tt<ot;tt++){const gt=ze[tt];Gr(A,K,gt,gt.viewport)}}else Re.length>0&&nr(me,Re,K,ce),Nt&&zt.render(K),Gr(A,K,ce);N!==null&&U===0&&(ae.updateMultisampleRenderTarget(N),ae.updateRenderTargetMipmap(N)),K.isScene===!0&&K.onAfterRender(L,K,ce),bt.resetDefaultState(),B=-1,O=null,P.pop(),P.length>0?(M=P[P.length-1],Ne===!0&&ht.setGlobalState(L.clippingPlanes,M.state.camera)):M=null,R.pop(),R.length>0?A=R[R.length-1]:A=null};function Hr(K,ce,ye,me){if(K.visible===!1)return;if(K.layers.test(ce.layers)){if(K.isGroup)ye=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(ce);else if(K.isLight)M.pushLight(K),K.castShadow&&M.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||de.intersectsSprite(K)){me&&It.setFromMatrixPosition(K.matrixWorld).applyMatrix4(ut);const tt=ge.update(K),ot=K.material;ot.visible&&A.push(K,tt,ot,ye,It.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(!K.frustumCulled||de.intersectsObject(K))){const tt=ge.update(K),ot=K.material;if(me&&(K.boundingSphere!==void 0?(K.boundingSphere===null&&K.computeBoundingSphere(),It.copy(K.boundingSphere.center)):(tt.boundingSphere===null&&tt.computeBoundingSphere(),It.copy(tt.boundingSphere.center)),It.applyMatrix4(K.matrixWorld).applyMatrix4(ut)),Array.isArray(ot)){const gt=tt.groups;for(let Ut=0,Dt=gt.length;Ut<Dt;Ut++){const Lt=gt[Ut],tn=ot[Lt.materialIndex];tn&&tn.visible&&A.push(K,tt,tn,ye,It.z,Lt)}}else ot.visible&&A.push(K,tt,ot,ye,It.z,null)}}const ze=K.children;for(let tt=0,ot=ze.length;tt<ot;tt++)Hr(ze[tt],ce,ye,me)}function Gr(K,ce,ye,me){const Re=K.opaque,ze=K.transmissive,tt=K.transparent;M.setupLightsView(ye),Ne===!0&&ht.setGlobalState(L.clippingPlanes,ye),me&&rt.viewport(H.copy(me)),Re.length>0&&sn(Re,ce,ye),ze.length>0&&sn(ze,ce,ye),tt.length>0&&sn(tt,ce,ye),rt.buffers.depth.setTest(!0),rt.buffers.depth.setMask(!0),rt.buffers.color.setMask(!0),rt.setPolygonOffset(!1)}function nr(K,ce,ye,me){if((ye.isScene===!0?ye.overrideMaterial:null)!==null)return;M.state.transmissionRenderTarget[me.id]===void 0&&(M.state.transmissionRenderTarget[me.id]=new tc(1,1,{generateMipmaps:!0,type:at.has("EXT_color_buffer_half_float")||at.has("EXT_color_buffer_float")?Ya:Xo,minFilter:Kl,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Si.workingColorSpace}));const ze=M.state.transmissionRenderTarget[me.id],tt=me.viewport||H;ze.setSize(tt.z*L.transmissionResolutionScale,tt.w*L.transmissionResolutionScale);const ot=L.getRenderTarget();L.setRenderTarget(ze),L.getClearColor(he),_e=L.getClearAlpha(),_e<1&&L.setClearColor(16777215,.5),L.clear(),Nt&&zt.render(ye);const gt=L.toneMapping;L.toneMapping=Xu;const Ut=me.viewport;if(me.viewport!==void 0&&(me.viewport=void 0),M.setupLightsView(me),Ne===!0&&ht.setGlobalState(L.clippingPlanes,me),sn(K,ye,me),ae.updateMultisampleRenderTarget(ze),ae.updateRenderTargetMipmap(ze),at.has("WEBGL_multisampled_render_to_texture")===!1){let Dt=!1;for(let Lt=0,tn=ce.length;Lt<tn;Lt++){const Yt=ce[Lt],kn=Yt.object,qt=Yt.geometry,en=Yt.material,Wt=Yt.group;if(en.side===ul&&kn.layers.test(me.layers)){const _i=en.side;en.side=po,en.needsUpdate=!0,ha(kn,ye,me,qt,en,Wt),en.side=_i,en.needsUpdate=!0,Dt=!0}}Dt===!0&&(ae.updateMultisampleRenderTarget(ze),ae.updateRenderTargetMipmap(ze))}L.setRenderTarget(ot),L.setClearColor(he,_e),Ut!==void 0&&(me.viewport=Ut),L.toneMapping=gt}function sn(K,ce,ye){const me=ce.isScene===!0?ce.overrideMaterial:null;for(let Re=0,ze=K.length;Re<ze;Re++){const tt=K[Re],ot=tt.object,gt=tt.geometry,Ut=tt.group;let Dt=tt.material;Dt.allowOverride===!0&&me!==null&&(Dt=me),ot.layers.test(ye.layers)&&ha(ot,ce,ye,gt,Dt,Ut)}}function ha(K,ce,ye,me,Re,ze){K.onBeforeRender(L,ce,ye,me,Re,ze),K.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),Re.onBeforeRender(L,ce,ye,me,K,ze),Re.transparent===!0&&Re.side===ul&&Re.forceSinglePass===!1?(Re.side=po,Re.needsUpdate=!0,L.renderBufferDirect(ye,ce,me,Re,K,ze),Re.side=$u,Re.needsUpdate=!0,L.renderBufferDirect(ye,ce,me,Re,K,ze),Re.side=ul):L.renderBufferDirect(ye,ce,me,Re,K,ze),K.onAfterRender(L,ce,ye,me,Re,ze)}function ni(K,ce,ye){ce.isScene!==!0&&(ce=Ct);const me=We.get(K),Re=M.state.lights,ze=M.state.shadowsArray,tt=Re.state.version,ot=Pe.getParameters(K,Re.state,ze,ce,ye),gt=Pe.getProgramCacheKey(ot);let Ut=me.programs;me.environment=K.isMeshStandardMaterial?ce.environment:null,me.fog=ce.fog,me.envMap=(K.isMeshStandardMaterial?ee:V).get(K.envMap||me.environment),me.envMapRotation=me.environment!==null&&K.envMap===null?ce.environmentRotation:K.envMapRotation,Ut===void 0&&(K.addEventListener("dispose",$t),Ut=new Map,me.programs=Ut);let Dt=Ut.get(gt);if(Dt!==void 0){if(me.currentProgram===Dt&&me.lightsStateVersion===tt)return ne(K,ot),Dt}else ot.uniforms=Pe.getUniforms(K),K.onBeforeCompile(ot,L),Dt=Pe.acquireProgram(ot,gt),Ut.set(gt,Dt),me.uniforms=ot.uniforms;const Lt=me.uniforms;return(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(Lt.clippingPlanes=ht.uniform),ne(K,ot),me.needsLights=qe(K),me.lightsStateVersion=tt,me.needsLights&&(Lt.ambientLightColor.value=Re.state.ambient,Lt.lightProbe.value=Re.state.probe,Lt.directionalLights.value=Re.state.directional,Lt.directionalLightShadows.value=Re.state.directionalShadow,Lt.spotLights.value=Re.state.spot,Lt.spotLightShadows.value=Re.state.spotShadow,Lt.rectAreaLights.value=Re.state.rectArea,Lt.ltc_1.value=Re.state.rectAreaLTC1,Lt.ltc_2.value=Re.state.rectAreaLTC2,Lt.pointLights.value=Re.state.point,Lt.pointLightShadows.value=Re.state.pointShadow,Lt.hemisphereLights.value=Re.state.hemi,Lt.directionalShadowMap.value=Re.state.directionalShadowMap,Lt.directionalShadowMatrix.value=Re.state.directionalShadowMatrix,Lt.spotShadowMap.value=Re.state.spotShadowMap,Lt.spotLightMatrix.value=Re.state.spotLightMatrix,Lt.spotLightMap.value=Re.state.spotLightMap,Lt.pointShadowMap.value=Re.state.pointShadowMap,Lt.pointShadowMatrix.value=Re.state.pointShadowMatrix),me.currentProgram=Dt,me.uniformsList=null,Dt}function J(K){if(K.uniformsList===null){const ce=K.currentProgram.getUniforms();K.uniformsList=CS.seqWithValue(ce.seq,K.uniforms)}return K.uniformsList}function ne(K,ce){const ye=We.get(K);ye.outputColorSpace=ce.outputColorSpace,ye.batching=ce.batching,ye.batchingColor=ce.batchingColor,ye.instancing=ce.instancing,ye.instancingColor=ce.instancingColor,ye.instancingMorph=ce.instancingMorph,ye.skinning=ce.skinning,ye.morphTargets=ce.morphTargets,ye.morphNormals=ce.morphNormals,ye.morphColors=ce.morphColors,ye.morphTargetsCount=ce.morphTargetsCount,ye.numClippingPlanes=ce.numClippingPlanes,ye.numIntersection=ce.numClipIntersection,ye.vertexAlphas=ce.vertexAlphas,ye.vertexTangents=ce.vertexTangents,ye.toneMapping=ce.toneMapping}function Ae(K,ce,ye,me,Re){ce.isScene!==!0&&(ce=Ct),ae.resetTextureUnits();const ze=ce.fog,tt=me.isMeshStandardMaterial?ce.environment:null,ot=N===null?L.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Xc,gt=(me.isMeshStandardMaterial?ee:V).get(me.envMap||tt),Ut=me.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,Dt=!!ye.attributes.tangent&&(!!me.normalMap||me.anisotropy>0),Lt=!!ye.morphAttributes.position,tn=!!ye.morphAttributes.normal,Yt=!!ye.morphAttributes.color;let kn=Xu;me.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(kn=L.toneMapping);const qt=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,en=qt!==void 0?qt.length:0,Wt=We.get(me),_i=M.state.lights;if(Ne===!0&&(Ve===!0||K!==O)){const on=K===O&&me.id===B;ht.setState(me,K,on)}let un=!1;me.version===Wt.__version?(Wt.needsLights&&Wt.lightsStateVersion!==_i.state.version||Wt.outputColorSpace!==ot||Re.isBatchedMesh&&Wt.batching===!1||!Re.isBatchedMesh&&Wt.batching===!0||Re.isBatchedMesh&&Wt.batchingColor===!0&&Re.colorTexture===null||Re.isBatchedMesh&&Wt.batchingColor===!1&&Re.colorTexture!==null||Re.isInstancedMesh&&Wt.instancing===!1||!Re.isInstancedMesh&&Wt.instancing===!0||Re.isSkinnedMesh&&Wt.skinning===!1||!Re.isSkinnedMesh&&Wt.skinning===!0||Re.isInstancedMesh&&Wt.instancingColor===!0&&Re.instanceColor===null||Re.isInstancedMesh&&Wt.instancingColor===!1&&Re.instanceColor!==null||Re.isInstancedMesh&&Wt.instancingMorph===!0&&Re.morphTexture===null||Re.isInstancedMesh&&Wt.instancingMorph===!1&&Re.morphTexture!==null||Wt.envMap!==gt||me.fog===!0&&Wt.fog!==ze||Wt.numClippingPlanes!==void 0&&(Wt.numClippingPlanes!==ht.numPlanes||Wt.numIntersection!==ht.numIntersection)||Wt.vertexAlphas!==Ut||Wt.vertexTangents!==Dt||Wt.morphTargets!==Lt||Wt.morphNormals!==tn||Wt.morphColors!==Yt||Wt.toneMapping!==kn||Wt.morphTargetsCount!==en)&&(un=!0):(un=!0,Wt.__version=me.version);let mn=Wt.currentProgram;un===!0&&(mn=ni(me,ce,Re));let di=!1,Qt=!1,hn=!1;const En=mn.getUniforms(),vi=Wt.uniforms;if(rt.useProgram(mn.program)&&(di=!0,Qt=!0,hn=!0),me.id!==B&&(B=me.id,Qt=!0),di||O!==K){rt.buffers.depth.getReversed()?(ct.copy(K.projectionMatrix),Xse(ct),qse(ct),En.setValue(fe,"projectionMatrix",ct)):En.setValue(fe,"projectionMatrix",K.projectionMatrix),En.setValue(fe,"viewMatrix",K.matrixWorldInverse);const lr=En.map.cameraPosition;lr!==void 0&&lr.setValue(fe,Jt.setFromMatrixPosition(K.matrixWorld)),et.logarithmicDepthBuffer&&En.setValue(fe,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&En.setValue(fe,"isOrthographic",K.isOrthographicCamera===!0),O!==K&&(O=K,Qt=!0,hn=!0)}if(Re.isSkinnedMesh){En.setOptional(fe,Re,"bindMatrix"),En.setOptional(fe,Re,"bindMatrixInverse");const on=Re.skeleton;on&&(on.boneTexture===null&&on.computeBoneTexture(),En.setValue(fe,"boneTexture",on.boneTexture,ae))}Re.isBatchedMesh&&(En.setOptional(fe,Re,"batchingTexture"),En.setValue(fe,"batchingTexture",Re._matricesTexture,ae),En.setOptional(fe,Re,"batchingIdTexture"),En.setValue(fe,"batchingIdTexture",Re._indirectTexture,ae),En.setOptional(fe,Re,"batchingColorTexture"),Re._colorsTexture!==null&&En.setValue(fe,"batchingColorTexture",Re._colorsTexture,ae));const Qn=ye.morphAttributes;if((Qn.position!==void 0||Qn.normal!==void 0||Qn.color!==void 0)&&Pt.update(Re,ye,mn),(Qt||Wt.receiveShadow!==Re.receiveShadow)&&(Wt.receiveShadow=Re.receiveShadow,En.setValue(fe,"receiveShadow",Re.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(vi.envMap.value=gt,vi.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1),me.isMeshStandardMaterial&&me.envMap===null&&ce.environment!==null&&(vi.envMapIntensity.value=ce.environmentIntensity),Qt&&(En.setValue(fe,"toneMappingExposure",L.toneMappingExposure),Wt.needsLights&&ke(vi,hn),ze&&me.fog===!0&&Ue.refreshFogUniforms(vi,ze),Ue.refreshMaterialUniforms(vi,me,re,Z,M.state.transmissionRenderTarget[K.id]),CS.upload(fe,J(Wt),vi,ae)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(CS.upload(fe,J(Wt),vi,ae),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&En.setValue(fe,"center",Re.center),En.setValue(fe,"modelViewMatrix",Re.modelViewMatrix),En.setValue(fe,"normalMatrix",Re.normalMatrix),En.setValue(fe,"modelMatrix",Re.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const on=me.uniformsGroups;for(let lr=0,fr=on.length;lr<fr;lr++){const fa=on[lr];Se.update(fa,mn),Se.bind(fa,mn)}}return mn}function ke(K,ce){K.ambientLightColor.needsUpdate=ce,K.lightProbe.needsUpdate=ce,K.directionalLights.needsUpdate=ce,K.directionalLightShadows.needsUpdate=ce,K.pointLights.needsUpdate=ce,K.pointLightShadows.needsUpdate=ce,K.spotLights.needsUpdate=ce,K.spotLightShadows.needsUpdate=ce,K.rectAreaLights.needsUpdate=ce,K.hemisphereLights.needsUpdate=ce}function qe(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return j},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(K,ce,ye){const me=We.get(K);me.__autoAllocateDepthBuffer=K.resolveDepthBuffer===!1,me.__autoAllocateDepthBuffer===!1&&(me.__useRenderToTexture=!1),We.get(K.texture).__webglTexture=ce,We.get(K.depthTexture).__webglTexture=me.__autoAllocateDepthBuffer?void 0:ye,me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(K,ce){const ye=We.get(K);ye.__webglFramebuffer=ce,ye.__useDefaultFramebuffer=ce===void 0};const nt=fe.createFramebuffer();this.setRenderTarget=function(K,ce=0,ye=0){N=K,j=ce,U=ye;let me=!0,Re=null,ze=!1,tt=!1;if(K){const gt=We.get(K);if(gt.__useDefaultFramebuffer!==void 0)rt.bindFramebuffer(fe.FRAMEBUFFER,null),me=!1;else if(gt.__webglFramebuffer===void 0)ae.setupRenderTarget(K);else if(gt.__hasExternalTextures)ae.rebindTextures(K,We.get(K.texture).__webglTexture,We.get(K.depthTexture).__webglTexture);else if(K.depthBuffer){const Lt=K.depthTexture;if(gt.__boundDepthTexture!==Lt){if(Lt!==null&&We.has(Lt)&&(K.width!==Lt.image.width||K.height!==Lt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ae.setupDepthRenderbuffer(K)}}const Ut=K.texture;(Ut.isData3DTexture||Ut.isDataArrayTexture||Ut.isCompressedArrayTexture)&&(tt=!0);const Dt=We.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(Array.isArray(Dt[ce])?Re=Dt[ce][ye]:Re=Dt[ce],ze=!0):K.samples>0&&ae.useMultisampledRTT(K)===!1?Re=We.get(K).__webglMultisampledFramebuffer:Array.isArray(Dt)?Re=Dt[ye]:Re=Dt,H.copy(K.viewport),Q.copy(K.scissor),G=K.scissorTest}else H.copy(pe).multiplyScalar(re).floor(),Q.copy(we).multiplyScalar(re).floor(),G=Te;if(ye!==0&&(Re=nt),rt.bindFramebuffer(fe.FRAMEBUFFER,Re)&&me&&rt.drawBuffers(K,Re),rt.viewport(H),rt.scissor(Q),rt.setScissorTest(G),ze){const gt=We.get(K.texture);fe.framebufferTexture2D(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_CUBE_MAP_POSITIVE_X+ce,gt.__webglTexture,ye)}else if(tt){const gt=We.get(K.texture),Ut=ce;fe.framebufferTextureLayer(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,gt.__webglTexture,ye,Ut)}else if(K!==null&&ye!==0){const gt=We.get(K.texture);fe.framebufferTexture2D(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_2D,gt.__webglTexture,ye)}B=-1},this.readRenderTargetPixels=function(K,ce,ye,me,Re,ze,tt){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ot=We.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&tt!==void 0&&(ot=ot[tt]),ot){rt.bindFramebuffer(fe.FRAMEBUFFER,ot);try{const gt=K.texture,Ut=gt.format,Dt=gt.type;if(!et.textureFormatReadable(Ut)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!et.textureTypeReadable(Dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=K.width-me&&ye>=0&&ye<=K.height-Re&&fe.readPixels(ce,ye,me,Re,Je.convert(Ut),Je.convert(Dt),ze)}finally{const gt=N!==null?We.get(N).__webglFramebuffer:null;rt.bindFramebuffer(fe.FRAMEBUFFER,gt)}}},this.readRenderTargetPixelsAsync=async function(K,ce,ye,me,Re,ze,tt){if(!(K&&K.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ot=We.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&tt!==void 0&&(ot=ot[tt]),ot)if(ce>=0&&ce<=K.width-me&&ye>=0&&ye<=K.height-Re){rt.bindFramebuffer(fe.FRAMEBUFFER,ot);const gt=K.texture,Ut=gt.format,Dt=gt.type;if(!et.textureFormatReadable(Ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!et.textureTypeReadable(Dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Lt=fe.createBuffer();fe.bindBuffer(fe.PIXEL_PACK_BUFFER,Lt),fe.bufferData(fe.PIXEL_PACK_BUFFER,ze.byteLength,fe.STREAM_READ),fe.readPixels(ce,ye,me,Re,Je.convert(Ut),Je.convert(Dt),0);const tn=N!==null?We.get(N).__webglFramebuffer:null;rt.bindFramebuffer(fe.FRAMEBUFFER,tn);const Yt=fe.fenceSync(fe.SYNC_GPU_COMMANDS_COMPLETE,0);return fe.flush(),await Gse(fe,Yt,4),fe.bindBuffer(fe.PIXEL_PACK_BUFFER,Lt),fe.getBufferSubData(fe.PIXEL_PACK_BUFFER,0,ze),fe.deleteBuffer(Lt),fe.deleteSync(Yt),ze}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(K,ce=null,ye=0){const me=Math.pow(2,-ye),Re=Math.floor(K.image.width*me),ze=Math.floor(K.image.height*me),tt=ce!==null?ce.x:0,ot=ce!==null?ce.y:0;ae.setTexture2D(K,0),fe.copyTexSubImage2D(fe.TEXTURE_2D,ye,0,0,tt,ot,Re,ze),rt.unbindTexture()};const Mt=fe.createFramebuffer(),yt=fe.createFramebuffer();this.copyTextureToTexture=function(K,ce,ye=null,me=null,Re=0,ze=null){ze===null&&(Re!==0?(ES("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ze=Re,Re=0):ze=0);let tt,ot,gt,Ut,Dt,Lt,tn,Yt,kn;const qt=K.isCompressedTexture?K.mipmaps[ze]:K.image;if(ye!==null)tt=ye.max.x-ye.min.x,ot=ye.max.y-ye.min.y,gt=ye.isBox3?ye.max.z-ye.min.z:1,Ut=ye.min.x,Dt=ye.min.y,Lt=ye.isBox3?ye.min.z:0;else{const Qn=Math.pow(2,-Re);tt=Math.floor(qt.width*Qn),ot=Math.floor(qt.height*Qn),K.isDataArrayTexture?gt=qt.depth:K.isData3DTexture?gt=Math.floor(qt.depth*Qn):gt=1,Ut=0,Dt=0,Lt=0}me!==null?(tn=me.x,Yt=me.y,kn=me.z):(tn=0,Yt=0,kn=0);const en=Je.convert(ce.format),Wt=Je.convert(ce.type);let _i;ce.isData3DTexture?(ae.setTexture3D(ce,0),_i=fe.TEXTURE_3D):ce.isDataArrayTexture||ce.isCompressedArrayTexture?(ae.setTexture2DArray(ce,0),_i=fe.TEXTURE_2D_ARRAY):(ae.setTexture2D(ce,0),_i=fe.TEXTURE_2D),fe.pixelStorei(fe.UNPACK_FLIP_Y_WEBGL,ce.flipY),fe.pixelStorei(fe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),fe.pixelStorei(fe.UNPACK_ALIGNMENT,ce.unpackAlignment);const un=fe.getParameter(fe.UNPACK_ROW_LENGTH),mn=fe.getParameter(fe.UNPACK_IMAGE_HEIGHT),di=fe.getParameter(fe.UNPACK_SKIP_PIXELS),Qt=fe.getParameter(fe.UNPACK_SKIP_ROWS),hn=fe.getParameter(fe.UNPACK_SKIP_IMAGES);fe.pixelStorei(fe.UNPACK_ROW_LENGTH,qt.width),fe.pixelStorei(fe.UNPACK_IMAGE_HEIGHT,qt.height),fe.pixelStorei(fe.UNPACK_SKIP_PIXELS,Ut),fe.pixelStorei(fe.UNPACK_SKIP_ROWS,Dt),fe.pixelStorei(fe.UNPACK_SKIP_IMAGES,Lt);const En=K.isDataArrayTexture||K.isData3DTexture,vi=ce.isDataArrayTexture||ce.isData3DTexture;if(K.isDepthTexture){const Qn=We.get(K),on=We.get(ce),lr=We.get(Qn.__renderTarget),fr=We.get(on.__renderTarget);rt.bindFramebuffer(fe.READ_FRAMEBUFFER,lr.__webglFramebuffer),rt.bindFramebuffer(fe.DRAW_FRAMEBUFFER,fr.__webglFramebuffer);for(let fa=0;fa<gt;fa++)En&&(fe.framebufferTextureLayer(fe.READ_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,We.get(K).__webglTexture,Re,Lt+fa),fe.framebufferTextureLayer(fe.DRAW_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,We.get(ce).__webglTexture,ze,kn+fa)),fe.blitFramebuffer(Ut,Dt,tt,ot,tn,Yt,tt,ot,fe.DEPTH_BUFFER_BIT,fe.NEAREST);rt.bindFramebuffer(fe.READ_FRAMEBUFFER,null),rt.bindFramebuffer(fe.DRAW_FRAMEBUFFER,null)}else if(Re!==0||K.isRenderTargetTexture||We.has(K)){const Qn=We.get(K),on=We.get(ce);rt.bindFramebuffer(fe.READ_FRAMEBUFFER,Mt),rt.bindFramebuffer(fe.DRAW_FRAMEBUFFER,yt);for(let lr=0;lr<gt;lr++)En?fe.framebufferTextureLayer(fe.READ_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,Qn.__webglTexture,Re,Lt+lr):fe.framebufferTexture2D(fe.READ_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_2D,Qn.__webglTexture,Re),vi?fe.framebufferTextureLayer(fe.DRAW_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,on.__webglTexture,ze,kn+lr):fe.framebufferTexture2D(fe.DRAW_FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_2D,on.__webglTexture,ze),Re!==0?fe.blitFramebuffer(Ut,Dt,tt,ot,tn,Yt,tt,ot,fe.COLOR_BUFFER_BIT,fe.NEAREST):vi?fe.copyTexSubImage3D(_i,ze,tn,Yt,kn+lr,Ut,Dt,tt,ot):fe.copyTexSubImage2D(_i,ze,tn,Yt,Ut,Dt,tt,ot);rt.bindFramebuffer(fe.READ_FRAMEBUFFER,null),rt.bindFramebuffer(fe.DRAW_FRAMEBUFFER,null)}else vi?K.isDataTexture||K.isData3DTexture?fe.texSubImage3D(_i,ze,tn,Yt,kn,tt,ot,gt,en,Wt,qt.data):ce.isCompressedArrayTexture?fe.compressedTexSubImage3D(_i,ze,tn,Yt,kn,tt,ot,gt,en,qt.data):fe.texSubImage3D(_i,ze,tn,Yt,kn,tt,ot,gt,en,Wt,qt):K.isDataTexture?fe.texSubImage2D(fe.TEXTURE_2D,ze,tn,Yt,tt,ot,en,Wt,qt.data):K.isCompressedTexture?fe.compressedTexSubImage2D(fe.TEXTURE_2D,ze,tn,Yt,qt.width,qt.height,en,qt.data):fe.texSubImage2D(fe.TEXTURE_2D,ze,tn,Yt,tt,ot,en,Wt,qt);fe.pixelStorei(fe.UNPACK_ROW_LENGTH,un),fe.pixelStorei(fe.UNPACK_IMAGE_HEIGHT,mn),fe.pixelStorei(fe.UNPACK_SKIP_PIXELS,di),fe.pixelStorei(fe.UNPACK_SKIP_ROWS,Qt),fe.pixelStorei(fe.UNPACK_SKIP_IMAGES,hn),ze===0&&ce.generateMipmaps&&fe.generateMipmap(_i),rt.unbindTexture()},this.copyTextureToTexture3D=function(K,ce,ye=null,me=null,Re=0){return ES('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(K,ce,ye,me,Re)},this.initRenderTarget=function(K){We.get(K).__webglFramebuffer===void 0&&ae.setupRenderTarget(K)},this.initTexture=function(K){K.isCubeTexture?ae.setTextureCube(K,0):K.isData3DTexture?ae.setTexture3D(K,0):K.isDataArrayTexture||K.isCompressedArrayTexture?ae.setTexture2DArray(K,0):ae.setTexture2D(K,0),rt.unbindTexture()},this.resetState=function(){j=0,U=0,N=null,rt.reset(),bt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return jc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Si._getDrawingBufferColorSpace(e),t.unpackColorSpace=Si._getUnpackColorSpace()}}const Qde=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:yR,AddEquation:_d,AddOperation:o7,AdditiveAnimationBlendMode:ER,AdditiveBlending:s4,AgXToneMapping:f7,AlphaFormat:vR,AlwaysCompare:w7,AlwaysDepth:tA,AlwaysStencilFunc:h4,AmbientLight:mF,AnimationAction:EF,AnimationClip:uy,AnimationLoader:gle,AnimationMixer:TF,AnimationObjectGroup:zle,AnimationUtils:fle,ArcCurve:k7,ArrayCamera:MF,ArrowHelper:lce,AttachedBindMode:c4,Audio:SF,AudioAnalyser:Rle,AudioContext:eI,AudioListener:Tle,AudioLoader:Sle,AxesHelper:cce,BackSide:po,BasicDepthPacking:v7,BasicShadowMap:jU,BatchedMesh:V7,Bone:jE,BooleanKeyframeTrack:zm,Box2:Yle,Box3:js,Box3Helper:sce,BoxGeometry:Fm,BoxHelper:ace,BufferAttribute:Ii,BufferGeometry:qn,BufferGeometryLoader:bF,ByteType:RE,Cache:Zh,Camera:FE,CameraHelper:rce,CanvasTexture:Noe,CapsuleGeometry:XE,CatmullRomCurve3:H7,CineonToneMapping:u7,CircleGeometry:qE,ClampToEdgeWrapping:la,Clock:tI,Color:Vt,ColorKeyframeTrack:YR,ColorManagement:Si,CompressedArrayTexture:Boe,CompressedCubeTexture:Ooe,CompressedTexture:HE,CompressedTextureLoader:yle,ConeGeometry:WE,ConstantAlphaFactor:r7,ConstantColorFactor:n7,Controls:hce,CubeCamera:L7,CubeReflectionMapping:Zu,CubeRefractionMapping:Bd,CubeTexture:lb,CubeTextureLoader:fF,CubeUVReflectionMapping:Ey,CubicBezierCurve:zR,CubicBezierCurve3:G7,CubicInterpolant:cF,CullFaceBack:a4,CullFaceFront:VU,CullFaceFrontBack:Jae,CullFaceNone:zU,Curve:Wc,CurvePath:q7,CustomBlending:kU,CustomToneMapping:h7,CylinderGeometry:Ty,Cylindrical:Wle,Data3DTexture:UE,DataArrayTexture:ob,DataTexture:Hc,DataTextureLoader:KR,DataUtils:lm,DecrementStencilOp:sse,DecrementWrapStencilOp:lse,DefaultLoadingManager:Cg,DepthFormat:ny,DepthStencilFormat:iy,DepthTexture:UR,DetachedBindMode:p7,DirectionalLight:ZR,DirectionalLightHelper:ice,DiscreteInterpolant:uF,DodecahedronGeometry:YE,DoubleSide:ul,DstAlphaFactor:QU,DstColorFactor:ZU,DynamicCopyUsage:Sse,DynamicDrawUsage:yse,DynamicReadUsage:bse,EdgesGeometry:W7,EllipseCurve:GE,EqualCompare:A7,EqualDepth:iA,EqualStencilFunc:fse,EquirectangularReflectionMapping:$g,EquirectangularRefractionMapping:_1,Euler:ml,EventDispatcher:sh,ExtrudeGeometry:KE,FileLoader:ys,Float16BufferAttribute:doe,Float32BufferAttribute:rn,FloatType:Vr,Fog:VE,FogExp2:zE,FramebufferTexture:Doe,FrontSide:$u,Frustum:fb,GLBufferAttribute:qle,GLSL1:Ese,GLSL3:f4,GreaterCompare:E7,GreaterDepth:aA,GreaterEqualCompare:C7,GreaterEqualDepth:rA,GreaterEqualStencilFunc:gse,GreaterStencilFunc:pse,GridHelper:tce,Group:$h,HalfFloatType:Ya,HemisphereLight:pF,HemisphereLightHelper:ece,IcosahedronGeometry:pb,ImageBitmapLoader:xF,ImageLoader:w1,ImageUtils:D7,IncrementStencilOp:ase,IncrementWrapStencilOp:ose,InstancedBufferAttribute:Cm,InstancedBufferGeometry:vF,InstancedInterleavedBuffer:Xle,InstancedMesh:OR,Int16BufferAttribute:hoe,Int32BufferAttribute:foe,Int8BufferAttribute:loe,IntType:rb,InterleavedBuffer:ub,InterleavedBufferAttribute:Nd,Interpolant:Cy,InterpolateDiscrete:ry,InterpolateLinear:ay,InterpolateSmooth:AS,InvertStencilOp:cse,KeepStencilOp:Jp,KeyframeTrack:ic,LOD:z7,LatheGeometry:db,Layers:oy,LessCompare:S7,LessDepth:nA,LessEqualCompare:CR,LessEqualDepth:Tm,LessEqualStencilFunc:dse,LessStencilFunc:hse,Light:Yd,LightProbe:_F,Line:uf,Line3:Kle,LineBasicMaterial:ks,LineCurve:VR,LineCurve3:X7,LineDashedMaterial:sF,LineLoop:NR,LineSegments:qc,LinearFilter:Hi,LinearInterpolant:WR,LinearMipMapLinearFilter:u4,LinearMipMapNearestFilter:Zae,LinearMipmapLinearFilter:Kl,LinearMipmapNearestFilter:Ng,LinearSRGBColorSpace:Xc,LinearToneMapping:l7,LinearTransfer:b1,Loader:vs,LoaderUtils:Sd,LoadingManager:n2,LoopOnce:m7,LoopPingPong:y7,LoopRepeat:g7,LuminanceAlphaFormat:MR,LuminanceFormat:xR,MOUSE:Yp,Material:Ba,MaterialLoader:i2,MathUtils:R7,Matrix2:sI,Matrix3:Xn,Matrix4:bn,MaxEquation:qU,Mesh:Ir,MeshBasicMaterial:Vo,MeshDepthMaterial:GR,MeshDistanceMaterial:XR,MeshLambertMaterial:rF,MeshMatcapMaterial:aF,MeshNormalMaterial:iF,MeshPhongMaterial:tF,MeshPhysicalMaterial:nc,MeshStandardMaterial:yb,MeshToonMaterial:nF,MinEquation:XU,MirroredRepeatWrapping:Zg,MixOperation:s7,MultiplyBlending:l4,MultiplyOperation:ib,NearestFilter:Ka,NearestMipMapLinearFilter:$ae,NearestMipMapNearestFilter:Qae,NearestMipmapLinearFilter:am,NearestMipmapNearestFilter:wE,NeutralToneMapping:d7,NeverCompare:M7,NeverDepth:eA,NeverStencilFunc:use,NoBlending:Gu,NoColorSpace:Kh,NoToneMapping:Xu,NormalAnimationBlendMode:NE,NormalBlending:vm,NotEqualCompare:T7,NotEqualDepth:sA,NotEqualStencilFunc:mse,NumberKeyframeTrack:Rm,Object3D:fi,ObjectLoader:xle,ObjectSpaceNormalMap:x7,OctahedronGeometry:mb,OneFactor:YU,OneMinusConstantAlphaFactor:a7,OneMinusConstantColorFactor:i7,OneMinusDstAlphaFactor:$U,OneMinusDstColorFactor:e7,OneMinusSrcAlphaFactor:ZS,OneMinusSrcColorFactor:JU,OrthographicCamera:$l,PCFShadowMap:CE,PCFSoftShadowMap:Uv,PMREMGenerator:b4,Path:A1,PerspectiveCamera:wr,Plane:Gh,PlaneGeometry:Wd,PlaneHelper:oce,PointLight:$R,PointLightHelper:$le,Points:LR,PointsMaterial:kE,PolarGridHelper:nce,PolyhedronGeometry:qd,PositionalAudio:wle,PropertyBinding:Ci,PropertyMixer:AF,QuadraticBezierCurve:jR,QuadraticBezierCurve3:kR,Quaternion:Ja,QuaternionKeyframeTrack:Im,QuaternionLinearInterpolant:hF,RED_GREEN_RGTC2_Format:PA,RED_RGTC1_Format:AR,REVISION:nb,RGBADepthPacking:b7,RGBAFormat:ca,RGBAIntegerFormat:OE,RGBA_ASTC_10x10_Format:EA,RGBA_ASTC_10x5_Format:MA,RGBA_ASTC_10x6_Format:SA,RGBA_ASTC_10x8_Format:AA,RGBA_ASTC_12x10_Format:TA,RGBA_ASTC_12x12_Format:CA,RGBA_ASTC_4x4_Format:pA,RGBA_ASTC_5x4_Format:mA,RGBA_ASTC_5x5_Format:gA,RGBA_ASTC_6x5_Format:yA,RGBA_ASTC_6x6_Format:_A,RGBA_ASTC_8x5_Format:vA,RGBA_ASTC_8x6_Format:bA,RGBA_ASTC_8x8_Format:xA,RGBA_BPTC_Format:kv,RGBA_ETC2_EAC_Format:dA,RGBA_PVRTC_2BPPV1_Format:uA,RGBA_PVRTC_4BPPV1_Format:cA,RGBA_S3TC_DXT1_Format:zv,RGBA_S3TC_DXT3_Format:Vv,RGBA_S3TC_DXT5_Format:jv,RGBDepthPacking:tse,RGBFormat:bR,RGBIntegerFormat:ese,RGB_BPTC_SIGNED_Format:wA,RGB_BPTC_UNSIGNED_Format:RA,RGB_ETC1_Format:hA,RGB_ETC2_Format:fA,RGB_PVRTC_2BPPV1_Format:lA,RGB_PVRTC_4BPPV1_Format:oA,RGB_S3TC_DXT1_Format:Fv,RGDepthPacking:nse,RGFormat:SR,RGIntegerFormat:BE,RawShaderMaterial:eF,Ray:Um,Raycaster:aI,RectAreaLight:gF,RedFormat:ab,RedIntegerFormat:sb,ReinhardToneMapping:c7,RenderTarget:LE,RenderTarget3D:jle,RenderTargetArray:kle,RepeatWrapping:Od,ReplaceStencilOp:rse,ReverseSubtractEquation:GU,RingGeometry:JE,SIGNED_RED_GREEN_RGTC2_Format:DA,SIGNED_RED_RGTC1_Format:IA,SRGBColorSpace:ds,SRGBTransfer:tr,Scene:cb,ShaderChunk:Zn,ShaderLib:Uc,ShaderMaterial:qo,ShadowMaterial:Z7,Shape:xm,ShapeGeometry:QE,ShapePath:uce,ShapeUtils:qu,ShortType:IE,Skeleton:hb,SkeletonHelper:Qle,SkinnedMesh:BR,Source:bd,Sphere:gs,SphereGeometry:gb,Spherical:_4,SphericalHarmonics3:yF,SplineCurve:HR,SpotLight:QR,SpotLightHelper:Jle,Sprite:F7,SpriteMaterial:DR,SrcAlphaFactor:$S,SrcAlphaSaturateFactor:t7,SrcColorFactor:KU,StaticCopyUsage:Mse,StaticDrawUsage:x1,StaticReadUsage:vse,StereoCamera:Ale,StreamCopyUsage:Ase,StreamDrawUsage:_se,StreamReadUsage:xse,StringKeyframeTrack:Vm,SubtractEquation:HU,SubtractiveBlending:o4,TOUCH:Kp,TangentSpaceNormalMap:Xd,TetrahedronGeometry:$E,Texture:Wi,TextureLoader:dF,TextureUtils:gce,TimestampQuery:Tse,TorusGeometry:ZE,TorusKnotGeometry:e2,Triangle:zo,TriangleFanDrawMode:BA,TriangleStripDrawMode:TR,TrianglesDrawMode:_7,TubeGeometry:t2,UVMapping:Dd,Uint16BufferAttribute:RR,Uint32BufferAttribute:IR,Uint8BufferAttribute:coe,Uint8ClampedBufferAttribute:uoe,Uniform:rI,UniformsGroup:Gle,UniformsLib:kt,UniformsUtils:N7,UnsignedByteType:Xo,UnsignedInt248Type:ty,UnsignedInt5999Type:_R,UnsignedIntType:eh,UnsignedShort4444Type:PE,UnsignedShort5551Type:DE,UnsignedShortType:ey,VSMShadowMap:Lc,Vector2:pt,Vector3:oe,Vector4:Ri,VectorKeyframeTrack:Pm,VideoFrameTexture:Poe,VideoTexture:j7,WebGL3DRenderTarget:Qse,WebGLArrayRenderTarget:Jse,WebGLCoordinateSystem:jc,WebGLCubeRenderTarget:PR,WebGLRenderTarget:tc,WebGLRenderer:lI,WebGLUtils:BF,WebGPUCoordinateSystem:M1,WebXRController:TS,WireframeGeometry:$7,WrapAroundEnding:v1,ZeroCurvatureEnding:sm,ZeroFactor:WU,ZeroSlopeEnding:om,ZeroStencilOp:ise,createCanvasElement:P7},Symbol.toStringTag,{value:"Module"}));var NC={exports:{}},jh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n6;function $de(){return n6||(n6=1,jh.ConcurrentRoot=1,jh.ContinuousEventPriority=8,jh.DefaultEventPriority=32,jh.DiscreteEventPriority=2,jh.IdleEventPriority=268435456,jh.LegacyRoot=0,jh.NoEventPriority=0),jh}var i6;function Zde(){return i6||(i6=1,NC.exports=$de()),NC.exports}var wS=Zde(),LC={exports:{}},UC={},FC={exports:{}},zC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r6;function epe(){if(r6)return zC;r6=1;var n=vy();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function l(g,y){var v=y(),x=i({inst:{value:v,getSnapshot:y}}),w=x[0].inst,A=x[1];return a(function(){w.value=v,w.getSnapshot=y,c(w)&&A({inst:w})},[g,v,y]),r(function(){return c(w)&&A({inst:w}),g(function(){c(w)&&A({inst:w})})},[g]),s(v),v}function c(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!t(g,v)}catch{return!0}}function f(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return zC.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,zC}var a6;function tpe(){return a6||(a6=1,FC.exports=epe()),FC.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s6;function npe(){if(s6)return UC;s6=1;var n=vy(),e=tpe();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue;return UC.useSyncExternalStoreWithSelector=function(f,p,g,y,v){var x=a(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function M(j){if(!R){if(R=!0,P=j,j=y(j),v!==void 0&&w.hasValue){var U=w.value;if(v(U,j))return L=U}return L=j}if(U=L,i(P,j))return U;var N=y(j);return v!==void 0&&v(U,N)?(P=j,U):(P=j,L=N)}var R=!1,P,L,F=g===void 0?null:g;return[function(){return M(p())},F===null?void 0:function(){return M(F())}]},[p,g,y,v]);var A=r(f,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=A},[A]),c(A),A},UC}var o6;function ipe(){return o6||(o6=1,LC.exports=npe()),LC.exports}var rpe=ipe();const ape=V1(rpe),l6=n=>{let e;const t=new Set,i=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const y=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(v=>v(e,y))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>c,subscribe:f=>(t.add(f),()=>t.delete(f))},c=e=n(i,r,l);return l},OF=n=>n?l6(n):l6,{useSyncExternalStoreWithSelector:spe}=ape,ope=n=>n;function lpe(n,e=ope,t){const i=spe(n.subscribe,n.getState,n.getInitialState,e,t);return xr.useDebugValue(i),i}const c6=(n,e)=>{const t=OF(n),i=(r,a=e)=>lpe(t,r,a);return Object.assign(i,t),i},NF=(n,e)=>n?c6(n,e):c6;var VC={exports:{}},jC={exports:{}},kC={exports:{}},HC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6;function cpe(){return u6||(u6=1,function(n){function e(X,Z){var re=X.length;X.push(Z);e:for(;0<re;){var be=re-1>>>1,$=X[be];if(0<r($,Z))X[be]=Z,X[re]=$,re=be;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Z=X[0],re=X.pop();if(re!==Z){X[0]=re;e:for(var be=0,$=X.length,pe=$>>>1;be<pe;){var we=2*(be+1)-1,Te=X[we],de=we+1,Ne=X[de];if(0>r(Te,re))de<$&&0>r(Ne,Te)?(X[be]=Ne,X[de]=re,be=de):(X[be]=Te,X[we]=re,be=we);else if(de<$&&0>r(Ne,re))X[be]=Ne,X[de]=re,be=de;else break e}}return Z}function r(X,Z){var re=X.sortIndex-Z.sortIndex;return re!==0?re:X.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],f=[],p=1,g=null,y=3,v=!1,x=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function P(X){for(var Z=t(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=X)i(f),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=t(f)}}function L(X){if(w=!1,P(X),!x)if(t(c)!==null)x=!0,he();else{var Z=t(f);Z!==null&&_e(L,Z.startTime-X)}}var F=!1,j=-1,U=5,N=-1;function B(){return!(n.unstable_now()-N<U)}function O(){if(F){var X=n.unstable_now();N=X;var Z=!0;try{e:{x=!1,w&&(w=!1,M(j),j=-1),v=!0;var re=y;try{t:{for(P(X),g=t(c);g!==null&&!(g.expirationTime>X&&B());){var be=g.callback;if(typeof be=="function"){g.callback=null,y=g.priorityLevel;var $=be(g.expirationTime<=X);if(X=n.unstable_now(),typeof $=="function"){g.callback=$,P(X),Z=!0;break t}g===t(c)&&i(c),P(X)}else i(c);g=t(c)}if(g!==null)Z=!0;else{var pe=t(f);pe!==null&&_e(L,pe.startTime-X),Z=!1}}break e}finally{g=null,y=re,v=!1}Z=void 0}}finally{Z?H():F=!1}}}var H;if(typeof R=="function")H=function(){R(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,G=Q.port2;Q.port1.onmessage=O,H=function(){G.postMessage(null)}}else H=function(){A(O,0)};function he(){F||(F=!0,H())}function _e(X,Z){j=A(function(){X(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,he())},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(X){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var re=y;y=Z;try{return X()}finally{y=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var re=y;y=X;try{return Z()}finally{y=re}},n.unstable_scheduleCallback=function(X,Z,re){var be=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?be+re:be):re=be,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,X={id:p++,callback:Z,priorityLevel:X,startTime:re,expirationTime:$,sortIndex:-1},re>be?(X.sortIndex=re,e(f,X),t(c)===null&&X===t(f)&&(w?(M(j),j=-1):w=!0,_e(L,re-be))):(X.sortIndex=$,e(c,X),x||v||(x=!0,he())),X},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(X){var Z=y;return function(){var re=y;y=Z;try{return X.apply(this,arguments)}finally{y=re}}}}(HC)),HC}var h6;function upe(){return h6||(h6=1,kC.exports=cpe()),kC.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f6;function hpe(){return f6||(f6=1,function(n){n.exports=function(e){function t(h,d,b,T){return new Ky(h,d,b,T)}function i(){}function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return h===null||typeof h!="object"?null:(h=_c&&h[_c]||h["@@iterator"],typeof h=="function"?h:null)}function s(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===Zy?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case ou:return"Fragment";case Ao:return"Portal";case l0:return"Profiler";case pp:return"StrictMode";case c0:return"Suspense";case Df:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case $o:return(h.displayName||"Context")+".Provider";case Qy:return(h._context.displayName||"Context")+".Consumer";case gp:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case u0:return d=h.displayName||null,d!==null?d:s(h.type)||"Memo";case Eo:d=h._payload,h=h._init;try{return s(h(d))}catch{}}return null}function l(h){if(El===void 0)try{throw Error()}catch(b){var d=b.stack.trim().match(/\n( *(at )?)/);El=d&&d[1]||"",vc=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+El+h+vc}function c(h,d){if(!h||mh)return"";mh=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(d){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(Nn){var Gt=Nn}Reflect.construct(h,[],jt)}else{try{jt.call()}catch(Nn){Gt=Nn}h.call(jt.prototype)}}else{try{throw Error()}catch(Nn){Gt=Nn}(jt=h())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(Nn){if(Nn&&Gt&&typeof Nn.stack=="string")return[Nn.stack,Gt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=T.DetermineComponentFrameRoot(),ie=k[0],xe=k[1];if(ie&&xe){var Fe=ie.split(`
`),ft=xe.split(`
`);for(D=T=0;T<Fe.length&&!Fe[T].includes("DetermineComponentFrameRoot");)T++;for(;D<ft.length&&!ft[D].includes("DetermineComponentFrameRoot");)D++;if(T===Fe.length||D===ft.length)for(T=Fe.length-1,D=ft.length-1;1<=T&&0<=D&&Fe[T]!==ft[D];)D--;for(;1<=T&&0<=D;T--,D--)if(Fe[T]!==ft[D]){if(T!==1||D!==1)do if(T--,D--,0>D||Fe[T]!==ft[D]){var Rt=`
`+Fe[T].replace(" at new "," at ");return h.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",h.displayName)),Rt}while(1<=T&&0<=D);break}}}finally{mh=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?l(b):""}function f(h){switch(h.tag){case 26:case 27:case 5:return l(h.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return h=c(h.type,!1),h;case 11:return h=c(h.type.render,!1),h;case 1:return h=c(h.type,!0),h;default:return""}}function p(h){try{var d="";do d+=f(h),h=h.return;while(h);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function g(h){var d=h,b=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,(d.flags&4098)!==0&&(b=d.return),h=d.return;while(h)}return d.tag===3?b:null}function y(h){if(g(h)!==h)throw Error(r(188))}function v(h){var d=h.alternate;if(!d){if(d=g(h),d===null)throw Error(r(188));return d!==h?null:h}for(var b=h,T=d;;){var D=b.return;if(D===null)break;var k=D.alternate;if(k===null){if(T=D.return,T!==null){b=T;continue}break}if(D.child===k.child){for(k=D.child;k;){if(k===b)return y(D),h;if(k===T)return y(D),d;k=k.sibling}throw Error(r(188))}if(b.return!==T.return)b=D,T=k;else{for(var ie=!1,xe=D.child;xe;){if(xe===b){ie=!0,b=D,T=k;break}if(xe===T){ie=!0,T=D,b=k;break}xe=xe.sibling}if(!ie){for(xe=k.child;xe;){if(xe===b){ie=!0,b=k,T=D;break}if(xe===T){ie=!0,T=k,b=D;break}xe=xe.sibling}if(!ie)throw Error(r(189))}}if(b.alternate!==T)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?h:d}function x(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(d=x(h),d!==null)return d;h=h.sibling}return null}function w(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(d=w(h),d!==null))return d;h=h.sibling}return null}function A(h){return{current:h}}function M(h){0>Sc||(h.current=Nr[Sc],Nr[Sc]=null,Sc--)}function R(h,d){Sc++,Nr[Sc]=h.current,h.current=d}function P(h){return h>>>=0,h===0?32:31-(gx(h)/yx|0)|0}function L(h){var d=h&42;if(d!==0)return d;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function F(h,d){var b=h.pendingLanes;if(b===0)return 0;var T=0,D=h.suspendedLanes,k=h.pingedLanes,ie=h.warmLanes;h=h.finishedLanes!==0;var xe=b&134217727;return xe!==0?(b=xe&~D,b!==0?T=L(b):(k&=xe,k!==0?T=L(k):h||(ie=xe&~ie,ie!==0&&(T=L(ie))))):(xe=b&~D,xe!==0?T=L(xe):k!==0?T=L(k):h||(ie=b&~ie,ie!==0&&(T=L(ie)))),T===0?0:d!==0&&d!==T&&(d&D)===0&&(D=T&-T,ie=d&-d,D>=ie||D===32&&(ie&4194176)!==0)?d:T}function j(h,d){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&d)===0}function U(h,d){switch(h){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N(){var h=Cl;return Cl<<=1,(Cl&4194176)===0&&(Cl=128),h}function B(){var h=_h;return _h<<=1,(_h&62914560)===0&&(_h=4194304),h}function O(h){for(var d=[],b=0;31>b;b++)d.push(h);return d}function H(h,d){h.pendingLanes|=d,d!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Q(h,d,b,T,D,k){var ie=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var xe=h.entanglements,Fe=h.expirationTimes,ft=h.hiddenUpdates;for(b=ie&~b;0<b;){var Rt=31-ss(b),jt=1<<Rt;xe[Rt]=0,Fe[Rt]=-1;var Gt=ft[Rt];if(Gt!==null)for(ft[Rt]=null,Rt=0;Rt<Gt.length;Rt++){var Nn=Gt[Rt];Nn!==null&&(Nn.lane&=-536870913)}b&=~jt}T!==0&&G(h,T,0),k!==0&&D===0&&h.tag!==0&&(h.suspendedLanes|=k&~(ie&~d))}function G(h,d,b){h.pendingLanes|=d,h.suspendedLanes&=~d;var T=31-ss(d);h.entangledLanes|=d,h.entanglements[T]=h.entanglements[T]|1073741824|b&4194218}function he(h,d){var b=h.entangledLanes|=d;for(h=h.entanglements;b;){var T=31-ss(b),D=1<<T;D&d|h[T]&d&&(h[T]|=d),b&=~D}}function _e(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function X(h){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(Lr,h,void 0,(h.current.flags&128)===128)}catch{}}function Z(h){if(typeof bx=="function"&&ga(h),Cs&&typeof Cs.setStrictMode=="function")try{Cs.setStrictMode(Lr,h)}catch{}}function re(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}function be(h,d){if(typeof h=="object"&&h!==null){var b=__.get(h);return b!==void 0?b:(d={value:h,source:d,stack:p(d)},__.set(h,d),d)}return{value:h,source:d,stack:p(d)}}function $(h,d){vh[bh++]=jf,vh[bh++]=xh,xh=h,jf=d}function pe(h,d,b){Ws[Ys++]=tl,Ws[Ys++]=nl,Ws[Ys++]=pu,pu=h;var T=tl;h=nl;var D=32-ss(T)-1;T&=~(1<<D),b+=1;var k=32-ss(d)+D;if(30<k){var ie=D-D%5;k=(T&(1<<ie)-1).toString(32),T>>=ie,D-=ie,tl=1<<32-ss(d)+D|b<<D|T,nl=k+h}else tl=1<<k|b<<D|T,nl=h}function we(h){h.return!==null&&($(h,1),pe(h,1,0))}function Te(h){for(;h===xh;)xh=vh[--bh],vh[bh]=null,jf=vh[--bh],vh[bh]=null;for(;h===pu;)pu=Ws[--Ys],Ws[Ys]=null,nl=Ws[--Ys],Ws[Ys]=null,tl=Ws[--Ys],Ws[Ys]=null}function de(h,d){R(wl,d),R(kf,h),R(ta,null),h=Nb(d),M(ta),R(ta,h)}function Ne(){M(ta),M(kf),M(wl)}function Ve(h){h.memoizedState!==null&&R(Mh,h);var d=ta.current,b=Lf(d,h.type);d!==b&&(R(kf,h),R(ta,b))}function ct(h){kf.current===h&&(M(ta),M(kf)),Mh.current===h&&(M(Mh),rs?Zo._currentValue=cu:Zo._currentValue2=cu)}function ut(h){var d=Error(r(418,""));throw Ft(be(d,h)),Ep}function Jt(h,d){if(!Ca)throw Error(r(175));sx(h.stateNode,h.type,h.memoizedProps,d,h)||ut(h)}function It(h){for(wa=h.return;wa;)switch(wa.tag){case 3:case 27:ya=!0;return;case 5:case 13:ya=!1;return;default:wa=wa.return}}function Ct(h){if(!Ca||h!==wa)return!1;if(!gi)return It(h),gi=!0,!1;var d=!1;if(Qi?h.tag!==3&&h.tag!==27&&(h.tag!==5||v0(h.type)&&!Fn(h.type,h.memoizedProps))&&(d=!0):h.tag!==3&&(h.tag!==5||v0(h.type)&&!Fn(h.type,h.memoizedProps))&&(d=!0),d&&Ra&&ut(h),It(h),h.tag===13){if(!Ca)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));Ra=lx(h)}else Ra=wa?p_(h.stateNode):null;return!0}function Nt(){Ca&&(Ra=wa=null,gi=!1)}function Ft(h){wo===null?wo=[h]:wo.push(h)}function fe(){for(var h=Sh,d=il=Sh=0;d<h;){var b=Ro[d];Ro[d++]=null;var T=Ro[d];Ro[d++]=null;var D=Ro[d];Ro[d++]=null;var k=Ro[d];if(Ro[d++]=null,T!==null&&D!==null){var ie=T.pending;ie===null?D.next=D:(D.next=ie.next,ie.next=D),T.pending=D}k!==0&&rt(b,D,k)}}function Mn(h,d,b,T){Ro[Sh++]=h,Ro[Sh++]=d,Ro[Sh++]=b,Ro[Sh++]=T,il|=T,h.lanes|=T,h=h.alternate,h!==null&&(h.lanes|=T)}function at(h,d,b,T){return Mn(h,d,b,T),xt(h)}function et(h,d){return Mn(h,null,null,d),xt(h)}function rt(h,d,b){h.lanes|=b;var T=h.alternate;T!==null&&(T.lanes|=b);for(var D=!1,k=h.return;k!==null;)k.childLanes|=b,T=k.alternate,T!==null&&(T.childLanes|=b),k.tag===22&&(h=k.stateNode,h===null||h._visibility&1||(D=!0)),h=k,k=k.return;D&&d!==null&&h.tag===3&&(k=h.stateNode,D=31-ss(b),k=k.hiddenUpdates,h=k[D],h===null?k[D]=[d]:h.push(d),d.lane=b|536870912)}function xt(h){if(50<Qf)throw Qf=0,O0=null,Error(r(185));for(var d=h.return;d!==null;)h=d,d=h.return;return h.tag===3?h.stateNode:null}function We(h){h!==Ac&&h.next===null&&(Ac===null?Tp=Ac=h:Ac=Ac.next=h),ir=!0,Ah||(Ah=!0,ge(V))}function ae(h,d){if(!v_&&ir){v_=!0;do for(var b=!1,T=Tp;T!==null;){if(h!==0){var D=T.pendingLanes;if(D===0)var k=0;else{var ie=T.suspendedLanes,xe=T.pingedLanes;k=(1<<31-ss(42|h)+1)-1,k&=D&~(ie&~xe),k=k&201326677?k&201326677|1:k?k|2:0}k!==0&&(b=!0,Ce(T,k))}else k=oi,k=F(T,T===Bi?k:0),(k&3)===0||j(T,k)||(b=!0,Ce(T,k));T=T.next}while(b);v_=!1}}function V(){ir=Ah=!1;var h=0;Hf!==0&&(zb()&&(h=Hf),Hf=0);for(var d=Co(),b=null,T=Tp;T!==null;){var D=T.next,k=ee(T,d);k===0?(T.next=null,b===null?Tp=D:b.next=D,D===null&&(Ac=b)):(b=T,(h!==0||(k&3)!==0)&&(ir=!0)),T=D}ae(h)}function ee(h,d){for(var b=h.suspendedLanes,T=h.pingedLanes,D=h.expirationTimes,k=h.pendingLanes&-62914561;0<k;){var ie=31-ss(k),xe=1<<ie,Fe=D[ie];Fe===-1?((xe&b)===0||(xe&T)!==0)&&(D[ie]=U(xe,d)):Fe<=d&&(h.expiredLanes|=xe),k&=~xe}if(d=Bi,b=oi,b=F(h,h===d?b:0),T=h.callbackNode,b===0||h===d&&Xi===2||h.cancelPendingCommit!==null)return T!==null&&T!==null&&S0(T),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||j(h,b)){if(d=b&-b,d===h.callbackPriority)return d;switch(T!==null&&S0(T),_e(b)){case 2:case 8:b=vx;break;case 32:b=T0;break;case 268435456:b=D2;break;default:b=T0}return T=ue.bind(null,h),b=Ap(b,T),h.callbackPriority=d,h.callbackNode=b,d}return T!==null&&T!==null&&S0(T),h.callbackPriority=2,h.callbackNode=null,2}function ue(h,d){var b=h.callbackNode;if(Qo()&&h.callbackNode!==b)return null;var T=oi;return T=F(h,h===Bi?T:0),T===0?null:(nu(h,T,d),ee(h,Co()),h.callbackNode!=null&&h.callbackNode===b?ue.bind(null,h):null)}function Ce(h,d){if(Qo())return null;nu(h,d,!0)}function ge(h){r_?Mc(function(){(xi&6)!==0?Ap(E0,h):h()}):Ap(E0,h)}function Pe(){return Hf===0&&(Hf=N()),Hf}function Ue(h,d){if(Gf===null){var b=Gf=[];Eh=0,Ks=Pe(),Th={status:"pending",value:void 0,then:function(T){b.push(T)}}}return Eh++,d.then(lt,lt),d}function lt(){if(--Eh===0&&Gf!==null){Th!==null&&(Th.status="fulfilled");var h=Gf;Gf=null,Ks=0,Th=null;for(var d=0;d<h.length;d++)(0,h[d])()}}function Xt(h,d){var b=[],T={status:"pending",value:null,reason:null,then:function(D){b.push(D)}};return h.then(function(){T.status="fulfilled",T.value=d;for(var D=0;D<b.length;D++)(0,b[D])(d)},function(D){for(T.status="rejected",T.reason=D,D=0;D<b.length;D++)(0,b[D])(void 0)}),T}function ht(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ot(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function zt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Pt(h,d,b){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(xi&2)!==0){var D=T.pending;return D===null?d.next=d:(d.next=D.next,D.next=d),T.pending=d,d=xt(h),rt(h,null,b),d}return Mn(h,T,d,b),xt(h)}function St(h,d,b){if(d=d.updateQueue,d!==null&&(d=d.shared,(b&4194176)!==0)){var T=d.lanes;T&=h.pendingLanes,b|=T,d.lanes=b,he(h,b)}}function Me(h,d){var b=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,b===T)){var D=null,k=null;if(b=b.firstBaseUpdate,b!==null){do{var ie={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};k===null?D=k=ie:k=k.next=ie,b=b.next}while(b!==null);k===null?D=k=d:k=k.next=d}else D=k=d;b={baseState:T.baseState,firstBaseUpdate:D,lastBaseUpdate:k,shared:T.shared,callbacks:T.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=d:h.next=d,b.lastBaseUpdate=d}function Je(){if(Ch){var h=Th;if(h!==null)throw h}}function bt(h,d,b,T){Ch=!1;var D=h.updateQueue;Ec=!1;var k=D.firstBaseUpdate,ie=D.lastBaseUpdate,xe=D.shared.pending;if(xe!==null){D.shared.pending=null;var Fe=xe,ft=Fe.next;Fe.next=null,ie===null?k=ft:ie.next=ft,ie=Fe;var Rt=h.alternate;Rt!==null&&(Rt=Rt.updateQueue,xe=Rt.lastBaseUpdate,xe!==ie&&(xe===null?Rt.firstBaseUpdate=ft:xe.next=ft,Rt.lastBaseUpdate=Fe))}if(k!==null){var jt=D.baseState;ie=0,Rt=ft=Fe=null,xe=k;do{var Gt=xe.lane&-536870913,Nn=Gt!==xe.lane;if(Nn?(oi&Gt)===Gt:(T&Gt)===Gt){Gt!==0&&Gt===Ks&&(Ch=!0),Rt!==null&&(Rt=Rt.next={lane:0,tag:xe.tag,payload:xe.payload,callback:null,next:null});e:{var io=h,Su=xe;Gt=d;var Au=b;switch(Su.tag){case 1:if(io=Su.payload,typeof io=="function"){jt=io.call(Au,jt,Gt);break e}jt=io;break e;case 3:io.flags=io.flags&-65537|128;case 0:if(io=Su.payload,Gt=typeof io=="function"?io.call(Au,jt,Gt):io,Gt==null)break e;jt=o0({},jt,Gt);break e;case 2:Ec=!0}}Gt=xe.callback,Gt!==null&&(h.flags|=64,Nn&&(h.flags|=8192),Nn=D.callbacks,Nn===null?D.callbacks=[Gt]:Nn.push(Gt))}else Nn={lane:Gt,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},Rt===null?(ft=Rt=Nn,Fe=jt):Rt=Rt.next=Nn,ie|=Gt;if(xe=xe.next,xe===null){if(xe=D.shared.pending,xe===null)break;Nn=xe,xe=Nn.next,Nn.next=null,D.lastBaseUpdate=Nn,D.shared.pending=null}}while(!0);Rt===null&&(Fe=jt),D.baseState=Fe,D.firstBaseUpdate=ft,D.lastBaseUpdate=Rt,k===null&&(D.shared.lanes=0),to|=ie,h.lanes=ie,h.memoizedState=jt}}function Se(h,d){if(typeof h!="function")throw Error(r(191,h));h.call(d)}function je(h,d){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)Se(b[h],d)}function Ge(h,d){if(ws(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var b=Object.keys(h),T=Object.keys(d);if(b.length!==T.length)return!1;for(T=0;T<b.length;T++){var D=b[T];if(!Rl.call(d,D)||!ws(h[D],d[D]))return!1}return!0}function st(h){return h=h.status,h==="fulfilled"||h==="rejected"}function wt(){}function Tt(h,d,b){switch(b=h[b],b===void 0?h.push(d):b!==d&&(d.then(wt,wt),d=b),d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===Xf?Error(r(483)):h;default:if(typeof d.status=="string")d.then(wt,wt);else{if(h=Bi,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=d,h.status="pending",h.then(function(T){if(d.status==="pending"){var D=d;D.status="fulfilled",D.value=T}},function(T){if(d.status==="pending"){var D=d;D.status="rejected",D.reason=T}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===Xf?Error(r(483)):h}throw mu=d,Xf}}function $t(){if(mu===null)throw Error(r(459));var h=mu;return mu=null,h}function An(h){var d=yu;return yu+=1,gu===null&&(gu=[]),Tt(gu,h,d)}function ti(h,d){d=d.props.ref,h.ref=d!==void 0?d:null}function dn(h,d){throw d.$$typeof===E2?Error(r(525)):(h=Object.prototype.toString.call(d),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h)))}function ci(h){var d=h._init;return d(h._payload)}function Dn(h){function d(Ye,Ie){if(h){var Ze=Ye.deletions;Ze===null?(Ye.deletions=[Ie],Ye.flags|=16):Ze.push(Ie)}}function b(Ye,Ie){if(!h)return null;for(;Ie!==null;)d(Ye,Ie),Ie=Ie.sibling;return null}function T(Ye){for(var Ie=new Map;Ye!==null;)Ye.key!==null?Ie.set(Ye.key,Ye):Ie.set(Ye.index,Ye),Ye=Ye.sibling;return Ie}function D(Ye,Ie){return Ye=So(Ye,Ie),Ye.index=0,Ye.sibling=null,Ye}function k(Ye,Ie,Ze){return Ye.index=Ze,h?(Ze=Ye.alternate,Ze!==null?(Ze=Ze.index,Ze<Ie?(Ye.flags|=33554434,Ie):Ze):(Ye.flags|=33554434,Ie)):(Ye.flags|=1048576,Ie)}function ie(Ye){return h&&Ye.alternate===null&&(Ye.flags|=33554434),Ye}function xe(Ye,Ie,Ze,Et){return Ie===null||Ie.tag!==6?(Ie=a0(Ze,Ye.mode,Et),Ie.return=Ye,Ie):(Ie=D(Ie,Ze),Ie.return=Ye,Ie)}function Fe(Ye,Ie,Ze,Et){var an=Ze.type;return an===ou?Rt(Ye,Ie,Ze.props.children,Et,Ze.key):Ie!==null&&(Ie.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===Eo&&ci(an)===Ie.type)?(Ie=D(Ie,Ze.props),ti(Ie,Ze),Ie.return=Ye,Ie):(Ie=Al(Ze.type,Ze.key,Ze.props,null,Ye.mode,Et),ti(Ie,Ze),Ie.return=Ye,Ie)}function ft(Ye,Ie,Ze,Et){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Ze.containerInfo||Ie.stateNode.implementation!==Ze.implementation?(Ie=Jy(Ze,Ye.mode,Et),Ie.return=Ye,Ie):(Ie=D(Ie,Ze.children||[]),Ie.return=Ye,Ie)}function Rt(Ye,Ie,Ze,Et,an){return Ie===null||Ie.tag!==7?(Ie=Sr(Ze,Ye.mode,Et,an),Ie.return=Ye,Ie):(Ie=D(Ie,Ze),Ie.return=Ye,Ie)}function jt(Ye,Ie,Ze){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Ie=a0(""+Ie,Ye.mode,Ze),Ie.return=Ye,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case dp:return Ze=Al(Ie.type,Ie.key,Ie.props,null,Ye.mode,Ze),ti(Ze,Ie),Ze.return=Ye,Ze;case Ao:return Ie=Jy(Ie,Ye.mode,Ze),Ie.return=Ye,Ie;case Eo:var Et=Ie._init;return Ie=Et(Ie._payload),jt(Ye,Ie,Ze)}if(Bf(Ie)||a(Ie))return Ie=Sr(Ie,Ye.mode,Ze,null),Ie.return=Ye,Ie;if(typeof Ie.then=="function")return jt(Ye,An(Ie),Ze);if(Ie.$$typeof===$o)return jt(Ye,it(Ye,Ie),Ze);dn(Ye,Ie)}return null}function Gt(Ye,Ie,Ze,Et){var an=Ie!==null?Ie.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return an!==null?null:xe(Ye,Ie,""+Ze,Et);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case dp:return Ze.key===an?Fe(Ye,Ie,Ze,Et):null;case Ao:return Ze.key===an?ft(Ye,Ie,Ze,Et):null;case Eo:return an=Ze._init,Ze=an(Ze._payload),Gt(Ye,Ie,Ze,Et)}if(Bf(Ze)||a(Ze))return an!==null?null:Rt(Ye,Ie,Ze,Et,null);if(typeof Ze.then=="function")return Gt(Ye,Ie,An(Ze),Et);if(Ze.$$typeof===$o)return Gt(Ye,Ie,it(Ye,Ze),Et);dn(Ye,Ze)}return null}function Nn(Ye,Ie,Ze,Et,an){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return Ye=Ye.get(Ze)||null,xe(Ie,Ye,""+Et,an);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case dp:return Ye=Ye.get(Et.key===null?Ze:Et.key)||null,Fe(Ie,Ye,Et,an);case Ao:return Ye=Ye.get(Et.key===null?Ze:Et.key)||null,ft(Ie,Ye,Et,an);case Eo:var hr=Et._init;return Et=hr(Et._payload),Nn(Ye,Ie,Ze,Et,an)}if(Bf(Et)||a(Et))return Ye=Ye.get(Ze)||null,Rt(Ie,Ye,Et,an,null);if(typeof Et.then=="function")return Nn(Ye,Ie,Ze,An(Et),an);if(Et.$$typeof===$o)return Nn(Ye,Ie,Ze,it(Ie,Et),an);dn(Ie,Et)}return null}function io(Ye,Ie,Ze,Et){for(var an=null,hr=null,Rn=Ie,Ei=Ie=0,Ur=null;Rn!==null&&Ei<Ze.length;Ei++){Rn.index>Ei?(Ur=Rn,Rn=null):Ur=Rn.sibling;var ii=Gt(Ye,Rn,Ze[Ei],Et);if(ii===null){Rn===null&&(Rn=Ur);break}h&&Rn&&ii.alternate===null&&d(Ye,Rn),Ie=k(ii,Ie,Ei),hr===null?an=ii:hr.sibling=ii,hr=ii,Rn=Ur}if(Ei===Ze.length)return b(Ye,Rn),gi&&$(Ye,Ei),an;if(Rn===null){for(;Ei<Ze.length;Ei++)Rn=jt(Ye,Ze[Ei],Et),Rn!==null&&(Ie=k(Rn,Ie,Ei),hr===null?an=Rn:hr.sibling=Rn,hr=Rn);return gi&&$(Ye,Ei),an}for(Rn=T(Rn);Ei<Ze.length;Ei++)Ur=Nn(Rn,Ye,Ei,Ze[Ei],Et),Ur!==null&&(h&&Ur.alternate!==null&&Rn.delete(Ur.key===null?Ei:Ur.key),Ie=k(Ur,Ie,Ei),hr===null?an=Ur:hr.sibling=Ur,hr=Ur);return h&&Rn.forEach(function(Ul){return d(Ye,Ul)}),gi&&$(Ye,Ei),an}function Su(Ye,Ie,Ze,Et){if(Ze==null)throw Error(r(151));for(var an=null,hr=null,Rn=Ie,Ei=Ie=0,Ur=null,ii=Ze.next();Rn!==null&&!ii.done;Ei++,ii=Ze.next()){Rn.index>Ei?(Ur=Rn,Rn=null):Ur=Rn.sibling;var Ul=Gt(Ye,Rn,ii.value,Et);if(Ul===null){Rn===null&&(Rn=Ur);break}h&&Rn&&Ul.alternate===null&&d(Ye,Rn),Ie=k(Ul,Ie,Ei),hr===null?an=Ul:hr.sibling=Ul,hr=Ul,Rn=Ur}if(ii.done)return b(Ye,Rn),gi&&$(Ye,Ei),an;if(Rn===null){for(;!ii.done;Ei++,ii=Ze.next())ii=jt(Ye,ii.value,Et),ii!==null&&(Ie=k(ii,Ie,Ei),hr===null?an=ii:hr.sibling=ii,hr=ii);return gi&&$(Ye,Ei),an}for(Rn=T(Rn);!ii.done;Ei++,ii=Ze.next())ii=Nn(Rn,Ye,Ei,ii.value,Et),ii!==null&&(h&&ii.alternate!==null&&Rn.delete(ii.key===null?Ei:ii.key),Ie=k(ii,Ie,Ei),hr===null?an=ii:hr.sibling=ii,hr=ii);return h&&Rn.forEach(function(N0){return d(Ye,N0)}),gi&&$(Ye,Ei),an}function Au(Ye,Ie,Ze,Et){if(typeof Ze=="object"&&Ze!==null&&Ze.type===ou&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case dp:e:{for(var an=Ze.key;Ie!==null;){if(Ie.key===an){if(an=Ze.type,an===ou){if(Ie.tag===7){b(Ye,Ie.sibling),Et=D(Ie,Ze.props.children),Et.return=Ye,Ye=Et;break e}}else if(Ie.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===Eo&&ci(an)===Ie.type){b(Ye,Ie.sibling),Et=D(Ie,Ze.props),ti(Et,Ze),Et.return=Ye,Ye=Et;break e}b(Ye,Ie);break}else d(Ye,Ie);Ie=Ie.sibling}Ze.type===ou?(Et=Sr(Ze.props.children,Ye.mode,Et,Ze.key),Et.return=Ye,Ye=Et):(Et=Al(Ze.type,Ze.key,Ze.props,null,Ye.mode,Et),ti(Et,Ze),Et.return=Ye,Ye=Et)}return ie(Ye);case Ao:e:{for(an=Ze.key;Ie!==null;){if(Ie.key===an)if(Ie.tag===4&&Ie.stateNode.containerInfo===Ze.containerInfo&&Ie.stateNode.implementation===Ze.implementation){b(Ye,Ie.sibling),Et=D(Ie,Ze.children||[]),Et.return=Ye,Ye=Et;break e}else{b(Ye,Ie);break}else d(Ye,Ie);Ie=Ie.sibling}Et=Jy(Ze,Ye.mode,Et),Et.return=Ye,Ye=Et}return ie(Ye);case Eo:return an=Ze._init,Ze=an(Ze._payload),Au(Ye,Ie,Ze,Et)}if(Bf(Ze))return io(Ye,Ie,Ze,Et);if(a(Ze)){if(an=a(Ze),typeof an!="function")throw Error(r(150));return Ze=an.call(Ze),Su(Ye,Ie,Ze,Et)}if(typeof Ze.then=="function")return Au(Ye,Ie,An(Ze),Et);if(Ze.$$typeof===$o)return Au(Ye,Ie,it(Ye,Ze),Et);dn(Ye,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,Ie!==null&&Ie.tag===6?(b(Ye,Ie.sibling),Et=D(Ie,Ze),Et.return=Ye,Ye=Et):(b(Ye,Ie),Et=a0(Ze,Ye.mode,Et),Et.return=Ye,Ye=Et),ie(Ye)):b(Ye,Ie)}return function(Ye,Ie,Ze,Et){try{yu=0;var an=Au(Ye,Ie,Ze,Et);return gu=null,an}catch(Rn){if(Rn===Xf)throw Rn;var hr=t(29,Rn,null,Ye.mode);return hr.lanes=Et,hr.return=Ye,hr}finally{}}}function Ki(h,d){h=Ga,R(qf,h),R(rr,d),Ga=h|d.baseLanes}function Li(){R(qf,Ga),R(rr,rr.current)}function Ui(){Ga=qf.current,M(rr),M(qf)}function Hr(h){var d=h.alternate;R(na,na.current&1),R(Js,h),$i===null&&(d===null||rr.current!==null||d.memoizedState!==null)&&($i=h)}function Gr(h){if(h.tag===22){if(R(na,na.current),R(Js,h),$i===null){var d=h.alternate;d!==null&&d.memoizedState!==null&&($i=h)}}else nr()}function nr(){R(na,na.current),R(Js,Js.current)}function sn(h){M(Js),$i===h&&($i=null),M(na)}function ha(h){for(var d=h;d!==null;){if(d.tag===13){var b=d.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||g0(b)||y0(b)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function ni(){throw Error(r(321))}function J(h,d){if(d===null)return!1;for(var b=0;b<d.length&&b<h.length;b++)if(!ws(h[b],d[b]))return!1;return!0}function ne(h,d,b,T,D,k){return Tc=k,Kn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,wn.H=h===null||h.memoizedState===null?bu:os,vu=!1,k=b(T,D),vu=!1,wh&&(k=ke(d,b,T,D)),Ae(h),k}function Ae(h){wn.H=Ar;var d=pn!==null&&pn.next!==null;if(Tc=0,bi=pn=Kn=null,Io=!1,Rh=0,_a=null,d)throw Error(r(300));h===null||Zi||(h=h.dependencies,h!==null&&q(h)&&(Zi=!0))}function ke(h,d,b,T){Kn=h;var D=0;do{if(wh&&(_a=null),Rh=0,wh=!1,25<=D)throw Error(r(301));if(D+=1,bi=pn=null,h.updateQueue!=null){var k=h.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}wn.H=Qs,k=d(b,T)}while(wh);return k}function qe(){var h=wn.H,d=h.useState()[0];return d=typeof d.then=="function"?ye(d):d,h=h.useState()[0],(pn!==null?pn.memoizedState:null)!==h&&(Kn.flags|=1024),d}function nt(){var h=C0!==0;return C0=0,h}function Mt(h,d,b){d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~b}function yt(h){if(Io){for(h=h.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Io=!1}Tc=0,bi=pn=Kn=null,wh=!1,Rh=C0=0,_a=null}function K(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?Kn.memoizedState=bi=h:bi=bi.next=h,bi}function ce(){if(pn===null){var h=Kn.alternate;h=h!==null?h.memoizedState:null}else h=pn.next;var d=bi===null?Kn.memoizedState:bi.next;if(d!==null)bi=d,pn=h;else{if(h===null)throw Kn.alternate===null?Error(r(467)):Error(r(310));pn=h,h={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},bi===null?Kn.memoizedState=bi=h:bi=bi.next=h}return bi}function ye(h){var d=Rh;return Rh+=1,_a===null&&(_a=[]),h=Tt(_a,h,d),d=Kn,(bi===null?d.memoizedState:bi.next)===null&&(d=d.alternate,wn.H=d===null||d.memoizedState===null?bu:os),h}function me(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return ye(h);if(h.$$typeof===$o)return Oe(h)}throw Error(r(438,String(h)))}function Re(h){var d=null,b=Kn.updateQueue;if(b!==null&&(d=b.memoCache),d==null){var T=Kn.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(d={data:T.data.map(function(D){return D.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),b===null&&(b=w0(),Kn.updateQueue=b),b.memoCache=d,b=d.data[d.index],b===void 0)for(b=d.data[d.index]=Array(h),T=0;T<h;T++)b[T]=Ob;return d.index++,b}function ze(h,d){return typeof d=="function"?d(h):d}function tt(h){var d=ce();return ot(d,pn,h)}function ot(h,d,b){var T=h.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=b;var D=h.baseQueue,k=T.pending;if(k!==null){if(D!==null){var ie=D.next;D.next=k.next,k.next=ie}d.baseQueue=D=k,T.pending=null}if(k=h.baseState,D===null)h.memoizedState=k;else{d=D.next;var xe=ie=null,Fe=null,ft=d,Rt=!1;do{var jt=ft.lane&-536870913;if(jt!==ft.lane?(oi&jt)===jt:(Tc&jt)===jt){var Gt=ft.revertLane;if(Gt===0)Fe!==null&&(Fe=Fe.next={lane:0,revertLane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),jt===Ks&&(Rt=!0);else if((Tc&Gt)===Gt){ft=ft.next,Gt===Ks&&(Rt=!0);continue}else jt={lane:0,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Fe===null?(xe=Fe=jt,ie=k):Fe=Fe.next=jt,Kn.lanes|=Gt,to|=Gt;jt=ft.action,vu&&b(k,jt),k=ft.hasEagerState?ft.eagerState:b(k,jt)}else Gt={lane:jt,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Fe===null?(xe=Fe=Gt,ie=k):Fe=Fe.next=Gt,Kn.lanes|=jt,to|=jt;ft=ft.next}while(ft!==null&&ft!==d);if(Fe===null?ie=k:Fe.next=xe,!ws(k,h.memoizedState)&&(Zi=!0,Rt&&(b=Th,b!==null)))throw b;h.memoizedState=k,h.baseState=ie,h.baseQueue=Fe,T.lastRenderedState=k}return D===null&&(T.lanes=0),[h.memoizedState,T.dispatch]}function gt(h){var d=ce(),b=d.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var T=b.dispatch,D=b.pending,k=d.memoizedState;if(D!==null){b.pending=null;var ie=D=D.next;do k=h(k,ie.action),ie=ie.next;while(ie!==D);ws(k,d.memoizedState)||(Zi=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),b.lastRenderedState=k}return[k,T]}function Ut(h,d,b){var T=Kn,D=ce(),k=gi;if(k){if(b===void 0)throw Error(r(407));b=b()}else b=d();var ie=!ws((pn||D).memoizedState,b);if(ie&&(D.memoizedState=b,Zi=!0),D=D.queue,oh(tn.bind(null,T,D,h),[h]),D.getSnapshot!==d||ie||bi!==null&&bi.memoizedState.tag&1){if(T.flags|=2048,fr(9,Lt.bind(null,T,D,b,d),{destroy:void 0},null),Bi===null)throw Error(r(349));k||(Tc&60)!==0||Dt(T,d,b)}return b}function Dt(h,d,b){h.flags|=16384,h={getSnapshot:d,value:b},d=Kn.updateQueue,d===null?(d=w0(),Kn.updateQueue=d,d.stores=[h]):(b=d.stores,b===null?d.stores=[h]:b.push(h))}function Lt(h,d,b,T){d.value=b,d.getSnapshot=T,Yt(d)&&kn(h)}function tn(h,d,b){return b(function(){Yt(d)&&kn(h)})}function Yt(h){var d=h.getSnapshot;h=h.value;try{var b=d();return!ws(h,b)}catch{return!0}}function kn(h){var d=et(h,2);d!==null&&ma(d,h,2)}function qt(h){var d=K();if(typeof h=="function"){var b=h;if(h=b(),vu){Z(!0);try{b()}finally{Z(!1)}}}return d.memoizedState=d.baseState=h,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ze,lastRenderedState:h},d}function en(h,d,b,T){return h.baseState=b,ot(h,pn,typeof T=="function"?T:ze)}function Wt(h,d,b,T,D){if(bl(h))throw Error(r(485));if(h=d.action,h!==null){var k={payload:D,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){k.listeners.push(ie)}};wn.T!==null?b(!0):k.isTransition=!1,T(k),b=d.pending,b===null?(k.next=d.pending=k,_i(d,k)):(k.next=b.next,d.pending=b.next=k)}}function _i(h,d){var b=d.action,T=d.payload,D=h.state;if(d.isTransition){var k=wn.T,ie={};wn.T=ie;try{var xe=b(D,T),Fe=wn.S;Fe!==null&&Fe(ie,xe),un(h,d,xe)}catch(ft){di(h,d,ft)}finally{wn.T=k}}else try{k=b(D,T),un(h,d,k)}catch(ft){di(h,d,ft)}}function un(h,d,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(T){mn(h,d,T)},function(T){return di(h,d,T)}):mn(h,d,b)}function mn(h,d,b){d.status="fulfilled",d.value=b,Qt(d),h.state=b,d=h.pending,d!==null&&(b=d.next,b===d?h.pending=null:(b=b.next,d.next=b,_i(h,b)))}function di(h,d,b){var T=h.pending;if(h.pending=null,T!==null){T=T.next;do d.status="rejected",d.reason=b,Qt(d),d=d.next;while(d!==T)}h.action=null}function Qt(h){h=h.listeners;for(var d=0;d<h.length;d++)(0,h[d])()}function hn(h,d){return d}function En(h,d){if(gi){var b=Bi.formState;if(b!==null){e:{var T=Kn;if(gi){if(Ra){var D=d_(Ra,ya);if(D){Ra=p_(D),T=nx(D);break e}}ut(T)}T=!1}T&&(d=b[0])}}b=K(),b.memoizedState=b.baseState=d,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:d},b.queue=T,b=Kc.bind(null,Kn,T),T.dispatch=b,T=qt(!1);var k=ts.bind(null,Kn,!1,T.queue);return T=K(),D={state:d,dispatch:null,action:h,pending:null},T.queue=D,b=Wt.bind(null,Kn,D,k,b),D.dispatch=b,T.memoizedState=h,[d,b,!1]}function vi(h){var d=ce();return Qn(d,pn,h)}function Qn(h,d,b){d=ot(h,d,hn)[0],h=tt(ze)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?ye(d):d;var T=ce(),D=T.queue,k=D.dispatch;return b!==T.memoizedState&&(Kn.flags|=2048,fr(9,on.bind(null,D,b),{destroy:void 0},null)),[d,k,h]}function on(h,d){h.action=d}function lr(h){var d=ce(),b=pn;if(b!==null)return Qn(d,b,h);ce(),d=d.memoizedState,b=ce();var T=b.queue.dispatch;return b.memoizedState=h,[d,T,!1]}function fr(h,d,b,T){return h={tag:h,create:d,inst:b,deps:T,next:null},d=Kn.updateQueue,d===null&&(d=w0(),Kn.updateQueue=d),b=d.lastEffect,b===null?d.lastEffect=h.next=h:(T=b.next,b.next=h,h.next=T,d.lastEffect=h),h}function fa(){return ce().memoizedState}function rc(h,d,b,T){var D=K();Kn.flags|=h,D.memoizedState=fr(1|d,b,{destroy:void 0},T===void 0?null:T)}function gl(h,d,b,T){var D=ce();T=T===void 0?null:T;var k=D.memoizedState.inst;pn!==null&&T!==null&&J(T,pn.memoizedState.deps)?D.memoizedState=fr(d,b,k,T):(Kn.flags|=h,D.memoizedState=fr(1|d,b,k,T))}function yl(h,d){rc(8390656,8,h,d)}function oh(h,d){gl(2048,8,h,d)}function gf(h,d){return gl(4,2,h,d)}function ac(h,d){return gl(4,4,h,d)}function $a(h,d){if(typeof d=="function"){h=h();var b=d(h);return function(){typeof b=="function"?b():d(null)}}if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function Sa(h,d,b){b=b!=null?b.concat([h]):null,gl(4,4,$a.bind(null,d,h),b)}function Za(){}function bs(h,d){var b=ce();d=d===void 0?null:d;var T=b.memoizedState;return d!==null&&J(d,T[1])?T[0]:(b.memoizedState=[h,d],h)}function Yc(h,d){var b=ce();d=d===void 0?null:d;var T=b.memoizedState;if(d!==null&&J(d,T[1]))return T[0];if(T=h(),vu){Z(!0);try{h()}finally{Z(!1)}}return b.memoizedState=[T,d],T}function es(h,d,b){return b===void 0||(Tc&1073741824)!==0?h.memoizedState=d:(h.memoizedState=b,h=Gy(),Kn.lanes|=h,to|=h,b)}function sc(h,d,b,T){return ws(b,d)?b:rr.current!==null?(h=es(h,b,T),ws(h,d)||(Zi=!0),h):(Tc&42)===0?(Zi=!0,h.memoizedState=b):(h=Gy(),Kn.lanes|=h,to|=h,d)}function Wo(h,d,b,T,D){var k=xc();ka(k!==0&&8>k?k:8);var ie=wn.T,xe={};wn.T=xe,ts(h,!1,d,b);try{var Fe=D(),ft=wn.S;if(ft!==null&&ft(xe,Fe),Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var Rt=Xt(Fe,T);za(h,d,Rt,Br(h))}else za(h,d,T,Br(h))}catch(jt){za(h,d,{then:function(){},status:"rejected",reason:jt},Br())}finally{ka(k),wn.T=ie}}function Xr(h){var d=h.memoizedState;if(d!==null)return d;d={memoizedState:cu,baseState:cu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ze,lastRenderedState:cu},next:null};var b={};return d.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ze,lastRenderedState:b},next:null},h.memoizedState=d,h=h.alternate,h!==null&&(h.memoizedState=d),d}function qr(){return Oe(Zo)}function _l(){return ce().memoizedState}function xs(){return ce().memoizedState}function vl(h){for(var d=h.return;d!==null;){switch(d.tag){case 24:case 3:var b=Br();h=zt(b);var T=Pt(d,h,b);T!==null&&(ma(T,d,b),St(T,d,b)),d={cache:ai()},h.payload=d;return}d=d.return}}function go(h,d,b){var T=Br();b={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},bl(h)?le(d,b):(b=at(h,d,b,T),b!==null&&(ma(b,h,T),Ee(b,d,T)))}function Kc(h,d,b){var T=Br();za(h,d,b,T)}function za(h,d,b,T){var D={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(bl(h))le(d,D);else{var k=h.alternate;if(h.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var ie=d.lastRenderedState,xe=k(ie,b);if(D.hasEagerState=!0,D.eagerState=xe,ws(xe,ie))return Mn(h,d,D,0),Bi===null&&fe(),!1}catch{}finally{}if(b=at(h,d,D,T),b!==null)return ma(b,h,T),Ee(b,d,T),!0}return!1}function ts(h,d,b,T){if(T={lane:2,revertLane:Pe(),action:T,hasEagerState:!1,eagerState:null,next:null},bl(h)){if(d)throw Error(r(479))}else d=at(h,b,T,2),d!==null&&ma(d,h,2)}function bl(h){var d=h.alternate;return h===Kn||d!==null&&d===Kn}function le(h,d){wh=Io=!0;var b=h.pending;b===null?d.next=d:(d.next=b.next,b.next=d),h.pending=d}function Ee(h,d,b){if((b&4194176)!==0){var T=d.lanes;T&=h.pendingLanes,b|=T,d.lanes=b,he(h,b)}}function Qe(h,d,b,T){d=h.memoizedState,b=b(T,d),b=b==null?d:o0({},d,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}function Ht(h,d,b,T,D,k,ie){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,k,ie):d.prototype&&d.prototype.isPureReactComponent?!Ge(b,T)||!Ge(D,k):!0}function Wn(h,d,b,T){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,T),d.state!==h&&Pl.enqueueReplaceState(d,d.state,null)}function Yn(h,d){var b=d;if("ref"in d){b={};for(var T in d)T!=="ref"&&(b[T]=d[T])}if(h=h.defaultProps){b===d&&(b=o0({},b));for(var D in h)b[D]===void 0&&(b[D]=h[D])}return b}function pi(h,d){try{var b=h.onUncaughtError;b(d.value,{componentStack:d.stack})}catch(T){setTimeout(function(){throw T})}}function Bn(h,d,b){try{var T=h.onCaughtError;T(b.value,{componentStack:b.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function mi(h,d,b){return b=zt(b),b.tag=3,b.payload={element:null},b.callback=function(){pi(h,d)},b}function cr(h){return h=zt(h),h.tag=3,h}function Zr(h,d,b,T){var D=b.type.getDerivedStateFromError;if(typeof D=="function"){var k=T.value;h.payload=function(){return D(k)},h.callback=function(){Bn(d,b,T)}}var ie=b.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(h.callback=function(){Bn(d,b,T),typeof D!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var xe=T.stack;this.componentDidCatch(T.value,{componentStack:xe!==null?xe:""})})}function oc(h,d,b,T,D){if(b.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(d=b.alternate,d!==null&&z(d,b,D,!0),b=Js.current,b!==null){switch(b.tag){case 13:return $i===null?mc():b.alternate===null&&er===0&&(er=3),b.flags&=-257,b.flags|=65536,b.lanes=D,T===wp?b.flags|=16384:(d=b.updateQueue,d===null?b.updateQueue=new Set([T]):d.add(T),ph(h,T,D)),!1;case 22:return b.flags|=65536,T===wp?b.flags|=16384:(d=b.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([T])},b.updateQueue=d):(b=d.retryQueue,b===null?d.retryQueue=new Set([T]):b.add(T)),ph(h,T,D)),!1}throw Error(r(435,b.tag))}return ph(h,T,D),mc(),!1}if(gi)return d=Js.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=D,T!==Ep&&(h=Error(r(422),{cause:T}),Ft(be(h,b)))):(T!==Ep&&(d=Error(r(423),{cause:T}),Ft(be(d,b))),h=h.current.alternate,h.flags|=65536,D&=-D,h.lanes|=D,T=be(T,b),D=mi(h.stateNode,T,D),Me(h,D),er!==4&&(er=2)),!1;var k=Error(r(520),{cause:T});if(k=be(k,b),Ph===null?Ph=[k]:Ph.push(k),er!==4&&(er=2),d===null)return!0;T=be(T,b),b=d;do{switch(b.tag){case 3:return b.flags|=65536,h=D&-D,b.lanes|=h,h=mi(b.stateNode,T,h),Me(b,h),!1;case 1:if(d=b.type,k=b.stateNode,(b.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(xu===null||!xu.has(k))))return b.flags|=65536,D&=-D,b.lanes|=D,D=cr(D),Zr(D,h,b,T),Me(b,D),!1}b=b.return}while(b!==null);return!1}function Ji(h,d,b,T){d.child=h===null?Il(d,null,b,T):_u(d,h.child,b,T)}function Yo(h,d,b,T,D){b=b.render;var k=d.ref;if("ref"in T){var ie={};for(var xe in T)xe!=="ref"&&(ie[xe]=T[xe])}else ie=T;return se(d),T=ne(h,d,b,ie,k,D),xe=nt(),h!==null&&!Zi?(Mt(h,d,D),yo(h,d,D)):(gi&&xe&&we(d),d.flags|=1,Ji(h,d,T,D),d.child)}function lc(h,d,b,T,D){if(h===null){var k=b.type;return typeof k=="function"&&!cp(k)&&k.defaultProps===void 0&&b.compare===null?(d.tag=15,d.type=k,lh(h,d,k,T,D)):(h=Al(b.type,null,T,d,d.mode,D),h.ref=d.ref,h.return=d,d.child=h)}if(k=h.child,!vf(h,D)){var ie=k.memoizedProps;if(b=b.compare,b=b!==null?b:Ge,b(ie,T)&&h.ref===d.ref)return yo(h,d,D)}return d.flags|=1,h=So(k,T),h.ref=d.ref,h.return=d,d.child=h}function lh(h,d,b,T,D){if(h!==null){var k=h.memoizedProps;if(Ge(k,T)&&h.ref===d.ref)if(Zi=!1,d.pendingProps=T=k,vf(h,D))(h.flags&131072)!==0&&(Zi=!0);else return d.lanes=h.lanes,yo(h,d,D)}return hh(h,d,b,T,D)}function Kd(h,d,b){var T=d.pendingProps,D=T.children,k=(d.stateNode._pendingVisibility&2)!==0,ie=h!==null?h.memoizedState:null;if(uh(h,d),T.mode==="hidden"||k){if((d.flags&128)!==0){if(T=ie!==null?ie.baseLanes|b:b,h!==null){for(D=d.child=h.child,k=0;D!==null;)k=k|D.lanes|D.childLanes,D=D.sibling;d.childLanes=k&~T}else d.childLanes=0,d.child=null;return ch(h,d,T,b)}if((b&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},h!==null&&Pr(d,ie!==null?ie.cachePool:null),ie!==null?Ki(d,ie):Li(),Gr(d);else return d.lanes=d.childLanes=536870912,ch(h,d,ie!==null?ie.baseLanes|b:b,b)}else ie!==null?(Pr(d,ie.cachePool),Ki(d,ie),nr(),d.memoizedState=null):(h!==null&&Pr(d,null),Li(),nr());return Ji(h,d,D,b),d.child}function ch(h,d,b,T){var D=si();return D=D===null?null:{parent:rs?ar._currentValue:ar._currentValue2,pool:D},d.memoizedState={baseLanes:b,cachePool:D},h!==null&&Pr(d,null),Li(),Gr(d),h!==null&&z(h,d,T,!0),null}function uh(h,d){var b=d.ref;if(b===null)h!==null&&h.ref!==null&&(d.flags|=2097664);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(h===null||h.ref!==b)&&(d.flags|=2097664)}}function hh(h,d,b,T,D){return se(d),b=ne(h,d,b,T,void 0,D),T=nt(),h!==null&&!Zi?(Mt(h,d,D),yo(h,d,D)):(gi&&T&&we(d),d.flags|=1,Ji(h,d,b,D),d.child)}function Jc(h,d,b,T,D,k){return se(d),d.updateQueue=null,b=ke(d,T,b,D),Ae(h),T=nt(),h!==null&&!Zi?(Mt(h,d,k),yo(h,d,k)):(gi&&T&&we(d),d.flags|=1,Ji(h,d,b,k),d.child)}function Jd(h,d,b,T,D){if(se(d),d.stateNode===null){var k=du,ie=b.contextType;typeof ie=="object"&&ie!==null&&(k=Oe(ie)),k=new b(T,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Pl,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=T,k.state=d.memoizedState,k.refs={},ht(d),ie=b.contextType,k.context=typeof ie=="object"&&ie!==null?Oe(ie):du,k.state=d.memoizedState,ie=b.getDerivedStateFromProps,typeof ie=="function"&&(Qe(d,b,ie,T),k.state=d.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(ie=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),ie!==k.state&&Pl.enqueueReplaceState(k,k.state,null),bt(d,T,k,D),Je(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),T=!0}else if(h===null){k=d.stateNode;var xe=d.memoizedProps,Fe=Yn(b,xe);k.props=Fe;var ft=k.context,Rt=b.contextType;ie=du,typeof Rt=="object"&&Rt!==null&&(ie=Oe(Rt));var jt=b.getDerivedStateFromProps;Rt=typeof jt=="function"||typeof k.getSnapshotBeforeUpdate=="function",xe=d.pendingProps!==xe,Rt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(xe||ft!==ie)&&Wn(d,k,T,ie),Ec=!1;var Gt=d.memoizedState;k.state=Gt,bt(d,T,k,D),Je(),ft=d.memoizedState,xe||Gt!==ft||Ec?(typeof jt=="function"&&(Qe(d,b,jt,T),ft=d.memoizedState),(Fe=Ec||Ht(d,b,Fe,T,Gt,ft,ie))?(Rt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=ft),k.props=T,k.state=ft,k.context=ie,T=Fe):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{k=d.stateNode,Ot(h,d),ie=d.memoizedProps,Rt=Yn(b,ie),k.props=Rt,jt=d.pendingProps,Gt=k.context,ft=b.contextType,Fe=du,typeof ft=="object"&&ft!==null&&(Fe=Oe(ft)),xe=b.getDerivedStateFromProps,(ft=typeof xe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ie!==jt||Gt!==Fe)&&Wn(d,k,T,Fe),Ec=!1,Gt=d.memoizedState,k.state=Gt,bt(d,T,k,D),Je();var Nn=d.memoizedState;ie!==jt||Gt!==Nn||Ec||h!==null&&h.dependencies!==null&&q(h.dependencies)?(typeof xe=="function"&&(Qe(d,b,xe,T),Nn=d.memoizedState),(Rt=Ec||Ht(d,b,Rt,T,Gt,Nn,Fe)||h!==null&&h.dependencies!==null&&q(h.dependencies))?(ft||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(T,Nn,Fe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(T,Nn,Fe)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||ie===h.memoizedProps&&Gt===h.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||ie===h.memoizedProps&&Gt===h.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=Nn),k.props=T,k.state=Nn,k.context=Fe,T=Rt):(typeof k.componentDidUpdate!="function"||ie===h.memoizedProps&&Gt===h.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||ie===h.memoizedProps&&Gt===h.memoizedState||(d.flags|=1024),T=!1)}return k=T,uh(h,d),T=(d.flags&128)!==0,k||T?(k=d.stateNode,b=T&&typeof b.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,h!==null&&T?(d.child=_u(d,h.child,null,D),d.child=_u(d,null,b,D)):Ji(h,d,b,D),d.memoizedState=k.state,h=d.child):h=yo(h,d,D),h}function Qd(h,d,b,T){return Nt(),d.flags|=256,Ji(h,d,b,T),d.child}function fh(h){return{baseLanes:h,cachePool:Wr()}}function cc(h,d,b){return h=h!==null?h.childLanes&~b:0,d&&(h|=no),h}function $d(h,d,b){var T=d.pendingProps,D=!1,k=(d.flags&128)!==0,ie;if((ie=k)||(ie=h!==null&&h.memoizedState===null?!1:(na.current&2)!==0),ie&&(D=!0,d.flags&=-129),ie=(d.flags&32)!==0,d.flags&=-33,h===null){if(gi){if(D?Hr(d):nr(),gi){var xe=Ra,Fe;(Fe=xe)&&(xe=ax(xe,ya),xe!==null?(d.memoizedState={dehydrated:xe,treeContext:pu!==null?{id:tl,overflow:nl}:null,retryLane:536870912},Fe=t(18,null,null,0),Fe.stateNode=xe,Fe.return=d,d.child=Fe,wa=d,Ra=null,Fe=!0):Fe=!1),Fe||ut(d)}if(xe=d.memoizedState,xe!==null&&(xe=xe.dehydrated,xe!==null))return y0(xe)?d.lanes=16:d.lanes=536870912,null;sn(d)}return xe=T.children,T=T.fallback,D?(nr(),D=d.mode,xe=yf({mode:"hidden",children:xe},D),T=Sr(T,D,b,null),xe.return=d,T.return=d,xe.sibling=T,d.child=xe,D=d.child,D.memoizedState=fh(b),D.childLanes=cc(h,ie,b),d.memoizedState=P0,T):(Hr(d),Qc(d,xe))}if(Fe=h.memoizedState,Fe!==null&&(xe=Fe.dehydrated,xe!==null)){if(k)d.flags&256?(Hr(d),d.flags&=-257,d=dh(h,d,b)):d.memoizedState!==null?(nr(),d.child=h.child,d.flags|=128,d=null):(nr(),D=T.fallback,xe=d.mode,T=yf({mode:"visible",children:T.children},xe),D=Sr(D,xe,b,null),D.flags|=2,T.return=d,D.return=d,T.sibling=D,d.child=T,_u(d,h.child,null,b),T=d.child,T.memoizedState=fh(b),T.childLanes=cc(h,ie,b),d.memoizedState=P0,d=D);else if(Hr(d),y0(xe))ie=ex(xe).digest,T=Error(r(419)),T.stack="",T.digest=ie,Ft({value:T,source:null,stack:null}),d=dh(h,d,b);else if(Zi||z(h,d,b,!1),ie=(b&h.childLanes)!==0,Zi||ie){if(ie=Bi,ie!==null){if(T=b&-b,(T&42)!==0)T=1;else switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=64;break;case 268435456:T=134217728;break;default:T=0}if(T=(T&(ie.suspendedLanes|b))!==0?0:T,T!==0&&T!==Fe.retryLane)throw Fe.retryLane=T,et(h,T),ma(ie,h,T),I0}g0(xe)||mc(),d=dh(h,d,b)}else g0(xe)?(d.flags|=128,d.child=h.child,d=gc.bind(null,h),tx(xe,d),d=null):(h=Fe.treeContext,Ca&&(Ra=rx(xe),wa=d,gi=!0,wo=null,ya=!1,h!==null&&(Ws[Ys++]=tl,Ws[Ys++]=nl,Ws[Ys++]=pu,tl=h.id,nl=h.overflow,pu=d)),d=Qc(d,T.children),d.flags|=4096);return d}return D?(nr(),D=T.fallback,xe=d.mode,Fe=h.child,k=Fe.sibling,T=So(Fe,{mode:"hidden",children:T.children}),T.subtreeFlags=Fe.subtreeFlags&31457280,k!==null?D=So(k,D):(D=Sr(D,xe,b,null),D.flags|=2),D.return=d,T.return=d,T.sibling=D,d.child=T,T=D,D=d.child,xe=h.child.memoizedState,xe===null?xe=fh(b):(Fe=xe.cachePool,Fe!==null?(k=rs?ar._currentValue:ar._currentValue2,Fe=Fe.parent!==k?{parent:k,pool:k}:Fe):Fe=Wr(),xe={baseLanes:xe.baseLanes|b,cachePool:Fe}),D.memoizedState=xe,D.childLanes=cc(h,ie,b),d.memoizedState=P0,T):(Hr(d),b=h.child,h=b.sibling,b=So(b,{mode:"visible",children:T.children}),b.return=d,b.sibling=null,h!==null&&(ie=d.deletions,ie===null?(d.deletions=[h],d.flags|=16):ie.push(h)),d.child=b,d.memoizedState=null,b)}function Qc(h,d){return d=yf({mode:"visible",children:d},h.mode),d.return=h,h.child=d}function yf(h,d){return hp(h,d,0,null)}function dh(h,d,b){return _u(d,h.child,null,b),h=Qc(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function xl(h,d,b){h.lanes|=d;var T=h.alternate;T!==null&&(T.lanes|=d),vo(h.return,d,b)}function _f(h,d,b,T,D){var k=h.memoizedState;k===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:b,tailMode:D}:(k.isBackwards=d,k.rendering=null,k.renderingStartTime=0,k.last=T,k.tail=b,k.tailMode=D)}function Zd(h,d,b){var T=d.pendingProps,D=T.revealOrder,k=T.tail;if(Ji(h,d,T.children,b),T=na.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&xl(h,b,d);else if(h.tag===19)xl(h,b,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}switch(R(na,T),D){case"forwards":for(b=d.child,D=null;b!==null;)h=b.alternate,h!==null&&ha(h)===null&&(D=b),b=b.sibling;b=D,b===null?(D=d.child,d.child=null):(D=b.sibling,b.sibling=null),_f(d,!1,D,b,k);break;case"backwards":for(b=null,D=d.child,d.child=null;D!==null;){if(h=D.alternate,h!==null&&ha(h)===null){d.child=D;break}h=D.sibling,D.sibling=b,b=D,D=h}_f(d,!0,b,null,k);break;case"together":_f(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function yo(h,d,b){if(h!==null&&(d.dependencies=h.dependencies),to|=d.lanes,(b&d.childLanes)===0)if(h!==null){if(z(h,d,b,!1),(b&d.childLanes)===0)return null}else return null;if(h!==null&&d.child!==h.child)throw Error(r(153));if(d.child!==null){for(h=d.child,b=So(h,h.pendingProps),d.child=b,b.return=d;h.sibling!==null;)h=h.sibling,b=b.sibling=So(h,h.pendingProps),b.return=d;b.sibling=null}return d.child}function vf(h,d){return(h.lanes&d)!==0?!0:(h=h.dependencies,!!(h!==null&&q(h)))}function bf(h,d,b){switch(d.tag){case 3:de(d,d.stateNode.containerInfo),Ko(d,ar,h.memoizedState.cache),Nt();break;case 27:case 5:Ve(d);break;case 4:de(d,d.stateNode.containerInfo);break;case 10:Ko(d,d.type,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(Hr(d),d.flags|=128,null):(b&d.child.childLanes)!==0?$d(h,d,b):(Hr(d),h=yo(h,d,b),h!==null?h.sibling:null);Hr(d);break;case 19:var D=(h.flags&128)!==0;if(T=(b&d.childLanes)!==0,T||(z(h,d,b,!1),T=(b&d.childLanes)!==0),D){if(T)return Zd(h,d,b);d.flags|=128}if(D=d.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),R(na,na.current),T)break;return null;case 22:case 23:return d.lanes=0,Kd(h,d,b);case 24:Ko(d,ar,h.memoizedState.cache)}return yo(h,d,b)}function Va(h,d,b){if(h!==null)if(h.memoizedProps!==d.pendingProps)Zi=!0;else{if(!vf(h,b)&&(d.flags&128)===0)return Zi=!1,bf(h,d,b);Zi=(h.flags&131072)!==0}else Zi=!1,gi&&(d.flags&1048576)!==0&&pe(d,jf,d.index);switch(d.lanes=0,d.tag){case 16:e:{h=d.pendingProps;var T=d.elementType,D=T._init;if(T=D(T._payload),d.type=T,typeof T=="function")cp(T)?(h=Yn(T,h),d.tag=1,d=Jd(null,d,T,h,b)):(d.tag=0,d=hh(null,d,T,h,b));else{if(T!=null){if(D=T.$$typeof,D===gp){d.tag=11,d=Yo(null,d,T,h,b);break e}else if(D===u0){d.tag=14,d=lc(null,d,T,h,b);break e}}throw d=s(T)||T,Error(r(306,d,""))}}return d;case 0:return hh(h,d,d.type,d.pendingProps,b);case 1:return T=d.type,D=Yn(T,d.pendingProps),Jd(h,d,T,D,b);case 3:e:{if(de(d,d.stateNode.containerInfo),h===null)throw Error(r(387));var k=d.pendingProps;D=d.memoizedState,T=D.element,Ot(h,d),bt(d,k,null,b);var ie=d.memoizedState;if(k=ie.cache,Ko(d,ar,k),k!==D.cache&&S(d,[ar],b,!0),Je(),k=ie.element,Ca&&D.isDehydrated)if(D={element:k,isDehydrated:!1,cache:ie.cache},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){d=Qd(h,d,k,b);break e}else if(k!==T){T=be(Error(r(424)),d),Ft(T),d=Qd(h,d,k,b);break e}else for(Ca&&(Ra=ix(d.stateNode.containerInfo),wa=d,gi=!0,wo=null,ya=!0),b=Il(d,null,k,b),d.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Nt(),k===T){d=yo(h,d,b);break e}Ji(h,d,k,b)}d=d.child}return d;case 26:if(qs)return uh(h,d),h===null?(b=y_(d.type,null,d.pendingProps,null))?d.memoizedState=b:gi||(d.stateNode=M0(d.type,d.pendingProps,wl.current,d)):d.memoizedState=y_(d.type,h.memoizedProps,d.pendingProps,h.memoizedState),null;case 27:if(Qi)return Ve(d),h===null&&Qi&&gi&&(T=d.stateNode=el(d.type,d.pendingProps,wl.current,ta.current,!1),wa=d,ya=!0,Ra=_0(T)),T=d.pendingProps.children,h!==null||gi?Ji(h,d,T,b):d.child=_u(d,null,T,b),uh(h,d),d.child;case 5:return h===null&&gi&&(b0(d.type,d.pendingProps,ta.current),(D=T=Ra)&&(T=R2(T,d.type,d.pendingProps,ya),T!==null?(d.stateNode=T,wa=d,Ra=_0(T),ya=!1,D=!0):D=!1),D||ut(d)),Ve(d),D=d.type,k=d.pendingProps,ie=h!==null?h.memoizedProps:null,T=k.children,Fn(D,k)?T=null:ie!==null&&Fn(D,ie)&&(d.flags|=32),d.memoizedState!==null&&(D=ne(h,d,qe,null,null,b),rs?Zo._currentValue=D:Zo._currentValue2=D),uh(h,d),Ji(h,d,T,b),d.child;case 6:return h===null&&gi&&(ux(d.pendingProps,ta.current),(h=b=Ra)&&(b=m_(b,d.pendingProps,ya),b!==null?(d.stateNode=b,wa=d,Ra=null,h=!0):h=!1),h||ut(d)),null;case 13:return $d(h,d,b);case 4:return de(d,d.stateNode.containerInfo),T=d.pendingProps,h===null?d.child=_u(d,null,T,b):Ji(h,d,T,b),d.child;case 11:return Yo(h,d,d.type,d.pendingProps,b);case 7:return Ji(h,d,d.pendingProps,b),d.child;case 8:return Ji(h,d,d.pendingProps.children,b),d.child;case 12:return Ji(h,d,d.pendingProps.children,b),d.child;case 10:return T=d.pendingProps,Ko(d,d.type,T.value),Ji(h,d,T.children,b),d.child;case 9:return D=d.type._context,T=d.pendingProps.children,se(d),D=Oe(D),T=T(D),d.flags|=1,Ji(h,d,T,b),d.child;case 14:return lc(h,d,d.type,d.pendingProps,b);case 15:return lh(h,d,d.type,d.pendingProps,b);case 19:return Zd(h,d,b);case 22:return Kd(h,d,b);case 24:return se(d),T=Oe(ar),h===null?(D=si(),D===null&&(D=Bi,k=ai(),D.pooledCache=k,k.refCount++,k!==null&&(D.pooledCacheLanes|=b),D=k),d.memoizedState={parent:T,cache:D},ht(d),Ko(d,ar,D)):((h.lanes&b)!==0&&(Ot(h,d),bt(d,null,null,b),Je()),D=h.memoizedState,k=d.memoizedState,D.parent!==T?(D={parent:T,cache:T},d.memoizedState=D,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=D),Ko(d,ar,T)):(T=k.cache,Ko(d,ar,T),T!==D.cache&&S(d,[ar],b,!0))),Ji(h,d,d.pendingProps.children,b),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ko(h,d,b){rs?(R(Cc,d._currentValue),d._currentValue=b):(R(Cc,d._currentValue2),d._currentValue2=b)}function _o(h){var d=Cc.current;rs?h._currentValue=d:h._currentValue2=d,M(Cc)}function vo(h,d,b){for(;h!==null;){var T=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),h===b)break;h=h.return}}function S(h,d,b,T){var D=h.child;for(D!==null&&(D.return=h);D!==null;){var k=D.dependencies;if(k!==null){var ie=D.child;k=k.firstContext;e:for(;k!==null;){var xe=k;k=D;for(var Fe=0;Fe<d.length;Fe++)if(xe.context===d[Fe]){k.lanes|=b,xe=k.alternate,xe!==null&&(xe.lanes|=b),vo(k.return,b,h),T||(ie=null);break e}k=xe.next}}else if(D.tag===18){if(ie=D.return,ie===null)throw Error(r(341));ie.lanes|=b,k=ie.alternate,k!==null&&(k.lanes|=b),vo(ie,b,h),ie=null}else ie=D.child;if(ie!==null)ie.return=D;else for(ie=D;ie!==null;){if(ie===h){ie=null;break}if(D=ie.sibling,D!==null){D.return=ie.return,ie=D;break}ie=ie.return}D=ie}}function z(h,d,b,T){h=null;for(var D=d,k=!1;D!==null;){if(!k){if((D.flags&524288)!==0)k=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var ie=D.alternate;if(ie===null)throw Error(r(387));if(ie=ie.memoizedProps,ie!==null){var xe=D.type;ws(D.pendingProps.value,ie.value)||(h!==null?h.push(xe):h=[xe])}}else if(D===Mh.current){if(ie=D.alternate,ie===null)throw Error(r(387));ie.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(h!==null?h.push(Zo):h=[Zo])}D=D.return}h!==null&&S(d,h,b,T),d.flags|=262144}function q(h){for(h=h.firstContext;h!==null;){var d=h.context;if(!ws(rs?d._currentValue:d._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function se(h){al=h,$s=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Oe(h){return Bt(al,h)}function it(h,d){return al===null&&se(h),Bt(h,d)}function Bt(h,d){var b=rs?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:b,next:null},$s===null){if(h===null)throw Error(r(308));$s=d,h.dependencies={lanes:0,firstContext:d},h.flags|=524288}else $s=$s.next=d;return b}function ai(){return{controller:new Wf,data:new Map,refCount:0}}function gr(h){h.refCount--,h.refCount===0&&xx(Mx,function(){h.controller.abort()})}function si(){var h=Dl.current;return h!==null?h:Bi.pooledCache}function Pr(h,d){d===null?R(Dl,Dl.current):R(Dl,d.pool)}function Wr(){var h=si();return h===null?null:{parent:rs?ar._currentValue:ar._currentValue2,pool:h}}function Dr(h){h.flags|=4}function da(h,d){if(h!==null&&h.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(h=d.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function bo(h,d,b,T){if(ea)for(b=d.child;b!==null;){if(b.tag===5||b.tag===6)_p(h,b.stateNode);else if(!(b.tag===4||Qi&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(To)for(var D=d.child;D!==null;){if(D.tag===5){var k=D.stateNode;b&&T&&(k=h_(k,D.type,D.memoizedProps)),_p(h,k)}else if(D.tag===6)k=D.stateNode,b&&T&&(k=f_(k,D.memoizedProps)),_p(h,k);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)k=D.child,k!==null&&(k.return=D),bo(h,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function xf(h,d,b,T){if(To)for(var D=d.child;D!==null;){if(D.tag===5){var k=D.stateNode;b&&T&&(k=h_(k,D.type,D.memoizedProps)),u_(h,k)}else if(D.tag===6)k=D.stateNode,b&&T&&(k=f_(k,D.memoizedProps)),u_(h,k);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)k=D.child,k!==null&&(k.return=D),xf(h,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function ep(h,d){if(To&&da(h,d)){h=d.stateNode;var b=h.containerInfo,T=vp();xf(T,d,!1,!1),h.pendingChildren=T,Dr(d),m0(b,T)}}function Wm(h,d,b,T){if(ea)h.memoizedProps!==T&&Dr(d);else if(To){var D=h.stateNode,k=h.memoizedProps;if((h=da(h,d))||k!==T){var ie=ta.current;k=Ff(D,b,k,T,!h,null),k===D?d.stateNode=D:(bc(k,b,T,ie)&&Dr(d),d.stateNode=k,h?bo(k,d,!1,!1):Dr(d))}else d.stateNode=D}}function Ym(h,d,b){if(n_(d,b)){if(h.flags|=16777216,!d0(d,b))if(iu())h.flags|=8192;else throw mu=wp,Cp}else h.flags&=-16777217}function Km(h,d){if(dx(d)){if(h.flags|=16777216,!yh(d))if(iu())h.flags|=8192;else throw mu=wp,Cp}else h.flags&=-16777217}function Mf(h,d){d!==null&&(h.flags|=4),h.flags&16384&&(d=h.tag!==22?B():536870912,h.lanes|=d,Nl|=d)}function Sf(h,d){if(!gi)switch(h.tailMode){case"hidden":d=h.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var T=null;b!==null;)b.alternate!==null&&(T=b),b=b.sibling;T===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function dr(h){var d=h.alternate!==null&&h.alternate.child===h.child,b=0,T=0;if(d)for(var D=h.child;D!==null;)b|=D.lanes|D.childLanes,T|=D.subtreeFlags&31457280,T|=D.flags&31457280,D.return=h,D=D.sibling;else for(D=h.child;D!==null;)b|=D.lanes|D.childLanes,T|=D.subtreeFlags,T|=D.flags,D.return=h,D=D.sibling;return h.subtreeFlags|=T,h.childLanes=b,d}function Cb(h,d,b){var T=d.pendingProps;switch(Te(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(d),null;case 1:return dr(d),null;case 3:return b=d.stateNode,T=null,h!==null&&(T=h.memoizedState.cache),d.memoizedState.cache!==T&&(d.flags|=2048),_o(ar),Ne(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(Ct(d)?Dr(d):h===null||h.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,wo!==null&&(op(wo),wo=null))),ep(h,d),dr(d),null;case 26:if(qs){b=d.type;var D=d.memoizedState;return h===null?(Dr(d),D!==null?(dr(d),Km(d,D)):(dr(d),Ym(d,b,T))):D?D!==h.memoizedState?(Dr(d),dr(d),Km(d,D)):(dr(d),d.flags&=-16777217):(ea?h.memoizedProps!==T&&Dr(d):Wm(h,d,b,T),dr(d),Ym(d,b,T)),null}case 27:if(Qi){if(ct(d),b=wl.current,D=d.type,h!==null&&d.stateNode!=null)ea?h.memoizedProps!==T&&Dr(d):Wm(h,d,D,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return dr(d),null}h=ta.current,Ct(d)?Jt(d,h):(h=el(D,T,b,h,!0),d.stateNode=h,Dr(d))}return dr(d),null}case 5:if(ct(d),b=d.type,h!==null&&d.stateNode!=null)Wm(h,d,b,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return dr(d),null}h=ta.current,Ct(d)?Jt(d,h):(D=t_(b,T,wl.current,h,d),bo(D,d,!1,!1),d.stateNode=D,bc(D,b,T,h)&&Dr(d))}return dr(d),Ym(d,d.type,d.pendingProps),null;case 6:if(h&&d.stateNode!=null)b=h.memoizedProps,ea?b!==T&&Dr(d):To&&(b!==T?(d.stateNode=Fi(T,wl.current,ta.current,d),Dr(d)):d.stateNode=h.stateNode);else{if(typeof T!="string"&&d.stateNode===null)throw Error(r(166));if(h=wl.current,b=ta.current,Ct(d)){if(!Ca)throw Error(r(176));if(h=d.stateNode,b=d.memoizedProps,T=null,D=wa,D!==null)switch(D.tag){case 27:case 5:T=D.memoizedProps}g_(h,b,d,T)||ut(d)}else d.stateNode=Fi(T,h,b,d)}return dr(d),null;case 13:if(T=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(D=Ct(d),T!==null&&T.dehydrated!==null){if(h===null){if(!D)throw Error(r(318));if(!Ca)throw Error(r(344));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));ox(D,d)}else Nt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;dr(d),D=!1}else wo!==null&&(op(wo),wo=null),D=!0;if(!D)return d.flags&256?(sn(d),d):(sn(d),null)}if(sn(d),(d.flags&128)!==0)return d.lanes=b,d;if(b=T!==null,h=h!==null&&h.memoizedState!==null,b){T=d.child,D=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(D=T.alternate.memoizedState.cachePool.pool);var k=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(k=T.memoizedState.cachePool.pool),k!==D&&(T.flags|=2048)}return b!==h&&b&&(d.child.flags|=8192),Mf(d,d.updateQueue),dr(d),null;case 4:return Ne(),ep(h,d),h===null&&Or(d.stateNode.containerInfo),dr(d),null;case 10:return _o(d.type),dr(d),null;case 19:if(M(na),D=d.memoizedState,D===null)return dr(d),null;if(T=(d.flags&128)!==0,k=D.rendering,k===null)if(T)Sf(D,!1);else{if(er!==0||h!==null&&(h.flags&128)!==0)for(h=d.child;h!==null;){if(k=ha(h),k!==null){for(d.flags|=128,Sf(D,!1),h=k.updateQueue,d.updateQueue=h,Mf(d,h),d.subtreeFlags=0,h=b,b=d.child;b!==null;)up(b,h),b=b.sibling;return R(na,na.current&1|2),d.child}h=h.sibling}D.tail!==null&&Co()>Jf&&(d.flags|=128,T=!0,Sf(D,!1),d.lanes=4194304)}else{if(!T)if(h=ha(k),h!==null){if(d.flags|=128,T=!0,h=h.updateQueue,d.updateQueue=h,Mf(d,h),Sf(D,!0),D.tail===null&&D.tailMode==="hidden"&&!k.alternate&&!gi)return dr(d),null}else 2*Co()-D.renderingStartTime>Jf&&b!==536870912&&(d.flags|=128,T=!0,Sf(D,!1),d.lanes=4194304);D.isBackwards?(k.sibling=d.child,d.child=k):(h=D.last,h!==null?h.sibling=k:d.child=k,D.last=k)}return D.tail!==null?(d=D.tail,D.rendering=d,D.tail=d.sibling,D.renderingStartTime=Co(),d.sibling=null,h=na.current,R(na,T?h&1|2:h&1),d):(dr(d),null);case 22:case 23:return sn(d),Ui(),T=d.memoizedState!==null,h!==null?h.memoizedState!==null!==T&&(d.flags|=8192):T&&(d.flags|=8192),T?(b&536870912)!==0&&(d.flags&128)===0&&(dr(d),d.subtreeFlags&6&&(d.flags|=8192)):dr(d),b=d.updateQueue,b!==null&&Mf(d,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),T=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),T!==b&&(d.flags|=2048),h!==null&&M(Dl),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),_o(ar),dr(d),null;case 25:return null}throw Error(r(156,d.tag))}function S2(h,d){switch(Te(d),d.tag){case 1:return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return _o(ar),Ne(),h=d.flags,(h&65536)!==0&&(h&128)===0?(d.flags=h&-65537|128,d):null;case 26:case 27:case 5:return ct(d),null;case 13:if(sn(d),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Nt()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return M(na),null;case 4:return Ne(),null;case 10:return _o(d.type),null;case 22:case 23:return sn(d),Ui(),h!==null&&M(Dl),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 24:return _o(ar),null;case 25:return null;default:return null}}function wb(h,d){switch(Te(d),d.tag){case 3:_o(ar),Ne();break;case 26:case 27:case 5:ct(d);break;case 4:Ne();break;case 13:sn(d);break;case 19:M(na);break;case 10:_o(d.type);break;case 22:case 23:sn(d),Ui(),h!==null&&M(Dl);break;case 24:_o(ar)}}function tp(h,d){try{var b=d.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var D=T.next;b=D;do{if((b.tag&h)===h){T=void 0;var k=b.create,ie=b.inst;T=k(),ie.destroy=T}b=b.next}while(b!==D)}}catch(xe){Pi(d,d.return,xe)}}function $c(h,d,b){try{var T=d.updateQueue,D=T!==null?T.lastEffect:null;if(D!==null){var k=D.next;T=k;do{if((T.tag&h)===h){var ie=T.inst,xe=ie.destroy;if(xe!==void 0){ie.destroy=void 0,D=d;var Fe=b;try{xe()}catch(ft){Pi(D,Fe,ft)}}}T=T.next}while(T!==k)}}catch(ft){Pi(d,d.return,ft)}}function Rb(h){var d=h.updateQueue;if(d!==null){var b=h.stateNode;try{je(d,b)}catch(T){Pi(h,h.return,T)}}}function Ms(h,d,b){b.props=Yn(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(T){Pi(h,d,T)}}function Jo(h,d){try{var b=h.ref;if(b!==null){var T=h.stateNode;switch(h.tag){case 26:case 27:case 5:var D=Nf(T);break;default:D=T}typeof b=="function"?h.refCleanup=b(D):b.current=D}}catch(k){Pi(h,d,k)}}function Ss(h,d){var b=h.ref,T=h.refCleanup;if(b!==null)if(typeof T=="function")try{T()}catch(D){Pi(h,d,D)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(D){Pi(h,d,D)}else b.current=null}function Ny(h){var d=h.type,b=h.memoizedProps,T=h.stateNode;try{C2(T,d,b,h)}catch(D){Pi(h,h.return,D)}}function Ly(h,d,b){try{qb(h.stateNode,h.type,b,d,h)}catch(T){Pi(h,h.return,T)}}function Uy(h){return h.tag===5||h.tag===3||(qs?h.tag===26:!1)||(Qi?h.tag===27:!1)||h.tag===4}function np(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Uy(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!Qi||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Fy(h,d,b){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?Yb(b,h,d):o_(b,h);else if(!(T===4||Qi&&T===27)&&(h=h.child,h!==null))for(Fy(h,d,b),h=h.sibling;h!==null;)Fy(h,d,b),h=h.sibling}function uc(h,d,b){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?Wb(b,h,d):Gb(b,h);else if(!(T===4||Qi&&T===27)&&(h=h.child,h!==null))for(uc(h,d,b),h=h.sibling;h!==null;)uc(h,d,b),h=h.sibling}function Jm(h,d,b){h=h.containerInfo;try{zf(h,b)}catch(T){Pi(d,d.return,T)}}function ip(h,d){for(h0(h.containerInfo),On=d;On!==null;)if(h=On,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,On=d;else for(;On!==null;){h=On;var b=h.alternate;switch(d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&b!==null){d=void 0;var T=h,D=b.memoizedProps;b=b.memoizedState;var k=T.stateNode;try{var ie=Yn(T.type,D,T.elementType===T.type);d=k.getSnapshotBeforeUpdate(ie,b),k.__reactInternalSnapshotBeforeUpdate=d}catch(xe){Pi(T,T.return,xe)}}break;case 3:(d&1024)!==0&&ea&&Zb(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,On=d;break}On=h.return}return ie=ei,ei=!1,ie}function Qm(h,d,b){var T=b.flags;switch(b.tag){case 0:case 11:case 15:fc(h,b),T&4&&tp(5,b);break;case 1:if(fc(h,b),T&4)if(h=b.stateNode,d===null)try{h.componentDidMount()}catch(xe){Pi(b,b.return,xe)}else{var D=Yn(b.type,d.memoizedProps);d=d.memoizedState;try{h.componentDidUpdate(D,d,h.__reactInternalSnapshotBeforeUpdate)}catch(xe){Pi(b,b.return,xe)}}T&64&&Rb(b),T&512&&Jo(b,b.return);break;case 3:if(fc(h,b),T&64&&(T=b.updateQueue,T!==null)){if(h=null,b.child!==null)switch(b.child.tag){case 27:case 5:h=Nf(b.child.stateNode);break;case 1:h=b.child.stateNode}try{je(T,h)}catch(xe){Pi(b,b.return,xe)}}break;case 26:if(qs){fc(h,b),T&512&&Jo(b,b.return);break}case 27:case 5:fc(h,b),d===null&&T&4&&Ny(b),T&512&&Jo(b,b.return);break;case 12:fc(h,b);break;case 13:fc(h,b),T&4&&$m(h,b);break;case 22:if(D=b.memoizedState!==null||Bl,!D){d=d!==null&&d.memoizedState!==null||Er;var k=Bl,ie=Er;Bl=D,(Er=d)&&!ie?dc(h,b,(b.subtreeFlags&8772)!==0):fc(h,b),Bl=k,Er=ie}T&512&&(b.memoizedProps.mode==="manual"?Jo(b,b.return):Ss(b,b.return));break;default:fc(h,b)}}function zy(h){var d=h.alternate;d!==null&&(h.alternate=null,zy(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&T2(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Aa(h,d,b){for(b=b.child;b!==null;)Zc(h,d,b),b=b.sibling}function Zc(h,d,b){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(Lr,b)}catch{}switch(b.tag){case 26:if(qs){Er||Ss(b,d),Aa(h,d,b),b.memoizedState?gh(b.memoizedState):b.stateNode&&Vf(b.stateNode);break}case 27:if(Qi){Er||Ss(b,d);var T=cn,D=Hn;cn=b.stateNode,Aa(h,d,b),fu(b.stateNode),cn=T,Hn=D;break}case 5:Er||Ss(b,d);case 6:if(ea){if(T=cn,D=Hn,cn=null,Aa(h,d,b),cn=T,Hn=D,cn!==null)if(Hn)try{Kb(cn,b.stateNode)}catch(k){Pi(b,d,k)}else try{l_(cn,b.stateNode)}catch(k){Pi(b,d,k)}}else Aa(h,d,b);break;case 18:ea&&cn!==null&&(Hn?bp(cn,b.stateNode):cx(cn,b.stateNode));break;case 4:ea?(T=cn,D=Hn,cn=b.stateNode.containerInfo,Hn=!0,Aa(h,d,b),cn=T,Hn=D):(To&&Jm(b.stateNode,b,vp()),Aa(h,d,b));break;case 0:case 11:case 14:case 15:Er||$c(2,b,d),Er||$c(4,b,d),Aa(h,d,b);break;case 1:Er||(Ss(b,d),T=b.stateNode,typeof T.componentWillUnmount=="function"&&Ms(b,d,T)),Aa(h,d,b);break;case 21:Aa(h,d,b);break;case 22:Er||Ss(b,d),Er=(T=Er)||b.memoizedState!==null,Aa(h,d,b),Er=T;break;default:Aa(h,d,b)}}function $m(h,d){if(Ca&&d.memoizedState===null&&(h=d.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{P2(h)}catch(b){Pi(d,d.return,b)}}function Ib(h){switch(h.tag){case 13:case 19:var d=h.stateNode;return d===null&&(d=h.stateNode=new Di),d;case 22:return h=h.stateNode,d=h._retryCache,d===null&&(d=h._retryCache=new Di),d;default:throw Error(r(435,h.tag))}}function hc(h,d){var b=Ib(h);d.forEach(function(T){var D=su.bind(null,h,T);b.has(T)||(b.add(T),T.then(D,D))})}function ns(h,d){var b=d.deletions;if(b!==null)for(var T=0;T<b.length;T++){var D=b[T],k=h,ie=d;if(ea){var xe=ie;e:for(;xe!==null;){switch(xe.tag){case 27:case 5:cn=xe.stateNode,Hn=!1;break e;case 3:cn=xe.stateNode.containerInfo,Hn=!0;break e;case 4:cn=xe.stateNode.containerInfo,Hn=!0;break e}xe=xe.return}if(cn===null)throw Error(r(160));Zc(k,ie,D),cn=null,Hn=!1}else Zc(k,ie,D);k=D.alternate,k!==null&&(k.return=null),D.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Vy(d,h),d=d.sibling}function Vy(h,d){var b=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:ns(d,h),As(h),T&4&&($c(3,h,h.return),tp(3,h),$c(5,h,h.return));break;case 1:ns(d,h),As(h),T&512&&(Er||b===null||Ss(b,b.return)),T&64&&Bl&&(h=h.updateQueue,h!==null&&(T=h.callbacks,T!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?T:b.concat(T))));break;case 26:if(qs){var D=_r;ns(d,h),As(h),T&512&&(Er||b===null||Ss(b,b.return)),T&4&&(T=b!==null?b.memoizedState:null,d=h.memoizedState,b===null?d===null?h.stateNode===null?h.stateNode=Mp(D,h.type,h.memoizedProps,h):Sp(D,h.type,h.stateNode):h.stateNode=hx(D,d,h.memoizedProps):T!==d?(T===null?b.stateNode!==null&&Vf(b.stateNode):gh(T),d===null?Sp(D,h.type,h.stateNode):hx(D,d,h.memoizedProps)):d===null&&h.stateNode!==null&&Ly(h,h.memoizedProps,b.memoizedProps));break}case 27:if(Qi&&T&4&&h.alternate===null){D=h.stateNode;var k=h.memoizedProps;try{hu(D),mx(h.type,k,D,h)}catch(Rt){Pi(h,h.return,Rt)}}case 5:if(ns(d,h),As(h),T&512&&(Er||b===null||Ss(b,b.return)),ea){if(h.flags&32){d=h.stateNode;try{c_(d)}catch(Rt){Pi(h,h.return,Rt)}}T&4&&h.stateNode!=null&&(d=h.memoizedProps,Ly(h,d,b!==null?b.memoizedProps:d)),T&1024&&(x_=!0)}break;case 6:if(ns(d,h),As(h),T&4&&ea){if(h.stateNode===null)throw Error(r(162));T=h.memoizedProps,b=b!==null?b.memoizedProps:T,d=h.stateNode;try{Xb(d,b,T)}catch(Rt){Pi(h,h.return,Rt)}}break;case 3:if(qs?(fx(),D=_r,_r=x0(d.containerInfo),ns(d,h),_r=D):ns(d,h),As(h),T&4){if(ea&&Ca&&b!==null&&b.memoizedState.isDehydrated)try{I2(d.containerInfo)}catch(Rt){Pi(h,h.return,Rt)}if(To){T=d.containerInfo,b=d.pendingChildren;try{zf(T,b)}catch(Rt){Pi(h,h.return,Rt)}}}x_&&(x_=!1,Pb(h));break;case 4:qs?(b=_r,_r=x0(h.stateNode.containerInfo),ns(d,h),As(h),_r=b):(ns(d,h),As(h)),T&4&&To&&Jm(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:ns(d,h),As(h);break;case 13:ns(d,h),As(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(ls=Co()),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,hc(h,T)));break;case 22:T&512&&(Er||b===null||Ss(b,b.return)),D=h.memoizedState!==null;var ie=b!==null&&b.memoizedState!==null,xe=Bl,Fe=Er;if(Bl=xe||D,Er=Fe||ie,ns(d,h),Er=Fe,Bl=xe,As(h),d=h.stateNode,d._current=h,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,T&8192&&(d._visibility=D?d._visibility&-2:d._visibility|1,D&&(d=Bl||Er,b===null||ie||d||Af(h)),ea&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(b=null,ea)for(d=h;;){if(d.tag===5||qs&&d.tag===26||Qi&&d.tag===27){if(b===null){ie=b=d;try{k=ie.stateNode,D?Jb(k):$b(ie.stateNode,ie.memoizedProps)}catch(Rt){Pi(ie,ie.return,Rt)}}}else if(d.tag===6){if(b===null){ie=d;try{var ft=ie.stateNode;D?Qb(ft):w2(ft,ie.memoizedProps)}catch(Rt){Pi(ie,ie.return,Rt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;b===d&&(b=null),d=d.return}b===d&&(b=null),d.sibling.return=d.return,d=d.sibling}}T&4&&(T=h.updateQueue,T!==null&&(b=T.retryQueue,b!==null&&(T.retryQueue=null,hc(h,b))));break;case 19:ns(d,h),As(h),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,hc(h,T)));break;case 21:break;default:ns(d,h),As(h)}}function As(h){var d=h.flags;if(d&2){try{if(ea&&(!Qi||h.tag!==27)){e:{for(var b=h.return;b!==null;){if(Uy(b)){var T=b;break e}b=b.return}throw Error(r(160))}switch(T.tag){case 27:if(Qi){var D=T.stateNode,k=np(h);uc(h,k,D);break}case 5:var ie=T.stateNode;T.flags&32&&(c_(ie),T.flags&=-33);var xe=np(h);uc(h,xe,ie);break;case 3:case 4:var Fe=T.stateNode.containerInfo,ft=np(h);Fy(h,ft,Fe);break;default:throw Error(r(161))}}}catch(Rt){Pi(h,h.return,Rt)}h.flags&=-3}d&4096&&(h.flags&=-4097)}function Pb(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var d=h;Pb(d),d.tag===5&&d.flags&1024&&p0(d.stateNode),h=h.sibling}}function fc(h,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Qm(h,d.alternate,d),d=d.sibling}function Af(h){for(h=h.child;h!==null;){var d=h;switch(d.tag){case 0:case 11:case 14:case 15:$c(4,d,d.return),Af(d);break;case 1:Ss(d,d.return);var b=d.stateNode;typeof b.componentWillUnmount=="function"&&Ms(d,d.return,b),Af(d);break;case 26:case 27:case 5:Ss(d,d.return),Af(d);break;case 22:Ss(d,d.return),d.memoizedState===null&&Af(d);break;default:Af(d)}h=h.sibling}}function dc(h,d,b){for(b=b&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var T=d.alternate,D=h,k=d,ie=k.flags;switch(k.tag){case 0:case 11:case 15:dc(D,k,b),tp(4,k);break;case 1:if(dc(D,k,b),T=k,D=T.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(ft){Pi(T,T.return,ft)}if(T=k,D=T.updateQueue,D!==null){var xe=T.stateNode;try{var Fe=D.shared.hiddenCallbacks;if(Fe!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Fe.length;D++)Se(Fe[D],xe)}catch(ft){Pi(T,T.return,ft)}}b&&ie&64&&Rb(k),Jo(k,k.return);break;case 26:case 27:case 5:dc(D,k,b),b&&T===null&&ie&4&&Ny(k),Jo(k,k.return);break;case 12:dc(D,k,b);break;case 13:dc(D,k,b),b&&ie&4&&$m(D,k);break;case 22:k.memoizedState===null&&dc(D,k,b),Jo(k,k.return);break;default:dc(D,k,b)}d=d.sibling}}function Zm(h,d){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(h=d.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&gr(b))}function rp(h,d){h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&gr(h))}function pa(h,d,b,T){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)jy(h,d,b,T),d=d.sibling}function jy(h,d,b,T){var D=d.flags;switch(d.tag){case 0:case 11:case 15:pa(h,d,b,T),D&2048&&tp(9,d);break;case 3:pa(h,d,b,T),D&2048&&(h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&gr(h)));break;case 12:if(D&2048){pa(h,d,b,T),h=d.stateNode;try{var k=d.memoizedProps,ie=k.id,xe=k.onPostCommit;typeof xe=="function"&&xe(ie,d.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Fe){Pi(d,d.return,Fe)}}else pa(h,d,b,T);break;case 23:break;case 22:k=d.stateNode,d.memoizedState!==null?k._visibility&4?pa(h,d,b,T):ja(h,d):k._visibility&4?pa(h,d,b,T):(k._visibility|=4,Ea(h,d,b,T,(d.subtreeFlags&10256)!==0)),D&2048&&Zm(d.alternate,d);break;case 24:pa(h,d,b,T),D&2048&&rp(d.alternate,d);break;default:pa(h,d,b,T)}}function Ea(h,d,b,T,D){for(D=D&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var k=h,ie=d,xe=b,Fe=T,ft=ie.flags;switch(ie.tag){case 0:case 11:case 15:Ea(k,ie,xe,Fe,D),tp(8,ie);break;case 23:break;case 22:var Rt=ie.stateNode;ie.memoizedState!==null?Rt._visibility&4?Ea(k,ie,xe,Fe,D):ja(k,ie):(Rt._visibility|=4,Ea(k,ie,xe,Fe,D)),D&&ft&2048&&Zm(ie.alternate,ie);break;case 24:Ea(k,ie,xe,Fe,D),D&&ft&2048&&rp(ie.alternate,ie);break;default:Ea(k,ie,xe,Fe,D)}d=d.sibling}}function ja(h,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var b=h,T=d,D=T.flags;switch(T.tag){case 22:ja(b,T),D&2048&&Zm(T.alternate,T);break;case 24:ja(b,T),D&2048&&rp(T.alternate,T);break;default:ja(b,T)}d=d.sibling}}function xo(h){if(h.subtreeFlags&Zs)for(h=h.child;h!==null;)e0(h),h=h.sibling}function e0(h){switch(h.tag){case 26:xo(h),h.flags&Zs&&(h.memoizedState!==null?px(_r,h.memoizedState,h.memoizedProps):as(h.type,h.memoizedProps));break;case 5:xo(h),h.flags&Zs&&as(h.type,h.memoizedProps);break;case 3:case 4:if(qs){var d=_r;_r=x0(h.stateNode.containerInfo),xo(h),_r=d}else xo(h);break;case 22:h.memoizedState===null&&(d=h.alternate,d!==null&&d.memoizedState!==null?(d=Zs,Zs=16777216,xo(h),Zs=d):xo(h));break;default:xo(h)}}function ap(h){var d=h.alternate;if(d!==null&&(h=d.child,h!==null)){d.child=null;do d=h.sibling,h.sibling=null,h=d;while(h!==null)}}function eu(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var T=d[b];On=T,ky(T,h)}ap(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)t0(h),h=h.sibling}function t0(h){switch(h.tag){case 0:case 11:case 15:eu(h),h.flags&2048&&$c(9,h,h.return);break;case 3:eu(h);break;case 12:eu(h);break;case 22:var d=h.stateNode;h.memoizedState!==null&&d._visibility&4&&(h.return===null||h.return.tag!==13)?(d._visibility&=-5,pc(h)):eu(h);break;default:eu(h)}}function pc(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var T=d[b];On=T,ky(T,h)}ap(h)}for(h=h.child;h!==null;){switch(d=h,d.tag){case 0:case 11:case 15:$c(8,d,d.return),pc(d);break;case 22:b=d.stateNode,b._visibility&4&&(b._visibility&=-5,pc(d));break;default:pc(d)}h=h.sibling}}function ky(h,d){for(;On!==null;){var b=On;switch(b.tag){case 0:case 11:case 15:$c(8,b,d);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var T=b.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:gr(b.memoizedState.cache)}if(T=b.child,T!==null)T.return=b,On=T;else e:for(b=h;On!==null;){T=On;var D=T.sibling,k=T.return;if(zy(T),T===b){On=null;break e}if(D!==null){D.return=k,On=D;break e}On=k}}}function Ef(h){var d=Ub(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(h=a_(h),h===null)throw Error(r(362));return h.stateNode.current}function tu(h,d){var b=h.tag;switch(d.$$typeof){case Kf:if(h.type===d.value)return!0;break;case Po:e:{for(d=d.value,h=[h,0],b=0;b<h.length;){var T=h[b++],D=T.tag,k=h[b++],ie=d[k];if(D!==5&&D!==26&&D!==27||!Uf(T)){for(;ie!=null&&tu(T,ie);)k++,ie=d[k];if(k===d.length){d=!0;break e}else for(T=T.child;T!==null;)h.push(T,k),T=T.sibling}}d=!1}return d;case ur:if((b===5||b===26||b===27)&&jb(h.stateNode,d.value))return!0;break;case Ol:if((b===5||b===6||b===26||b===27)&&(h=Vb(h),h!==null&&0<=h.indexOf(d.value)))return!0;break;case sl:if((b===5||b===26||b===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Hy(h){switch(h.$$typeof){case Kf:return"<"+(s(h.value)||"Unknown")+">";case Po:return":has("+(Hy(h)||"")+")";case ur:return'[role="'+h.value+'"]';case Ol:return'"'+h.value+'"';case sl:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function Es(h,d){var b=[];h=[h,0];for(var T=0;T<h.length;){var D=h[T++],k=D.tag,ie=h[T++],xe=d[ie];if(k!==5&&k!==26&&k!==27||!Uf(D)){for(;xe!=null&&tu(D,xe);)ie++,xe=d[ie];if(ie===d.length)b.push(D);else for(D=D.child;D!==null;)h.push(D,ie),D=D.sibling}}return b}function sp(h,d){if(!uu)throw Error(r(363));h=Ef(h),h=Es(h,d),d=[],h=Array.from(h);for(var b=0;b<h.length;){var T=h[b++],D=T.tag;if(D===5||D===26||D===27)Uf(T)||d.push(T.stateNode);else for(T=T.child;T!==null;)h.push(T),T=T.sibling}return d}function Br(){if((xi&2)!==0&&oi!==0)return oi&-oi;if(wn.T!==null){var h=Ks;return h!==0?h:Pe()}return Fb()}function Gy(){no===0&&(no=(oi&536870912)===0||gi?N():536870912);var h=Js.current;return h!==null&&(h.flags|=32),no}function ma(h,d,b){(h===Bi&&Xi===2||h.cancelPendingCommit!==null)&&(Ta(h,0),Ts(h,oi,no,!1)),H(h,b),((xi&2)===0||h!==Bi)&&(h===Bi&&((xi&2)===0&&(wc|=b),er===4&&Ts(h,oi,no,!1)),We(h))}function nu(h,d,b){if((xi&6)!==0)throw Error(r(327));var T=!b&&(d&60)===0&&(d&h.expiredLanes)===0||j(h,d),D=T?qy(h,d):i0(h,d,!0),k=T;do{if(D===0){eo&&!T&&Ts(h,d,0,!1);break}else if(D===6)Ts(h,d,0,!Bo);else{if(b=h.current.alternate,k&&!Tf(b)){D=i0(h,d,!1),k=!1;continue}if(D===2){if(k=d,h.errorRecoveryDisabledLanes&k)var ie=0;else ie=h.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){d=ie;e:{var xe=h;D=Ph;var Fe=Ca&&xe.current.memoizedState.isDehydrated;if(Fe&&(Ta(xe,ie).flags|=256),ie=i0(xe,ie,!1),ie!==2){if(ia&&!Fe){xe.errorRecoveryDisabledLanes|=k,wc|=k,D=4;break e}k=Tr,Tr=D,k!==null&&op(k)}D=ie}if(k=!1,D!==2)continue}}if(D===1){Ta(h,0),Ts(h,d,0,!0);break}e:{switch(T=h,D){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Ts(T,d,no,!Bo);break e}break;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(T.finishedWork=b,T.finishedLanes=d,(d&62914560)===d&&(k=ls+300-Co(),10<k)){if(Ts(T,d,no,!Bo),F(T,0)!==0)break e;T.timeoutHandle=Kr(n0.bind(null,T,b,Tr,Ip,D0,d,no,wc,Nl,Bo,2,-0,0),k);break e}n0(T,b,Tr,Ip,D0,d,no,wc,Nl,Bo,0,-0,0)}}break}while(!0);We(h)}function op(h){Tr===null?Tr=h:Tr.push.apply(Tr,h)}function n0(h,d,b,T,D,k,ie,xe,Fe,ft,Rt,jt,Gt){var Nn=d.subtreeFlags;if((Nn&8192||(Nn&16785408)===16785408)&&(i_(),e0(d),d=Jr(),d!==null)){h.cancelPendingCommit=d(ru.bind(null,h,b,T,D,ie,xe,Fe,1,jt,Gt)),Ts(h,k,ie,!ft);return}ru(h,b,T,D,ie,xe,Fe,Rt,jt,Gt)}function Tf(h){for(var d=h;;){var b=d.tag;if((b===0||b===11||b===15)&&d.flags&16384&&(b=d.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var T=0;T<b.length;T++){var D=b[T],k=D.getSnapshot;D=D.value;try{if(!ws(k(),D))return!1}catch{return!1}}if(b=d.child,d.subtreeFlags&16384&&b!==null)b.return=d,d=b;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ts(h,d,b,T){d&=~Rp,d&=~wc,h.suspendedLanes|=d,h.pingedLanes&=~d,T&&(h.warmLanes|=d),T=h.expirationTimes;for(var D=d;0<D;){var k=31-ss(D),ie=1<<k;T[k]=-1,D&=~ie}b!==0&&G(h,b,d)}function lp(){return(xi&6)===0?(ae(0),!1):!0}function Cf(){if(gn!==null){if(Xi===0)var h=gn.return;else h=gn,$s=al=null,yt(h),gu=null,yu=0,h=gn;for(;h!==null;)wb(h.alternate,h),h=h.return;gn=null}}function Ta(h,d){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;b!==lu&&(h.timeoutHandle=lu,f0(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),Cf(),Bi=h,gn=b=So(h.current,null),oi=d,Xi=0,Ha=null,Bo=!1,eo=j(h,d),ia=!1,Nl=no=Rp=wc=to=er=0,Tr=Ph=null,D0=!1,(d&8)!==0&&(d|=d&32);var T=h.entangledLanes;if(T!==0)for(h=h.entanglements,T&=d;0<T;){var D=31-ss(T),k=1<<D;d|=h[D],T&=~k}return Ga=d,fe(),b}function Hs(h,d){Kn=null,wn.H=Ar,d===Xf?(d=$t(),Xi=3):d===Cp?(d=$t(),Xi=4):Xi=d===I0?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ha=d,gn===null&&(er=1,pi(h,be(d,h.current)))}function iu(){var h=Js.current;return h===null?!0:(oi&4194176)===oi?$i===null:(oi&62914560)===oi||(oi&536870912)!==0?h===$i:!1}function Ml(){var h=wn.H;return wn.H=Ar,h===null?Ar:h}function Sl(){var h=wn.A;return wn.A=Yf,h}function mc(){er=4,Bo||(oi&4194176)!==oi&&Js.current!==null||(eo=!0),(to&134217727)===0&&(wc&134217727)===0||Bi===null||Ts(Bi,oi,no,!1)}function i0(h,d,b){var T=xi;xi|=2;var D=Ml(),k=Sl();(Bi!==h||oi!==d)&&(Ip=null,Ta(h,d)),d=!1;var ie=er;e:do try{if(Xi!==0&&gn!==null){var xe=gn,Fe=Ha;switch(Xi){case 8:Cf(),ie=6;break e;case 3:case 2:case 6:Js.current===null&&(d=!0);var ft=Xi;if(Xi=0,Ha=null,Mo(h,xe,Fe,ft),b&&eo){ie=0;break e}break;default:ft=Xi,Xi=0,Ha=null,Mo(h,xe,Fe,ft)}}Xy(),ie=er;break}catch(Rt){Hs(h,Rt)}while(!0);return d&&h.shellSuspendCounter++,$s=al=null,xi=T,wn.H=D,wn.A=k,gn===null&&(Bi=null,oi=0,fe()),ie}function Xy(){for(;gn!==null;)yr(gn)}function qy(h,d){var b=xi;xi|=2;var T=Ml(),D=Sl();Bi!==h||oi!==d?(Ip=null,Jf=Co()+500,Ta(h,d)):eo=j(h,d);e:do try{if(Xi!==0&&gn!==null){d=gn;var k=Ha;t:switch(Xi){case 1:Xi=0,Ha=null,Mo(h,d,k,1);break;case 2:if(st(k)){Xi=0,Ha=null,Ai(d);break}d=function(){Xi===2&&Bi===h&&(Xi=7),We(h)},k.then(d,d);break e;case 3:Xi=7;break e;case 4:Xi=5;break e;case 7:st(k)?(Xi=0,Ha=null,Ai(d)):(Xi=0,Ha=null,Mo(h,d,k,7));break;case 5:var ie=null;switch(gn.tag){case 26:ie=gn.memoizedState;case 5:case 27:var xe=gn,Fe=xe.type,ft=xe.pendingProps;if(ie?yh(ie):d0(Fe,ft)){Xi=0,Ha=null;var Rt=xe.sibling;if(Rt!==null)gn=Rt;else{var jt=xe.return;jt!==null?(gn=jt,Gs(jt)):gn=null}break t}}Xi=0,Ha=null,Mo(h,d,k,5);break;case 6:Xi=0,Ha=null,Mo(h,d,k,6);break;case 8:Cf(),er=6;break e;default:throw Error(r(462))}}is();break}catch(Gt){Hs(h,Gt)}while(!0);return $s=al=null,wn.H=T,wn.A=D,xi=b,gn!==null?0:(Bi=null,oi=0,fe(),er)}function is(){for(;gn!==null&&!_x();)yr(gn)}function yr(h){var d=Va(h.alternate,h,Ga);h.memoizedProps=h.pendingProps,d===null?Gs(h):gn=d}function Ai(h){var d=h,b=d.alternate;switch(d.tag){case 15:case 0:d=Jc(b,d,d.pendingProps,d.type,void 0,oi);break;case 11:d=Jc(b,d,d.pendingProps,d.type.render,d.ref,oi);break;case 5:yt(d);default:wb(b,d),d=gn=up(d,Ga),d=Va(b,d,Ga)}h.memoizedProps=h.pendingProps,d===null?Gs(h):gn=d}function Mo(h,d,b,T){$s=al=null,yt(d),gu=null,yu=0;var D=d.return;try{if(oc(h,D,d,b,oi)){er=1,pi(h,be(b,h.current)),gn=null;return}}catch(k){if(D!==null)throw gn=D,k;er=1,pi(h,be(b,h.current)),gn=null;return}d.flags&32768?(gi||T===1?h=!0:eo||(oi&536870912)!==0?h=!1:(Bo=h=!0,(T===2||T===3||T===6)&&(T=Js.current,T!==null&&T.tag===13&&(T.flags|=16384))),r0(d,h)):Gs(d)}function Gs(h){var d=h;do{if((d.flags&32768)!==0){r0(d,Bo);return}h=d.return;var b=Cb(d.alternate,d,Ga);if(b!==null){gn=b;return}if(d=d.sibling,d!==null){gn=d;return}gn=d=h}while(d!==null);er===0&&(er=5)}function r0(h,d){do{var b=S2(h.alternate,h);if(b!==null){b.flags&=32767,gn=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!d&&(h=h.sibling,h!==null)){gn=h;return}gn=h=b}while(h!==null);er=6,gn=null}function ru(h,d,b,T,D,k,ie,xe,Fe,ft){var Rt=wn.T,jt=xc();try{ka(2),wn.T=null,Db(h,d,b,T,jt,D,k,ie,xe,Fe,ft)}finally{wn.T=Rt,ka(jt)}}function Db(h,d,b,T,D,k,ie,xe){do Qo();while(Ll!==null);if((xi&6)!==0)throw Error(r(327));var Fe=h.finishedWork;if(T=h.finishedLanes,Fe===null)return null;if(h.finishedWork=null,h.finishedLanes=0,Fe===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var ft=Fe.lanes|Fe.childLanes;if(ft|=il,Q(h,T,ft,k,ie,xe),h===Bi&&(gn=Bi=null,oi=0),(Fe.subtreeFlags&10256)===0&&(Fe.flags&10256)===0||ol||(ol=!0,Mu=ft,B0=b,yc(T0,function(){return Qo(),null})),b=(Fe.flags&15990)!==0,(Fe.subtreeFlags&15990)!==0||b?(b=wn.T,wn.T=null,k=xc(),ka(2),ie=xi,xi|=4,ip(h,Fe),Vy(Fe,h),Lb(h.containerInfo),h.current=Fe,Qm(h,Fe.alternate,Fe),A0(),xi=ie,ka(k),wn.T=b):h.current=Fe,ol?(ol=!1,Ll=h,Dh=T):Wy(h,ft),ft=h.pendingLanes,ft===0&&(xu=null),X(Fe.stateNode),We(h),d!==null)for(D=h.onRecoverableError,Fe=0;Fe<d.length;Fe++)ft=d[Fe],D(ft.value,{componentStack:ft.stack});return(Dh&3)!==0&&Qo(),ft=h.pendingLanes,(T&4194218)!==0&&(ft&42)!==0?h===O0?Qf++:(Qf=0,O0=h):Qf=0,ae(0),null}function Wy(h,d){(h.pooledCacheLanes&=d)===0&&(d=h.pooledCache,d!=null&&(h.pooledCache=null,gr(d)))}function Qo(){if(Ll!==null){var h=Ll,d=Mu;Mu=0;var b=_e(Dh),T=32>b?32:b;b=wn.T;var D=xc();try{if(ka(T),wn.T=null,Ll===null)var k=!1;else{T=B0,B0=null;var ie=Ll,xe=Dh;if(Ll=null,Dh=0,(xi&6)!==0)throw Error(r(331));var Fe=xi;if(xi|=4,t0(ie.current),jy(ie,ie.current,xe,T),xi=Fe,ae(0,!1),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(Lr,ie)}catch{}k=!0}return k}finally{ka(D),wn.T=b,Wy(h,d)}}return!1}function wf(h,d,b){d=be(b,d),d=mi(h.stateNode,d,2),h=Pt(h,d,2),h!==null&&(H(h,2),We(h))}function Pi(h,d,b){if(h.tag===3)wf(h,h,b);else for(;d!==null;){if(d.tag===3){wf(d,h,b);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(xu===null||!xu.has(T))){h=be(b,h),b=cr(2),T=Pt(d,b,2),T!==null&&(Zr(b,T,d,h),H(T,2),We(T));break}}d=d.return}}function ph(h,d,b){var T=h.pingCache;if(T===null){T=h.pingCache=new Do;var D=new Set;T.set(d,D)}else D=T.get(d),D===void 0&&(D=new Set,T.set(d,D));D.has(b)||(ia=!0,D.add(b),h=Yy.bind(null,h,d,b),d.then(h,h))}function Yy(h,d,b){var T=h.pingCache;T!==null&&T.delete(d),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,Bi===h&&(oi&b)===b&&(er===4||er===3&&(oi&62914560)===oi&&300>Co()-ls?(xi&2)===0&&Ta(h,0):Rp|=b,Nl===oi&&(Nl=0)),We(h)}function au(h,d){d===0&&(d=B()),h=et(h,d),h!==null&&(H(h,d),We(h))}function gc(h){var d=h.memoizedState,b=0;d!==null&&(b=d.retryLane),au(h,b)}function su(h,d){var b=0;switch(h.tag){case 13:var T=h.stateNode,D=h.memoizedState;D!==null&&(b=D.retryLane);break;case 19:T=h.stateNode;break;case 22:T=h.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(d),au(h,b)}function yc(h,d){return Ap(h,d)}function Ky(h,d,b,T){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cp(h){return h=h.prototype,!(!h||!h.isReactComponent)}function So(h,d){var b=h.alternate;return b===null?(b=t(h.tag,d,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=d,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&31457280,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,d=h.dependencies,b.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function up(h,d){h.flags&=31457282;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=d,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,d=b.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),h}function Al(h,d,b,T,D,k){var ie=0;if(T=h,typeof h=="function")cp(h)&&(ie=1);else if(typeof h=="string")ie=qs&&Qi?xp(h,b,ta.current)?26:Tl(h)?27:5:qs?xp(h,b,ta.current)?26:5:Qi&&Tl(h)?27:5;else e:switch(h){case ou:return Sr(b.children,D,k,d);case pp:ie=8,D|=24;break;case l0:return h=t(12,b,d,D|2),h.elementType=l0,h.lanes=k,h;case c0:return h=t(13,b,d,D),h.elementType=c0,h.lanes=k,h;case Df:return h=t(19,b,d,D),h.elementType=Df,h.lanes=k,h;case $y:return hp(b,D,k,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case mp:case $o:ie=10;break e;case Qy:ie=9;break e;case gp:ie=11;break e;case u0:ie=14;break e;case Eo:ie=16,T=null;break e}ie=29,b=Error(r(130,h===null?"null":typeof h,"")),T=null}return d=t(ie,b,d,D),d.elementType=h,d.type=T,d.lanes=k,d}function Sr(h,d,b,T){return h=t(7,h,T,d),h.lanes=b,h}function hp(h,d,b,T){h=t(22,h,T,d),h.elementType=$y,h.lanes=b;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var k=D._current;if(k===null)throw Error(r(456));if((D._pendingVisibility&2)===0){var ie=et(k,2);ie!==null&&(D._pendingVisibility|=2,ma(ie,k,2))}},attach:function(){var k=D._current;if(k===null)throw Error(r(456));if((D._pendingVisibility&2)!==0){var ie=et(k,2);ie!==null&&(D._pendingVisibility&=-3,ma(ie,k,2))}}};return h.stateNode=D,h}function a0(h,d,b){return h=t(6,h,null,d),h.lanes=b,h}function Jy(h,d,b){return d=t(4,h.children!==null?h.children:[],h.key,d),d.lanes=b,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function A2(h,d,b,T,D,k,ie,xe){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=lu,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=T,this.onUncaughtError=D,this.onCaughtError=k,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=xe,this.incompleteTransitions=new Map}function Bb(h,d,b,T,D,k,ie,xe,Fe,ft,Rt,jt){return h=new A2(h,d,b,ie,xe,Fe,ft,jt),d=1,k===!0&&(d|=24),k=t(3,null,null,d),h.current=k,k.stateNode=h,d=ai(),d.refCount++,h.pooledCache=d,d.refCount++,k.memoizedState={element:T,isDehydrated:b,cache:d},ht(k),h}function Yr(h){return h?(h=du,h):du}function s0(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=v(d),h=h!==null?x(h):null,h===null?null:Nf(h.stateNode)}function Rf(h,d,b,T,D,k){D=Yr(D),T.context===null?T.context=D:T.pendingContext=D,T=zt(d),T.payload={element:b},k=k===void 0?null:k,k!==null&&(T.callback=k),b=Pt(h,T,d),b!==null&&(ma(b,h,d),St(b,h,d))}function If(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<d?b:d}}function fp(h,d){If(h,d),(h=h.alternate)&&If(h,d)}var Un={},Pf=vy(),Xs=upe(),o0=Object.assign,E2=Symbol.for("react.element"),dp=Symbol.for("react.transitional.element"),Ao=Symbol.for("react.portal"),ou=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),mp=Symbol.for("react.provider"),Qy=Symbol.for("react.consumer"),$o=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),u0=Symbol.for("react.memo"),Eo=Symbol.for("react.lazy"),$y=Symbol.for("react.offscreen"),Ob=Symbol.for("react.memo_cache_sentinel"),_c=Symbol.iterator,Zy=Symbol.for("react.client.reference"),wn=Pf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,El,vc,mh=!1,Bf=Array.isArray,e_=e.rendererVersion,yp=e.rendererPackageName,Of=e.extraDevToolsConfig,Nf=e.getPublicInstance,Nb=e.getRootHostContext,Lf=e.getChildHostContext,h0=e.prepareForCommit,Lb=e.resetAfterCommit,t_=e.createInstance,_p=e.appendInitialChild,bc=e.finalizeInitialChildren,Fn=e.shouldSetTextContent,Fi=e.createTextInstance,Kr=e.scheduleTimeout,f0=e.cancelTimeout,lu=e.noTimeout,rs=e.isPrimaryRenderer;e.warnsIfNotActing;var ea=e.supportsMutation,To=e.supportsPersistence,Ca=e.supportsHydration,Ub=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Or=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ka=e.setCurrentUpdatePriority,xc=e.getCurrentUpdatePriority,Fb=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var zb=e.shouldAttemptEagerTransition,T2=e.detachDeletedInstance;e.requestPostPaintCallback;var n_=e.maySuspendCommit,d0=e.preloadInstance,i_=e.startSuspendingCommit,as=e.suspendInstance,Jr=e.waitForCommitToBeReady,cu=e.NotPendingTransition,Zo=e.HostTransitionContext,p0=e.resetFormInstance;e.bindToConsole;var r_=e.supportsMicrotasks,Mc=e.scheduleMicrotask,uu=e.supportsTestSelectors,a_=e.findFiberRoot,s_=e.getBoundingRect,Vb=e.getTextContent,Uf=e.isHiddenSubtree,jb=e.matchAccessibilityRole,kb=e.setFocusIfFocusable,Hb=e.setupIntersectionObserver,Gb=e.appendChild,o_=e.appendChildToContainer,Xb=e.commitTextUpdate,C2=e.commitMount,qb=e.commitUpdate,Wb=e.insertBefore,Yb=e.insertInContainerBefore,l_=e.removeChild,Kb=e.removeChildFromContainer,c_=e.resetTextContent,Jb=e.hideInstance,Qb=e.hideTextInstance,$b=e.unhideInstance,w2=e.unhideTextInstance,Zb=e.clearContainer,Ff=e.cloneInstance,vp=e.createContainerChildSet,u_=e.appendChildToContainerChildSet,m0=e.finalizeContainerChildren,zf=e.replaceContainerChildren,h_=e.cloneHiddenInstance,f_=e.cloneHiddenTextInstance,g0=e.isSuspenseInstancePending,y0=e.isSuspenseInstanceFallback,ex=e.getSuspenseInstanceFallbackErrorDetails,tx=e.registerSuspenseInstanceRetry,d_=e.canHydrateFormStateMarker,nx=e.isFormStateMarkerMatching,p_=e.getNextHydratableSibling,_0=e.getFirstHydratableChild,ix=e.getFirstHydratableChildWithinContainer,rx=e.getFirstHydratableChildWithinSuspenseInstance,R2=e.canHydrateInstance,m_=e.canHydrateTextInstance,ax=e.canHydrateSuspenseInstance,sx=e.hydrateInstance,g_=e.hydrateTextInstance,ox=e.hydrateSuspenseInstance,lx=e.getNextHydratableInstanceAfterSuspenseInstance,I2=e.commitHydratedContainer,P2=e.commitHydratedSuspenseInstance,cx=e.clearSuspenseBoundary,bp=e.clearSuspenseBoundaryFromContainer,v0=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var b0=e.validateHydratableInstance,ux=e.validateHydratableTextInstance,qs=e.supportsResources,xp=e.isHostHoistableType,x0=e.getHoistableRoot,y_=e.getResource,hx=e.acquireResource,gh=e.releaseResource,Mp=e.hydrateHoistable,Sp=e.mountHoistable,Vf=e.unmountHoistable,M0=e.createHoistableInstance,fx=e.prepareToCommitHoistables,dx=e.mayResourceSuspendCommit,yh=e.preloadResource,px=e.suspendResource,Qi=e.supportsSingletons,el=e.resolveSingletonInstance,hu=e.clearSingleton,mx=e.acquireSingletonInstance,fu=e.releaseSingletonInstance,Tl=e.isHostSingletonType,Nr=[],Sc=-1,du={},ss=Math.clz32?Math.clz32:P,gx=Math.log,yx=Math.LN2,Cl=128,_h=4194304,Ap=Xs.unstable_scheduleCallback,S0=Xs.unstable_cancelCallback,_x=Xs.unstable_shouldYield,A0=Xs.unstable_requestPaint,Co=Xs.unstable_now,E0=Xs.unstable_ImmediatePriority,vx=Xs.unstable_UserBlockingPriority,T0=Xs.unstable_NormalPriority,D2=Xs.unstable_IdlePriority,bx=Xs.log,ga=Xs.unstable_setDisableYieldValue,Lr=null,Cs=null,ws=typeof Object.is=="function"?Object.is:re,__=new WeakMap,vh=[],bh=0,xh=null,jf=0,Ws=[],Ys=0,pu=null,tl=1,nl="",ta=A(null),kf=A(null),wl=A(null),Mh=A(null),wa=null,Ra=null,gi=!1,wo=null,ya=!1,Ep=Error(r(519)),Ro=[],Sh=0,il=0,Tp=null,Ac=null,Ah=!1,ir=!1,v_=!1,Hf=0,Gf=null,Eh=0,Ks=0,Th=null,Ec=!1,Ch=!1,Rl=Object.prototype.hasOwnProperty,Xf=Error(r(460)),Cp=Error(r(474)),wp={then:function(){}},mu=null,gu=null,yu=0,_u=Dn(!0),Il=Dn(!1),rr=A(null),qf=A(0),Js=A(null),$i=null,na=A(0),Tc=0,Kn=null,pn=null,bi=null,Io=!1,wh=!1,vu=!1,C0=0,Rh=0,_a=null,rl=0,w0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Ar={readContext:Oe,use:me,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useLayoutEffect:ni,useInsertionEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useSyncExternalStore:ni,useId:ni};Ar.useCacheRefresh=ni,Ar.useMemoCache=ni,Ar.useHostTransitionStatus=ni,Ar.useFormState=ni,Ar.useActionState=ni,Ar.useOptimistic=ni;var bu={readContext:Oe,use:me,useCallback:function(h,d){return K().memoizedState=[h,d===void 0?null:d],h},useContext:Oe,useEffect:yl,useImperativeHandle:function(h,d,b){b=b!=null?b.concat([h]):null,rc(4194308,4,$a.bind(null,d,h),b)},useLayoutEffect:function(h,d){return rc(4194308,4,h,d)},useInsertionEffect:function(h,d){rc(4,2,h,d)},useMemo:function(h,d){var b=K();d=d===void 0?null:d;var T=h();if(vu){Z(!0);try{h()}finally{Z(!1)}}return b.memoizedState=[T,d],T},useReducer:function(h,d,b){var T=K();if(b!==void 0){var D=b(d);if(vu){Z(!0);try{b(d)}finally{Z(!1)}}}else D=d;return T.memoizedState=T.baseState=D,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:D},T.queue=h,h=h.dispatch=go.bind(null,Kn,h),[T.memoizedState,h]},useRef:function(h){var d=K();return h={current:h},d.memoizedState=h},useState:function(h){h=qt(h);var d=h.queue,b=Kc.bind(null,Kn,d);return d.dispatch=b,[h.memoizedState,b]},useDebugValue:Za,useDeferredValue:function(h,d){var b=K();return es(b,h,d)},useTransition:function(){var h=qt(!1);return h=Wo.bind(null,Kn,h.queue,!0,!1),K().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,d,b){var T=Kn,D=K();if(gi){if(b===void 0)throw Error(r(407));b=b()}else{if(b=d(),Bi===null)throw Error(r(349));(oi&60)!==0||Dt(T,d,b)}D.memoizedState=b;var k={value:b,getSnapshot:d};return D.queue=k,yl(tn.bind(null,T,k,h),[h]),T.flags|=2048,fr(9,Lt.bind(null,T,k,b,d),{destroy:void 0},null),b},useId:function(){var h=K(),d=Bi.identifierPrefix;if(gi){var b=nl,T=tl;b=(T&~(1<<32-ss(T)-1)).toString(32)+b,d=":"+d+"R"+b,b=C0++,0<b&&(d+="H"+b.toString(32)),d+=":"}else b=rl++,d=":"+d+"r"+b.toString(32)+":";return h.memoizedState=d},useCacheRefresh:function(){return K().memoizedState=vl.bind(null,Kn)}};bu.useMemoCache=Re,bu.useHostTransitionStatus=qr,bu.useFormState=En,bu.useActionState=En,bu.useOptimistic=function(h){var d=K();d.memoizedState=d.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=b,d=ts.bind(null,Kn,!0,b),b.dispatch=d,[h,d]};var os={readContext:Oe,use:me,useCallback:bs,useContext:Oe,useEffect:oh,useImperativeHandle:Sa,useInsertionEffect:gf,useLayoutEffect:ac,useMemo:Yc,useReducer:tt,useRef:fa,useState:function(){return tt(ze)},useDebugValue:Za,useDeferredValue:function(h,d){var b=ce();return sc(b,pn.memoizedState,h,d)},useTransition:function(){var h=tt(ze)[0],d=ce().memoizedState;return[typeof h=="boolean"?h:ye(h),d]},useSyncExternalStore:Ut,useId:_l};os.useCacheRefresh=xs,os.useMemoCache=Re,os.useHostTransitionStatus=qr,os.useFormState=vi,os.useActionState=vi,os.useOptimistic=function(h,d){var b=ce();return en(b,pn,h,d)};var Qs={readContext:Oe,use:me,useCallback:bs,useContext:Oe,useEffect:oh,useImperativeHandle:Sa,useInsertionEffect:gf,useLayoutEffect:ac,useMemo:Yc,useReducer:gt,useRef:fa,useState:function(){return gt(ze)},useDebugValue:Za,useDeferredValue:function(h,d){var b=ce();return pn===null?es(b,h,d):sc(b,pn.memoizedState,h,d)},useTransition:function(){var h=gt(ze)[0],d=ce().memoizedState;return[typeof h=="boolean"?h:ye(h),d]},useSyncExternalStore:Ut,useId:_l};Qs.useCacheRefresh=xs,Qs.useMemoCache=Re,Qs.useHostTransitionStatus=qr,Qs.useFormState=lr,Qs.useActionState=lr,Qs.useOptimistic=function(h,d){var b=ce();return pn!==null?en(b,pn,h,d):(b.baseState=h,[h,b.queue.dispatch])};var Pl={isMounted:function(h){return(h=h._reactInternals)?g(h)===h:!1},enqueueSetState:function(h,d,b){h=h._reactInternals;var T=Br(),D=zt(T);D.payload=d,b!=null&&(D.callback=b),d=Pt(h,D,T),d!==null&&(ma(d,h,T),St(d,h,T))},enqueueReplaceState:function(h,d,b){h=h._reactInternals;var T=Br(),D=zt(T);D.tag=1,D.payload=d,b!=null&&(D.callback=b),d=Pt(h,D,T),d!==null&&(ma(d,h,T),St(d,h,T))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var b=Br(),T=zt(b);T.tag=2,d!=null&&(T.callback=d),d=Pt(h,T,b),d!==null&&(ma(d,h,b),St(d,h,b))}},R0=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},I0=Error(r(461)),Zi=!1,P0={dehydrated:null,treeContext:null,retryLane:0},Cc=A(null),al=null,$s=null,Wf=typeof AbortController<"u"?AbortController:function(){var h=[],d=this.signal={aborted:!1,addEventListener:function(b,T){h.push(T)}};this.abort=function(){d.aborted=!0,h.forEach(function(b){return b()})}},xx=Xs.unstable_scheduleCallback,Mx=Xs.unstable_NormalPriority,ar={$$typeof:$o,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},b_=wn.S;wn.S=function(h,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Ue(h,d),b_!==null&&b_(h,d)};var Dl=A(null),Bl=!1,Er=!1,x_=!1,Di=typeof WeakSet=="function"?WeakSet:Set,On=null,ei=!1,cn=null,Hn=!1,_r=null,Zs=8192,Yf={getCacheForType:function(h){var d=Oe(ar),b=d.data.get(h);return b===void 0&&(b=h(),d.data.set(h,b)),b}},Kf=0,Po=1,ur=2,sl=3,Ol=4;if(typeof Symbol=="function"&&Symbol.for){var Ih=Symbol.for;Kf=Ih("selector.component"),Po=Ih("selector.has_pseudo_class"),ur=Ih("selector.role"),sl=Ih("selector.test_id"),Ol=Ih("selector.text")}var Do=typeof WeakMap=="function"?WeakMap:Map,xi=0,Bi=null,gn=null,oi=0,Xi=0,Ha=null,Bo=!1,eo=!1,ia=!1,Ga=0,er=0,to=0,wc=0,Rp=0,no=0,Nl=0,Ph=null,Tr=null,D0=!1,ls=0,Jf=1/0,Ip=null,xu=null,ol=!1,Ll=null,Dh=0,Mu=0,B0=null,Qf=0,O0=null;return Un.attemptContinuousHydration=function(h){if(h.tag===13){var d=et(h,67108864);d!==null&&ma(d,h,67108864),fp(h,67108864)}},Un.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=Br(),b=et(h,d);b!==null&&ma(b,h,d),fp(h,d)}},Un.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var d=L(h.pendingLanes);if(d!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;d;){var b=1<<31-ss(d);h.entanglements[1]|=b,d&=~b}We(h),(xi&6)===0&&(Jf=Co()+500,ae(0))}}break;case 13:d=et(h,2),d!==null&&ma(d,h,2),lp(),fp(h,2)}},Un.batchedUpdates=function(h,d){return h(d)},Un.createComponentSelector=function(h){return{$$typeof:Kf,value:h}},Un.createContainer=function(h,d,b,T,D,k,ie,xe,Fe,ft){return Bb(h,d,!1,null,b,T,k,ie,xe,Fe,ft,null)},Un.createHasPseudoClassSelector=function(h){return{$$typeof:Po,value:h}},Un.createHydrationContainer=function(h,d,b,T,D,k,ie,xe,Fe,ft,Rt,jt,Gt){return h=Bb(b,T,!0,h,D,k,xe,Fe,ft,Rt,jt,Gt),h.context=Yr(null),b=h.current,T=Br(),D=zt(T),D.callback=d??null,Pt(b,D,T),h.current.lanes=T,H(h,T),We(h),h},Un.createPortal=function(h,d,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:T==null?null:""+T,children:h,containerInfo:d,implementation:b}},Un.createRoleSelector=function(h){return{$$typeof:ur,value:h}},Un.createTestNameSelector=function(h){return{$$typeof:sl,value:h}},Un.createTextSelector=function(h){return{$$typeof:Ol,value:h}},Un.defaultOnCaughtError=function(h){console.error(h)},Un.defaultOnRecoverableError=function(h){R0(h)},Un.defaultOnUncaughtError=function(h){R0(h)},Un.deferredUpdates=function(h){var d=wn.T,b=xc();try{return ka(32),wn.T=null,h()}finally{ka(b),wn.T=d}},Un.discreteUpdates=function(h,d,b,T,D){var k=wn.T,ie=xc();try{return ka(2),wn.T=null,h(d,b,T,D)}finally{ka(ie),wn.T=k,xi===0&&(Jf=Co()+500)}},Un.findAllNodes=sp,Un.findBoundingRects=function(h,d){if(!uu)throw Error(r(363));d=sp(h,d),h=[];for(var b=0;b<d.length;b++)h.push(s_(d[b]));for(d=h.length-1;0<d;d--){b=h[d];for(var T=b.x,D=T+b.width,k=b.y,ie=k+b.height,xe=d-1;0<=xe;xe--)if(d!==xe){var Fe=h[xe],ft=Fe.x,Rt=ft+Fe.width,jt=Fe.y,Gt=jt+Fe.height;if(T>=ft&&k>=jt&&D<=Rt&&ie<=Gt){h.splice(d,1);break}else if(T!==ft||b.width!==Fe.width||Gt<k||jt>ie){if(!(k!==jt||b.height!==Fe.height||Rt<T||ft>D)){ft>T&&(Fe.width+=ft-T,Fe.x=T),Rt<D&&(Fe.width=D-ft),h.splice(d,1);break}}else{jt>k&&(Fe.height+=jt-k,Fe.y=k),Gt<ie&&(Fe.height=ie-jt),h.splice(d,1);break}}}return h},Un.findHostInstance=s0,Un.findHostInstanceWithNoPortals=function(h){return h=v(h),h=h!==null?w(h):null,h===null?null:Nf(h.stateNode)},Un.findHostInstanceWithWarning=function(h){return s0(h)},Un.flushPassiveEffects=Qo,Un.flushSyncFromReconciler=function(h){var d=xi;xi|=1;var b=wn.T,T=xc();try{if(ka(2),wn.T=null,h)return h()}finally{ka(T),wn.T=b,xi=d,(xi&6)===0&&ae(0)}},Un.flushSyncWork=lp,Un.focusWithin=function(h,d){if(!uu)throw Error(r(363));for(h=Ef(h),d=Es(h,d),d=Array.from(d),h=0;h<d.length;){var b=d[h++],T=b.tag;if(!Uf(b)){if((T===5||T===26||T===27)&&kb(b.stateNode))return!0;for(b=b.child;b!==null;)d.push(b),b=b.sibling}}return!1},Un.getFindAllNodesFailureDescription=function(h,d){if(!uu)throw Error(r(363));var b=0,T=[];h=[Ef(h),0];for(var D=0;D<h.length;){var k=h[D++],ie=k.tag,xe=h[D++],Fe=d[xe];if((ie!==5&&ie!==26&&ie!==27||!Uf(k))&&(tu(k,Fe)&&(T.push(Hy(Fe)),xe++,xe>b&&(b=xe)),xe<d.length))for(k=k.child;k!==null;)h.push(k,xe),k=k.sibling}if(b<d.length){for(h=[];b<d.length;b++)h.push(Hy(d[b]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},Un.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return Nf(h.child.stateNode);default:return h.child.stateNode}},Un.injectIntoDevTools=function(){var h={bundleType:0,version:e_,rendererPackageName:yp,currentDispatcherRef:wn,findFiberByHostInstance:Ub,reconcilerVersion:"19.0.0"};if(Of!==null&&(h.rendererConfig=Of),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{Lr=d.inject(h),Cs=d}catch{}h=!!d.checkDCE}}return h},Un.isAlreadyRendering=function(){return!1},Un.observeVisibleRects=function(h,d,b,T){if(!uu)throw Error(r(363));h=sp(h,d);var D=Hb(h,b,T).disconnect;return{disconnect:function(){D()}}},Un.shouldError=function(){return null},Un.shouldSuspend=function(){return!1},Un.startHostTransition=function(h,d,b,T){if(h.tag!==5)throw Error(r(476));var D=Xr(h).queue;Wo(h,D,d,cu,b===null?i:function(){var k=Xr(h).next.queue;return za(h,k,{},Br()),b(T)})},Un.updateContainer=function(h,d,b,T){var D=d.current,k=Br();return Rf(D,k,h,d,b,T),k},Un.updateContainerSync=function(h,d,b,T){return d.tag===0&&Qo(),Rf(d.current,2,h,d,b,T),2},Un},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(jC)),jC.exports}var d6;function fpe(){return d6||(d6=1,VC.exports=hpe()),VC.exports}var dpe=fpe();const ppe=V1(dpe);var GC={exports:{}},XC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p6;function mpe(){return p6||(p6=1,function(n){function e(X,Z){var re=X.length;X.push(Z);e:for(;0<re;){var be=re-1>>>1,$=X[be];if(0<r($,Z))X[be]=Z,X[re]=$,re=be;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Z=X[0],re=X.pop();if(re!==Z){X[0]=re;e:for(var be=0,$=X.length,pe=$>>>1;be<pe;){var we=2*(be+1)-1,Te=X[we],de=we+1,Ne=X[de];if(0>r(Te,re))de<$&&0>r(Ne,Te)?(X[be]=Ne,X[de]=re,be=de):(X[be]=Te,X[we]=re,be=we);else if(de<$&&0>r(Ne,re))X[be]=Ne,X[de]=re,be=de;else break e}}return Z}function r(X,Z){var re=X.sortIndex-Z.sortIndex;return re!==0?re:X.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],f=[],p=1,g=null,y=3,v=!1,x=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function P(X){for(var Z=t(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=X)i(f),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=t(f)}}function L(X){if(w=!1,P(X),!x)if(t(c)!==null)x=!0,he();else{var Z=t(f);Z!==null&&_e(L,Z.startTime-X)}}var F=!1,j=-1,U=5,N=-1;function B(){return!(n.unstable_now()-N<U)}function O(){if(F){var X=n.unstable_now();N=X;var Z=!0;try{e:{x=!1,w&&(w=!1,M(j),j=-1),v=!0;var re=y;try{t:{for(P(X),g=t(c);g!==null&&!(g.expirationTime>X&&B());){var be=g.callback;if(typeof be=="function"){g.callback=null,y=g.priorityLevel;var $=be(g.expirationTime<=X);if(X=n.unstable_now(),typeof $=="function"){g.callback=$,P(X),Z=!0;break t}g===t(c)&&i(c),P(X)}else i(c);g=t(c)}if(g!==null)Z=!0;else{var pe=t(f);pe!==null&&_e(L,pe.startTime-X),Z=!1}}break e}finally{g=null,y=re,v=!1}Z=void 0}}finally{Z?H():F=!1}}}var H;if(typeof R=="function")H=function(){R(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,G=Q.port2;Q.port1.onmessage=O,H=function(){G.postMessage(null)}}else H=function(){A(O,0)};function he(){F||(F=!0,H())}function _e(X,Z){j=A(function(){X(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,he())},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(X){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var re=y;y=Z;try{return X()}finally{y=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var re=y;y=X;try{return Z()}finally{y=re}},n.unstable_scheduleCallback=function(X,Z,re){var be=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?be+re:be):re=be,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,X={id:p++,callback:Z,priorityLevel:X,startTime:re,expirationTime:$,sortIndex:-1},re>be?(X.sortIndex=re,e(f,X),t(c)===null&&X===t(f)&&(w?(M(j),j=-1):w=!0,_e(L,re-be))):(X.sortIndex=$,e(c,X),x||v||(x=!0,he())),X},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(X){var Z=y;return function(){var re=y;y=Z;try{return X.apply(this,arguments)}finally{y=re}}}}(XC)),XC}var m6;function gpe(){return m6||(m6=1,GC.exports=mpe()),GC.exports}var g6=gpe();const ype=n=>typeof n=="object"&&typeof n.then=="function",um=[];function LF(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function UF(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const a of um)if(LF(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!t)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=um.indexOf(r);a!==-1&&um.splice(a,1)},promise:(ype(n)?n:n(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(um.push(r),!t)throw r.promise}const _pe=(n,e,t)=>UF(n,e,!1,t),vpe=(n,e,t)=>void UF(n,e,!0,t),bpe=n=>{if(n===void 0||n.length===0)um.splice(0,um.length);else{const e=um.find(t=>LF(n,t.keys,t.equal));e&&e.remove()}};function cI(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=cI(i,e,t);if(r)return r;i=e?null:i.sibling}}function FF(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const uI=FF(Y.createContext(null));class zF extends Y.Component{render(){return Y.createElement(uI.Provider,{value:this._reactInternals},this.props.children)}}function VF(){const n=Y.useContext(uI);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Y.useId();return Y.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=cI(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const xpe=Symbol.for("react.context"),Mpe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===xpe;function Spe(){const n=VF(),[e]=Y.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;Mpe(i)&&i!==uI&&!e.has(i)&&e.set(i,Y.use(FF(i))),t=t.return}return e}function Ape(){const n=Spe();return Y.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>Y.createElement(e,null,Y.createElement(t.Provider,{...i,value:n.get(t)})),e=>Y.createElement(zF,{...e})),[n])}function jF(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const kF=n=>n&&n.isOrthographicCamera,Epe=n=>n&&n.hasOwnProperty("current"),Tpe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),_b=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Y.useLayoutEffect:Y.useEffect;function hI(n){const e=Y.useRef(n);return _b(()=>void(e.current=n),[n]),e}function Cpe(){const n=VF(),e=Ape();return Y.useMemo(()=>({children:t})=>{const r=!!cI(n,!0,a=>a.type===Y.StrictMode)?Y.StrictMode:Y.Fragment;return C.jsx(r,{children:C.jsx(e,{children:t})})},[n,e])}function wpe({set:n}){return _b(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Rpe=(n=>(n=class extends Y.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function HF(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function sg(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Cr={obj:n=>n===Object(n)&&!Cr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Cr.str(n)||Cr.num(n)||Cr.boo(n))return n===e;const a=Cr.obj(n);if(a&&i==="reference")return n===e;const s=Cr.arr(n);if(s&&t==="reference")return n===e;if((s||a)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(l in r?e:n)if(!Cr.equ(n[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:n)if(n[l]!==e[l])return!1;if(Cr.und(l)){if(s&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Ipe(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function Ppe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const GF=["children","key","ref"];function Dpe(n){const e={};for(const t in n)GF.includes(t)||(e[t]=n[t]);return e}function UA(n,e,t,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:Dpe(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function R1(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const y6=/-\d+$/;function FA(n,e){if(Cr.str(e.props.attach)){if(y6.test(e.props.attach)){const r=e.props.attach.replace(y6,""),{root:a,key:s}=R1(n.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:i}=R1(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Cr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function zA(n,e){if(Cr.str(e.props.attach)){const{root:t,key:i}=R1(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const M4=[...GF,"args","dispose","attach","object","onUpdate","dispose"],_6=new Map;function Bpe(n){let e=_6.get(n.constructor);try{e||(e=new n.constructor,_6.set(n.constructor,e))}catch{}return e}function Ope(n,e){const t={};for(const i in e)if(!M4.includes(i)&&!Cr.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(M4.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=R1(n.object,i);if(r.constructor&&r.constructor.length===0){const s=Bpe(r);Cr.und(s)||(t[a]=s[a])}else t[a]=0}return t}const Npe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Lpe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Nu(n,e){var t;const i=n.__r3f,r=i&&jF(i).getState(),a=i==null?void 0:i.eventCount;for(const l in e){let c=e[l];if(M4.includes(l))continue;if(i&&Lpe.test(l)){typeof c=="function"?i.handlers[l]=c:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(c===void 0)continue;let{root:f,key:p,target:g}=R1(n,l);if(g instanceof oy&&c instanceof oy)g.mask=c.mask;else if(g instanceof Vt&&Tpe(c))g.set(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&c!=null&&c.constructor&&g.constructor===c.constructor)g.copy(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(c))typeof g.fromArray=="function"?g.fromArray(c):g.set(...c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof c=="number")typeof g.setScalar=="function"?g.setScalar(c):g.set(c);else{var s;f[p]=c,r&&!r.linear&&Npe.includes(p)&&(s=f[p])!=null&&s.isTexture&&f[p].format===ca&&f[p].type===Xo&&(f[p].colorSpace=ds)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const l=i.object,c=r.internal.interaction.indexOf(l);c>-1&&r.internal.interaction.splice(c,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Ry(i),n}function Ry(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function XF(n,e){n.manual||(kF(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const oo=n=>n==null?void 0:n.isObject3D;function qM(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function qF(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Upe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{qF(t.capturedMap,e,i,r)})}function Fpe(n){function e(c){const{internal:f}=n.getState(),p=c.offsetX-f.initialClick[0],g=c.offsetY-f.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function t(c){return c.filter(f=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=f.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function i(c,f){const p=n.getState(),g=new Set,y=[],v=f?f(p.internal.interaction):p.internal.interaction;for(let M=0;M<v.length;M++){const R=sg(v[M]);R&&(R.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(c,p);function x(M){const R=sg(M);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var P;R.events.compute==null||R.events.compute(c,R,(P=R.previousRoot)==null?void 0:P.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(M,!0):[]}let w=v.flatMap(x).sort((M,R)=>{const P=sg(M.object),L=sg(R.object);return!P||!L?M.distance-R.distance:L.events.priority-P.events.priority||M.distance-R.distance}).filter(M=>{const R=qM(M);return g.has(R)?!1:(g.add(R),!0)});p.events.filter&&(w=p.events.filter(w,p));for(const M of w){let R=M.object;for(;R;){var A;(A=R.__r3f)!=null&&A.eventCount&&y.push({...M,eventObject:R}),R=R.parent}}if("pointerId"in c&&p.internal.capturedMap.has(c.pointerId))for(let M of p.internal.capturedMap.get(c.pointerId).values())g.has(qM(M.intersection))||y.push(M.intersection);return y}function r(c,f,p,g){if(c.length){const y={stopped:!1};for(const v of c){let x=sg(v.object);if(x||v.object.traverseAncestors(w=>{const A=sg(w);if(A)return x=A,!1}),x){const{raycaster:w,pointer:A,camera:M,internal:R}=x,P=new oe(A.x,A.y,0).unproject(M),L=B=>{var O,H;return(O=(H=R.capturedMap.get(B))==null?void 0:H.has(v.eventObject))!=null?O:!1},F=B=>{const O={intersection:v,target:f.target};R.capturedMap.has(B)?R.capturedMap.get(B).set(v.eventObject,O):R.capturedMap.set(B,new Map([[v.eventObject,O]])),f.target.setPointerCapture(B)},j=B=>{const O=R.capturedMap.get(B);O&&qF(R.capturedMap,v.eventObject,O,B)};let U={};for(let B in f){let O=f[B];typeof O!="function"&&(U[B]=O)}let N={...v,...U,pointer:A,intersections:c,stopped:y.stopped,delta:p,unprojectedPoint:P,ray:w.ray,camera:M,stopPropagation(){const B="pointerId"in f&&R.capturedMap.get(f.pointerId);if((!B||B.has(v.eventObject))&&(N.stopped=y.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=c.slice(0,c.indexOf(v));a([...O,v])}},target:{hasPointerCapture:L,setPointerCapture:F,releasePointerCapture:j},currentTarget:{hasPointerCapture:L,setPointerCapture:F,releasePointerCapture:j},nativeEvent:f};if(g(N),y.stopped===!0)break}}}return c}function a(c){const{internal:f}=n.getState();for(const p of f.hovered.values())if(!c.length||!c.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const y=p.eventObject.__r3f;if(f.hovered.delete(qM(p)),y!=null&&y.eventCount){const v=y.handlers,x={...p,intersections:c};v.onPointerOut==null||v.onPointerOut(x),v.onPointerLeave==null||v.onPointerLeave(x)}}}function s(c,f){for(let p=0;p<f.length;p++){const g=f[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:p}=n.getState();"pointerId"in f&&p.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(f.pointerId)&&(p.capturedMap.delete(f.pointerId),a([]))})}}return function(p){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=p;const v=c==="onPointerMove",x=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",A=i(p,v?t:void 0),M=x?e(p):0;c==="onPointerDown"&&(y.initialClick=[p.offsetX,p.offsetY],y.initialHits=A.map(P=>P.eventObject)),x&&!A.length&&M<=2&&(s(p,y.interaction),g&&g(p)),v&&a(A);function R(P){const L=P.eventObject,F=L.__r3f;if(!(F!=null&&F.eventCount))return;const j=F.handlers;if(v){if(j.onPointerOver||j.onPointerEnter||j.onPointerOut||j.onPointerLeave){const U=qM(P),N=y.hovered.get(U);N?N.stopped&&P.stopPropagation():(y.hovered.set(U,P),j.onPointerOver==null||j.onPointerOver(P),j.onPointerEnter==null||j.onPointerEnter(P))}j.onPointerMove==null||j.onPointerMove(P)}else{const U=j[c];U?(!x||y.initialHits.includes(L))&&(s(p,y.interaction.filter(N=>!y.initialHits.includes(N))),U(P)):x&&y.initialHits.includes(L)&&s(p,y.interaction.filter(N=>!y.initialHits.includes(N)))}}r(A,p,M,R)}}return{handlePointer:l}}const v6=n=>!!(n!=null&&n.render),fI=Y.createContext(null),zpe=(n,e)=>{const t=NF((l,c)=>{const f=new oe,p=new oe,g=new oe;function y(M=c().camera,R=p,P=c().size){const{width:L,height:F,top:j,left:U}=P,N=L/F;R.isVector3?g.copy(R):g.set(...R);const B=M.getWorldPosition(f).distanceTo(g);if(kF(M))return{width:L/M.zoom,height:F/M.zoom,top:j,left:U,factor:1,distance:B,aspect:N};{const O=M.fov*Math.PI/180,H=2*Math.tan(O/2)*B,Q=H*(L/F);return{width:Q,height:H,top:j,left:U,factor:L/Q,distance:B,aspect:N}}}let v;const x=M=>l(R=>({performance:{...R.performance,current:M}})),w=new pt;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>n(c(),M),advance:(M,R)=>e(M,R,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new tI,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=c();v&&clearTimeout(v),M.performance.current!==M.performance.min&&x(M.performance.min),v=setTimeout(()=>x(c().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:M=>l(R=>({...R,events:{...R.events,...M}})),setSize:(M,R,P=0,L=0)=>{const F=c().camera,j={width:M,height:R,top:P,left:L};l(U=>({size:j,viewport:{...U.viewport,...y(F,p,j)}}))},setDpr:M=>l(R=>{const P=HF(M);return{viewport:{...R.viewport,dpr:P,initialDpr:R.viewport.initialDpr||P}}}),setFrameloop:(M="always")=>{const R=c().clock;R.stop(),R.elapsedTime=0,M!=="never"&&(R.start(),R.elapsedTime=0),l(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Y.createRef(),active:!1,frames:0,priority:0,subscribe:(M,R,P)=>{const L=c().internal;return L.priority=L.priority+(R>0?1:0),L.subscribers.push({ref:M,priority:R,store:P}),L.subscribers=L.subscribers.sort((F,j)=>F.priority-j.priority),()=>{const F=c().internal;F!=null&&F.subscribers&&(F.priority=F.priority-(R>0?1:0),F.subscribers=F.subscribers.filter(j=>j.ref!==M))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return t.subscribe(()=>{const{camera:l,size:c,viewport:f,gl:p,set:g}=t.getState();if(c.width!==r.width||c.height!==r.height||f.dpr!==a){r=c,a=f.dpr,XF(l,c),f.dpr>0&&p.setPixelRatio(f.dpr);const y=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(c.width,c.height,y)}l!==s&&(s=l,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};function dI(){const n=Y.useContext(fI);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Lo(n=t=>t,e){return dI()(n,e)}function a2(n,e=0){const t=dI(),i=t.getState().internal.subscribe,r=hI(n);return _b(()=>i(r,e,t),[e,i,t]),null}const b6=new WeakMap,Vpe=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function WF(n,e){return function(t,...i){let r;return Vpe(t)?(r=b6.get(t),r||(r=new t,b6.set(t,r))):r=t,n&&n(r),Promise.all(i.map(a=>new Promise((s,l)=>r.load(a,c=>{oo(c==null?void 0:c.scene)&&Object.assign(c,Ipe(c.scene)),s(c)},e,c=>l(new Error(`Could not load ${a}: ${c==null?void 0:c.message}`))))))}}function hf(n,e,t,i){const r=Array.isArray(e)?e:[e],a=_pe(WF(t,i),[n,...r],{equal:Cr.equ});return Array.isArray(e)?a:a[0]}hf.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return vpe(WF(t),[n,...i])};hf.clear=function(n,e){const t=Array.isArray(e)?e:[e];return bpe([n,...t])};function jpe(n){const e=ppe(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Y.version}),e}const YF=0,hy={},kpe=/^three(?=[A-Z])/,s2=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Hpe=0;const Gpe=n=>typeof n=="function";function KF(n){if(Gpe(n)){const e=`${Hpe++}`;return hy[e]=n,e}else Object.assign(hy,n)}function JF(n,e){const t=s2(n),i=hy[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Xpe(n,e,t){var i;return n=s2(n)in hy?n:n.replace(kpe,""),JF(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,UA(e.object,t,n,e)}function qpe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?zA(n.parent,n):oo(n.object)&&(n.object.visible=!1),n.isHidden=!0,Ry(n)}}function QF(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?FA(n.parent,n):oo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Ry(n)}}function pI(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const s=hy[s2(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Nu(e.object,e.props),e.props.attach)FA(n,e);else if(oo(e.object)&&oo(n.object)){const s=n.object.children.indexOf(t==null?void 0:t.object);if(t&&s!==-1){const l=n.object.children.indexOf(e.object);if(l!==-1){n.object.children.splice(l,1);const c=l<s?s-1:s;n.object.children.splice(c,0,e.object)}else e.object.parent=n.object,n.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const s of e.children)pI(e,s);Ry(e)}}function qC(n,e){e&&(e.parent=n,n.children.push(e),pI(n,e))}function x6(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),pI(n,e,t)}function $F(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():g6.unstable_scheduleCallback(g6.unstable_IdlePriority,e)}}function S4(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?zA(n,e):oo(e.object)&&oo(n.object)&&(n.object.remove(e.object),Upe(jF(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];S4(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&$F(e.object),t===void 0&&Ry(e)}function Wpe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const RS=[];function Ype(){for(const[t]of RS){const i=t.parent;if(i){t.props.attach?zA(i,t):oo(t.object)&&oo(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?zA(t,r):oo(r.object)&&oo(t.object)&&t.object.remove(r.object)}t.isHidden&&QF(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&$F(t.object)}for(const[t,i,r]of RS){t.props=i;const a=t.parent;if(a){var n,e;const s=hy[s2(t.type)];t.object=(n=t.props.object)!=null?n:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Wpe(r,t.object),Nu(t.object,t.props),t.props.attach?FA(a,t):oo(t.object)&&oo(a.object)&&a.object.add(t.object);for(const l of t.children)l.props.attach?FA(t,l):oo(l.object)&&oo(t.object)&&t.object.add(l.object);Ry(t)}}RS.length=0}const WC=()=>{},M6={};let WM=YF;const Kpe=0,Jpe=4,VA=jpe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Xpe,removeChild:S4,appendChild:qC,appendInitialChild:qC,insertBefore:x6,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||qC(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||S4(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||x6(i,e,t)},getRootHostContext:()=>M6,getChildHostContext:()=>M6,commitUpdate(n,e,t,i,r){var a,s,l;JF(e,i);let c=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(l=i.args)!=null&&l.some((p,g)=>{var y;return p!==((y=t.args)==null?void 0:y[g])}))&&(c=!0),c)RS.push([n,{...i},r]);else{const p=Ope(n,i);Object.keys(p).length&&(Object.assign(n.props,p),Nu(n.object,p))}(r.sibling===null||(r.flags&Jpe)===Kpe)&&Ype()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>UA(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:qpe,unhideInstance:QF,createTextInstance:WC,hideTextInstance:WC,unhideTextInstance:WC,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Y.createContext(null),setCurrentUpdatePriority(n){WM=n},getCurrentUpdatePriority(){return WM},resolveUpdatePriority(){var n;if(WM!==YF)return WM;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return wS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return wS.ContinuousEventPriority;default:return wS.DefaultEventPriority}},resetFormInstance(){}}),Dm=new Map,og={objects:"shallow",strict:!1};function Qpe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function $pe(n){const e=Dm.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||zpe(T4,A6),s=t||VA.createContainer(a,wS.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||Dm.set(n,{fiber:s,store:a});let l,c,f=!1,p=null;return{async configure(g={}){let y;p=new Promise(pe=>y=pe);let{gl:v,size:x,scene:w,events:A,onCreated:M,shadows:R=!1,linear:P=!1,flat:L=!1,legacy:F=!1,orthographic:j=!1,frameloop:U="always",dpr:N=[1,2],performance:B,raycaster:O,camera:H,onPointerMissed:Q}=g,G=a.getState(),he=G.gl;if(!G.gl){const pe={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},we=typeof v=="function"?await v(pe):v;v6(we)?he=we:he=new lI({...pe,...v}),G.set({gl:he})}let _e=G.raycaster;_e||G.set({raycaster:_e=new aI});const{params:X,...Z}=O||{};if(Cr.equ(Z,_e,og)||Nu(_e,{...Z}),Cr.equ(X,_e.params,og)||Nu(_e,{params:{..._e.params,...X}}),!G.camera||G.camera===c&&!Cr.equ(c,H,og)){c=H;const pe=H==null?void 0:H.isCamera,we=pe?H:j?new $l(0,0,0,0,.1,1e3):new wr(75,0,.1,1e3);pe||(we.position.z=5,H&&(Nu(we,H),we.manual||("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(we.manual=!0,we.updateProjectionMatrix())),!G.camera&&!(H!=null&&H.rotation)&&we.lookAt(0,0,0)),G.set({camera:we}),_e.camera=we}if(!G.scene){let pe;w!=null&&w.isScene?(pe=w,UA(pe,a,"",{})):(pe=new cb,UA(pe,a,"",{}),w&&Nu(pe,w)),G.set({scene:pe})}A&&!G.events.handlers&&G.set({events:A(a)});const re=Qpe(n,x);if(Cr.equ(re,G.size,og)||G.setSize(re.width,re.height,re.top,re.left),N&&G.viewport.dpr!==HF(N)&&G.setDpr(N),G.frameloop!==U&&G.setFrameloop(U),G.onPointerMissed||G.set({onPointerMissed:Q}),B&&!Cr.equ(B,G.performance,og)&&G.set(pe=>({performance:{...pe.performance,...B}})),!G.xr){var be;const pe=(de,Ne)=>{const Ve=a.getState();Ve.frameloop!=="never"&&A6(de,!0,Ve,Ne)},we=()=>{const de=a.getState();de.gl.xr.enabled=de.gl.xr.isPresenting,de.gl.xr.setAnimationLoop(de.gl.xr.isPresenting?pe:null),de.gl.xr.isPresenting||T4(de)},Te={connect(){const de=a.getState().gl;de.xr.addEventListener("sessionstart",we),de.xr.addEventListener("sessionend",we)},disconnect(){const de=a.getState().gl;de.xr.removeEventListener("sessionstart",we),de.xr.removeEventListener("sessionend",we)}};typeof((be=he.xr)==null?void 0:be.addEventListener)=="function"&&Te.connect(),G.set({xr:Te})}if(he.shadowMap){const pe=he.shadowMap.enabled,we=he.shadowMap.type;if(he.shadowMap.enabled=!!R,Cr.boo(R))he.shadowMap.type=Uv;else if(Cr.str(R)){var $;const Te={basic:jU,percentage:CE,soft:Uv,variance:Lc};he.shadowMap.type=($=Te[R])!=null?$:Uv}else Cr.obj(R)&&Object.assign(he.shadowMap,R);(pe!==he.shadowMap.enabled||we!==he.shadowMap.type)&&(he.shadowMap.needsUpdate=!0)}return Si.enabled=!F,f||(he.outputColorSpace=P?Xc:ds,he.toneMapping=L?Xu:yR),G.legacy!==F&&G.set(()=>({legacy:F})),G.linear!==P&&G.set(()=>({linear:P})),G.flat!==L&&G.set(()=>({flat:L})),v&&!Cr.fun(v)&&!v6(v)&&!Cr.equ(v,he,og)&&Nu(he,v),l=M,f=!0,y(),this},render(g){return!f&&!p&&this.configure(),p.then(()=>{VA.updateContainer(C.jsx(Zpe,{store:a,children:g,onCreated:l,rootElement:n}),s,null,()=>{})}),a},unmount(){ZF(n)}}}function Zpe({store:n,children:e,onCreated:t,rootElement:i}){return _b(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),C.jsx(fI.Provider,{value:n,children:e})}function ZF(n,e){const t=Dm.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),VA.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,l,c;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),Ppe(r.scene),Dm.delete(n)}catch{}},500)})}}function eme(n,e,t){return C.jsx(tme,{children:n,container:e,state:t})}function tme({state:n={},children:e,container:t}){const{events:i,size:r,...a}=n,s=dI(),[l]=Y.useState(()=>new aI),[c]=Y.useState(()=>new pt),f=hI((g,y)=>{let v;if(y.camera&&r){const x=y.camera;v=g.viewport.getCurrentViewport(x,new oe,r),x!==g.camera&&XF(x,r)}return{...g,...y,scene:t,raycaster:l,pointer:c,mouse:c,previousRoot:s,events:{...g.events,...y.events,...i},size:{...g.size,...r},viewport:{...g.viewport,...v},setEvents:x=>y.set(w=>({...w,events:{...w.events,...x}}))}}),p=Y.useMemo(()=>{const g=NF((v,x)=>({...a,set:v,get:x})),y=v=>g.setState(x=>f.current(v,x));return y(s.getState()),s.subscribe(y),g},[s,t]);return C.jsx(C.Fragment,{children:VA.createPortal(C.jsx(fI.Provider,{value:p,children:e}),p,null)})}const nme=new Set,ime=new Set,rme=new Set;function YC(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function qv(n,e){switch(n){case"before":return YC(nme,e);case"after":return YC(ime,e);case"tail":return YC(rme,e)}}let KC,JC;function A4(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),KC=e.internal.subscribers;for(let r=0;r<KC.length;r++)JC=KC[r],JC.ref.current(JC.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let jA=!1,E4=!1,QC,S6,lg;function ez(n){S6=requestAnimationFrame(ez),jA=!0,QC=0,qv("before",n),E4=!0;for(const t of Dm.values()){var e;lg=t.store.getState(),lg.internal.active&&(lg.frameloop==="always"||lg.internal.frames>0)&&!((e=lg.gl.xr)!=null&&e.isPresenting)&&(QC+=A4(n,lg))}if(E4=!1,qv("after",n),QC===0)return qv("tail",n),jA=!1,cancelAnimationFrame(S6)}function T4(n,e=1){var t;if(!n)return Dm.forEach(i=>T4(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):E4?n.internal.frames=2:n.internal.frames=1,jA||(jA=!0,requestAnimationFrame(ez)))}function A6(n,e=!0,t,i){if(e&&qv("before",n),t)A4(n,t,i);else for(const r of Dm.values())A4(n,r.store.getState());e&&qv("after",n)}const $C={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ame(n){const{handlePointer:e}=Fpe(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys($C).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[l,c]=$C[a];t.addEventListener(l,s,{passive:c})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=$C[r];i.connected.removeEventListener(s,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function E6(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function sme({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=Y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),c=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,p=Y.useRef(!1);Y.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,y,v]=Y.useMemo(()=>{const M=()=>{if(!l.current.element)return;const{left:R,top:P,width:L,height:F,bottom:j,right:U,x:N,y:B}=l.current.element.getBoundingClientRect(),O={left:R,top:P,width:L,height:F,bottom:j,right:U,x:N,y:B};l.current.element instanceof HTMLElement&&i&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),p.current&&!ume(l.current.lastBounds,O)&&s(l.current.lastBounds=O)};return[M,f?E6(M,f):M,c?E6(M,c):M]},[s,i,c,f]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function w(){l.current.element&&(l.current.resizeObserver=new r(v),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(M=>M.addEventListener("scroll",v,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const A=M=>{!M||M===l.current.element||(x(),l.current.element=M,l.current.scrollContainers=tz(M),w())};return lme(v,!!e),ome(y),Y.useEffect(()=>{x(),w()},[e,v,y]),Y.useEffect(()=>x,[]),[A,a,g]}function ome(n){Y.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function lme(n,e){Y.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function tz(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...tz(n.parentElement)]}const cme=["x","y","top","bottom","left","right","width","height"],ume=(n,e)=>cme.every(t=>n[t]===e[t]);function hme({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:s=ame,eventSource:l,eventPrefix:c,shadows:f,linear:p,flat:g,legacy:y,orthographic:v,frameloop:x,dpr:w,performance:A,raycaster:M,camera:R,scene:P,onPointerMissed:L,onCreated:F,...j}){Y.useMemo(()=>KF(Qde),[]);const U=Cpe(),[N,B]=sme({scroll:!0,debounce:{scroll:50,resize:0},...i}),O=Y.useRef(null),H=Y.useRef(null);Y.useImperativeHandle(n,()=>O.current);const Q=hI(L),[G,he]=Y.useState(!1),[_e,X]=Y.useState(!1);if(G)throw G;if(_e)throw _e;const Z=Y.useRef(null);_b(()=>{const be=O.current;if(B.width>0&&B.height>0&&be){Z.current||(Z.current=$pe(be));async function $(){await Z.current.configure({gl:a,scene:P,events:s,shadows:f,linear:p,flat:g,legacy:y,orthographic:v,frameloop:x,dpr:w,performance:A,raycaster:M,camera:R,size:B,onPointerMissed:(...pe)=>Q.current==null?void 0:Q.current(...pe),onCreated:pe=>{pe.events.connect==null||pe.events.connect(l?Epe(l)?l.current:l:H.current),c&&pe.setEvents({compute:(we,Te)=>{const de=we[c+"X"],Ne=we[c+"Y"];Te.pointer.set(de/Te.size.width*2-1,-(Ne/Te.size.height)*2+1),Te.raycaster.setFromCamera(Te.pointer,Te.camera)}}),F==null||F(pe)}}),Z.current.render(C.jsx(U,{children:C.jsx(Rpe,{set:X,children:C.jsx(Y.Suspense,{fallback:C.jsx(wpe,{set:he}),children:e??null})})}))}$()}}),Y.useEffect(()=>{const be=O.current;if(be)return()=>ZF(be)},[]);const re=l?"none":"auto";return C.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:re,...r},...j,children:C.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:C.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}function nz(n){return C.jsx(zF,{children:C.jsx(hme,{...n})})}const vb=new oe,mI=new oe,fme=new oe,T6=new pt;function dme(n,e,t){const i=vb.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,a=t.height/2;return[i.x*r+r,-(i.y*a)+a]}function pme(n,e){const t=vb.setFromMatrixPosition(n.matrixWorld),i=mI.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),a=e.getWorldDirection(fme);return r.angleTo(a)>Math.PI/2}function mme(n,e,t,i){const r=vb.setFromMatrixPosition(n.matrixWorld),a=r.clone();a.project(e),T6.set(a.x,a.y),t.setFromCamera(T6,e);const s=t.intersectObjects(i,!0);if(s.length){const l=s[0].distance;return r.distanceTo(t.ray.origin)<l}return!0}function gme(n,e){if(e instanceof $l)return e.zoom;if(e instanceof wr){const t=vb.setFromMatrixPosition(n.matrixWorld),i=mI.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,a=t.distanceTo(i);return 1/(2*Math.tan(r/2)*a)}else return 1}function yme(n,e,t){if(e instanceof wr||e instanceof $l){const i=vb.setFromMatrixPosition(n.matrixWorld),r=mI.setFromMatrixPosition(e.matrixWorld),a=i.distanceTo(r),s=(t[1]-t[0])/(e.far-e.near),l=t[1]-s*e.far;return Math.round(s*a+l)}}const C4=n=>Math.abs(n)<1e-10?0:n;function iz(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=C4(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const _me=(n=>e=>iz(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),vme=(n=>(e,t)=>iz(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function bme(n){return n&&typeof n=="object"&&"current"in n}const xme=Y.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:a,fullscreen:s,portal:l,distanceFactor:c,sprite:f=!1,transform:p=!1,occlude:g,onOcclude:y,castShadow:v,receiveShadow:x,material:w,geometry:A,zIndexRange:M=[16777271,0],calculatePosition:R=dme,as:P="div",wrapperClass:L,pointerEvents:F="auto",...j},U)=>{const{gl:N,camera:B,scene:O,size:H,raycaster:Q,events:G,viewport:he}=Lo(),[_e]=Y.useState(()=>document.createElement(P)),X=Y.useRef(null),Z=Y.useRef(null),re=Y.useRef(0),be=Y.useRef([0,0]),$=Y.useRef(null),pe=Y.useRef(null),we=(l==null?void 0:l.current)||G.connected||N.domElement.parentNode,Te=Y.useRef(null),de=Y.useRef(!1),Ne=Y.useMemo(()=>g&&g!=="blending"||Array.isArray(g)&&g.length&&bme(g[0]),[g]);Y.useLayoutEffect(()=>{const It=N.domElement;g&&g==="blending"?(It.style.zIndex=`${Math.floor(M[0]/2)}`,It.style.position="absolute",It.style.pointerEvents="none"):(It.style.zIndex=null,It.style.position=null,It.style.pointerEvents=null)},[g]),Y.useLayoutEffect(()=>{if(Z.current){const It=X.current=TN.createRoot(_e);if(O.updateMatrixWorld(),p)_e.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ct=R(Z.current,B,H);_e.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ct[0]}px,${Ct[1]}px,0);transform-origin:0 0;`}return we&&(r?we.prepend(_e):we.appendChild(_e)),()=>{we&&we.removeChild(_e),It.unmount()}}},[we,p]),Y.useLayoutEffect(()=>{L&&(_e.className=L)},[L]);const Ve=Y.useMemo(()=>p?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...s&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...t},[t,a,s,H,p]),ct=Y.useMemo(()=>({position:"absolute",pointerEvents:F}),[F]);Y.useLayoutEffect(()=>{if(de.current=!1,p){var It;(It=X.current)==null||It.render(Y.createElement("div",{ref:$,style:Ve},Y.createElement("div",{ref:pe,style:ct},Y.createElement("div",{ref:U,className:i,style:t,children:n}))))}else{var Ct;(Ct=X.current)==null||Ct.render(Y.createElement("div",{ref:U,style:Ve,className:i,children:n}))}});const ut=Y.useRef(!0);a2(It=>{if(Z.current){B.updateMatrixWorld(),Z.current.updateWorldMatrix(!0,!1);const Ct=p?be.current:R(Z.current,B,H);if(p||Math.abs(re.current-B.zoom)>e||Math.abs(be.current[0]-Ct[0])>e||Math.abs(be.current[1]-Ct[1])>e){const Nt=pme(Z.current,B);let Ft=!1;Ne&&(Array.isArray(g)?Ft=g.map(et=>et.current):g!=="blending"&&(Ft=[O]));const fe=ut.current;if(Ft){const et=mme(Z.current,B,Q,Ft);ut.current=et&&!Nt}else ut.current=!Nt;fe!==ut.current&&(y?y(!ut.current):_e.style.display=ut.current?"block":"none");const Mn=Math.floor(M[0]/2),at=g?Ne?[M[0],Mn]:[Mn-1,0]:M;if(_e.style.zIndex=`${yme(Z.current,B,at)}`,p){const[et,rt]=[H.width/2,H.height/2],xt=B.projectionMatrix.elements[5]*rt,{isOrthographicCamera:We,top:ae,left:V,bottom:ee,right:ue}=B,Ce=_me(B.matrixWorldInverse),ge=We?`scale(${xt})translate(${C4(-(ue+V)/2)}px,${C4((ae+ee)/2)}px)`:`translateZ(${xt}px)`;let Pe=Z.current.matrixWorld;f&&(Pe=B.matrixWorldInverse.clone().transpose().copyPosition(Pe).scale(Z.current.scale),Pe.elements[3]=Pe.elements[7]=Pe.elements[11]=0,Pe.elements[15]=1),_e.style.width=H.width+"px",_e.style.height=H.height+"px",_e.style.perspective=We?"":`${xt}px`,$.current&&pe.current&&($.current.style.transform=`${ge}${Ce}translate(${et}px,${rt}px)`,pe.current.style.transform=vme(Pe,1/((c||10)/400)))}else{const et=c===void 0?1:gme(Z.current,B)*c;_e.style.transform=`translate3d(${Ct[0]}px,${Ct[1]}px,0) scale(${et})`}be.current=Ct,re.current=B.zoom}}if(!Ne&&Te.current&&!de.current)if(p){if($.current){const Ct=$.current.children[0];if(Ct!=null&&Ct.clientWidth&&Ct!=null&&Ct.clientHeight){const{isOrthographicCamera:Nt}=B;if(Nt||A)j.scale&&(Array.isArray(j.scale)?j.scale instanceof oe?Te.current.scale.copy(j.scale.clone().divideScalar(1)):Te.current.scale.set(1/j.scale[0],1/j.scale[1],1/j.scale[2]):Te.current.scale.setScalar(1/j.scale));else{const Ft=(c||10)/400,fe=Ct.clientWidth*Ft,Mn=Ct.clientHeight*Ft;Te.current.scale.set(fe,Mn,1)}de.current=!0}}}else{const Ct=_e.children[0];if(Ct!=null&&Ct.clientWidth&&Ct!=null&&Ct.clientHeight){const Nt=1/he.factor,Ft=Ct.clientWidth*Nt,fe=Ct.clientHeight*Nt;Te.current.scale.set(Ft,fe,1),de.current=!0}Te.current.lookAt(It.camera.position)}});const Jt=Y.useMemo(()=>({vertexShader:p?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[p]);return Y.createElement("group",Am({},j,{ref:Z}),g&&!Ne&&Y.createElement("mesh",{castShadow:v,receiveShadow:x,ref:Te},A||Y.createElement("planeGeometry",null),w||Y.createElement("shaderMaterial",{side:ul,vertexShader:Jt.vertexShader,fragmentShader:Jt.fragmentShader})))}),Mme=n=>n;function Sme(n,e=Mme){const t=xr.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return xr.useDebugValue(t),t}const C6=n=>{const e=OF(n),t=i=>Sme(e,i);return Object.assign(t,e),t},Ame=n=>n?C6(n):C6;let iv=0;const Eme=Ame(n=>(Cg.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-iv)/(i-iv)*100})},Cg.onLoad=()=>{n({active:!1})},Cg.onError=e=>n(t=>({errors:[...t.errors,e]})),Cg.onProgress=(e,t,i)=>{t===i&&(iv=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-iv)/(i-iv)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),gI=parseInt(nb.replace(/\D+/g,""));function w6(n,e){if(e===_7)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===BA||e===TR){let t=n.getIndex();if(t===null){const s=[],l=n.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)s.push(c);n.setIndex(s),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===BA)for(let s=1;s<=i;s++)r.push(t.getX(0)),r.push(t.getX(s)),r.push(t.getX(s+1));else for(let s=0;s<i;s++)s%2===0?(r.push(t.getX(s)),r.push(t.getX(s+1)),r.push(t.getX(s+2))):(r.push(t.getX(s+2)),r.push(t.getX(s+1)),r.push(t.getX(s)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Xl=Uint8Array,xd=Uint16Array,w4=Uint32Array,rz=new Xl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),az=new Xl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Tme=new Xl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sz=function(n,e){for(var t=new xd(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new w4(t[30]),i=1;i<30;++i)for(var a=t[i];a<t[i+1];++a)r[a]=a-t[i]<<5|i;return[t,r]},oz=sz(rz,2),lz=oz[0],Cme=oz[1];lz[28]=258,Cme[258]=28;var wme=sz(az,0),Rme=wme[0],R4=new xd(32768);for(var Mr=0;Mr<32768;++Mr){var dd=(Mr&43690)>>>1|(Mr&21845)<<1;dd=(dd&52428)>>>2|(dd&13107)<<2,dd=(dd&61680)>>>4|(dd&3855)<<4,R4[Mr]=((dd&65280)>>>8|(dd&255)<<8)>>>1}var Wv=function(n,e,t){for(var i=n.length,r=0,a=new xd(e);r<i;++r)++a[n[r]-1];var s=new xd(e);for(r=0;r<e;++r)s[r]=s[r-1]+a[r-1]<<1;var l;if(t){l=new xd(1<<e);var c=15-e;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],p=e-n[r],g=s[n[r]-1]++<<p,y=g|(1<<p)-1;g<=y;++g)l[R4[g]>>>c]=f}else for(l=new xd(i),r=0;r<i;++r)n[r]&&(l[r]=R4[s[n[r]-1]++]>>>15-n[r]);return l},bb=new Xl(288);for(var Mr=0;Mr<144;++Mr)bb[Mr]=8;for(var Mr=144;Mr<256;++Mr)bb[Mr]=9;for(var Mr=256;Mr<280;++Mr)bb[Mr]=7;for(var Mr=280;Mr<288;++Mr)bb[Mr]=8;var cz=new Xl(32);for(var Mr=0;Mr<32;++Mr)cz[Mr]=5;var Ime=Wv(bb,9,1),Pme=Wv(cz,5,1),ZC=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Oc=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},ew=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Dme=function(n){return(n/8|0)+(n&7&&1)},Bme=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof xd?xd:n instanceof w4?w4:Xl)(t-e);return i.set(n.subarray(e,t)),i},Ome=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new Xl(0);var r=!e||t,a=!t||t.i;t||(t={}),e||(e=new Xl(i*3));var s=function(Ve){var ct=e.length;if(Ve>ct){var ut=new Xl(Math.max(ct*2,Ve));ut.set(e),e=ut}},l=t.f||0,c=t.p||0,f=t.b||0,p=t.l,g=t.d,y=t.m,v=t.n,x=i*8;do{if(!p){t.f=l=Oc(n,c,1);var w=Oc(n,c+1,3);if(c+=3,w)if(w==1)p=Ime,g=Pme,y=9,v=5;else if(w==2){var P=Oc(n,c,31)+257,L=Oc(n,c+10,15)+4,F=P+Oc(n,c+5,31)+1;c+=14;for(var j=new Xl(F),U=new Xl(19),N=0;N<L;++N)U[Tme[N]]=Oc(n,c+N*3,7);c+=L*3;for(var B=ZC(U),O=(1<<B)-1,H=Wv(U,B,1),N=0;N<F;){var Q=H[Oc(n,c,O)];c+=Q&15;var A=Q>>>4;if(A<16)j[N++]=A;else{var G=0,he=0;for(A==16?(he=3+Oc(n,c,3),c+=2,G=j[N-1]):A==17?(he=3+Oc(n,c,7),c+=3):A==18&&(he=11+Oc(n,c,127),c+=7);he--;)j[N++]=G}}var _e=j.subarray(0,P),X=j.subarray(P);y=ZC(_e),v=ZC(X),p=Wv(_e,y,1),g=Wv(X,v,1)}else throw"invalid block type";else{var A=Dme(c)+4,M=n[A-4]|n[A-3]<<8,R=A+M;if(R>i){if(a)throw"unexpected EOF";break}r&&s(f+M),e.set(n.subarray(A,R),f),t.b=f+=M,t.p=c=R*8;continue}if(c>x){if(a)throw"unexpected EOF";break}}r&&s(f+131072);for(var Z=(1<<y)-1,re=(1<<v)-1,be=c;;be=c){var G=p[ew(n,c)&Z],$=G>>>4;if(c+=G&15,c>x){if(a)throw"unexpected EOF";break}if(!G)throw"invalid length/literal";if($<256)e[f++]=$;else if($==256){be=c,p=null;break}else{var pe=$-254;if($>264){var N=$-257,we=rz[N];pe=Oc(n,c,(1<<we)-1)+lz[N],c+=we}var Te=g[ew(n,c)&re],de=Te>>>4;if(!Te)throw"invalid distance";c+=Te&15;var X=Rme[de];if(de>3){var we=az[de];X+=ew(n,c)&(1<<we)-1,c+=we}if(c>x){if(a)throw"unexpected EOF";break}r&&s(f+131072);for(var Ne=f+pe;f<Ne;f+=4)e[f]=e[f-X],e[f+1]=e[f+1-X],e[f+2]=e[f+2-X],e[f+3]=e[f+3-X];f=Ne}}t.l=p,t.p=be,t.b=f,p&&(l=1,t.m=y,t.d=g,t.n=v)}while(!l);return f==e.length?e:Bme(e,0,f)},Nme=new Xl(0),Lme=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function YM(n,e){return Ome((Lme(n),n.subarray(2,-4)),e)}var Ume=typeof TextDecoder<"u"&&new TextDecoder,Fme=0;try{Ume.decode(Nme,{stream:!0}),Fme=1}catch{}const zme=n=>n&&n.isCubeTexture;class Vme extends Ir{constructor(e,t){var i,r;const a=zme(e),l=((r=a?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,c=Math.floor(Math.log2(l)),f=Math.pow(2,c),p=3*Math.max(f,16*7),g=4*f,y=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/p}`,`#define CUBEUV_TEXEL_HEIGHT ${1/g}`,`#define CUBEUV_MAX_MIP ${c}.0`],v=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,x=y.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${gI>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,w={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},A=new pb(1,16),M=new qo({uniforms:w,fragmentShader:x,vertexShader:v,side:ul});super(A,M)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var jme=Object.defineProperty,kme=(n,e,t)=>e in n?jme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hme=(n,e,t)=>(kme(n,e+"",t),t);class Gme{constructor(){Hme(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}var Xme=Object.defineProperty,qme=(n,e,t)=>e in n?Xme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yn=(n,e,t)=>(qme(n,typeof e!="symbol"?e+"":e,t),t);const KM=new Um,R6=new Gh,Wme=Math.cos(70*(Math.PI/180)),I6=(n,e)=>(n%e+e)%e;let Yme=class extends Gme{constructor(e,t){super(),yn(this,"object"),yn(this,"domElement"),yn(this,"enabled",!0),yn(this,"target",new oe),yn(this,"minDistance",0),yn(this,"maxDistance",1/0),yn(this,"minZoom",0),yn(this,"maxZoom",1/0),yn(this,"minPolarAngle",0),yn(this,"maxPolarAngle",Math.PI),yn(this,"minAzimuthAngle",-1/0),yn(this,"maxAzimuthAngle",1/0),yn(this,"enableDamping",!1),yn(this,"dampingFactor",.05),yn(this,"enableZoom",!0),yn(this,"zoomSpeed",1),yn(this,"enableRotate",!0),yn(this,"rotateSpeed",1),yn(this,"enablePan",!0),yn(this,"panSpeed",1),yn(this,"screenSpacePanning",!0),yn(this,"keyPanSpeed",7),yn(this,"zoomToCursor",!1),yn(this,"autoRotate",!1),yn(this,"autoRotateSpeed",2),yn(this,"reverseOrbit",!1),yn(this,"reverseHorizontalOrbit",!1),yn(this,"reverseVerticalOrbit",!1),yn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),yn(this,"mouseButtons",{LEFT:Yp.ROTATE,MIDDLE:Yp.DOLLY,RIGHT:Yp.PAN}),yn(this,"touches",{ONE:Kp.ROTATE,TWO:Kp.DOLLY_PAN}),yn(this,"target0"),yn(this,"position0"),yn(this,"zoom0"),yn(this,"_domElementKeyEvents",null),yn(this,"getPolarAngle"),yn(this,"getAzimuthalAngle"),yn(this,"setPolarAngle"),yn(this,"setAzimuthalAngle"),yn(this,"getDistance"),yn(this,"getZoomScale"),yn(this,"listenToKeyEvents"),yn(this,"stopListenToKeyEvents"),yn(this,"saveState"),yn(this,"reset"),yn(this,"update"),yn(this,"connect"),yn(this,"dispose"),yn(this,"dollyIn"),yn(this,"dollyOut"),yn(this,"getScale"),yn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=Me=>{let Je=I6(Me,2*Math.PI),bt=p.phi;bt<0&&(bt+=2*Math.PI),Je<0&&(Je+=2*Math.PI);let Se=Math.abs(Je-bt);2*Math.PI-Se<Se&&(Je<bt?Je+=2*Math.PI:bt+=2*Math.PI),g.phi=Je-bt,i.update()},this.setAzimuthalAngle=Me=>{let Je=I6(Me,2*Math.PI),bt=p.theta;bt<0&&(bt+=2*Math.PI),Je<0&&(Je+=2*Math.PI);let Se=Math.abs(Je-bt);2*Math.PI-Se<Se&&(Je<bt?Je+=2*Math.PI:bt+=2*Math.PI),g.theta=Je-bt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Me=>{Me.addEventListener("keydown",Ue),this._domElementKeyEvents=Me},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ue),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),c=l.NONE},this.update=(()=>{const Me=new oe,Je=new oe(0,1,0),bt=new Ja().setFromUnitVectors(e.up,Je),Se=bt.clone().invert(),je=new oe,Ge=new Ja,st=2*Math.PI;return function(){const Tt=i.object.position;bt.setFromUnitVectors(e.up,Je),Se.copy(bt).invert(),Me.copy(Tt).sub(i.target),Me.applyQuaternion(bt),p.setFromVector3(Me),i.autoRotate&&c===l.NONE&&he(Q()),i.enableDamping?(p.theta+=g.theta*i.dampingFactor,p.phi+=g.phi*i.dampingFactor):(p.theta+=g.theta,p.phi+=g.phi);let $t=i.minAzimuthAngle,An=i.maxAzimuthAngle;isFinite($t)&&isFinite(An)&&($t<-Math.PI?$t+=st:$t>Math.PI&&($t-=st),An<-Math.PI?An+=st:An>Math.PI&&(An-=st),$t<=An?p.theta=Math.max($t,Math.min(An,p.theta)):p.theta=p.theta>($t+An)/2?Math.max($t,p.theta):Math.min(An,p.theta)),p.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,p.phi)),p.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(v,i.dampingFactor):i.target.add(v),i.zoomToCursor&&B||i.object.isOrthographicCamera?p.radius=Te(p.radius):p.radius=Te(p.radius*y),Me.setFromSpherical(p),Me.applyQuaternion(Se),Tt.copy(i.target).add(Me),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,v.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),v.set(0,0,0));let ti=!1;if(i.zoomToCursor&&B){let dn=null;if(i.object instanceof wr&&i.object.isPerspectiveCamera){const ci=Me.length();dn=Te(ci*y);const Dn=ci-dn;i.object.position.addScaledVector(U,Dn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const ci=new oe(N.x,N.y,0);ci.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix(),ti=!0;const Dn=new oe(N.x,N.y,0);Dn.unproject(i.object),i.object.position.sub(Dn).add(ci),i.object.updateMatrixWorld(),dn=Me.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;dn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(dn).add(i.object.position):(KM.origin.copy(i.object.position),KM.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(KM.direction))<Wme?e.lookAt(i.target):(R6.setFromNormalAndCoplanarPoint(i.object.up,i.target),KM.intersectPlane(R6,i.target))))}else i.object instanceof $l&&i.object.isOrthographicCamera&&(ti=y!==1,ti&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix()));return y=1,B=!1,ti||je.distanceToSquared(i.object.position)>f||8*(1-Ge.dot(i.object.quaternion))>f?(i.dispatchEvent(r),je.copy(i.object.position),Ge.copy(i.object.quaternion),ti=!1,!0):!1}})(),this.connect=Me=>{i.domElement=Me,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",ht),i.domElement.addEventListener("pointerdown",V),i.domElement.addEventListener("pointercancel",ue),i.domElement.addEventListener("wheel",Pe)},this.dispose=()=>{var Me,Je,bt,Se,je,Ge;i.domElement&&(i.domElement.style.touchAction="auto"),(Me=i.domElement)==null||Me.removeEventListener("contextmenu",ht),(Je=i.domElement)==null||Je.removeEventListener("pointerdown",V),(bt=i.domElement)==null||bt.removeEventListener("pointercancel",ue),(Se=i.domElement)==null||Se.removeEventListener("wheel",Pe),(je=i.domElement)==null||je.ownerDocument.removeEventListener("pointermove",ee),(Ge=i.domElement)==null||Ge.ownerDocument.removeEventListener("pointerup",ue),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ue)};const i=this,r={type:"change"},a={type:"start"},s={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const f=1e-6,p=new _4,g=new _4;let y=1;const v=new oe,x=new pt,w=new pt,A=new pt,M=new pt,R=new pt,P=new pt,L=new pt,F=new pt,j=new pt,U=new oe,N=new pt;let B=!1;const O=[],H={};function Q(){return 2*Math.PI/60/60*i.autoRotateSpeed}function G(){return Math.pow(.95,i.zoomSpeed)}function he(Me){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=Me:g.theta-=Me}function _e(Me){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=Me:g.phi-=Me}const X=(()=>{const Me=new oe;return function(bt,Se){Me.setFromMatrixColumn(Se,0),Me.multiplyScalar(-bt),v.add(Me)}})(),Z=(()=>{const Me=new oe;return function(bt,Se){i.screenSpacePanning===!0?Me.setFromMatrixColumn(Se,1):(Me.setFromMatrixColumn(Se,0),Me.crossVectors(i.object.up,Me)),Me.multiplyScalar(bt),v.add(Me)}})(),re=(()=>{const Me=new oe;return function(bt,Se){const je=i.domElement;if(je&&i.object instanceof wr&&i.object.isPerspectiveCamera){const Ge=i.object.position;Me.copy(Ge).sub(i.target);let st=Me.length();st*=Math.tan(i.object.fov/2*Math.PI/180),X(2*bt*st/je.clientHeight,i.object.matrix),Z(2*Se*st/je.clientHeight,i.object.matrix)}else je&&i.object instanceof $l&&i.object.isOrthographicCamera?(X(bt*(i.object.right-i.object.left)/i.object.zoom/je.clientWidth,i.object.matrix),Z(Se*(i.object.top-i.object.bottom)/i.object.zoom/je.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function be(Me){i.object instanceof wr&&i.object.isPerspectiveCamera||i.object instanceof $l&&i.object.isOrthographicCamera?y=Me:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function $(Me){be(y/Me)}function pe(Me){be(y*Me)}function we(Me){if(!i.zoomToCursor||!i.domElement)return;B=!0;const Je=i.domElement.getBoundingClientRect(),bt=Me.clientX-Je.left,Se=Me.clientY-Je.top,je=Je.width,Ge=Je.height;N.x=bt/je*2-1,N.y=-(Se/Ge)*2+1,U.set(N.x,N.y,1).unproject(i.object).sub(i.object.position).normalize()}function Te(Me){return Math.max(i.minDistance,Math.min(i.maxDistance,Me))}function de(Me){x.set(Me.clientX,Me.clientY)}function Ne(Me){we(Me),L.set(Me.clientX,Me.clientY)}function Ve(Me){M.set(Me.clientX,Me.clientY)}function ct(Me){w.set(Me.clientX,Me.clientY),A.subVectors(w,x).multiplyScalar(i.rotateSpeed);const Je=i.domElement;Je&&(he(2*Math.PI*A.x/Je.clientHeight),_e(2*Math.PI*A.y/Je.clientHeight)),x.copy(w),i.update()}function ut(Me){F.set(Me.clientX,Me.clientY),j.subVectors(F,L),j.y>0?$(G()):j.y<0&&pe(G()),L.copy(F),i.update()}function Jt(Me){R.set(Me.clientX,Me.clientY),P.subVectors(R,M).multiplyScalar(i.panSpeed),re(P.x,P.y),M.copy(R),i.update()}function It(Me){we(Me),Me.deltaY<0?pe(G()):Me.deltaY>0&&$(G()),i.update()}function Ct(Me){let Je=!1;switch(Me.code){case i.keys.UP:re(0,i.keyPanSpeed),Je=!0;break;case i.keys.BOTTOM:re(0,-i.keyPanSpeed),Je=!0;break;case i.keys.LEFT:re(i.keyPanSpeed,0),Je=!0;break;case i.keys.RIGHT:re(-i.keyPanSpeed,0),Je=!0;break}Je&&(Me.preventDefault(),i.update())}function Nt(){if(O.length==1)x.set(O[0].pageX,O[0].pageY);else{const Me=.5*(O[0].pageX+O[1].pageX),Je=.5*(O[0].pageY+O[1].pageY);x.set(Me,Je)}}function Ft(){if(O.length==1)M.set(O[0].pageX,O[0].pageY);else{const Me=.5*(O[0].pageX+O[1].pageX),Je=.5*(O[0].pageY+O[1].pageY);M.set(Me,Je)}}function fe(){const Me=O[0].pageX-O[1].pageX,Je=O[0].pageY-O[1].pageY,bt=Math.sqrt(Me*Me+Je*Je);L.set(0,bt)}function Mn(){i.enableZoom&&fe(),i.enablePan&&Ft()}function at(){i.enableZoom&&fe(),i.enableRotate&&Nt()}function et(Me){if(O.length==1)w.set(Me.pageX,Me.pageY);else{const bt=St(Me),Se=.5*(Me.pageX+bt.x),je=.5*(Me.pageY+bt.y);w.set(Se,je)}A.subVectors(w,x).multiplyScalar(i.rotateSpeed);const Je=i.domElement;Je&&(he(2*Math.PI*A.x/Je.clientHeight),_e(2*Math.PI*A.y/Je.clientHeight)),x.copy(w)}function rt(Me){if(O.length==1)R.set(Me.pageX,Me.pageY);else{const Je=St(Me),bt=.5*(Me.pageX+Je.x),Se=.5*(Me.pageY+Je.y);R.set(bt,Se)}P.subVectors(R,M).multiplyScalar(i.panSpeed),re(P.x,P.y),M.copy(R)}function xt(Me){const Je=St(Me),bt=Me.pageX-Je.x,Se=Me.pageY-Je.y,je=Math.sqrt(bt*bt+Se*Se);F.set(0,je),j.set(0,Math.pow(F.y/L.y,i.zoomSpeed)),$(j.y),L.copy(F)}function We(Me){i.enableZoom&&xt(Me),i.enablePan&&rt(Me)}function ae(Me){i.enableZoom&&xt(Me),i.enableRotate&&et(Me)}function V(Me){var Je,bt;i.enabled!==!1&&(O.length===0&&((Je=i.domElement)==null||Je.ownerDocument.addEventListener("pointermove",ee),(bt=i.domElement)==null||bt.ownerDocument.addEventListener("pointerup",ue)),Ot(Me),Me.pointerType==="touch"?lt(Me):Ce(Me))}function ee(Me){i.enabled!==!1&&(Me.pointerType==="touch"?Xt(Me):ge(Me))}function ue(Me){var Je,bt,Se;zt(Me),O.length===0&&((Je=i.domElement)==null||Je.releasePointerCapture(Me.pointerId),(bt=i.domElement)==null||bt.ownerDocument.removeEventListener("pointermove",ee),(Se=i.domElement)==null||Se.ownerDocument.removeEventListener("pointerup",ue)),i.dispatchEvent(s),c=l.NONE}function Ce(Me){let Je;switch(Me.button){case 0:Je=i.mouseButtons.LEFT;break;case 1:Je=i.mouseButtons.MIDDLE;break;case 2:Je=i.mouseButtons.RIGHT;break;default:Je=-1}switch(Je){case Yp.DOLLY:if(i.enableZoom===!1)return;Ne(Me),c=l.DOLLY;break;case Yp.ROTATE:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(i.enablePan===!1)return;Ve(Me),c=l.PAN}else{if(i.enableRotate===!1)return;de(Me),c=l.ROTATE}break;case Yp.PAN:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(i.enableRotate===!1)return;de(Me),c=l.ROTATE}else{if(i.enablePan===!1)return;Ve(Me),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&i.dispatchEvent(a)}function ge(Me){if(i.enabled!==!1)switch(c){case l.ROTATE:if(i.enableRotate===!1)return;ct(Me);break;case l.DOLLY:if(i.enableZoom===!1)return;ut(Me);break;case l.PAN:if(i.enablePan===!1)return;Jt(Me);break}}function Pe(Me){i.enabled===!1||i.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(Me.preventDefault(),i.dispatchEvent(a),It(Me),i.dispatchEvent(s))}function Ue(Me){i.enabled===!1||i.enablePan===!1||Ct(Me)}function lt(Me){switch(Pt(Me),O.length){case 1:switch(i.touches.ONE){case Kp.ROTATE:if(i.enableRotate===!1)return;Nt(),c=l.TOUCH_ROTATE;break;case Kp.PAN:if(i.enablePan===!1)return;Ft(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(i.touches.TWO){case Kp.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Mn(),c=l.TOUCH_DOLLY_PAN;break;case Kp.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;at(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&i.dispatchEvent(a)}function Xt(Me){switch(Pt(Me),c){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;et(Me),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;rt(Me),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;We(Me),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ae(Me),i.update();break;default:c=l.NONE}}function ht(Me){i.enabled!==!1&&Me.preventDefault()}function Ot(Me){O.push(Me)}function zt(Me){delete H[Me.pointerId];for(let Je=0;Je<O.length;Je++)if(O[Je].pointerId==Me.pointerId){O.splice(Je,1);return}}function Pt(Me){let Je=H[Me.pointerId];Je===void 0&&(Je=new pt,H[Me.pointerId]=Je),Je.set(Me.pageX,Me.pageY)}function St(Me){const Je=Me.pointerId===O[0].pointerId?O[1]:O[0];return H[Je.pointerId]}this.dollyIn=(Me=G())=>{pe(Me),i.update()},this.dollyOut=(Me=G())=>{$(Me),i.update()},this.getScale=()=>y,this.setScale=Me=>{be(Me),i.update()},this.getZoomScale=()=>G(),t!==void 0&&this.connect(t),this.update()}};function kA(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const hm="srgb",rf="srgb-linear",P6=3001,Kme=3e3;class yI extends vs{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new e0e(t)}),this.register(function(t){return new t0e(t)}),this.register(function(t){return new u0e(t)}),this.register(function(t){return new h0e(t)}),this.register(function(t){return new f0e(t)}),this.register(function(t){return new i0e(t)}),this.register(function(t){return new r0e(t)}),this.register(function(t){return new a0e(t)}),this.register(function(t){return new s0e(t)}),this.register(function(t){return new Zme(t)}),this.register(function(t){return new o0e(t)}),this.register(function(t){return new n0e(t)}),this.register(function(t){return new c0e(t)}),this.register(function(t){return new l0e(t)}),this.register(function(t){return new Qme(t)}),this.register(function(t){return new d0e(t)}),this.register(function(t){return new p0e(t)})}load(e,t,i,r){const a=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const f=Sd.extractUrlBase(e);s=Sd.resolveURL(f,this.path)}else s=Sd.extractUrlBase(e);this.manager.itemStart(e);const l=function(f){r?r(f):console.error(f),a.manager.itemError(e),a.manager.itemEnd(e)},c=new ys(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(f){try{a.parse(f,s,function(p){t(p),a.manager.itemEnd(e)},l)}catch(p){l(p)}},i,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let a;const s={},l={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(kA(new Uint8Array(e.slice(0,4)))===uz){try{s[hi.KHR_BINARY_GLTF]=new m0e(e)}catch(p){r&&r(p);return}a=JSON.parse(s[hi.KHR_BINARY_GLTF].content)}else a=JSON.parse(kA(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new w0e(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const p=this.pluginCallbacks[f](c);p.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[p.name]=p,s[p.name]=!0}if(a.extensionsUsed)for(let f=0;f<a.extensionsUsed.length;++f){const p=a.extensionsUsed[f],g=a.extensionsRequired||[];switch(p){case hi.KHR_MATERIALS_UNLIT:s[p]=new $me;break;case hi.KHR_DRACO_MESH_COMPRESSION:s[p]=new g0e(a,this.dracoLoader);break;case hi.KHR_TEXTURE_TRANSFORM:s[p]=new y0e;break;case hi.KHR_MESH_QUANTIZATION:s[p]=new _0e;break;default:g.indexOf(p)>=0&&l[p]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}c.setExtensions(s),c.setPlugins(l),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,a){i.parse(e,t,r,a)})}}function Jme(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const hi={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Qme{constructor(e){this.parser=e,this.name=hi.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const a=t[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const a=t.json,c=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let f;const p=new Vt(16777215);c.color!==void 0&&p.setRGB(c.color[0],c.color[1],c.color[2],rf);const g=c.range!==void 0?c.range:0;switch(c.type){case"directional":f=new ZR(p),f.target.position.set(0,0,-1),f.add(f.target);break;case"point":f=new $R(p),f.distance=g;break;case"spot":f=new QR(p),f.distance=g,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,f.angle=c.spot.outerConeAngle,f.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,f.target.position.set(0,0,-1),f.add(f.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return f.position.set(0,0,0),f.decay=2,Hh(f,c),c.intensity!==void 0&&(f.intensity=c.intensity),f.name=t.createUniqueName(c.name||"light_"+e),r=Promise.resolve(f),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,a=i.json.nodes[e],l=(a.extensions&&a.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return i._getNodeRef(t.cache,l,c)})}}class $me{constructor(){this.name=hi.KHR_MATERIALS_UNLIT}getMaterialType(){return Vo}extendParams(e,t,i){const r=[];e.color=new Vt(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],rf),e.opacity=s[3]}a.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",a.baseColorTexture,hm))}return Promise.all(r)}}class Zme{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class e0e{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const l=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pt(l,l)}return Promise.all(a)}}class t0e{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class n0e{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class i0e{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new Vt(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];if(s.sheenColorFactor!==void 0){const l=s.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],rf)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(i.assignTexture(t,"sheenColorMap",s.sheenColorTexture,hm)),s.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class r0e{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(i.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class a0e{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(i.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const l=s.attenuationColor||[1,1,1];return t.attenuationColor=new Vt().setRGB(l[0],l[1],l[2],rf),Promise.all(a)}}class s0e{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class o0e{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(i.assignTexture(t,"specularIntensityMap",s.specularTexture));const l=s.specularColorFactor||[1,1,1];return t.specularColor=new Vt().setRGB(l[0],l[1],l[2],rf),s.specularColorTexture!==void 0&&a.push(i.assignTexture(t,"specularColorMap",s.specularColorTexture,hm)),Promise.all(a)}}class l0e{constructor(e){this.parser=e,this.name=hi.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&a.push(i.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(a)}}class c0e{constructor(e){this.parser=e,this.name=hi.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:nc}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&a.push(i.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(a)}}class u0e{constructor(e){this.parser=e,this.name=hi.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}}class h0e{constructor(e){this.parser=e,this.name=hi.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],l=r.images[s.source];let c=i.textureLoader;if(l.uri){const f=i.options.manager.getHandler(l.uri);f!==null&&(c=f)}return this.detectSupport().then(function(f){if(f)return i.loadTextureImage(e,s.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class f0e{constructor(e){this.parser=e,this.name=hi.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],l=r.images[s.source];let c=i.textureLoader;if(l.uri){const f=i.options.manager.getHandler(l.uri);f!==null&&(c=f)}return this.detectSupport().then(function(f){if(f)return i.loadTextureImage(e,s.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class d0e{constructor(e){this.name=hi.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(l){const c=r.byteOffset||0,f=r.byteLength||0,p=r.count,g=r.byteStride,y=new Uint8Array(l,c,f);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(p,g,y,r.mode,r.filter).then(function(v){return v.buffer}):s.ready.then(function(){const v=new ArrayBuffer(p*g);return s.decodeGltfBuffer(new Uint8Array(v),p,g,y,r.mode,r.filter),v})})}else return null}}class p0e{constructor(e){this.name=hi.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const f of r.primitives)if(f.mode!==Gl.TRIANGLES&&f.mode!==Gl.TRIANGLE_STRIP&&f.mode!==Gl.TRIANGLE_FAN&&f.mode!==void 0)return null;const s=i.extensions[this.name].attributes,l=[],c={};for(const f in s)l.push(this.parser.getDependency("accessor",s[f]).then(p=>(c[f]=p,c[f])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(f=>{const p=f.pop(),g=p.isGroup?p.children:[p],y=f[0].count,v=[];for(const x of g){const w=new bn,A=new oe,M=new Ja,R=new oe(1,1,1),P=new OR(x.geometry,x.material,y);for(let L=0;L<y;L++)c.TRANSLATION&&A.fromBufferAttribute(c.TRANSLATION,L),c.ROTATION&&M.fromBufferAttribute(c.ROTATION,L),c.SCALE&&R.fromBufferAttribute(c.SCALE,L),P.setMatrixAt(L,w.compose(A,M,R));for(const L in c)if(L==="_COLOR_0"){const F=c[L];P.instanceColor=new Cm(F.array,F.itemSize,F.normalized)}else L!=="TRANSLATION"&&L!=="ROTATION"&&L!=="SCALE"&&x.geometry.setAttribute(L,c[L]);fi.prototype.copy.call(P,x),this.parser.assignFinalMaterial(P),v.push(P)}return p.isGroup?(p.clear(),p.add(...v),p):v[0]}))}}const uz="glTF",rv=12,D6={JSON:1313821514,BIN:5130562};class m0e{constructor(e){this.name=hi.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,rv);if(this.header={magic:kA(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==uz)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-rv,r=new DataView(e,rv);let a=0;for(;a<i;){const s=r.getUint32(a,!0);a+=4;const l=r.getUint32(a,!0);if(a+=4,l===D6.JSON){const c=new Uint8Array(e,rv+a,s);this.content=kA(c)}else if(l===D6.BIN){const c=rv+a;this.body=e.slice(c,c+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class g0e{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=hi.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,l={},c={},f={};for(const p in s){const g=I4[p]||p.toLowerCase();l[g]=s[p]}for(const p in e.attributes){const g=I4[p]||p.toLowerCase();if(s[p]!==void 0){const y=i.accessors[e.attributes[p]],v=Ug[y.componentType];f[g]=v.name,c[g]=y.normalized===!0}}return t.getDependency("bufferView",a).then(function(p){return new Promise(function(g,y){r.decodeDracoFile(p,function(v){for(const x in v.attributes){const w=v.attributes[x],A=c[x];A!==void 0&&(w.normalized=A)}g(v)},l,f,rf,y)})})}}class y0e{constructor(){this.name=hi.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class _0e{constructor(){this.name=hi.KHR_MESH_QUANTIZATION}}class hz extends Cy{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let s=0;s!==r;s++)t[s]=i[a+s];return t}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=l*2,f=l*3,p=r-t,g=(i-t)/p,y=g*g,v=y*g,x=e*f,w=x-f,A=-2*v+3*y,M=v-y,R=1-A,P=M-y+g;for(let L=0;L!==l;L++){const F=s[w+L+l],j=s[w+L+c]*p,U=s[x+L+l],N=s[x+L]*p;a[L]=R*F+P*j+A*U+M*N}return a}}const v0e=new Ja;class b0e extends hz{interpolate_(e,t,i,r){const a=super.interpolate_(e,t,i,r);return v0e.fromArray(a).normalize().toArray(a),a}}const Gl={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ug={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},B6={9728:Ka,9729:Hi,9984:wE,9985:Ng,9986:am,9987:Kl},O6={33071:la,33648:Zg,10497:Od},tw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},I4={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...gI>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},pd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},x0e={CUBICSPLINE:void 0,LINEAR:ay,STEP:ry},nw={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function M0e(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new yb({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:$u})),n.DefaultMaterial}function qp(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Hh(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function S0e(n,e,t){let i=!1,r=!1,a=!1;for(let f=0,p=e.length;f<p;f++){const g=e[f];if(g.POSITION!==void 0&&(i=!0),g.NORMAL!==void 0&&(r=!0),g.COLOR_0!==void 0&&(a=!0),i&&r&&a)break}if(!i&&!r&&!a)return Promise.resolve(n);const s=[],l=[],c=[];for(let f=0,p=e.length;f<p;f++){const g=e[f];if(i){const y=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):n.attributes.position;s.push(y)}if(r){const y=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):n.attributes.normal;l.push(y)}if(a){const y=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):n.attributes.color;c.push(y)}}return Promise.all([Promise.all(s),Promise.all(l),Promise.all(c)]).then(function(f){const p=f[0],g=f[1],y=f[2];return i&&(n.morphAttributes.position=p),r&&(n.morphAttributes.normal=g),a&&(n.morphAttributes.color=y),n.morphTargetsRelative=!0,n})}function A0e(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function E0e(n){let e;const t=n.extensions&&n.extensions[hi.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+iw(t.attributes):e=n.indices+":"+iw(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+iw(n.targets[i]);return e}function iw(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function P4(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function T0e(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const C0e=new bn;class w0e{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Jme,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,a=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&a<98?this.textureLoader=new dF(this.options.manager):this.textureLoader=new xF(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ys(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(s){const l={scene:s[0][r.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:r.asset,parser:i,userData:{}};return qp(a,l,r),Hh(l,r),Promise.all(i._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){for(const c of l.scenes)c.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,a=t.length;r<a;r++){const s=t[r].joints;for(let l=0,c=s.length;l<c;l++)e[s[l]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const s=e[r];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(i[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),a=(s,l)=>{const c=this.associations.get(s);c!=null&&this.associations.set(l,c);for(const[f,p]of s.children.entries())a(p,l.children[f])};return a(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a&&i.push(a)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(a,s){return i.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[hi.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,s){i.load(Sd.resolveURL(t.uri,r.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,a=t.byteOffset||0;return i.slice(a,a+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const s=tw[r.type],l=Ug[r.componentType],c=r.normalized===!0,f=new l(r.count*s);return Promise.resolve(new Ii(f,s,c))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(s){const l=s[0],c=tw[r.type],f=Ug[r.componentType],p=f.BYTES_PER_ELEMENT,g=p*c,y=r.byteOffset||0,v=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,x=r.normalized===!0;let w,A;if(v&&v!==g){const M=Math.floor(y/v),R="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+M+":"+r.count;let P=t.cache.get(R);P||(w=new f(l,M*v,r.count*v/p),P=new ub(w,v/p),t.cache.add(R,P)),A=new Nd(P,c,y%v/p,x)}else l===null?w=new f(r.count*c):w=new f(l,y,r.count*c),A=new Ii(w,c,x);if(r.sparse!==void 0){const M=tw.SCALAR,R=Ug[r.sparse.indices.componentType],P=r.sparse.indices.byteOffset||0,L=r.sparse.values.byteOffset||0,F=new R(s[1],P,r.sparse.count*M),j=new f(s[2],L,r.sparse.count*c);l!==null&&(A=new Ii(A.array.slice(),A.itemSize,A.normalized));for(let U=0,N=F.length;U<N;U++){const B=F[U];if(A.setX(B,j[U*c]),c>=2&&A.setY(B,j[U*c+1]),c>=3&&A.setZ(B,j[U*c+2]),c>=4&&A.setW(B,j[U*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,a=t.textures[e].source,s=t.images[a];let l=this.textureLoader;if(s.uri){const c=i.manager.getHandler(s.uri);c!==null&&(l=c)}return this.loadTextureImage(e,a,l)}loadTextureImage(e,t,i){const r=this,a=this.json,s=a.textures[e],l=a.images[t],c=(l.uri||l.bufferView)+":"+s.sampler;if(this.textureCache[c])return this.textureCache[c];const f=this.loadImageSource(t,i).then(function(p){p.flipY=!1,p.name=s.name||l.name||"",p.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(p.name=l.uri);const y=(a.samplers||{})[s.sampler]||{};return p.magFilter=B6[y.magFilter]||Hi,p.minFilter=B6[y.minFilter]||Kl,p.wrapS=O6[y.wrapS]||Od,p.wrapT=O6[y.wrapT]||Od,r.associations.set(p,{textures:e}),p}).catch(function(){return null});return this.textureCache[c]=f,f}loadImageSource(e,t){const i=this,r=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const s=r.images[e],l=self.URL||self.webkitURL;let c=s.uri||"",f=!1;if(s.bufferView!==void 0)c=i.getDependency("bufferView",s.bufferView).then(function(g){f=!0;const y=new Blob([g],{type:s.mimeType});return c=l.createObjectURL(y),c});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const p=Promise.resolve(c).then(function(g){return new Promise(function(y,v){let x=y;t.isImageBitmapLoader===!0&&(x=function(w){const A=new Wi(w);A.needsUpdate=!0,y(A)}),t.load(Sd.resolveURL(g,a.path),x,void 0,v)})}).then(function(g){return f===!0&&l.revokeObjectURL(c),Hh(g,s),g.userData.mimeType=s.mimeType||T0e(s.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),g});return this.sourceCache[e]=p,p}assignTexture(e,t,i,r){const a=this;return this.getDependency("texture",i.index).then(function(s){if(!s)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(s=s.clone(),s.channel=i.texCoord),a.extensions[hi.KHR_TEXTURE_TRANSFORM]){const l=i.extensions!==void 0?i.extensions[hi.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const c=a.associations.get(s);s=a.extensions[hi.KHR_TEXTURE_TRANSFORM].extendTexture(s,l),a.associations.set(s,c)}}return r!==void 0&&(typeof r=="number"&&(r=r===P6?hm:rf),"colorSpace"in s?s.colorSpace=r:s.encoding=r===hm?P6:Kme),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+i.uuid;let c=this.cache.get(l);c||(c=new kE,Ba.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,c.sizeAttenuation=!1,this.cache.add(l,c)),i=c}else if(e.isLine){const l="LineBasicMaterial:"+i.uuid;let c=this.cache.get(l);c||(c=new ks,Ba.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,this.cache.add(l,c)),i=c}if(r||a||s){let l="ClonedMaterial:"+i.uuid+":";r&&(l+="derivative-tangents:"),a&&(l+="vertex-colors:"),s&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=i.clone(),a&&(c.vertexColors=!0),s&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(i))),i=c}e.material=i}getMaterialType(){return yb}loadMaterial(e){const t=this,i=this.json,r=this.extensions,a=i.materials[e];let s;const l={},c=a.extensions||{},f=[];if(c[hi.KHR_MATERIALS_UNLIT]){const g=r[hi.KHR_MATERIALS_UNLIT];s=g.getMaterialType(),f.push(g.extendParams(l,a,t))}else{const g=a.pbrMetallicRoughness||{};if(l.color=new Vt(1,1,1),l.opacity=1,Array.isArray(g.baseColorFactor)){const y=g.baseColorFactor;l.color.setRGB(y[0],y[1],y[2],rf),l.opacity=y[3]}g.baseColorTexture!==void 0&&f.push(t.assignTexture(l,"map",g.baseColorTexture,hm)),l.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,l.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(f.push(t.assignTexture(l,"metalnessMap",g.metallicRoughnessTexture)),f.push(t.assignTexture(l,"roughnessMap",g.metallicRoughnessTexture))),s=this._invokeOne(function(y){return y.getMaterialType&&y.getMaterialType(e)}),f.push(Promise.all(this._invokeAll(function(y){return y.extendMaterialParams&&y.extendMaterialParams(e,l)})))}a.doubleSided===!0&&(l.side=ul);const p=a.alphaMode||nw.OPAQUE;if(p===nw.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,p===nw.MASK&&(l.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==Vo&&(f.push(t.assignTexture(l,"normalMap",a.normalTexture)),l.normalScale=new pt(1,1),a.normalTexture.scale!==void 0)){const g=a.normalTexture.scale;l.normalScale.set(g,g)}if(a.occlusionTexture!==void 0&&s!==Vo&&(f.push(t.assignTexture(l,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==Vo){const g=a.emissiveFactor;l.emissive=new Vt().setRGB(g[0],g[1],g[2],rf)}return a.emissiveTexture!==void 0&&s!==Vo&&f.push(t.assignTexture(l,"emissiveMap",a.emissiveTexture,hm)),Promise.all(f).then(function(){const g=new s(l);return a.name&&(g.name=a.name),Hh(g,a),t.associations.set(g,{materials:e}),a.extensions&&qp(r,g,a),g})}createUniqueName(e){const t=Ci.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function a(l){return i[hi.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(c){return N6(c,l,t)})}const s=[];for(let l=0,c=e.length;l<c;l++){const f=e[l],p=E0e(f),g=r[p];if(g)s.push(g.promise);else{let y;f.extensions&&f.extensions[hi.KHR_DRACO_MESH_COMPRESSION]?y=a(f):y=N6(new qn,f,t),r[p]={primitive:f,promise:y},s.push(y)}}return Promise.all(s)}loadMesh(e){const t=this,i=this.json,r=this.extensions,a=i.meshes[e],s=a.primitives,l=[];for(let c=0,f=s.length;c<f;c++){const p=s[c].material===void 0?M0e(this.cache):this.getDependency("material",s[c].material);l.push(p)}return l.push(t.loadGeometries(s)),Promise.all(l).then(function(c){const f=c.slice(0,c.length-1),p=c[c.length-1],g=[];for(let v=0,x=p.length;v<x;v++){const w=p[v],A=s[v];let M;const R=f[v];if(A.mode===Gl.TRIANGLES||A.mode===Gl.TRIANGLE_STRIP||A.mode===Gl.TRIANGLE_FAN||A.mode===void 0)M=a.isSkinnedMesh===!0?new BR(w,R):new Ir(w,R),M.isSkinnedMesh===!0&&M.normalizeSkinWeights(),A.mode===Gl.TRIANGLE_STRIP?M.geometry=w6(M.geometry,TR):A.mode===Gl.TRIANGLE_FAN&&(M.geometry=w6(M.geometry,BA));else if(A.mode===Gl.LINES)M=new qc(w,R);else if(A.mode===Gl.LINE_STRIP)M=new uf(w,R);else if(A.mode===Gl.LINE_LOOP)M=new NR(w,R);else if(A.mode===Gl.POINTS)M=new LR(w,R);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(M.geometry.morphAttributes).length>0&&A0e(M,a),M.name=t.createUniqueName(a.name||"mesh_"+e),Hh(M,a),A.extensions&&qp(r,M,A),t.assignFinalMaterial(M),g.push(M)}for(let v=0,x=g.length;v<x;v++)t.associations.set(g[v],{meshes:e,primitives:v});if(g.length===1)return a.extensions&&qp(r,g[0],a),g[0];const y=new $h;a.extensions&&qp(r,y,a),t.associations.set(y,{meshes:e});for(let v=0,x=g.length;v<x;v++)y.add(g[v]);return y})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new wr(R7.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new $l(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Hh(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,a=t.joints.length;r<a;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const a=r.pop(),s=r,l=[],c=[];for(let f=0,p=s.length;f<p;f++){const g=s[f];if(g){l.push(g);const y=new bn;a!==null&&y.fromArray(a.array,f*16),c.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[f])}return new hb(l,c)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],a=r.name?r.name:"animation_"+e,s=[],l=[],c=[],f=[],p=[];for(let g=0,y=r.channels.length;g<y;g++){const v=r.channels[g],x=r.samplers[v.sampler],w=v.target,A=w.node,M=r.parameters!==void 0?r.parameters[x.input]:x.input,R=r.parameters!==void 0?r.parameters[x.output]:x.output;w.node!==void 0&&(s.push(this.getDependency("node",A)),l.push(this.getDependency("accessor",M)),c.push(this.getDependency("accessor",R)),f.push(x),p.push(w))}return Promise.all([Promise.all(s),Promise.all(l),Promise.all(c),Promise.all(f),Promise.all(p)]).then(function(g){const y=g[0],v=g[1],x=g[2],w=g[3],A=g[4],M=[];for(let R=0,P=y.length;R<P;R++){const L=y[R],F=v[R],j=x[R],U=w[R],N=A[R];if(L===void 0)continue;L.updateMatrix&&L.updateMatrix();const B=i._createAnimationTracks(L,F,j,U,N);if(B)for(let O=0;O<B.length;O++)M.push(B[O])}return new uy(a,void 0,M)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(a){const s=i._getNodeRef(i.meshCache,r.mesh,a);return r.weights!==void 0&&s.traverse(function(l){if(l.isMesh)for(let c=0,f=r.weights.length;c<f;c++)l.morphTargetInfluences[c]=r.weights[c]}),s})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],a=i._loadNodeShallow(e),s=[],l=r.children||[];for(let f=0,p=l.length;f<p;f++)s.push(i.getDependency("node",l[f]));const c=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([a,Promise.all(s),c]).then(function(f){const p=f[0],g=f[1],y=f[2];y!==null&&p.traverse(function(v){v.isSkinnedMesh&&v.bind(y,C0e)});for(let v=0,x=g.length;v<x;v++)p.add(g[v]);return p})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],s=a.name?r.createUniqueName(a.name):"",l=[],c=r._invokeOne(function(f){return f.createNodeMesh&&f.createNodeMesh(e)});return c&&l.push(c),a.camera!==void 0&&l.push(r.getDependency("camera",a.camera).then(function(f){return r._getNodeRef(r.cameraCache,a.camera,f)})),r._invokeAll(function(f){return f.createNodeAttachment&&f.createNodeAttachment(e)}).forEach(function(f){l.push(f)}),this.nodeCache[e]=Promise.all(l).then(function(f){let p;if(a.isBone===!0?p=new jE:f.length>1?p=new $h:f.length===1?p=f[0]:p=new fi,p!==f[0])for(let g=0,y=f.length;g<y;g++)p.add(f[g]);if(a.name&&(p.userData.name=a.name,p.name=s),Hh(p,a),a.extensions&&qp(i,p,a),a.matrix!==void 0){const g=new bn;g.fromArray(a.matrix),p.applyMatrix4(g)}else a.translation!==void 0&&p.position.fromArray(a.translation),a.rotation!==void 0&&p.quaternion.fromArray(a.rotation),a.scale!==void 0&&p.scale.fromArray(a.scale);return r.associations.has(p)||r.associations.set(p,{}),r.associations.get(p).nodes=e,p}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,a=new $h;i.name&&(a.name=r.createUniqueName(i.name)),Hh(a,i),i.extensions&&qp(t,a,i);const s=i.nodes||[],l=[];for(let c=0,f=s.length;c<f;c++)l.push(r.getDependency("node",s[c]));return Promise.all(l).then(function(c){for(let p=0,g=c.length;p<g;p++)a.add(c[p]);const f=p=>{const g=new Map;for(const[y,v]of r.associations)(y instanceof Ba||y instanceof Wi)&&g.set(y,v);return p.traverse(y=>{const v=r.associations.get(y);v!=null&&g.set(y,v)}),g};return r.associations=f(a),a})}_createAnimationTracks(e,t,i,r,a){const s=[],l=e.name?e.name:e.uuid,c=[];pd[a.path]===pd.weights?e.traverse(function(y){y.morphTargetInfluences&&c.push(y.name?y.name:y.uuid)}):c.push(l);let f;switch(pd[a.path]){case pd.weights:f=Rm;break;case pd.rotation:f=Im;break;case pd.position:case pd.scale:f=Pm;break;default:switch(i.itemSize){case 1:f=Rm;break;case 2:case 3:default:f=Pm;break}break}const p=r.interpolation!==void 0?x0e[r.interpolation]:ay,g=this._getArrayFromAccessor(i);for(let y=0,v=c.length;y<v;y++){const x=new f(c[y]+"."+pd[a.path],t.array,g,p);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(x),s.push(x)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=P4(t.constructor),r=new Float32Array(t.length);for(let a=0,s=t.length;a<s;a++)r[a]=t[a]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Im?b0e:hz;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function R0e(n,e,t){const i=e.attributes,r=new js;if(i.POSITION!==void 0){const l=t.json.accessors[i.POSITION],c=l.min,f=l.max;if(c!==void 0&&f!==void 0){if(r.set(new oe(c[0],c[1],c[2]),new oe(f[0],f[1],f[2])),l.normalized){const p=P4(Ug[l.componentType]);r.min.multiplyScalar(p),r.max.multiplyScalar(p)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const l=new oe,c=new oe;for(let f=0,p=a.length;f<p;f++){const g=a[f];if(g.POSITION!==void 0){const y=t.json.accessors[g.POSITION],v=y.min,x=y.max;if(v!==void 0&&x!==void 0){if(c.setX(Math.max(Math.abs(v[0]),Math.abs(x[0]))),c.setY(Math.max(Math.abs(v[1]),Math.abs(x[1]))),c.setZ(Math.max(Math.abs(v[2]),Math.abs(x[2]))),y.normalized){const w=P4(Ug[y.componentType]);c.multiplyScalar(w)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(l)}n.boundingBox=r;const s=new gs;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=s}function N6(n,e,t){const i=e.attributes,r=[];function a(s,l){return t.getDependency("accessor",s).then(function(c){n.setAttribute(l,c)})}for(const s in i){const l=I4[s]||s.toLowerCase();l in n.attributes||r.push(a(i[s],l))}if(e.indices!==void 0&&!n.index){const s=t.getDependency("accessor",e.indices).then(function(l){n.setIndex(l)});r.push(s)}return Hh(n,e),R0e(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?S0e(n,e.targets,t):n})}class I0e extends KR{constructor(e){super(e),this.type=Ya}parse(e){const s=function(N,B){switch(N){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(B||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(B||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(B||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(B||""))}},p=`
`,g=function(N,B,O){B=B||1024;let Q=N.pos,G=-1,he=0,_e="",X=String.fromCharCode.apply(null,new Uint16Array(N.subarray(Q,Q+128)));for(;0>(G=X.indexOf(p))&&he<B&&Q<N.byteLength;)_e+=X,he+=X.length,Q+=128,X+=String.fromCharCode.apply(null,new Uint16Array(N.subarray(Q,Q+128)));return-1<G?(N.pos+=he+G+1,_e+X.slice(0,G)):!1},y=function(N){const B=/^#\?(\S+)/,O=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,H=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Q=/^\s*FORMAT=(\S+)\s*$/,G=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,he={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let _e,X;for((N.pos>=N.byteLength||!(_e=g(N)))&&s(1,"no header found"),(X=_e.match(B))||s(3,"bad initial token"),he.valid|=1,he.programtype=X[1],he.string+=_e+`
`;_e=g(N),_e!==!1;){if(he.string+=_e+`
`,_e.charAt(0)==="#"){he.comments+=_e+`
`;continue}if((X=_e.match(O))&&(he.gamma=parseFloat(X[1])),(X=_e.match(H))&&(he.exposure=parseFloat(X[1])),(X=_e.match(Q))&&(he.valid|=2,he.format=X[1]),(X=_e.match(G))&&(he.valid|=4,he.height=parseInt(X[1],10),he.width=parseInt(X[2],10)),he.valid&2&&he.valid&4)break}return he.valid&2||s(3,"missing format specifier"),he.valid&4||s(3,"missing image size specifier"),he},v=function(N,B,O){const H=B;if(H<8||H>32767||N[0]!==2||N[1]!==2||N[2]&128)return new Uint8Array(N);H!==(N[2]<<8|N[3])&&s(3,"wrong scanline width");const Q=new Uint8Array(4*B*O);Q.length||s(4,"unable to allocate buffer space");let G=0,he=0;const _e=4*H,X=new Uint8Array(4),Z=new Uint8Array(_e);let re=O;for(;re>0&&he<N.byteLength;){he+4>N.byteLength&&s(1),X[0]=N[he++],X[1]=N[he++],X[2]=N[he++],X[3]=N[he++],(X[0]!=2||X[1]!=2||(X[2]<<8|X[3])!=H)&&s(3,"bad rgbe scanline format");let be=0,$;for(;be<_e&&he<N.byteLength;){$=N[he++];const we=$>128;if(we&&($-=128),($===0||be+$>_e)&&s(3,"bad scanline data"),we){const Te=N[he++];for(let de=0;de<$;de++)Z[be++]=Te}else Z.set(N.subarray(he,he+$),be),be+=$,he+=$}const pe=H;for(let we=0;we<pe;we++){let Te=0;Q[G]=Z[we+Te],Te+=H,Q[G+1]=Z[we+Te],Te+=H,Q[G+2]=Z[we+Te],Te+=H,Q[G+3]=Z[we+Te],G+=4}re--}return Q},x=function(N,B,O,H){const Q=N[B+3],G=Math.pow(2,Q-128)/255;O[H+0]=N[B+0]*G,O[H+1]=N[B+1]*G,O[H+2]=N[B+2]*G,O[H+3]=1},w=function(N,B,O,H){const Q=N[B+3],G=Math.pow(2,Q-128)/255;O[H+0]=lm.toHalfFloat(Math.min(N[B+0]*G,65504)),O[H+1]=lm.toHalfFloat(Math.min(N[B+1]*G,65504)),O[H+2]=lm.toHalfFloat(Math.min(N[B+2]*G,65504)),O[H+3]=lm.toHalfFloat(1)},A=new Uint8Array(e);A.pos=0;const M=y(A),R=M.width,P=M.height,L=v(A.subarray(A.pos),R,P);let F,j,U;switch(this.type){case Vr:U=L.length/4;const N=new Float32Array(U*4);for(let O=0;O<U;O++)x(L,O*4,N,O*4);F=N,j=Vr;break;case Ya:U=L.length/4;const B=new Uint16Array(U*4);for(let O=0;O<U;O++)w(L,O*4,B,O*4);F=B,j=Ya;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:R,height:P,data:F,header:M.string,gamma:M.gamma,exposure:M.exposure,type:j}}setDataType(e){return this.type=e,this}load(e,t,i,r){function a(s,l){switch(s.type){case Vr:case Ya:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=Hi,s.magFilter=Hi,s.generateMipmaps=!1,s.flipY=!0;break}t&&t(s,l)}return super.load(e,a,i,r)}}const av=gI>=152;class P0e extends KR{constructor(e){super(e),this.type=Ya}parse(e){const B=Math.pow(2.7182818,2.2);function O(J,ne){for(var Ae=0,ke=0;ke<65536;++ke)(ke==0||J[ke>>3]&1<<(ke&7))&&(ne[Ae++]=ke);for(var qe=Ae-1;Ae<65536;)ne[Ae++]=0;return qe}function H(J){for(var ne=0;ne<16384;ne++)J[ne]={},J[ne].len=0,J[ne].lit=0,J[ne].p=null}const Q={l:0,c:0,lc:0};function G(J,ne,Ae,ke,qe){for(;Ae<J;)ne=ne<<8|St(ke,qe),Ae+=8;Ae-=J,Q.l=ne>>Ae&(1<<J)-1,Q.c=ne,Q.lc=Ae}const he=new Array(59);function _e(J){for(var ne=0;ne<=58;++ne)he[ne]=0;for(var ne=0;ne<65537;++ne)he[J[ne]]+=1;for(var Ae=0,ne=58;ne>0;--ne){var ke=Ae+he[ne]>>1;he[ne]=Ae,Ae=ke}for(var ne=0;ne<65537;++ne){var qe=J[ne];qe>0&&(J[ne]=qe|he[qe]++<<6)}}function X(J,ne,Ae,ke,qe,nt,Mt){for(var yt=Ae,K=0,ce=0;qe<=nt;qe++){if(yt.value-Ae.value>ke)return!1;G(6,K,ce,J,yt);var ye=Q.l;if(K=Q.c,ce=Q.lc,Mt[qe]=ye,ye==63){if(yt.value-Ae.value>ke)throw"Something wrong with hufUnpackEncTable";G(8,K,ce,J,yt);var me=Q.l+6;if(K=Q.c,ce=Q.lc,qe+me>nt+1)throw"Something wrong with hufUnpackEncTable";for(;me--;)Mt[qe++]=0;qe--}else if(ye>=59){var me=ye-59+2;if(qe+me>nt+1)throw"Something wrong with hufUnpackEncTable";for(;me--;)Mt[qe++]=0;qe--}}_e(Mt)}function Z(J){return J&63}function re(J){return J>>6}function be(J,ne,Ae,ke){for(;ne<=Ae;ne++){var qe=re(J[ne]),nt=Z(J[ne]);if(qe>>nt)throw"Invalid table entry";if(nt>14){var Mt=ke[qe>>nt-14];if(Mt.len)throw"Invalid table entry";if(Mt.lit++,Mt.p){var yt=Mt.p;Mt.p=new Array(Mt.lit);for(var K=0;K<Mt.lit-1;++K)Mt.p[K]=yt[K]}else Mt.p=new Array(1);Mt.p[Mt.lit-1]=ne}else if(nt)for(var ce=0,K=1<<14-nt;K>0;K--){var Mt=ke[(qe<<14-nt)+ce];if(Mt.len||Mt.p)throw"Invalid table entry";Mt.len=nt,Mt.lit=ne,ce++}}return!0}const $={c:0,lc:0};function pe(J,ne,Ae,ke){J=J<<8|St(Ae,ke),ne+=8,$.c=J,$.lc=ne}const we={c:0,lc:0};function Te(J,ne,Ae,ke,qe,nt,Mt,yt,K,ce){if(J==ne){ke<8&&(pe(Ae,ke,qe,Mt),Ae=$.c,ke=$.lc),ke-=8;var ye=Ae>>ke,ye=new Uint8Array([ye])[0];if(K.value+ye>ce)return!1;for(var me=yt[K.value-1];ye-- >0;)yt[K.value++]=me}else if(K.value<ce)yt[K.value++]=J;else return!1;we.c=Ae,we.lc=ke}function de(J){return J&65535}function Ne(J){var ne=de(J);return ne>32767?ne-65536:ne}const Ve={a:0,b:0};function ct(J,ne){var Ae=Ne(J),ke=Ne(ne),qe=ke,nt=Ae+(qe&1)+(qe>>1),Mt=nt,yt=nt-qe;Ve.a=Mt,Ve.b=yt}function ut(J,ne){var Ae=de(J),ke=de(ne),qe=Ae-(ke>>1)&65535,nt=ke+qe-32768&65535;Ve.a=nt,Ve.b=qe}function Jt(J,ne,Ae,ke,qe,nt,Mt){for(var yt=Mt<16384,K=Ae>qe?qe:Ae,ce=1,ye;ce<=K;)ce<<=1;for(ce>>=1,ye=ce,ce>>=1;ce>=1;){for(var me=0,Re=me+nt*(qe-ye),ze=nt*ce,tt=nt*ye,ot=ke*ce,gt=ke*ye,Ut,Dt,Lt,tn;me<=Re;me+=tt){for(var Yt=me,kn=me+ke*(Ae-ye);Yt<=kn;Yt+=gt){var qt=Yt+ot,en=Yt+ze,Wt=en+ot;yt?(ct(J[Yt+ne],J[en+ne]),Ut=Ve.a,Lt=Ve.b,ct(J[qt+ne],J[Wt+ne]),Dt=Ve.a,tn=Ve.b,ct(Ut,Dt),J[Yt+ne]=Ve.a,J[qt+ne]=Ve.b,ct(Lt,tn),J[en+ne]=Ve.a,J[Wt+ne]=Ve.b):(ut(J[Yt+ne],J[en+ne]),Ut=Ve.a,Lt=Ve.b,ut(J[qt+ne],J[Wt+ne]),Dt=Ve.a,tn=Ve.b,ut(Ut,Dt),J[Yt+ne]=Ve.a,J[qt+ne]=Ve.b,ut(Lt,tn),J[en+ne]=Ve.a,J[Wt+ne]=Ve.b)}if(Ae&ce){var en=Yt+ze;yt?ct(J[Yt+ne],J[en+ne]):ut(J[Yt+ne],J[en+ne]),Ut=Ve.a,J[en+ne]=Ve.b,J[Yt+ne]=Ut}}if(qe&ce)for(var Yt=me,kn=me+ke*(Ae-ye);Yt<=kn;Yt+=gt){var qt=Yt+ot;yt?ct(J[Yt+ne],J[qt+ne]):ut(J[Yt+ne],J[qt+ne]),Ut=Ve.a,J[qt+ne]=Ve.b,J[Yt+ne]=Ut}ye=ce,ce>>=1}return me}function It(J,ne,Ae,ke,qe,nt,Mt,yt,K,ce){for(var ye=0,me=0,Re=yt,ze=Math.trunc(qe.value+(nt+7)/8);qe.value<ze;)for(pe(ye,me,Ae,qe),ye=$.c,me=$.lc;me>=14;){var tt=ye>>me-14&16383,ot=ne[tt];if(ot.len)me-=ot.len,Te(ot.lit,Mt,ye,me,Ae,ke,qe,K,ce,Re),ye=we.c,me=we.lc;else{if(!ot.p)throw"hufDecode issues";var gt;for(gt=0;gt<ot.lit;gt++){for(var Ut=Z(J[ot.p[gt]]);me<Ut&&qe.value<ze;)pe(ye,me,Ae,qe),ye=$.c,me=$.lc;if(me>=Ut&&re(J[ot.p[gt]])==(ye>>me-Ut&(1<<Ut)-1)){me-=Ut,Te(ot.p[gt],Mt,ye,me,Ae,ke,qe,K,ce,Re),ye=we.c,me=we.lc;break}}if(gt==ot.lit)throw"hufDecode issues"}}var Dt=8-nt&7;for(ye>>=Dt,me-=Dt;me>0;){var ot=ne[ye<<14-me&16383];if(ot.len)me-=ot.len,Te(ot.lit,Mt,ye,me,Ae,ke,qe,K,ce,Re),ye=we.c,me=we.lc;else throw"hufDecode issues"}return!0}function Ct(J,ne,Ae,ke,qe,nt){var Mt={value:0},yt=Ae.value,K=Pt(ne,Ae),ce=Pt(ne,Ae);Ae.value+=4;var ye=Pt(ne,Ae);if(Ae.value+=4,K<0||K>=65537||ce<0||ce>=65537)throw"Something wrong with HUF_ENCSIZE";var me=new Array(65537),Re=new Array(16384);H(Re);var ze=ke-(Ae.value-yt);if(X(J,ne,Ae,ze,K,ce,me),ye>8*(ke-(Ae.value-yt)))throw"Something wrong with hufUncompress";be(me,K,ce,Re),It(me,Re,J,ne,Ae,ye,ce,nt,qe,Mt)}function Nt(J,ne,Ae){for(var ke=0;ke<Ae;++ke)ne[ke]=J[ne[ke]]}function Ft(J){for(var ne=1;ne<J.length;ne++){var Ae=J[ne-1]+J[ne]-128;J[ne]=Ae}}function fe(J,ne){for(var Ae=0,ke=Math.floor((J.length+1)/2),qe=0,nt=J.length-1;!(qe>nt||(ne[qe++]=J[Ae++],qe>nt));)ne[qe++]=J[ke++]}function Mn(J){for(var ne=J.byteLength,Ae=new Array,ke=0,qe=new DataView(J);ne>0;){var nt=qe.getInt8(ke++);if(nt<0){var Mt=-nt;ne-=Mt+1;for(var yt=0;yt<Mt;yt++)Ae.push(qe.getUint8(ke++))}else{var Mt=nt;ne-=2;for(var K=qe.getUint8(ke++),yt=0;yt<Mt+1;yt++)Ae.push(K)}}return Ae}function at(J,ne,Ae,ke,qe,nt){var qt=new DataView(nt.buffer),Mt=Ae[J.idx[0]].width,yt=Ae[J.idx[0]].height,K=3,ce=Math.floor(Mt/8),ye=Math.ceil(Mt/8),me=Math.ceil(yt/8),Re=Mt-(ye-1)*8,ze=yt-(me-1)*8,tt={value:0},ot=new Array(K),gt=new Array(K),Ut=new Array(K),Dt=new Array(K),Lt=new Array(K);for(let mn=0;mn<K;++mn)Lt[mn]=ne[J.idx[mn]],ot[mn]=mn<1?0:ot[mn-1]+ye*me,gt[mn]=new Float32Array(64),Ut[mn]=new Uint16Array(64),Dt[mn]=new Uint16Array(ye*64);for(let mn=0;mn<me;++mn){var tn=8;mn==me-1&&(tn=ze);var Yt=8;for(let Qt=0;Qt<ye;++Qt){Qt==ye-1&&(Yt=Re);for(let hn=0;hn<K;++hn)Ut[hn].fill(0),Ut[hn][0]=qe[ot[hn]++],et(tt,ke,Ut[hn]),rt(Ut[hn],gt[hn]),xt(gt[hn]);We(gt);for(let hn=0;hn<K;++hn)ae(gt[hn],Dt[hn],Qt*64)}let di=0;for(let Qt=0;Qt<K;++Qt){const hn=Ae[J.idx[Qt]].type;for(let En=8*mn;En<8*mn+tn;++En){di=Lt[Qt][En];for(let vi=0;vi<ce;++vi){const Qn=vi*64+(En&7)*8;qt.setUint16(di+0*2*hn,Dt[Qt][Qn+0],!0),qt.setUint16(di+1*2*hn,Dt[Qt][Qn+1],!0),qt.setUint16(di+2*2*hn,Dt[Qt][Qn+2],!0),qt.setUint16(di+3*2*hn,Dt[Qt][Qn+3],!0),qt.setUint16(di+4*2*hn,Dt[Qt][Qn+4],!0),qt.setUint16(di+5*2*hn,Dt[Qt][Qn+5],!0),qt.setUint16(di+6*2*hn,Dt[Qt][Qn+6],!0),qt.setUint16(di+7*2*hn,Dt[Qt][Qn+7],!0),di+=8*2*hn}}if(ce!=ye)for(let En=8*mn;En<8*mn+tn;++En){const vi=Lt[Qt][En]+8*ce*2*hn,Qn=ce*64+(En&7)*8;for(let on=0;on<Yt;++on)qt.setUint16(vi+on*2*hn,Dt[Qt][Qn+on],!0)}}}for(var kn=new Uint16Array(Mt),qt=new DataView(nt.buffer),en=0;en<K;++en){Ae[J.idx[en]].decoded=!0;var Wt=Ae[J.idx[en]].type;if(Ae[en].type==2)for(var _i=0;_i<yt;++_i){const mn=Lt[en][_i];for(var un=0;un<Mt;++un)kn[un]=qt.getUint16(mn+un*2*Wt,!0);for(var un=0;un<Mt;++un)qt.setFloat32(mn+un*2*Wt,je(kn[un]),!0)}}}function et(J,ne,Ae){for(var ke,qe=1;qe<64;)ke=ne[J.value],ke==65280?qe=64:ke>>8==255?qe+=ke&255:(Ae[qe]=ke,qe++),J.value++}function rt(J,ne){ne[0]=je(J[0]),ne[1]=je(J[1]),ne[2]=je(J[5]),ne[3]=je(J[6]),ne[4]=je(J[14]),ne[5]=je(J[15]),ne[6]=je(J[27]),ne[7]=je(J[28]),ne[8]=je(J[2]),ne[9]=je(J[4]),ne[10]=je(J[7]),ne[11]=je(J[13]),ne[12]=je(J[16]),ne[13]=je(J[26]),ne[14]=je(J[29]),ne[15]=je(J[42]),ne[16]=je(J[3]),ne[17]=je(J[8]),ne[18]=je(J[12]),ne[19]=je(J[17]),ne[20]=je(J[25]),ne[21]=je(J[30]),ne[22]=je(J[41]),ne[23]=je(J[43]),ne[24]=je(J[9]),ne[25]=je(J[11]),ne[26]=je(J[18]),ne[27]=je(J[24]),ne[28]=je(J[31]),ne[29]=je(J[40]),ne[30]=je(J[44]),ne[31]=je(J[53]),ne[32]=je(J[10]),ne[33]=je(J[19]),ne[34]=je(J[23]),ne[35]=je(J[32]),ne[36]=je(J[39]),ne[37]=je(J[45]),ne[38]=je(J[52]),ne[39]=je(J[54]),ne[40]=je(J[20]),ne[41]=je(J[22]),ne[42]=je(J[33]),ne[43]=je(J[38]),ne[44]=je(J[46]),ne[45]=je(J[51]),ne[46]=je(J[55]),ne[47]=je(J[60]),ne[48]=je(J[21]),ne[49]=je(J[34]),ne[50]=je(J[37]),ne[51]=je(J[47]),ne[52]=je(J[50]),ne[53]=je(J[56]),ne[54]=je(J[59]),ne[55]=je(J[61]),ne[56]=je(J[35]),ne[57]=je(J[36]),ne[58]=je(J[48]),ne[59]=je(J[49]),ne[60]=je(J[57]),ne[61]=je(J[58]),ne[62]=je(J[62]),ne[63]=je(J[63])}function xt(J){const ne=.5*Math.cos(.7853975),Ae=.5*Math.cos(3.14159/16),ke=.5*Math.cos(3.14159/8),qe=.5*Math.cos(3*3.14159/16),nt=.5*Math.cos(5*3.14159/16),Mt=.5*Math.cos(3*3.14159/8),yt=.5*Math.cos(7*3.14159/16);for(var K=new Array(4),ce=new Array(4),ye=new Array(4),me=new Array(4),Re=0;Re<8;++Re){var ze=Re*8;K[0]=ke*J[ze+2],K[1]=Mt*J[ze+2],K[2]=ke*J[ze+6],K[3]=Mt*J[ze+6],ce[0]=Ae*J[ze+1]+qe*J[ze+3]+nt*J[ze+5]+yt*J[ze+7],ce[1]=qe*J[ze+1]-yt*J[ze+3]-Ae*J[ze+5]-nt*J[ze+7],ce[2]=nt*J[ze+1]-Ae*J[ze+3]+yt*J[ze+5]+qe*J[ze+7],ce[3]=yt*J[ze+1]-nt*J[ze+3]+qe*J[ze+5]-Ae*J[ze+7],ye[0]=ne*(J[ze+0]+J[ze+4]),ye[3]=ne*(J[ze+0]-J[ze+4]),ye[1]=K[0]+K[3],ye[2]=K[1]-K[2],me[0]=ye[0]+ye[1],me[1]=ye[3]+ye[2],me[2]=ye[3]-ye[2],me[3]=ye[0]-ye[1],J[ze+0]=me[0]+ce[0],J[ze+1]=me[1]+ce[1],J[ze+2]=me[2]+ce[2],J[ze+3]=me[3]+ce[3],J[ze+4]=me[3]-ce[3],J[ze+5]=me[2]-ce[2],J[ze+6]=me[1]-ce[1],J[ze+7]=me[0]-ce[0]}for(var tt=0;tt<8;++tt)K[0]=ke*J[16+tt],K[1]=Mt*J[16+tt],K[2]=ke*J[48+tt],K[3]=Mt*J[48+tt],ce[0]=Ae*J[8+tt]+qe*J[24+tt]+nt*J[40+tt]+yt*J[56+tt],ce[1]=qe*J[8+tt]-yt*J[24+tt]-Ae*J[40+tt]-nt*J[56+tt],ce[2]=nt*J[8+tt]-Ae*J[24+tt]+yt*J[40+tt]+qe*J[56+tt],ce[3]=yt*J[8+tt]-nt*J[24+tt]+qe*J[40+tt]-Ae*J[56+tt],ye[0]=ne*(J[tt]+J[32+tt]),ye[3]=ne*(J[tt]-J[32+tt]),ye[1]=K[0]+K[3],ye[2]=K[1]-K[2],me[0]=ye[0]+ye[1],me[1]=ye[3]+ye[2],me[2]=ye[3]-ye[2],me[3]=ye[0]-ye[1],J[0+tt]=me[0]+ce[0],J[8+tt]=me[1]+ce[1],J[16+tt]=me[2]+ce[2],J[24+tt]=me[3]+ce[3],J[32+tt]=me[3]-ce[3],J[40+tt]=me[2]-ce[2],J[48+tt]=me[1]-ce[1],J[56+tt]=me[0]-ce[0]}function We(J){for(var ne=0;ne<64;++ne){var Ae=J[0][ne],ke=J[1][ne],qe=J[2][ne];J[0][ne]=Ae+1.5747*qe,J[1][ne]=Ae-.1873*ke-.4682*qe,J[2][ne]=Ae+1.8556*ke}}function ae(J,ne,Ae){for(var ke=0;ke<64;++ke)ne[Ae+ke]=lm.toHalfFloat(V(J[ke]))}function V(J){return J<=1?Math.sign(J)*Math.pow(Math.abs(J),2.2):Math.sign(J)*Math.pow(B,Math.abs(J)-1)}function ee(J){return new DataView(J.array.buffer,J.offset.value,J.size)}function ue(J){var ne=J.viewer.buffer.slice(J.offset.value,J.offset.value+J.size),Ae=new Uint8Array(Mn(ne)),ke=new Uint8Array(Ae.length);return Ft(Ae),fe(Ae,ke),new DataView(ke.buffer)}function Ce(J){var ne=J.array.slice(J.offset.value,J.offset.value+J.size),Ae=YM(ne),ke=new Uint8Array(Ae.length);return Ft(Ae),fe(Ae,ke),new DataView(ke.buffer)}function ge(J){for(var ne=J.viewer,Ae={value:J.offset.value},ke=new Uint16Array(J.width*J.scanlineBlockSize*(J.channels*J.type)),qe=new Uint8Array(8192),nt=0,Mt=new Array(J.channels),yt=0;yt<J.channels;yt++)Mt[yt]={},Mt[yt].start=nt,Mt[yt].end=Mt[yt].start,Mt[yt].nx=J.width,Mt[yt].ny=J.lines,Mt[yt].size=J.type,nt+=Mt[yt].nx*Mt[yt].ny*Mt[yt].size;var K=Ge(ne,Ae),ce=Ge(ne,Ae);if(ce>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(K<=ce)for(var yt=0;yt<ce-K+1;yt++)qe[yt+K]=Me(ne,Ae);var ye=new Uint16Array(65536),me=O(qe,ye),Re=Pt(ne,Ae);Ct(J.array,ne,Ae,Re,ke,nt);for(var yt=0;yt<J.channels;++yt)for(var ze=Mt[yt],tt=0;tt<Mt[yt].size;++tt)Jt(ke,ze.start+tt,ze.nx,ze.size,ze.ny,ze.nx*ze.size,me);Nt(ye,ke,nt);for(var ot=0,gt=new Uint8Array(ke.buffer.byteLength),Ut=0;Ut<J.lines;Ut++)for(var Dt=0;Dt<J.channels;Dt++){var ze=Mt[Dt],Lt=ze.nx*ze.size,tn=new Uint8Array(ke.buffer,ze.end*2,Lt*2);gt.set(tn,ot),ot+=Lt*2,ze.end+=Lt}return new DataView(gt.buffer)}function Pe(J){var ne=J.array.slice(J.offset.value,J.offset.value+J.size),Ae=YM(ne);const ke=J.lines*J.channels*J.width,qe=J.type==1?new Uint16Array(ke):new Uint32Array(ke);let nt=0,Mt=0;const yt=new Array(4);for(let K=0;K<J.lines;K++)for(let ce=0;ce<J.channels;ce++){let ye=0;switch(J.type){case 1:yt[0]=nt,yt[1]=yt[0]+J.width,nt=yt[1]+J.width;for(let me=0;me<J.width;++me){const Re=Ae[yt[0]++]<<8|Ae[yt[1]++];ye+=Re,qe[Mt]=ye,Mt++}break;case 2:yt[0]=nt,yt[1]=yt[0]+J.width,yt[2]=yt[1]+J.width,nt=yt[2]+J.width;for(let me=0;me<J.width;++me){const Re=Ae[yt[0]++]<<24|Ae[yt[1]++]<<16|Ae[yt[2]++]<<8;ye+=Re,qe[Mt]=ye,Mt++}break}}return new DataView(qe.buffer)}function Ue(J){var ne=J.viewer,Ae={value:J.offset.value},ke=new Uint8Array(J.width*J.lines*(J.channels*J.type*2)),qe={version:Je(ne,Ae),unknownUncompressedSize:Je(ne,Ae),unknownCompressedSize:Je(ne,Ae),acCompressedSize:Je(ne,Ae),dcCompressedSize:Je(ne,Ae),rleCompressedSize:Je(ne,Ae),rleUncompressedSize:Je(ne,Ae),rleRawSize:Je(ne,Ae),totalAcUncompressedCount:Je(ne,Ae),totalDcUncompressedCount:Je(ne,Ae),acCompression:Je(ne,Ae)};if(qe.version<2)throw"EXRLoader.parse: "+nr.compression+" version "+qe.version+" is unsupported";for(var nt=new Array,Mt=Ge(ne,Ae)-2;Mt>0;){var yt=lt(ne.buffer,Ae),K=Me(ne,Ae),ce=K>>2&3,ye=(K>>4)-1,me=new Int8Array([ye])[0],Re=Me(ne,Ae);nt.push({name:yt,index:me,type:Re,compression:ce}),Mt-=yt.length+3}for(var ze=nr.channels,tt=new Array(J.channels),ot=0;ot<J.channels;++ot){var gt=tt[ot]={},Ut=ze[ot];gt.name=Ut.name,gt.compression=0,gt.decoded=!1,gt.type=Ut.pixelType,gt.pLinear=Ut.pLinear,gt.width=J.width,gt.height=J.lines}for(var Dt={idx:new Array(3)},Lt=0;Lt<J.channels;++Lt)for(var gt=tt[Lt],ot=0;ot<nt.length;++ot){var tn=nt[ot];gt.name==tn.name&&(gt.compression=tn.compression,tn.index>=0&&(Dt.idx[tn.index]=Lt),gt.offset=Lt)}if(qe.acCompressedSize>0)switch(qe.acCompression){case 0:var qt=new Uint16Array(qe.totalAcUncompressedCount);Ct(J.array,ne,Ae,qe.acCompressedSize,qt,qe.totalAcUncompressedCount);break;case 1:var Yt=J.array.slice(Ae.value,Ae.value+qe.totalAcUncompressedCount),kn=YM(Yt),qt=new Uint16Array(kn.buffer);Ae.value+=qe.totalAcUncompressedCount;break}if(qe.dcCompressedSize>0){var en={array:J.array,offset:Ae,size:qe.dcCompressedSize},Wt=new Uint16Array(Ce(en).buffer);Ae.value+=qe.dcCompressedSize}if(qe.rleRawSize>0){var Yt=J.array.slice(Ae.value,Ae.value+qe.rleCompressedSize),kn=YM(Yt),_i=Mn(kn.buffer);Ae.value+=qe.rleCompressedSize}for(var un=0,mn=new Array(tt.length),ot=0;ot<mn.length;++ot)mn[ot]=new Array;for(var di=0;di<J.lines;++di)for(var Qt=0;Qt<tt.length;++Qt)mn[Qt].push(un),un+=tt[Qt].width*J.type*2;at(Dt,mn,tt,qt,Wt,ke);for(var ot=0;ot<tt.length;++ot){var gt=tt[ot];if(!gt.decoded)switch(gt.compression){case 2:for(var hn=0,En=0,di=0;di<J.lines;++di){for(var vi=mn[ot][hn],Qn=0;Qn<gt.width;++Qn){for(var on=0;on<2*gt.type;++on)ke[vi++]=_i[En+on*gt.width*gt.height];En++}hn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ke.buffer)}function lt(J,ne){for(var Ae=new Uint8Array(J),ke=0;Ae[ne.value+ke]!=0;)ke+=1;var qe=new TextDecoder().decode(Ae.slice(ne.value,ne.value+ke));return ne.value=ne.value+ke+1,qe}function Xt(J,ne,Ae){var ke=new TextDecoder().decode(new Uint8Array(J).slice(ne.value,ne.value+Ae));return ne.value=ne.value+Ae,ke}function ht(J,ne){var Ae=zt(J,ne),ke=Pt(J,ne);return[Ae,ke]}function Ot(J,ne){var Ae=Pt(J,ne),ke=Pt(J,ne);return[Ae,ke]}function zt(J,ne){var Ae=J.getInt32(ne.value,!0);return ne.value=ne.value+4,Ae}function Pt(J,ne){var Ae=J.getUint32(ne.value,!0);return ne.value=ne.value+4,Ae}function St(J,ne){var Ae=J[ne.value];return ne.value=ne.value+1,Ae}function Me(J,ne){var Ae=J.getUint8(ne.value);return ne.value=ne.value+1,Ae}const Je=function(J,ne){let Ae;return"getBigInt64"in DataView.prototype?Ae=Number(J.getBigInt64(ne.value,!0)):Ae=J.getUint32(ne.value+4,!0)+Number(J.getUint32(ne.value,!0)<<32),ne.value+=8,Ae};function bt(J,ne){var Ae=J.getFloat32(ne.value,!0);return ne.value+=4,Ae}function Se(J,ne){return lm.toHalfFloat(bt(J,ne))}function je(J){var ne=(J&31744)>>10,Ae=J&1023;return(J>>15?-1:1)*(ne?ne===31?Ae?NaN:1/0:Math.pow(2,ne-15)*(1+Ae/1024):6103515625e-14*(Ae/1024))}function Ge(J,ne){var Ae=J.getUint16(ne.value,!0);return ne.value+=2,Ae}function st(J,ne){return je(Ge(J,ne))}function wt(J,ne,Ae,ke){for(var qe=Ae.value,nt=[];Ae.value<qe+ke-1;){var Mt=lt(ne,Ae),yt=zt(J,Ae),K=Me(J,Ae);Ae.value+=3;var ce=zt(J,Ae),ye=zt(J,Ae);nt.push({name:Mt,pixelType:yt,pLinear:K,xSampling:ce,ySampling:ye})}return Ae.value+=1,nt}function Tt(J,ne){var Ae=bt(J,ne),ke=bt(J,ne),qe=bt(J,ne),nt=bt(J,ne),Mt=bt(J,ne),yt=bt(J,ne),K=bt(J,ne),ce=bt(J,ne);return{redX:Ae,redY:ke,greenX:qe,greenY:nt,blueX:Mt,blueY:yt,whiteX:K,whiteY:ce}}function $t(J,ne){var Ae=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ke=Me(J,ne);return Ae[ke]}function An(J,ne){var Ae=Pt(J,ne),ke=Pt(J,ne),qe=Pt(J,ne),nt=Pt(J,ne);return{xMin:Ae,yMin:ke,xMax:qe,yMax:nt}}function ti(J,ne){var Ae=["INCREASING_Y"],ke=Me(J,ne);return Ae[ke]}function dn(J,ne){var Ae=bt(J,ne),ke=bt(J,ne);return[Ae,ke]}function ci(J,ne){var Ae=bt(J,ne),ke=bt(J,ne),qe=bt(J,ne);return[Ae,ke,qe]}function Dn(J,ne,Ae,ke,qe){if(ke==="string"||ke==="stringvector"||ke==="iccProfile")return Xt(ne,Ae,qe);if(ke==="chlist")return wt(J,ne,Ae,qe);if(ke==="chromaticities")return Tt(J,Ae);if(ke==="compression")return $t(J,Ae);if(ke==="box2i")return An(J,Ae);if(ke==="lineOrder")return ti(J,Ae);if(ke==="float")return bt(J,Ae);if(ke==="v2f")return dn(J,Ae);if(ke==="v3f")return ci(J,Ae);if(ke==="int")return zt(J,Ae);if(ke==="rational")return ht(J,Ae);if(ke==="timecode")return Ot(J,Ae);if(ke==="preview")return Ae.value+=qe,"skipped";Ae.value+=qe}function Ki(J,ne,Ae){const ke={};if(J.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ke.version=J.getUint8(4);const qe=J.getUint8(5);ke.spec={singleTile:!!(qe&2),longName:!!(qe&4),deepFormat:!!(qe&8),multiPart:!!(qe&16)},Ae.value=8;for(var nt=!0;nt;){var Mt=lt(ne,Ae);if(Mt==0)nt=!1;else{var yt=lt(ne,Ae),K=Pt(J,Ae),ce=Dn(J,ne,Ae,yt,K);ce===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${yt}'.`):ke[Mt]=ce}}if((qe&-5)!=0)throw console.error("EXRHeader:",ke),"THREE.EXRLoader: provided file is currently unsupported.";return ke}function Li(J,ne,Ae,ke,qe){const nt={size:0,viewer:ne,array:Ae,offset:ke,width:J.dataWindow.xMax-J.dataWindow.xMin+1,height:J.dataWindow.yMax-J.dataWindow.yMin+1,channels:J.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:J.channels[0].pixelType,uncompress:null,getter:null,format:null,[av?"colorSpace":"encoding"]:null};switch(J.compression){case"NO_COMPRESSION":nt.lines=1,nt.uncompress=ee;break;case"RLE_COMPRESSION":nt.lines=1,nt.uncompress=ue;break;case"ZIPS_COMPRESSION":nt.lines=1,nt.uncompress=Ce;break;case"ZIP_COMPRESSION":nt.lines=16,nt.uncompress=Ce;break;case"PIZ_COMPRESSION":nt.lines=32,nt.uncompress=ge;break;case"PXR24_COMPRESSION":nt.lines=16,nt.uncompress=Pe;break;case"DWAA_COMPRESSION":nt.lines=32,nt.uncompress=Ue;break;case"DWAB_COMPRESSION":nt.lines=256,nt.uncompress=Ue;break;default:throw"EXRLoader.parse: "+J.compression+" is unsupported"}if(nt.scanlineBlockSize=nt.lines,nt.type==1)switch(qe){case Vr:nt.getter=st,nt.inputSize=2;break;case Ya:nt.getter=Ge,nt.inputSize=2;break}else if(nt.type==2)switch(qe){case Vr:nt.getter=bt,nt.inputSize=4;break;case Ya:nt.getter=Se,nt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+nt.type+" for "+J.compression+".";nt.blockCount=(J.dataWindow.yMax+1)/nt.scanlineBlockSize;for(var Mt=0;Mt<nt.blockCount;Mt++)Je(ne,ke);nt.outputChannels=nt.channels==3?4:nt.channels;const yt=nt.width*nt.height*nt.outputChannels;switch(qe){case Vr:nt.byteArray=new Float32Array(yt),nt.channels<nt.outputChannels&&nt.byteArray.fill(1,0,yt);break;case Ya:nt.byteArray=new Uint16Array(yt),nt.channels<nt.outputChannels&&nt.byteArray.fill(15360,0,yt);break;default:console.error("THREE.EXRLoader: unsupported type: ",qe);break}return nt.bytesPerLine=nt.width*nt.inputSize*nt.channels,nt.outputChannels==4?nt.format=ca:nt.format=ab,av?nt.colorSpace="srgb-linear":nt.encoding=3e3,nt}const Ui=new DataView(e),Hr=new Uint8Array(e),Gr={value:0},nr=Ki(Ui,e,Gr),sn=Li(nr,Ui,Hr,Gr,this.type),ha={value:0},ni={R:0,G:1,B:2,A:3,Y:0};for(let J=0;J<sn.height/sn.scanlineBlockSize;J++){const ne=Pt(Ui,Gr);sn.size=Pt(Ui,Gr),sn.lines=ne+sn.scanlineBlockSize>sn.height?sn.height-ne:sn.scanlineBlockSize;const ke=sn.size<sn.lines*sn.bytesPerLine?sn.uncompress(sn):ee(sn);Gr.value+=sn.size;for(let qe=0;qe<sn.scanlineBlockSize;qe++){const nt=qe+J*sn.scanlineBlockSize;if(nt>=sn.height)break;for(let Mt=0;Mt<sn.channels;Mt++){const yt=ni[nr.channels[Mt].name];for(let K=0;K<sn.width;K++){ha.value=(qe*(sn.channels*sn.width)+Mt*sn.width+K)*sn.inputSize;const ce=(sn.height-1-nt)*(sn.width*sn.outputChannels)+K*sn.outputChannels+yt;sn.byteArray[ce]=sn.getter(ke,ha)}}}}return{header:nr,width:sn.width,height:sn.height,data:sn.byteArray,format:sn.format,[av?"colorSpace":"encoding"]:sn[av?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function a(s,l){av?s.colorSpace=l.colorSpace:s.encoding=l.encoding,s.minFilter=Hi,s.magFilter=Hi,s.generateMipmaps=!1,s.flipY=!1,t&&t(s,l)}return super.load(e,a,i,r)}}const rw=new WeakMap;class D0e extends vs{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const a=new ys(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,l).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const c in t.attributeTypes){const f=t.attributeTypes[c];f.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[c]=f.name)}const i=JSON.stringify(t);if(rw.has(e)){const c=rw.get(e);if(c.key===i)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const a=this.workerNextTaskID++,s=e.byteLength,l=this._getWorker(a,s).then(c=>(r=c,new Promise((f,p)=>{r._callbacks[a]={resolve:f,reject:p},r.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{r&&a&&this._releaseTask(r,a)}),rw.set(e,{key:i,promise:l}),l}_createGeometry(e){const t=new qn;e.index&&t.setIndex(new Ii(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],a=r.name,s=r.array,l=r.itemSize;t.setAttribute(a,new Ii(s,l))}return t}_loadLibrary(e,t){const i=new ys(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,a)=>{i.load(e,r,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const a=B0e.toString(),s=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(a){const s=a.data;switch(s.type){case"decode":r._callbacks[s.id].resolve(s);break;case"error":r._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,a){return r._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function B0e(){let n,e;onmessage=function(s){const l=s.data;switch(l.type){case"init":n=l.decoderConfig,e=new Promise(function(p){n.onModuleLoaded=function(g){p({draco:g})},DracoDecoderModule(n)});break;case"decode":const c=l.buffer,f=l.taskConfig;e.then(p=>{const g=p.draco,y=new g.Decoder,v=new g.DecoderBuffer;v.Init(new Int8Array(c),c.byteLength);try{const x=t(g,y,v,f),w=x.attributes.map(A=>A.array.buffer);x.index&&w.push(x.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:x},w)}catch(x){console.error(x),self.postMessage({type:"error",id:l.id,error:x.message})}finally{g.destroy(v),g.destroy(y)}});break}};function t(s,l,c,f){const p=f.attributeIDs,g=f.attributeTypes;let y,v;const x=l.GetEncodedGeometryType(c);if(x===s.TRIANGULAR_MESH)y=new s.Mesh,v=l.DecodeBufferToMesh(c,y);else if(x===s.POINT_CLOUD)y=new s.PointCloud,v=l.DecodeBufferToPointCloud(c,y);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||y.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const w={index:null,attributes:[]};for(const A in p){const M=self[g[A]];let R,P;if(f.useUniqueIDs)P=p[A],R=l.GetAttributeByUniqueId(y,P);else{if(P=l.GetAttributeId(y,s[p[A]]),P===-1)continue;R=l.GetAttribute(y,P)}w.attributes.push(r(s,l,y,A,M,R))}return x===s.TRIANGULAR_MESH&&(w.index=i(s,l,y)),s.destroy(y),w}function i(s,l,c){const p=c.num_faces()*3,g=p*4,y=s._malloc(g);l.GetTrianglesUInt32Array(c,g,y);const v=new Uint32Array(s.HEAPF32.buffer,y,p).slice();return s._free(y),{array:v,itemSize:1}}function r(s,l,c,f,p,g){const y=g.num_components(),x=c.num_points()*y,w=x*p.BYTES_PER_ELEMENT,A=a(s,p),M=s._malloc(w);l.GetAttributeDataArrayForAllPoints(c,g,A,w,M);const R=new p(s.HEAPF32.buffer,M,x).slice();return s._free(M),{name:f,array:R,itemSize:y}}function a(s,l){switch(l){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let JM;const aw=()=>{if(JM)return JM;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let a;const s=WebAssembly.instantiate(l(r),{}).then(g=>{a=g.instance,a.exports.__wasm_call_ctors()});function l(g){const y=new Uint8Array(g.length);for(let x=0;x<g.length;++x){const w=g.charCodeAt(x);y[x]=w>96?w-71:w>64?w-65:w>47?w+4:w>46?63:62}let v=0;for(let x=0;x<g.length;++x)y[v++]=y[x]<60?i[y[x]]:(y[x]-60)*64+y[++x];return y.buffer.slice(0,v)}function c(g,y,v,x,w,A){const M=a.exports.sbrk,R=v+3&-4,P=M(R*x),L=M(w.length),F=new Uint8Array(a.exports.memory.buffer);F.set(w,L);const j=g(P,v,x,L,w.length);if(j===0&&A&&A(P,R,x),y.set(F.subarray(P,P+v*x)),M(P-M(0)),j!==0)throw new Error(`Malformed buffer data: ${j}`)}const f={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},p={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return JM={ready:s,supported:!0,decodeVertexBuffer(g,y,v,x,w){c(a.exports.meshopt_decodeVertexBuffer,g,y,v,x,a.exports[f[w]])},decodeIndexBuffer(g,y,v,x){c(a.exports.meshopt_decodeIndexBuffer,g,y,v,x)},decodeIndexSequence(g,y,v,x){c(a.exports.meshopt_decodeIndexSequence,g,y,v,x)},decodeGltfBuffer(g,y,v,x,w,A){c(a.exports[p[w]],g,y,v,x,a.exports[f[A]])}},JM};let QM=null,fz="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function dz(n=!0,e=!0,t){return i=>{t&&t(i),n&&(QM||(QM=new D0e),QM.setDecoderPath(typeof n=="string"?n:fz),i.setDRACOLoader(QM)),e&&i.setMeshoptDecoder(typeof aw=="function"?aw():aw)}}const jm=(n,e,t,i)=>hf(yI,n,dz(e,t,i));jm.preload=(n,e,t,i)=>hf.preload(yI,n,dz(e,t,i));jm.clear=n=>hf.clear(yI,n);jm.setDecoderPath=n=>{fz=n};const pz=Y.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:s,onStart:l,onEnd:c,...f},p)=>{const g=Lo(j=>j.invalidate),y=Lo(j=>j.camera),v=Lo(j=>j.gl),x=Lo(j=>j.events),w=Lo(j=>j.setEvents),A=Lo(j=>j.set),M=Lo(j=>j.get),R=Lo(j=>j.performance),P=e||y,L=i||x.connected||v.domElement,F=Y.useMemo(()=>new Yme(P),[P]);return a2(()=>{F.enabled&&F.update()},-1),Y.useEffect(()=>(a&&F.connect(a===!0?L:a),F.connect(L),()=>void F.dispose()),[a,L,t,F,g]),Y.useEffect(()=>{const j=B=>{g(),t&&R.regress(),s&&s(B)},U=B=>{l&&l(B)},N=B=>{c&&c(B)};return F.addEventListener("change",j),F.addEventListener("start",U),F.addEventListener("end",N),()=>{F.removeEventListener("start",U),F.removeEventListener("end",N),F.removeEventListener("change",j)}},[s,l,c,F,g,w]),Y.useEffect(()=>{if(n){const j=M().controls;return A({controls:F}),()=>A({controls:j})}},[n,F]),Y.createElement("primitive",Am({ref:p,object:F,enableDamping:r},f))});function O0e(n,e){const t=Y.useRef(null),[i]=Y.useState(()=>e?e instanceof fi?{current:e}:e:t),[r]=Y.useState(()=>new TF(void 0));Y.useLayoutEffect(()=>{e&&(i.current=e instanceof fi?e:e.current),r._root=i.current});const a=Y.useRef({}),s=Y.useMemo(()=>{const l={};return n.forEach(c=>Object.defineProperty(l,c.name,{enumerable:!0,get(){if(i.current)return a.current[c.name]||(a.current[c.name]=r.clipAction(c,i.current))},configurable:!0})),{ref:i,clips:n,actions:l,names:n.map(c=>c.name),mixer:r}},[n]);return a2((l,c)=>r.update(c)),Y.useEffect(()=>{const l=i.current;return()=>{a.current={},r.stopAllAction(),Object.values(s.actions).forEach(c=>{l&&r.uncacheAction(c,l)})}},[n]),s}const mz=(n,e,t)=>{let i;switch(n){case Xo:i=new Uint8ClampedArray(e*t*4);break;case Ya:i=new Uint16Array(e*t*4);break;case eh:i=new Uint32Array(e*t*4);break;case RE:i=new Int8Array(e*t*4);break;case IE:i=new Int16Array(e*t*4);break;case rb:i=new Int32Array(e*t*4);break;case Vr:i=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return i};let $M;const N0e=(n,e,t,i)=>{if($M!==void 0)return $M;const r=new tc(1,1,i);e.setRenderTarget(r);const a=new Ir(new Wd,new Vo({color:16777215}));e.render(a,t),e.setRenderTarget(null);const s=mz(n,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,s),r.dispose(),a.geometry.dispose(),a.material.dispose(),$M=s[0]!==0,$M};class _I{constructor(e){var t,i,r,a,s,l,c,f,p,g,y,v,x,w,A,M;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(P){throw this._renderer.setRenderTarget(null),P}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const R={format:ca,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter)!==void 0?(l=e.renderTargetOptions)===null||l===void 0?void 0:l.magFilter:Hi,minFilter:((c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.minFilter:Hi,samples:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.samples)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.samples:void 0,wrapS:((y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapS)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS:la,wrapT:((x=e.renderTargetOptions)===null||x===void 0?void 0:x.wrapT)!==void 0?(w=e.renderTargetOptions)===null||w===void 0?void 0:w.wrapT:la};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=_I.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new cb,this._camera=new $l,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!N0e(this._type,this._renderer,this._camera,R)){let P;switch(this._type){case Ya:P=this._renderer.extensions.has("EXT_color_buffer_float")?Vr:void 0;break}P!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Vr}`),this._type=P):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Ir(new Wd,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new tc(this.width,this.height,R),this._renderTarget.texture.mapping=((A=e.renderTargetOptions)===null||A===void 0?void 0:A.mapping)!==void 0?(M=e.renderTargetOptions)===null||M===void 0?void 0:M.mapping:Dd}static instantiateRenderer(){const e=new lI;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=mz(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Hc(this.toArray(),this.width,this.height,ca,this._type,(e==null?void 0:e.mapping)||Dd,(e==null?void 0:e.wrapS)||la,(e==null?void 0:e.wrapT)||la,(e==null?void 0:e.magFilter)||Hi,(e==null?void 0:e.minFilter)||Hi,(e==null?void 0:e.anisotropy)||1,Xc);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof qo&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof Wi&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof Wi&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const L0e=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,U0e=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class F0e extends qo{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:r,gainMapMax:a,maxDisplayBoost:s,hdrCapacityMin:l,hdrCapacityMax:c,sdr:f,gainMap:p}){super({name:"GainMapDecoderMaterial",vertexShader:L0e,fragmentShader:U0e,uniforms:{sdr:{value:f},gainMap:{value:p},gamma:{value:new oe(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new oe().fromArray(t)},offsetSdr:{value:new oe().fromArray(i)},gainMapMin:{value:new oe().fromArray(r)},gainMapMax:{value:new oe().fromArray(a)},weightFactor:{value:(Math.log2(s)-l)/(c-l)}},blending:Gu,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=l,this._hdrCapacityMax=c,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class gz extends Error{}class yz extends Error{}const sv=(n,e,t)=>{const i=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(i)return i[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(r){const a=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(s=>s.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},z0e=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const i=e.indexOf("x:xmpmeta>",t),r=e.slice(t,i+10);try{const a=sv(r,"hdrgm:GainMapMin","0"),s=sv(r,"hdrgm:GainMapMax"),l=sv(r,"hdrgm:Gamma","1"),c=sv(r,"hdrgm:OffsetSDR","0.015625"),f=sv(r,"hdrgm:OffsetHDR","0.015625"),p=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),g=p?p[1]:"0",y=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!y)throw new Error("Incomplete gainmap metadata");const v=y[1];return{gainMapMin:Array.isArray(a)?a.map(x=>parseFloat(x)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(s)?s.map(x=>parseFloat(x)):[parseFloat(s),parseFloat(s),parseFloat(s)],gamma:Array.isArray(l)?l.map(x=>parseFloat(x)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetSdr:Array.isArray(c)?c.map(x=>parseFloat(x)):[parseFloat(c),parseFloat(c),parseFloat(c)],offsetHdr:Array.isArray(f)?f.map(x=>parseFloat(x)):[parseFloat(f),parseFloat(f),parseFloat(f)],hdrCapacityMin:parseFloat(g),hdrCapacityMax:parseFloat(v)}}catch{}t=e.indexOf("<x:xmpmeta",i)}};class V0e{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,i)=>{const r=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const s=a.byteLength;let l=2,c=0,f;for(;l<s;){if(++c>250){i(new Error(`Found no marker after ${c} loops 😵`));return}if(a.getUint8(l)!==255){i(new Error(`Not a valid marker at offset 0x${l.toString(16)}, found: 0x${a.getUint8(l).toString(16)}`));return}if(f=a.getUint8(l+1),r&&console.log(`Marker: ${f.toString(16)}`),f===226){r&&console.log("Found APP2 marker (0xffe2)");const p=l+4;if(a.getUint32(p)===1297106432){const g=p+4;let y;if(a.getUint16(g)===18761)y=!1;else if(a.getUint16(g)===19789)y=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(g+2,!y)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const v=a.getUint32(g+4,!y);if(v<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const x=g+v,w=a.getUint16(x,!y),A=x+2;let M=0;for(let F=A;F<A+12*w;F+=12)a.getUint16(F,!y)===45057&&(M=a.getUint32(F+8,!y));const P=x+2+w*12+4,L=[];for(let F=P;F<P+M*16;F+=16){const j={MPType:a.getUint32(F,!y),size:a.getUint32(F+4,!y),dataOffset:a.getUint32(F+8,!y),dependantImages:a.getUint32(F+12,!y),start:-1,end:-1,isFII:!1};j.dataOffset?(j.start=g+j.dataOffset,j.isFII=!1):(j.start=0,j.isFII=!0),j.end=j.start+j.size,L.push(j)}if(this.options.extractNonFII&&L.length){const F=new Blob([a]),j=[];for(const U of L){if(U.isFII&&!this.options.extractFII)continue;const N=F.slice(U.start,U.end+1,"image/jpeg");j.push(N)}t(j)}}}l+=2+a.getUint16(l+2)}})}}const j0e=async n=>{const e=z0e(n);if(!e)throw new yz("Gain map XMP metadata not found");const i=await new V0e({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new gz("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},L6=n=>new Promise((e,t)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{t(r)},i.src=URL.createObjectURL(n)});class _z extends vs{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new n2}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new F0e({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Wi,sdr:new Wi});return new _I({width:16,height:16,type:Ya,colorSpace:Xc,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,r){const a=r?new Blob([r],{type:"image/jpeg"}):void 0,s=new Blob([i],{type:"image/jpeg"});let l,c,f=!1;if(typeof createImageBitmap>"u"){const y=await Promise.all([a?L6(a):Promise.resolve(void 0),L6(s)]);c=y[0],l=y[1],f=!0}else{const y=await Promise.all([a?createImageBitmap(a,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:"flipY"})]);c=y[0],l=y[1]}const p=new Wi(c||new ImageData(2,2),Dd,la,la,Hi,u4,ca,Xo,1,Xc);p.flipY=f,p.needsUpdate=!0;const g=new Wi(l,Dd,la,la,Hi,u4,ca,Xo,1,ds);g.flipY=f,g.needsUpdate=!0,e.width=l.width,e.height=l.height,e.material.gainMap=p,e.material.sdr=g,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class k0e extends _z{load([e,t,i],r,a,s){const l=this.prepareQuadRenderer();let c,f,p;const g=async()=>{if(c&&f&&p){try{await this.render(l,p,c,f)}catch(B){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),typeof s=="function"&&s(B),l.disposeOnDemandRenderer();return}typeof r=="function"&&r(l),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),l.disposeOnDemandRenderer()}};let y=!0,v=0,x=0,w=!0,A=0,M=0,R=!0,P=0,L=0;const F=()=>{if(typeof a=="function"){const B=v+A+P,O=x+M+L,H=y&&w&&R;a(new ProgressEvent("progress",{lengthComputable:H,loaded:O,total:B}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);const j=new ys(this._internalLoadingManager);j.setResponseType("arraybuffer"),j.setRequestHeader(this.requestHeader),j.setPath(this.path),j.setWithCredentials(this.withCredentials),j.load(e,async B=>{if(typeof B=="string")throw new Error("Invalid sdr buffer");c=B,await g()},B=>{y=B.lengthComputable,x=B.loaded,v=B.total,F()},B=>{this.manager.itemError(e),typeof s=="function"&&s(B)});const U=new ys(this._internalLoadingManager);U.setResponseType("arraybuffer"),U.setRequestHeader(this.requestHeader),U.setPath(this.path),U.setWithCredentials(this.withCredentials),U.load(t,async B=>{if(typeof B=="string")throw new Error("Invalid gainmap buffer");f=B,await g()},B=>{w=B.lengthComputable,M=B.loaded,A=B.total,F()},B=>{this.manager.itemError(t),typeof s=="function"&&s(B)});const N=new ys(this._internalLoadingManager);return N.setRequestHeader(this.requestHeader),N.setPath(this.path),N.setWithCredentials(this.withCredentials),N.load(i,async B=>{if(typeof B!="string")throw new Error("Invalid metadata string");p=JSON.parse(B),await g()},B=>{R=B.lengthComputable,L=B.loaded,P=B.total,F()},B=>{this.manager.itemError(i),typeof s=="function"&&s(B)}),l}}class H0e extends _z{load(e,t,i,r){const a=this.prepareQuadRenderer(),s=new ys(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async l=>{if(typeof l=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const c=new Uint8Array(l);let f,p,g;try{const y=await j0e(c);f=y.sdr,p=y.gainMap,g=y.metadata}catch(y){if(y instanceof yz||y instanceof gz)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),g={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},f=c;else throw y}try{await this.render(a,g,f,p)}catch(y){this.manager.itemError(e),typeof r=="function"&&r(y),a.disposeOnDemandRenderer();return}typeof t=="function"&&t(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},i,l=>{this.manager.itemError(e),typeof r=="function"&&r(l)}),a}}const I1={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},vz="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Fg=n=>Array.isArray(n),vI=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function o2({files:n=vI,path:e="",preset:t=void 0,colorSpace:i=void 0,extensions:r}={}){t&&(bI(t),n=I1[t],e=vz);const a=Fg(n),{extension:s,isCubemap:l}=xI(n),c=MI(s);if(!c)throw new Error("useEnvironment: Unrecognized file extension: "+n);const f=Lo(v=>v.gl);Y.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function v(){hf.clear(c,a?[n]:n)}f.domElement.addEventListener("webglcontextlost",v,{once:!0})},[n,f.domElement]);const p=hf(c,a?[n]:n,v=>{(s==="webp"||s==="jpg"||s==="jpeg")&&v.setRenderer(f),v.setPath==null||v.setPath(e),r&&r(v)});let g=a?p[0]:p;if(s==="jpg"||s==="jpeg"||s==="webp"){var y;g=(y=g.renderTarget)==null?void 0:y.texture}return g.mapping=l?Zu:$g,g.colorSpace=i??(l?"srgb":"srgb-linear"),g}const G0e={files:vI,path:"",preset:void 0,extensions:void 0};o2.preload=n=>{const e={...G0e,...n};let{files:t,path:i=""}=e;const{preset:r,extensions:a}=e;r&&(bI(r),t=I1[r],i=vz);const{extension:s}=xI(t);if(s==="webp"||s==="jpg"||s==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const l=MI(s);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);hf.preload(l,Fg(t)?[t]:t,c=>{c.setPath==null||c.setPath(i),a&&a(c)})};const X0e={files:vI,preset:void 0};o2.clear=n=>{const e={...X0e,...n};let{files:t}=e;const{preset:i}=e;i&&(bI(i),t=I1[i]);const{extension:r}=xI(t),a=MI(r);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);hf.clear(a,Fg(t)?[t]:t)};function bI(n){if(!(n in I1))throw new Error("Preset must be one of: "+Object.keys(I1).join(", "))}function xI(n){var e;const t=Fg(n)&&n.length===6,i=Fg(n)&&n.length===3&&n.some(s=>s.endsWith("json")),r=Fg(n)?n[0]:n;return{extension:t?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:i}}function MI(n){return n==="cube"?fF:n==="hdr"?I0e:n==="exr"?P0e:n==="jpg"||n==="jpeg"?H0e:n==="webp"?k0e:null}const q0e=n=>n.current&&n.current.isScene,W0e=n=>q0e(n)?n.current:n;function SI(n,e,t,i,r={}){var a,s,l,c;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const f=W0e(e||t),p=f.background,g=f.environment,y={backgroundBlurriness:f.backgroundBlurriness,backgroundIntensity:f.backgroundIntensity,backgroundRotation:(a=(s=f.backgroundRotation)==null||s.clone==null?void 0:s.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:f.environmentIntensity,environmentRotation:(l=(c=f.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&l!==void 0?l:[0,0,0]};return n!=="only"&&(f.environment=i),n&&(f.background=i),Nu(f,r),()=>{n!=="only"&&(f.environment=g),n&&(f.background=p),Nu(f,y)}}function AI({scene:n,background:e=!1,map:t,...i}){const r=Lo(a=>a.scene);return Y.useLayoutEffect(()=>{if(t)return SI(e,n,r,t,i)}),null}function bz({background:n=!1,scene:e,blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:s,environmentRotation:l,...c}){const f=o2(c),p=Lo(g=>g.scene);return Y.useLayoutEffect(()=>SI(n,e,p,f,{backgroundBlurriness:t??i,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:s,environmentRotation:l})),Y.useEffect(()=>()=>{f.dispose()},[f]),null}function Y0e({children:n,near:e=.1,far:t=1e3,resolution:i=256,frames:r=1,map:a,background:s=!1,blur:l,backgroundBlurriness:c,backgroundIntensity:f,backgroundRotation:p,environmentIntensity:g,environmentRotation:y,scene:v,files:x,path:w,preset:A=void 0,extensions:M}){const R=Lo(N=>N.gl),P=Lo(N=>N.scene),L=Y.useRef(null),[F]=Y.useState(()=>new cb),j=Y.useMemo(()=>{const N=new PR(i);return N.texture.type=Ya,N},[i]);Y.useEffect(()=>()=>{j.dispose()},[j]),Y.useLayoutEffect(()=>{if(r===1){const N=R.autoClear;R.autoClear=!0,L.current.update(R,F),R.autoClear=N}return SI(s,v,P,j.texture,{backgroundBlurriness:l??c,backgroundIntensity:f,backgroundRotation:p,environmentIntensity:g,environmentRotation:y})},[n,F,j.texture,v,P,s,r,R]);let U=1;return a2(()=>{if(r===1/0||U<r){const N=R.autoClear;R.autoClear=!0,L.current.update(R,F),R.autoClear=N,U++}}),Y.createElement(Y.Fragment,null,eme(Y.createElement(Y.Fragment,null,n,Y.createElement("cubeCamera",{ref:L,args:[e,t,j]}),x||A?Y.createElement(bz,{background:!0,files:x,preset:A,path:w,extensions:M}):a?Y.createElement(AI,{background:!0,map:a,extensions:M}):null),F))}function K0e(n){var e,t,i,r;const a=o2(n),s=n.map||a;Y.useMemo(()=>KF({GroundProjectedEnvImpl:Vme}),[]),Y.useEffect(()=>()=>{a.dispose()},[a]);const l=Y.useMemo(()=>[s],[s]),c=(e=n.ground)==null?void 0:e.height,f=(t=n.ground)==null?void 0:t.radius,p=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return Y.createElement(Y.Fragment,null,Y.createElement(AI,Am({},n,{map:s})),Y.createElement("groundProjectedEnvImpl",{args:l,scale:p,height:c,radius:f}))}function J0e(n){return n.ground?Y.createElement(K0e,n):n.map?Y.createElement(AI,n):n.children?Y.createElement(Y0e,n):Y.createElement(bz,n)}function Q0e(n){const{nodes:e,materials:t}=jm("/three-portfolio/System.gltf");return C.jsx("group",{...n,dispose:null,children:C.jsxs("group",{children:[C.jsx("mesh",{geometry:e["Object_782_OnTheFly-bg_0"].geometry,material:t["Material.074_40"],position:[101.601,40.622,244.007],rotation:[-Math.PI/2,.078,Math.PI/2],scale:21.893}),C.jsx("mesh",{geometry:e.Object_788_Material057_0.geometry,material:t["Material.074_33"],position:[159.018,47.32,359.936],rotation:[-Math.PI/2,0,-Math.PI],scale:19.608}),C.jsx("mesh",{geometry:e.Object_798_Material057_0.geometry,material:t["Material.074_33"],position:[122.701,53.533,358.456],rotation:[-Math.PI/2,.163,-Math.PI],scale:19.608}),C.jsx("mesh",{geometry:e.Object_800_Material005_0.geometry,material:t["Material.074_32"],position:[190.986,44.577,567.479],rotation:[-Math.PI/2,-.089,-Math.PI],scale:8.872}),C.jsx("mesh",{geometry:e.Object_802_Material005_0.geometry,material:t["Material.074_32"],position:[190.868,44.628,565.255],rotation:[-Math.PI/2,-.089,-Math.PI],scale:8.872}),C.jsx("mesh",{geometry:e.Object_804_Material005_0.geometry,material:t["Material.074_32"],position:[192.49,44.42,565.412],rotation:[-Math.PI/2,-.089,-Math.PI],scale:8.872}),C.jsx("mesh",{geometry:e.Object_806_Material005_0.geometry,material:t["Material.074_32"],position:[192.403,44.401,567.472],rotation:[-Math.PI/2,-.089,-Math.PI],scale:8.872}),C.jsx("mesh",{geometry:e.Object_808_Material005_0.geometry,material:t["Material.074_32"],position:[140.844,50.582,568.87],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_810_Material005_0.geometry,material:t["Material.074_32"],position:[141.038,50.582,552.01],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.713}),C.jsx("mesh",{geometry:e.Object_812_Material068_0.geometry,material:t["Material.074_37"],position:[141.038,50.582,532.026],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.713}),C.jsx("mesh",{geometry:e.Object_814_Material068_0.geometry,material:t["Material.074_37"],position:[141.038,50.582,514.784],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.713}),C.jsx("mesh",{geometry:e.Object_816_Material068_0.geometry,material:t["Material.074_37"],position:[141.038,50.582,498.138],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.713}),C.jsx("mesh",{geometry:e.Object_818_Material066_0.geometry,material:t["Material.074_35"],position:[141.038,50.582,480.752],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.713}),C.jsx("mesh",{geometry:e.Object_820_Material066_0.geometry,material:t["Material.074_35"],position:[141.038,50.582,463.616],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.713}),C.jsx("mesh",{geometry:e.Object_822_Material066_0.geometry,material:t["Material.074_35"],position:[141.038,50.582,443.746],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.713}),C.jsx("mesh",{geometry:e.Object_824_Material066_0.geometry,material:t["Material.074_35"],position:[141.649,50.885,427.978],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.158}),C.jsx("mesh",{geometry:e.Object_826_Material060_0.geometry,material:t["Material.074_34"],position:[142.095,50.955,409.216],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.158}),C.jsx("mesh",{geometry:e.Object_828_Material005_0.geometry,material:t["Material.074_32"],position:[158.03,48.549,561.971],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_830_Material069_0.geometry,material:t["Material.074_38"],position:[158.03,48.437,543.875],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_832_Material068_0.geometry,material:t["Material.074_37"],position:[158.03,48.437,528.227],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_834_Material068_0.geometry,material:t["Material.074_37"],position:[158.03,48.437,509.564],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_836_Material068_0.geometry,material:t["Material.074_37"],position:[158.03,48.353,494.305],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_838_Material070_0.geometry,material:t["Material.074_39"],position:[156.657,48.636,594.003],rotation:[-1.588,0,Math.PI/2],scale:2.692}),C.jsx("mesh",{geometry:e.Object_840_Material070_0.geometry,material:t["Material.074_39"],position:[192.644,45.65,594.799],rotation:[-Math.PI/2,-.12,Math.PI/2],scale:3.123}),C.jsx("mesh",{geometry:e.Object_842_Material066_0.geometry,material:t["Material.074_35"],position:[158.03,48.437,475.976],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_844_Material066_0.geometry,material:t["Material.074_35"],position:[157.211,48.437,455.625],rotation:[-Math.PI/2,0,Math.PI/2],scale:[6.414,5.272,6.414]}),C.jsx("mesh",{geometry:e.Object_846_Material066_0.geometry,material:t["Material.074_35"],position:[158.03,48.437,441.26],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_848_Material060_0.geometry,material:t["Material.074_34"],position:[159.027,48.639,422.071],rotation:[-Math.PI/2,0,Math.PI/2],scale:6.915}),C.jsx("mesh",{geometry:e.Object_850_Material070_0.geometry,material:t["Material.074_39"],position:[122.029,53.887,594.924],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.981}),C.jsx("mesh",{geometry:e.Object_852_Material066_0.geometry,material:t["Material.074_35"],position:[175.487,47.269,483.907],rotation:[-Math.PI/2,-.099,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_854_Material068_0.geometry,material:t["Material.074_37"],position:[175.487,47.269,501.888],rotation:[-Math.PI/2,-.099,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_856_Material068_0.geometry,material:t["Material.074_37"],position:[175.487,47.269,519.095],rotation:[-Math.PI/2,-.099,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_858_Material069_0.geometry,material:t["Material.074_38"],position:[175.487,47.269,537.014],rotation:[-Math.PI/2,-.099,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_860_Material005_0.geometry,material:t["Material.074_32"],position:[175.487,47.166,554.659],rotation:[-Math.PI/2,-.099,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_862_Material066_0.geometry,material:t["Material.074_35"],position:[175.487,47.269,467.983],rotation:[-Math.PI/2,-.099,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_864_Material066_0.geometry,material:t["Material.074_35"],position:[175.487,47.269,450.283],rotation:[-Math.PI/2,-.099,Math.PI/2],scale:6.414}),C.jsx("mesh",{geometry:e.Object_866_Material070_0.geometry,material:t["Material.074_39"],position:[122.444,53.931,578.061],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_868_Material005_0.geometry,material:t["Material.074_32"],position:[122.058,53.851,561.226],rotation:[-Math.PI/2,.164,Math.PI/2],scale:3.17}),C.jsx("mesh",{geometry:e.Object_870_Material005_0.geometry,material:t["Material.074_32"],position:[127.008,53.029,560.64],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_872_Material057_0.geometry,material:t["Material.074_33"],position:[192.644,45.65,359.946],rotation:[-Math.PI/2,-.12,Math.PI/2],scale:3.123}),C.jsx("mesh",{geometry:e.Object_874_Material057_0.geometry,material:t["Material.074_33"],position:[156.285,46.937,363.379],rotation:[-Math.PI/2,0,Math.PI/2],scale:4.006}),C.jsx("mesh",{geometry:e.Object_876_Material069_0.geometry,material:t["Material.074_38"],position:[122.484,53.905,543.373],rotation:[-Math.PI/2,.164,Math.PI/2],scale:3.822}),C.jsx("mesh",{geometry:e.Object_878_Material069_0.geometry,material:t["Material.074_38"],position:[127.434,53.083,543.258],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_880_Material068_0.geometry,material:t["Material.074_37"],position:[122.484,53.745,525.768],rotation:[-Math.PI/2,.164,Math.PI/2],scale:3.822}),C.jsx("mesh",{geometry:e.Object_882_Material068_0.geometry,material:t["Material.074_37"],position:[127.434,52.923,525.651],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_884_Material070_0.geometry,material:t["Material.074_39"],position:[101.739,56.424,595.272],rotation:[-Math.PI/2,.141,Math.PI/2],scale:4.184}),C.jsx("mesh",{geometry:e.Object_886_Material068_0.geometry,material:t["Material.074_37"],position:[122.484,53.852,509.285],rotation:[-Math.PI/2,.164,Math.PI/2],scale:3.822}),C.jsx("mesh",{geometry:e.Object_888_Material068_0.geometry,material:t["Material.074_37"],position:[127.434,53.031,508.772],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_890_Material066_0.geometry,material:t["Material.074_35"],position:[101.367,56.132,484.341],rotation:[-Math.PI/2,.151,Math.PI/2],scale:4.532}),C.jsx("mesh",{geometry:e.Object_892_Material068_0.geometry,material:t["Material.074_37"],position:[101.205,56.942,513.09],rotation:[-Math.PI/2,.105,Math.PI/2],scale:4.451}),C.jsx("mesh",{geometry:e.Object_894_Material069_0.geometry,material:t["Material.074_38"],position:[101.205,56.942,530.455],rotation:[-Math.PI/2,.105,Math.PI/2],scale:4.451}),C.jsx("mesh",{geometry:e.Object_896_Material005_0.geometry,material:t["Material.074_32"],position:[101.205,56.942,548.203],rotation:[-Math.PI/2,.105,Math.PI/2],scale:4.451}),C.jsx("mesh",{geometry:e.Object_898_Material005_0.geometry,material:t["Material.074_32"],position:[101.205,56.942,565.178],rotation:[-Math.PI/2,.105,Math.PI/2],scale:4.451}),C.jsx("mesh",{geometry:e.Object_900_Material066_0.geometry,material:t["Material.074_35"],position:[101.367,56.154,466.894],rotation:[-Math.PI/2,.151,Math.PI/2],scale:4.532}),C.jsx("mesh",{geometry:e.Object_902_Material066_0.geometry,material:t["Material.074_35"],position:[101.367,56.154,449.367],rotation:[-Math.PI/2,.151,Math.PI/2],scale:4.532}),C.jsx("mesh",{geometry:e.Object_904_Material066_0.geometry,material:t["Material.074_35"],position:[101.367,56.154,431.949],rotation:[-Math.PI/2,.151,Math.PI/2],scale:4.532}),C.jsx("mesh",{geometry:e.Object_906_Material060_0.geometry,material:t["Material.074_34"],position:[101.473,56.121,402.973],rotation:[-Math.PI/2,.161,Math.PI/2],scale:4.501}),C.jsx("mesh",{geometry:e.Object_908_Material057_0.geometry,material:t["Material.074_33"],position:[101.352,56.184,386.481],rotation:[-Math.PI/2,.196,Math.PI/2],scale:4.189}),C.jsx("mesh",{geometry:e.Object_910_Material057_0.geometry,material:t["Material.074_33"],position:[101.352,56.184,368.472],rotation:[-Math.PI/2,.196,Math.PI/2],scale:4.189}),C.jsx("mesh",{geometry:e.Object_912_Material057_0.geometry,material:t["Material.074_33"],position:[101.352,56.184,351.349],rotation:[-Math.PI/2,.196,Math.PI/2],scale:4.189}),C.jsx("mesh",{geometry:e.Object_914_Material068_0.geometry,material:t["Material.074_37"],position:[122.484,53.852,491.651],rotation:[-Math.PI/2,.164,Math.PI/2],scale:3.822}),C.jsx("mesh",{geometry:e.Object_916_Material068_0.geometry,material:t["Material.074_37"],position:[127.434,53.03,491.824],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_918_Material066_0.geometry,material:t["Material.074_35"],position:[122.484,53.821,473.664],rotation:[-Math.PI/2,.164,Math.PI/2],scale:3.822}),C.jsx("mesh",{geometry:e.Object_920_Material066_0.geometry,material:t["Material.074_35"],position:[127.434,52.999,473.405],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_922_Material066_0.geometry,material:t["Material.074_35"],position:[122.484,53.851,456.473],rotation:[-Math.PI/2,.164,Math.PI/2],scale:3.822}),C.jsx("mesh",{geometry:e.Object_924_Material066_0.geometry,material:t["Material.074_35"],position:[127.434,53.03,456.746],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_926_Material066_0.geometry,material:t["Material.074_35"],position:[121.673,54.096,439.122],rotation:[-Math.PI/2,.164,Math.PI/2],scale:[3.822,3.142,3.822]}),C.jsx("mesh",{geometry:e.Object_928_Material060_0.geometry,material:t["Material.074_34"],position:[120.313,54.212,419.687],rotation:[-Math.PI/2,.164,-Math.PI/2],scale:[3.822,3.142,3.822]}),C.jsx("mesh",{geometry:e.Object_930_Material066_0.geometry,material:t["Material.074_35"],position:[127.434,53.034,439.361],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_932_Material060_0.geometry,material:t["Material.074_34"],position:[127.434,53.03,421.591],rotation:[-Math.PI/2,.164,Math.PI/2],scale:4.326}),C.jsx("mesh",{geometry:e.Object_934_Tasten_2_0.geometry,material:t.Tasten_2,position:[186.135,46.575,219.396],rotation:[-Math.PI/2,0,Math.PI/2],scale:4.006}),C.jsx("mesh",{geometry:e.Object_936_Material070_0.geometry,material:t["Material.074_39"],position:[173.52,46.999,585.524],rotation:[-1.64,0,-.001],scale:[6.197,8.42,6.209]}),C.jsx("mesh",{geometry:e.Object_938_Material060_0.geometry,material:t["Material.074_34"],position:[175.034,47.036,400.009],rotation:[-1.571,-.079,1.57],scale:[6.672,4.931,2.742]}),C.jsx("mesh",{geometry:e.Object_940_Material060_0.geometry,material:t["Material.074_34"],position:[175.034,47.036,434.853],rotation:[-1.571,-.079,1.57],scale:[4.24,4.931,2.742]}),C.jsx("mesh",{geometry:e.Object_942_Material070_0.geometry,material:t["Material.074_39"],position:[176.052,46.788,584.43],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:[1.861,6.968,6.968]}),C.jsx("mesh",{geometry:e.Object_944_Material060_0.geometry,material:t["Material.074_34"],position:[175.034,47.036,417.325],rotation:[-1.571,-.079,1.57],scale:[4.24,4.931,2.742]}),C.jsx("mesh",{geometry:e.Object_946_Tasten_2_0.geometry,material:t.Tasten_2,position:[126.21,53.665,253.133],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.449}),C.jsx("mesh",{geometry:e.Object_948_Material067_0.geometry,material:t["Material.074_36"],position:[122.219,53.893,271.172],rotation:[-Math.PI/2,.214,Math.PI/2],scale:2.7}),C.jsx("mesh",{geometry:e.Object_950_Material067_0.geometry,material:t["Material.074_36"],position:[192.324,45.452,259.967],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:4.419}),C.jsx("mesh",{geometry:e.Object_952_Material067_0.geometry,material:t["Material.074_36"],position:[197.023,45.614,260.99],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:3.792}),C.jsx("mesh",{geometry:e.Object_954_Material072_0.geometry,material:t["Material.025"],position:[184.777,33.32,601.234],rotation:[-Math.PI/2,.09,-Math.PI],scale:[5.012,3.876,5.012]}),C.jsx("mesh",{geometry:e.Object_956_Material072_0.geometry,material:t["Material.025"],position:[164.62,35.132,204.967],rotation:[-Math.PI/2,.089,0],scale:3.129}),C.jsx("mesh",{geometry:e.Object_958_Material066_0.geometry,material:t["Material.074_35"],position:[189.418,46.757,488.892],rotation:[-Math.PI/2,-.07,Math.PI/2],scale:[4.951,15.565,11.588]}),C.jsx("mesh",{geometry:e.Object_960_Material067_0.geometry,material:t["Material.074_36"],position:[140.393,50.323,267.745],rotation:[-Math.PI/2,.077,Math.PI/2],scale:4.079}),C.jsx("mesh",{geometry:e.Object_962_Material067_0.geometry,material:t["Material.074_36"],position:[145.186,50.323,270.034],rotation:[-Math.PI/2,.077,Math.PI/2],scale:2.491}),C.jsx("mesh",{geometry:e.Object_964_Tasten_2_0.geometry,material:t.Tasten_2,position:[145.186,50.323,234.871],rotation:[-Math.PI/2,.077,Math.PI/2],scale:2.491}),C.jsx("mesh",{geometry:e.Object_966_Material060_0.geometry,material:t["Material.074_34"],position:[157.086,48.546,408.618],rotation:[-1.571,-.079,1.57],scale:[6.672,4.931,2.742]}),C.jsx("mesh",{geometry:e.Object_968_Material060_0.geometry,material:t["Material.074_34"],position:[158.955,48.546,391.27],rotation:[-1.571,-.043,1.57],scale:[6.672,4.931,2.742]}),C.jsx("mesh",{geometry:e.Object_970_Tasten_2_0.geometry,material:t.Tasten_2,position:[140.393,50.369,250.493],rotation:[-Math.PI/2,.077,Math.PI/2],scale:4.079}),C.jsx("mesh",{geometry:e.Object_972_Material057_0.geometry,material:t["Material.074_33"],position:[158.805,47.353,358.081],rotation:[-Math.PI/2,0,Math.PI/2],scale:[3.749,1.659,5.449]}),C.jsx("mesh",{geometry:e.Object_974_Material057_0.geometry,material:t["Material.074_33"],position:[158.529,47.353,360.205],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.449}),C.jsx("mesh",{geometry:e.Object_976_Material070_0.geometry,material:t["Material.074_39"],position:[138.806,50.51,591.899],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.568}),C.jsx("mesh",{geometry:e.Object_978_Tasten_2_0.geometry,material:t.Tasten_2,position:[140.393,50.369,233.01],rotation:[-Math.PI/2,.077,Math.PI/2],scale:4.079}),C.jsx("mesh",{geometry:e.Object_980_Tasten_2_0.geometry,material:t.Tasten_2,position:[143.95,50.122,251.216],rotation:[-1.494,0,0],scale:[2.491,4.577,2.508]}),C.jsx("mesh",{geometry:e.Object_982_Material057_0.geometry,material:t["Material.074_33"],position:[100.211,56.325,328.505],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.522}),C.jsx("mesh",{geometry:e.Object_984_Material057_0.geometry,material:t["Material.074_33"],position:[100.211,56.325,310.762],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.522}),C.jsx("mesh",{geometry:e.Object_986_Material057_0.geometry,material:t["Material.074_33"],position:[100.211,56.325,293.444],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.522}),C.jsx("mesh",{geometry:e.Object_988_Material067_0.geometry,material:t["Material.074_36"],position:[158.196,48.546,268.318],rotation:[-1.571,-.043,1.57],scale:[5.119,4.444,2.472]}),C.jsx("mesh",{geometry:e.Object_990_Material067_0.geometry,material:t["Material.074_36"],position:[162.312,48.546,268.012],rotation:[-1.571,-.043,1.57],scale:[3.213,4.444,2.472]}),C.jsx("mesh",{geometry:e.Object_992_Tasten_2_0.geometry,material:t.Tasten_2,position:[158.196,48.546,250.902],rotation:[-1.571,-.043,1.57],scale:[5.119,4.444,2.472]}),C.jsx("mesh",{geometry:e.Object_994_Tasten_2_0.geometry,material:t.Tasten_2,position:[158.196,48.546,233.224],rotation:[-1.571,-.043,1.57],scale:[5.119,4.444,2.472]}),C.jsx("mesh",{geometry:e.Object_996_Tasten_2_0.geometry,material:t.Tasten_2,position:[162.312,48.546,232.693],rotation:[-1.571,-.043,1.57],scale:[3.213,4.444,2.472]}),C.jsx("mesh",{geometry:e.Object_998_Tasten_2_0.geometry,material:t.Tasten_2,position:[191.769,45.452,235.883],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:3.252}),C.jsx("mesh",{geometry:e.Object_1000_Material070_0.geometry,material:t["Material.074_39"],position:[139.974,50.54,592.705],rotation:[-Math.PI/2,0,Math.PI/2],scale:2.459}),C.jsx("mesh",{geometry:e.Object_1002_Material070_0.geometry,material:t["Material.074_39"],position:[141.683,50.51,585.651],rotation:[-Math.PI/2,0,-Math.PI/2],scale:5.568}),C.jsx("mesh",{geometry:e.Object_1004_Material070_0.geometry,material:t["Material.074_39"],position:[140.515,50.54,584.845],rotation:[-Math.PI/2,0,-Math.PI/2],scale:2.459}),C.jsx("mesh",{geometry:e.Object_1006_Material057_0.geometry,material:t["Material.074_33"],position:[192.324,45.452,402.259],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:2.698}),C.jsx("mesh",{geometry:e.Object_1008_Material057_0.geometry,material:t["Material.074_33"],position:[192.324,45.452,377.975],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:2.698}),C.jsx("mesh",{geometry:e.Object_1010_Material060_0.geometry,material:t["Material.074_34"],position:[192.115,45.452,422.374],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:2.698}),C.jsx("mesh",{geometry:e.Object_1012_Material070_0.geometry,material:t["Material.074_39"],position:[176.052,46.788,581.642],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:[1.861,6.968,6.968]}),C.jsx("mesh",{geometry:e.Object_1014_Material070_0.geometry,material:t["Material.074_39"],position:[178.056,46.788,584.43],rotation:[-1.502,0,-Math.PI],scale:[2.693,9.468,6.982]}),C.jsx("mesh",{geometry:e.Object_1016_Material070_0.geometry,material:t["Material.074_39"],position:[178.056,46.788,582.626],rotation:[-1.502,0,-Math.PI],scale:[2.693,9.468,6.982]}),C.jsx("mesh",{geometry:e.Object_1018_Material070_0.geometry,material:t["Material.074_39"],position:[177.223,46.788,583.339],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:[3.572,6.968,6.968]}),C.jsx("mesh",{geometry:e.Object_1020_Material057_0.geometry,material:t["Material.074_33"],position:[173.52,47.036,367.415],rotation:[-1.564,0,-.001],scale:[6.197,11.143,6.197]}),C.jsx("mesh",{geometry:e.Object_1022_Material057_0.geometry,material:t["Material.074_33"],position:[176.257,47.093,365.528],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:[2.188,6.197,6.197]}),C.jsx("mesh",{geometry:e.Object_1024_Material057_0.geometry,material:t["Material.074_33"],position:[176.257,47.093,362.251],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:[2.188,6.197,6.197]}),C.jsx("mesh",{geometry:e.Object_1026_Material057_0.geometry,material:t["Material.074_33"],position:[178.04,47.093,365.528],rotation:[-1.502,0,-Math.PI],scale:[2.395,11.125,6.229]}),C.jsx("mesh",{geometry:e.Object_1028_Material057_0.geometry,material:t["Material.074_33"],position:[178.04,47.093,363.407],rotation:[-1.502,0,-Math.PI],scale:[2.395,11.125,6.229]}),C.jsx("mesh",{geometry:e.Object_1030_Material057_0.geometry,material:t["Material.074_33"],position:[177.299,47.093,364.245],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:[4.2,6.197,6.197]}),C.jsx("mesh",{geometry:e.Object_1032_Material057_0.geometry,material:t["Material.074_33"],position:[122.224,53.645,358.725],rotation:[-Math.PI/2,.163,Math.PI/2],scale:5.449}),C.jsx("mesh",{geometry:e.Object_1034_Material057_0.geometry,material:t["Material.074_33"],position:[122.224,53.782,328.505],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.522}),C.jsx("mesh",{geometry:e.Object_1036_Material057_0.geometry,material:t["Material.074_33"],position:[122.224,53.782,311.134],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.522}),C.jsx("mesh",{geometry:e.Object_1038_Material057_0.geometry,material:t["Material.074_33"],position:[122.224,53.782,292.768],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.522}),C.jsx("mesh",{geometry:e.Object_1040_Tasten_2_0.geometry,material:t.Tasten_2,position:[152.112,49.615,217.775],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.449}),C.jsx("mesh",{geometry:e.Object_1042_Tasten_2_0.geometry,material:t.Tasten_2,position:[123.41,53.509,217.775],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.449}),C.jsx("mesh",{geometry:e.Object_1044_Material057_0.geometry,material:t["Material.074_33"],position:[140.393,50.558,328.601],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.522}),C.jsx("mesh",{geometry:e.Object_1046_Material057_0.geometry,material:t["Material.074_33"],position:[140.393,50.558,310.089],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.522}),C.jsx("mesh",{geometry:e.Object_1048_Material057_0.geometry,material:t["Material.074_33"],position:[140.393,50.558,293.029],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.522}),C.jsx("mesh",{geometry:e.Object_1050_Tasten_2_0.geometry,material:t.Tasten_2,position:[126.59,53.665,235.644],rotation:[-Math.PI/2,0,Math.PI/2],scale:5.449}),C.jsx("mesh",{geometry:e.Object_1052_Material057_0.geometry,material:t["Material.074_33"],position:[138.832,50.656,360.842],rotation:[-Math.PI/2,.163,Math.PI/2],scale:2.99}),C.jsx("mesh",{geometry:e.Object_1054_Material057_0.geometry,material:t["Material.074_33"],position:[138.832,50.519,377.705],rotation:[-Math.PI/2,.043,Math.PI/2],scale:2.99}),C.jsx("mesh",{geometry:e.Object_1056_Material073_0.geometry,material:t["Material.073"],position:[138.832,50.625,395.771],rotation:[-Math.PI/2,.043,Math.PI/2],scale:2.99}),C.jsx("mesh",{geometry:e.Object_1058_Material057_0.geometry,material:t["Material.074_33"],position:[122.224,53.899,387.246],rotation:[-Math.PI/2,.163,Math.PI/2],scale:4.683}),C.jsx("mesh",{geometry:e.Object_1060_Material060_0.geometry,material:t["Material.074_34"],position:[118.88,54.414,404.726],rotation:[-Math.PI/2,.163,Math.PI/2],scale:4.683}),C.jsx("mesh",{geometry:e.Object_1062_Tasten_2_0.geometry,material:t.Tasten_2,position:[178.586,47.223,251.216],rotation:[-1.494,-.039,.003],scale:[2.491,4.577,2.508]}),C.jsx("mesh",{geometry:e.Object_1064_Tasten_2_0.geometry,material:t.Tasten_2,position:[175.034,47.036,250.749],rotation:[-1.571,-.079,1.57],scale:[4.723,4.038,2.74]}),C.jsx("mesh",{geometry:e.Object_1066_Material067_0.geometry,material:t["Material.074_36"],position:[175.034,47.036,267.898],rotation:[-1.571,-.079,1.57],scale:[4.723,4.038,2.74]}),C.jsx("mesh",{geometry:e.Object_1068_Material067_0.geometry,material:t["Material.074_36"],position:[180.145,47.436,269.122],rotation:[-1.571,-.079,1.57],scale:[3.03,2.591,1.758]}),C.jsx("mesh",{geometry:e.Object_1070_Tasten_2_0.geometry,material:t.Tasten_2,position:[175.034,47.036,233.446],rotation:[-1.571,-.079,1.57],scale:[4.723,4.038,2.74]}),C.jsx("mesh",{geometry:e.Object_1072_Tasten_2_0.geometry,material:t.Tasten_2,position:[180.145,47.583,235.555],rotation:[-1.571,-.079,1.57],scale:[3.03,2.591,1.758]}),C.jsx("mesh",{geometry:e.Object_1074_Material069_0.geometry,material:t["Material.074_38"],position:[192.115,45.452,545.462],rotation:[-Math.PI/2,-.069,Math.PI/2],scale:2.698}),C.jsx("mesh",{geometry:e.Cube_Material_0.geometry,material:t.Material,position:[-61.024,-.556,156.09],rotation:[-Math.PI/2,0,-Math.PI],scale:[-368.95,731.636,25.976]}),C.jsx("mesh",{geometry:e.Cube011_Material010_0.geometry,material:t["Material.074"],position:[-85.935,199.7,-353.72],rotation:[-Math.PI/2,0,0],scale:[173.489,89.971,157.347]}),C.jsx("mesh",{geometry:e.Cube012_Material011_0.geometry,material:t["Material.074"],position:[-85.935,199.7,-353.72],rotation:[-Math.PI/2,0,0],scale:[173.489,89.971,157.347]}),C.jsx("mesh",{geometry:e.Cube013_Material015_0.geometry,material:t["Material.074"],position:[82.766,33.228,-353.609],rotation:[-Math.PI/2,-.237,Math.PI],scale:[-5.986,88.363,12.138]}),C.jsx("mesh",{geometry:e.Cube014_Material014_0.geometry,material:t["Material.074"],position:[-253.445,33.228,-353.609],rotation:[-Math.PI/2,.136,-Math.PI],scale:[-5.979,88.363,12.152]}),C.jsx("mesh",{geometry:e.Cylinder_Material009_0.geometry,material:t["Material.025"],position:[74.209,51.218,-262.894],scale:[6.077,6.275,2.277]}),C.jsx("mesh",{geometry:e.Cube018_Material017_0.geometry,material:t["Material.017"],position:[79.294,288.428,-355.562],rotation:[-Math.PI/2,Math.PI/2,0],scale:[50.674,50.674,10]}),C.jsx("mesh",{geometry:e.aorus_case_fans_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[89.589,288.681,-355.423],rotation:[0,Math.PI/2,0],scale:108.517}),C.jsx("mesh",{geometry:e.aorus_case_fans001_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[69.018,288.681,-355.423],rotation:[0,-Math.PI/2,0],scale:108.517}),C.jsx("mesh",{geometry:e.Cube015_Material016_0.geometry,material:t["Material.074_1"],position:[-165.45,224.123,-440.84],rotation:[-Math.PI/2,0,-Math.PI],scale:[-89.374,.699,106.434]}),C.jsx("mesh",{geometry:e.Cube016_Material017_0.geometry,material:t["Material.017"],position:[79.294,177.861,-355.562],rotation:[-Math.PI/2,Math.PI/2,0],scale:[50.674,50.674,10]}),C.jsx("mesh",{geometry:e.aorus_case_fans002_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[89.589,178.114,-355.423],rotation:[0,Math.PI/2,0],scale:108.517}),C.jsx("mesh",{geometry:e.aorus_case_fans003_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[69.018,178.114,-355.423],rotation:[0,-Math.PI/2,0],scale:108.517}),C.jsx("mesh",{geometry:e.Cube017_Material017_0.geometry,material:t["Material.017"],position:[-251.377,292.349,-334.899],rotation:[-Math.PI/2,Math.PI/2,0],scale:[50.674,50.674,10]}),C.jsx("mesh",{geometry:e.aorus_case_fans004_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[-241.083,292.602,-334.76],rotation:[0,Math.PI/2,0],scale:108.517}),C.jsx("mesh",{geometry:e.aorus_case_fans005_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[-261.653,292.602,-334.76],rotation:[0,-Math.PI/2,0],scale:108.517}),C.jsx("mesh",{geometry:e.Cube019_Material017_0.geometry,material:t["Material.017"],position:[-171.544,344.359,-355.43],rotation:[Math.PI/2,0,Math.PI],scale:[51.513,51.513,10.165]}),C.jsx("mesh",{geometry:e.aorus_case_fans006_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[-171.287,333.894,-355.289],rotation:[Math.PI/2,0,-Math.PI/2],scale:110.314}),C.jsx("mesh",{geometry:e.aorus_case_fans007_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[-171.287,354.805,-355.289],rotation:[Math.PI/2,0,-Math.PI/2],scale:110.314}),C.jsx("mesh",{geometry:e.Cube020_Material020_0.geometry,material:t["Material.074_2"],position:[-96.107,78.826,-363.398],rotation:[-Math.PI/2,0,0],scale:[160.681,73.933,34.312]}),C.jsx("mesh",{geometry:e.Cube021_Material018_0.geometry,material:t["Material.074"],position:[-108.064,346.353,-354.981],rotation:[-Math.PI/2,0,0],scale:[7.187,57.542,10.785]}),C.jsx("mesh",{geometry:e.Cube022_Material017_0.geometry,material:t["Material.017"],position:[-44.548,344.359,-355.43],rotation:[Math.PI/2,0,Math.PI],scale:[51.513,51.513,10.165]}),C.jsx("mesh",{geometry:e.aorus_case_fans008_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[-44.291,333.894,-355.289],rotation:[Math.PI/2,0,-Math.PI/2],scale:110.314}),C.jsx("mesh",{geometry:e.aorus_case_fans009_aorus_case_fans_0.geometry,material:t["Material.074_0"],position:[-44.291,354.805,-355.289],rotation:[Math.PI/2,0,-Math.PI/2],scale:110.314}),C.jsx("mesh",{geometry:e.Sphere_Material019_0.geometry,material:t["Material.025"],position:[-277.544,457.86,-407.854],rotation:[-1.514,0,0],scale:4.86}),C.jsx("mesh",{geometry:e.Sphere001_Material019_0.geometry,material:t["Material.025"],position:[-277.544,457.86,-439.732],rotation:[-1.62,0,0],scale:4.86}),C.jsx("mesh",{geometry:e.IOSHIELD_IOSHIELD_0.geometry,material:t["Material.074_3"],position:[-259.689,284.799,-422.491],rotation:[Math.PI/2,-Math.PI/2,0],scale:[26.475,30.855,31.832]}),C.jsx("mesh",{geometry:e.Cube023_Material021_0.geometry,material:t["Material.074"],position:[93.781,228.59,-355.282],rotation:[-Math.PI/2,0,-Math.PI],scale:[-11.991,59.265,117.81]}),C.jsx("mesh",{geometry:e.Cube024_Material022_0.geometry,material:t["Material.074"],position:[-265.096,291.702,-335.09],rotation:[-Math.PI/2,0,0],scale:[6.378,55.458,55.458]}),C.jsx("mesh",{geometry:e.MOBOAORUSORANGETRANS_MOBOAORUSORANGETRANS_0.geometry,material:t["Material.074_4"],position:[-235.591,287.747,-423.919],rotation:[0,0,.651],scale:6.343}),C.jsx("mesh",{geometry:e.Cube025_Material023_0.geometry,material:t["Material.023"],position:[-165.45,224.123,-440.84],rotation:[-Math.PI/2,0,-Math.PI],scale:[-89.374,.699,106.434]}),C.jsx("mesh",{geometry:e.Cube026_Material024_0.geometry,material:t["Material.024"],position:[-165.45,224.123,-440.84],rotation:[-Math.PI/2,0,-Math.PI],scale:[-89.374,.699,106.434]}),C.jsx("mesh",{geometry:e["metal-mesh-500x500_metal-mesh-500x500_0"].geometry,material:t["Material.074_5"],position:[-42.312,356.984,-354.164],rotation:[Math.PI/2,0,Math.PI],scale:[100,133.705,100]}),C.jsx("mesh",{geometry:e["metal-mesh-500x500001_metal-mesh-500x500_0"].geometry,material:t["Material.074_5"],position:[-174.205,356.984,-354.164],rotation:[Math.PI/2,0,Math.PI/2],scale:[100,133.705,100]}),C.jsx("mesh",{geometry:e["metal-mesh-500x500002_metal-mesh-500x500_0"].geometry,material:t["Material.074_5"],position:[-270.9,291.514,-335.328],rotation:[0,-Math.PI/2,0],scale:[79.555,106.369,79.555]}),C.jsx("mesh",{geometry:e.Cube027_Material008_0.geometry,material:t["Material.074_6"],position:[-96.406,270.963,-430.927],rotation:[-Math.PI/2,0,0],scale:[-1.513,10.916,44.29]}),C.jsx("mesh",{geometry:e.Cube028_Material026_0.geometry,material:t["Material.074_7"],position:[-95.71,270.963,-432.409],rotation:[-Math.PI/2,0,0],scale:[-1.051,9.735,44.411]}),C.jsx("mesh",{geometry:e.Cube029_Material025_0.geometry,material:t["Material.025"],position:[-96.387,270.963,-432.409],rotation:[-Math.PI/2,0,0],scale:[-.25,9.339,46.663]}),C.jsx("mesh",{geometry:e.Cube030_Material026_0.geometry,material:t["Material.074_7"],position:[-96.996,270.963,-451.701],rotation:[-Math.PI/2,0,-Math.PI],scale:[-1.051,9.735,44.411]}),C.jsx("mesh",{geometry:e.Cube031_Material008_0.geometry,material:t["Material.074_6"],position:[-103.687,270.963,-430.927],rotation:[-Math.PI/2,0,0],scale:[-1.513,10.916,44.29]}),C.jsx("mesh",{geometry:e.Cube032_Material026_0.geometry,material:t["Material.074_7"],position:[-102.99,270.963,-432.409],rotation:[-Math.PI/2,0,0],scale:[-1.051,9.735,44.411]}),C.jsx("mesh",{geometry:e.Cube033_Material025_0.geometry,material:t["Material.025"],position:[-103.667,270.963,-432.409],rotation:[-Math.PI/2,0,0],scale:[-.25,9.339,46.663]}),C.jsx("mesh",{geometry:e.Cube034_Material026_0.geometry,material:t["Material.074_7"],position:[-104.276,270.963,-451.701],rotation:[-Math.PI/2,0,-Math.PI],scale:[-1.051,9.735,44.411]}),C.jsx("mesh",{geometry:e.Cube035_Material008_0.geometry,material:t["Material.074_6"],position:[-110.551,270.963,-430.927],rotation:[-Math.PI/2,0,0],scale:[-1.513,10.916,44.29]}),C.jsx("mesh",{geometry:e.Cube036_Material026_0.geometry,material:t["Material.074_7"],position:[-109.854,270.963,-432.409],rotation:[-Math.PI/2,0,0],scale:[-1.051,9.735,44.411]}),C.jsx("mesh",{geometry:e.Cube037_Material025_0.geometry,material:t["Material.025"],position:[-110.532,270.963,-432.409],rotation:[-Math.PI/2,0,0],scale:[-.25,9.339,46.663]}),C.jsx("mesh",{geometry:e.Cube038_Material026_0.geometry,material:t["Material.074_7"],position:[-111.14,270.963,-451.701],rotation:[-Math.PI/2,0,-Math.PI],scale:[-1.051,9.735,44.411]}),C.jsx("mesh",{geometry:e.Cube039_Material008_0.geometry,material:t["Material.074_6"],position:[-117.502,270.963,-430.927],rotation:[-Math.PI/2,0,0],scale:[-1.513,10.916,44.29]}),C.jsx("mesh",{geometry:e.Cube040_Material026_0.geometry,material:t["Material.074_7"],position:[-116.805,270.963,-432.409],rotation:[-Math.PI/2,0,0],scale:[-1.051,9.735,44.411]}),C.jsx("mesh",{geometry:e.Cube041_Material025_0.geometry,material:t["Material.025"],position:[-117.483,270.963,-432.409],rotation:[-Math.PI/2,0,0],scale:[-.25,9.339,46.663]}),C.jsx("mesh",{geometry:e.Cube042_Material026_0.geometry,material:t["Material.074_7"],position:[-118.091,270.963,-451.701],rotation:[-Math.PI/2,0,-Math.PI],scale:[-1.051,9.735,44.411]}),C.jsx("mesh",{geometry:e["metal-mesh-500x500003_metal-mesh-500x500_0"].geometry,material:t["Material.074_5"],position:[-257.977,182.039,-359.049],rotation:[0,-Math.PI/2,0],scale:[109.082,106.369,79.555]}),C.jsx("mesh",{geometry:e.Cube043_Material012_0.geometry,material:t["Material.025"],position:[-219.486,85.339,-71.149],rotation:[-Math.PI/2,0,0],scale:[49.177,29.278,59.658]}),C.jsx("mesh",{geometry:e.Cube045_Material027_0.geometry,material:t["Material.074_8"],position:[-212.14,79.399,-298.228],rotation:[-Math.PI/2,0,0],scale:[35.476,5.166,20.568]}),C.jsx("mesh",{geometry:e["rgb-hdd-cover-aorus-v1_rgb-hdd-cover-aorus-v1_0"].geometry,material:t["Material.074_9"],position:[-93.477,83.167,-288.796],scale:36.942}),C.jsx("mesh",{geometry:e["maxresdefault_(1)_maxresdefault_(1)_0"].geometry,material:t["Material.074_10"],position:[87.714,83.615,-355.312],rotation:[0,Math.PI/2,0],scale:39.411}),C.jsx("mesh",{geometry:e.Cylinder001_Material028_0.geometry,material:t["Material.074_11"],position:[-169.225,114.406,-71.644],rotation:[-1.571,1.554,0],scale:[19.4,19.4,2.506]}),C.jsx("mesh",{geometry:e.Cylinder002_Material029_0.geometry,material:t["Material.074_11"],position:[-166.369,70.647,-71.644],rotation:[-Math.PI/2,1.536,0],scale:[10.298,10.298,1.33]}),C.jsx("mesh",{geometry:e.Cube044_Material012_0.geometry,material:t["Material.025"],position:[-219.486,85.339,671.433],rotation:[-Math.PI/2,0,0],scale:[49.177,29.278,59.658]}),C.jsx("mesh",{geometry:e.Cylinder003_Material031_0.geometry,material:t["Material.074_11"],position:[-169.225,114.406,670.937],rotation:[-1.571,1.554,0],scale:[19.4,19.4,2.506]}),C.jsx("mesh",{geometry:e.Cylinder004_Material030_0.geometry,material:t["Material.074_11"],position:[-166.369,70.647,670.937],rotation:[-Math.PI/2,1.536,0],scale:[10.298,10.298,1.33]}),C.jsx("mesh",{geometry:e.NVIDIA_LOGO_NVIDIA_LOGO_0.geometry,material:t["Material.074_12"],position:[.586,70.428,-289.066],scale:45.189}),C.jsx("mesh",{geometry:e.psuback_psuback_0.geometry,material:t["Material.074_13"],position:[-260.266,77.97,-352.752],rotation:[0,Math.PI/2,0],scale:59.489}),C.jsx("mesh",{geometry:e.usb_usb_0.geometry,material:t["Material.074_14"],position:[70.473,357.15,-289.695],rotation:[-Math.PI/2,0,Math.PI/2],scale:7.342}),C.jsx("mesh",{geometry:e.usb001_usb_0.geometry,material:t["Material.074_14"],position:[70.473,357.15,-321.003],rotation:[-Math.PI/2,0,Math.PI/2],scale:7.342}),C.jsx("mesh",{geometry:e.usb002_usb_0.geometry,material:t["Material.074_14"],position:[70.473,357.15,-352.59],rotation:[-Math.PI/2,0,Math.PI/2],scale:7.342}),C.jsx("mesh",{geometry:e.Torus_Material013_0.geometry,material:t["Material.013"],position:[69.926,356.741,-407.005],rotation:[-Math.PI/2,0,0],scale:3.297}),C.jsx("mesh",{geometry:e.Torus001_Material032_0.geometry,material:t["Material.032"],position:[69.926,356.741,-423.729],rotation:[-Math.PI/2,0,0],scale:3.297}),C.jsx("mesh",{geometry:e.usb003_usb_0.geometry,material:t["Material.074_14"],position:[70.473,357.15,-384.891],rotation:[-Math.PI/2,0,Math.PI/2],scale:7.342}),C.jsx("mesh",{geometry:e.Cube046_Material034_0.geometry,material:t["Material.034"],position:[-188.16,268.516,-368.194],rotation:[-Math.PI/2,0,0],scale:[9.278,42.446,42.446]}),C.jsx("mesh",{geometry:e.Cube047_Material033_0.geometry,material:t["Material.034"],position:[-134.664,268.516,-368.194],rotation:[-Math.PI/2,0,0],scale:[9.278,42.446,42.446]}),C.jsx("mesh",{geometry:e.Cube048_Material035_0.geometry,material:t["Material.074_15"],position:[-161.354,268.242,-368.171],rotation:[-Math.PI/2,0,0],scale:[17.436,39.405,40.075]}),C.jsx("mesh",{geometry:e.Cube049_Material040_0.geometry,material:t["Material.074_16"],position:[-161.354,268.242,-368.171],rotation:[-Math.PI/2,0,0],scale:[17.436,39.405,40.075]}),C.jsx("mesh",{geometry:e.Cube050_Material038_0.geometry,material:t["Material.074_16"],position:[-161.354,268.242,-368.171],rotation:[-Math.PI/2,0,0],scale:[17.436,39.405,40.075]}),C.jsx("mesh",{geometry:e.Cube051_Material042_0.geometry,material:t["Material.042"],position:[-161.354,268.242,-368.171],rotation:[-Math.PI/2,0,0],scale:[17.436,39.405,40.075]}),C.jsx("mesh",{geometry:e.Cylinder005_Material041_0.geometry,material:t["Material.074_17"],position:[-161.139,268.658,-369.024],rotation:[-Math.PI/2,Math.PI/2,0],scale:[32.71,32.71,34.213]}),C.jsx("mesh",{geometry:e.Cylinder011_Material045_0.geometry,material:t["Material.045"],position:[-173.934,242.501,-421.74],rotation:[.474,0,Math.PI],scale:[2.055,2.055,16.973]}),C.jsx("mesh",{geometry:e["metal-mesh-500x500004_metal-mesh-500x500_0"].geometry,material:t["Material.074_5"],position:[-257.977,220.723,-359.049],rotation:[0,-Math.PI/2,0],scale:[109.082,106.369,79.555]}),C.jsx("mesh",{geometry:e.Text_Material046_0.geometry,material:t["Material.046"],position:[-143.804,250.193,-325.724],rotation:[0,0,Math.PI/2],scale:2.436}),C.jsx("mesh",{geometry:e.Cube052_Material047_0.geometry,material:t["Material.025"],position:[83.515,83.276,-355.599],rotation:[-Math.PI/2,0,0],scale:[5.75,46.281,28.867]}),C.jsx("mesh",{geometry:e["test-aorus-m2-souris-aorus-rgb2_test-aorus-m2-souris-aorus-rgb2_0"].geometry,material:t["Material.074_18"],position:[-115.854,150.748,-435.223],scale:35.194}),C.jsx("mesh",{geometry:e.Cube053_Material048_0.geometry,material:t["Material.048"],position:[-165.45,224.123,-440.84],rotation:[-Math.PI/2,0,-Math.PI],scale:[-89.374,.699,106.434]}),C.jsx("mesh",{geometry:e.Cube054_Material049_0.geometry,material:t["Material.049"],position:[-165.45,224.123,-440.84],rotation:[-Math.PI/2,0,-Math.PI],scale:[-89.374,.699,106.434]}),C.jsx("mesh",{geometry:e.Cube055_Material054_0.geometry,material:t["Material.054"],position:[-122.286,185.076,-370.559],rotation:[-Math.PI/2,0,0],scale:[133.163,54.534,13.174]}),C.jsx("mesh",{geometry:e.Cube056_Material061_0.geometry,material:t["Material.061"],position:[-127.222,200.081,-370.559],rotation:[-Math.PI/2,0,0],scale:[128.059,52.443,12.669]}),C.jsx("mesh",{geometry:e.Cylinder006_Material050_0.geometry,material:t["Material.074_19"],position:[-209.451,184.616,-370.096],rotation:[-Math.PI/2,0,0],scale:[36.354,38.222,10.575]}),C.jsx("mesh",{geometry:e.Cylinder007_Material051_0.geometry,material:t["Material.074_20"],position:[-124.439,184.616,-370.096],rotation:[-Math.PI/2,0,0],scale:[36.354,38.222,10.575]}),C.jsx("mesh",{geometry:e.Cylinder008_Material052_0.geometry,material:t["Material.074_19"],position:[-37.777,184.616,-370.096],rotation:[-Math.PI/2,0,0],scale:[36.354,38.222,10.575]}),C.jsx("mesh",{geometry:e.Plane_Material053_0.geometry,material:t["Material.074_21"],position:[117.182,25.605,-29.165],rotation:[-Math.PI/2,0,0],scale:[124.427,154.111,119.911]}),C.jsx("mesh",{geometry:e.geforcertx_Material056_0.geometry,material:t["Material.056"],position:[-229.271,204.826,-315.957],scale:[10.377,10.377,10.91]}),C.jsx("mesh",{geometry:e.Cube057_Material059_0.geometry,material:t["Material.074_22"],position:[-127.222,200.081,-370.559],rotation:[-Math.PI/2,0,0],scale:[128.059,52.443,12.669]}),C.jsx("mesh",{geometry:e.Cube059_Material058_0.geometry,material:t["Material.058"],position:[-127.222,200.081,-370.559],rotation:[-Math.PI/2,0,0],scale:[128.059,52.443,12.669]}),C.jsx("mesh",{geometry:e.Cube060_Material062_0.geometry,material:t["Material.062"],position:[-123.744,264.277,-316.795],scale:[133.257,53.22,.824]}),C.jsx("mesh",{geometry:e.Cube058_Material063_0.geometry,material:t["Material.074_23"],position:[-122.591,213.709,-370.429],rotation:[-Math.PI/2,0,0],scale:[133.259,54.504,.809]}),C.jsx("mesh",{geometry:e.aorus_logotranspa_aorus_logotranspa_0.geometry,material:t["Material.074_24"],position:[-182.428,181.699,-315.847],scale:[8.646,8.646,9.09]}),C.jsx("mesh",{geometry:e.Cube061_Material064_0.geometry,material:t["Material.025"],position:[-122.286,185.076,-370.559],rotation:[-Math.PI/2,0,0],scale:[133.163,54.534,13.174]}),C.jsx("mesh",{geometry:e.Cube062_Material065_0.geometry,material:t["Material.025"],position:[-165.45,224.123,-440.84],rotation:[-Math.PI/2,0,-Math.PI],scale:[-89.374,.699,106.434]}),C.jsx("mesh",{geometry:e.Cube064_Material074_0.geometry,material:t["Material.074_25"],position:[111.413,32.447,-27.406],rotation:[Math.PI/2,0,-Math.PI],scale:[-42.887,42.887,22.902]}),C.jsx("mesh",{geometry:e.Cube067_Material075_0.geometry,material:t["Material.075"],position:[111.413,32.447,-27.406],rotation:[Math.PI/2,0,-Math.PI],scale:[-42.887,42.887,22.902]}),C.jsx("mesh",{geometry:e.Cube063_Material074_0.geometry,material:t["Material.074_25"],position:[111.413,32.495,-27.406],rotation:[Math.PI/2,0,-Math.PI],scale:[-42.887,42.887,22.902]}),C.jsx("mesh",{geometry:e.Cube065_Material074_0.geometry,material:t["Material.074_25"],position:[111.413,32.495,-27.406],rotation:[Math.PI/2,-.011,Math.PI],scale:[-42.887,42.887,22.902]}),C.jsx("mesh",{geometry:e.Cube066_Material076_0.geometry,material:t["Material.076"],position:[111.461,32.287,-27.292],rotation:[Math.PI/2,-.011,Math.PI],scale:[-42.887,42.887,22.902]}),C.jsx("mesh",{geometry:e.Cube072_Material078_0.geometry,material:t["Material.025"],position:[111.413,32.447,-27.406],rotation:[Math.PI/2,0,-Math.PI],scale:[-42.887,42.887,22.902]}),C.jsx("mesh",{geometry:e.Cube073_Material079_0.geometry,material:t["Material.074_6"],position:[111.413,32.447,-27.406],rotation:[Math.PI/2,0,-Math.PI],scale:[-42.887,42.887,22.902]}),C.jsx("mesh",{geometry:e.Cube076_Material080_0.geometry,material:t["Material.074_25"],position:[65.926,34.461,-27.346],rotation:[Math.PI/2,-.234,-Math.PI],scale:[-42.887,42.887,22.902]}),C.jsx("mesh",{geometry:e.Cylinder009_Material081_0.geometry,material:t["Material.025"],position:[77.222,34.525,-28.482],rotation:[0,-.001,0],scale:[11.574,11.574,2.501]}),C.jsx("mesh",{geometry:e.Cylinder010_Material077_0.geometry,material:t["Material.077"],position:[77.222,34.525,-27.858],rotation:[0,-.001,0],scale:[11.891,11.891,.393]}),C.jsx("mesh",{geometry:e.Cylinder012_Material082_0.geometry,material:t["Material.082"],position:[77.223,34.525,-28.709],rotation:[0,-.001,0],scale:[10.438,10.438,2.868]}),C.jsx("mesh",{geometry:e.BezierCurve001_Material085_0.geometry,material:t["Material.085"],position:[-57.663,118.32,-315.595],rotation:[1.571,-1.234,0],scale:100}),C.jsx("mesh",{geometry:e.Cube074_Material084_0.geometry,material:t["Material.025"],position:[-92.944,206.719,-314.862],rotation:[-Math.PI/2,0,0],scale:[5.642,5.4,4.234]}),C.jsx("mesh",{geometry:e.Cube075_Material086_0.geometry,material:t["Material.074_26"],position:[-258.007,195.512,-371.511],rotation:[-Math.PI/2,0,0],scale:[1.163,52.435,17.743]}),C.jsx("mesh",{geometry:e.BezierCurve002_Material087_0.geometry,material:t["Material.087"],position:[-31.438,183.785,-440.156],rotation:[1.571,-1.234,0],scale:100}),C.jsx("mesh",{geometry:e.Cube077_Material083_0.geometry,material:t["Material.025"],position:[-81.678,266.506,-437.411],rotation:[-Math.PI/2,0,0],scale:[2.849,4.872,17.377]}),C.jsx("mesh",{geometry:e.Cube078_Material083_0.geometry,material:t["Material.025"],position:[70.352,334.375,-437.411],rotation:[-Math.PI/2,0,0],scale:[2.849,4.872,12.046]}),C.jsx("mesh",{geometry:e.BezierCurve_Material088_0.geometry,material:t["Material.088"],position:[73.034,238.196,-437.388],rotation:[Math.PI,0,Math.PI/2],scale:100}),C.jsx("mesh",{geometry:e.Cube079_Material089_0.geometry,material:t["Material.025"],position:[-269.84,182.61,-338.408],rotation:[-Math.PI/2,0,0],scale:[16.038,9.162,4.326]}),C.jsx("mesh",{geometry:e.Cube080_Material089_0.geometry,material:t["Material.025"],position:[-158.493,199.975,375.163],rotation:[-Math.PI/2,Math.PI/2,0],scale:[16.038,9.162,4.326]}),C.jsx("mesh",{geometry:e.BezierCurve003_Material091_0.geometry,material:t["Material.025"],position:[-158.898,127.661,299.394],rotation:[2.464,-Math.PI/2,0],scale:100}),C.jsx("mesh",{geometry:e.Cube081_Material090_0.geometry,material:t["Material.090"],position:[93.215,47.658,-27.747],rotation:[-1.544,-.233,0],scale:[2.623,1.334,2.237]}),C.jsx("mesh",{geometry:e.Cube068_Material092_0.geometry,material:t["Material.092"],position:[129.119,44.5,-27.607],rotation:[-Math.PI/2,.284,0],scale:[5.964,5.964,2.081]}),C.jsx("mesh",{geometry:e["Color-PewDiePie-Logo_Color-PewDiePie-Logo_0"].geometry,material:t["Material.074_27"],position:[129.541,46.552,-27.476],rotation:[-Math.PI/2,.284,Math.PI/2],scale:12.411}),C.jsx("mesh",{geometry:e.Cube069_Material093_0.geometry,material:t["Material.025"],position:[111.413,32.447,-27.406],rotation:[Math.PI/2,0,-Math.PI],scale:[-42.887,44.821,22.902]}),C.jsx("mesh",{geometry:e.Cylinder013_Material094_0.geometry,material:t["Material.094"],position:[83.027,308.225,-282.193],rotation:[-Math.PI/2,Math.PI/2,0],scale:[9.856,9.856,4.879]}),C.jsx("mesh",{geometry:e.Cylinder014_Material095_0.geometry,material:t["Material.088"],position:[84.52,280.424,-282.193],rotation:[-Math.PI/2,Math.PI/2,0],scale:[6.544,6.544,3.239]}),C.jsx("mesh",{geometry:e.Cylinder015_Material096_0.geometry,material:t["Material.088"],position:[84.52,254.307,-282.193],rotation:[-Math.PI/2,Math.PI/2,0],scale:[6.67,6.67,3.302]}),C.jsx("mesh",{geometry:e.Text001_Material097_0.geometry,material:t["Material.025"],position:[87.586,202.482,-275.486],rotation:[-Math.PI/2,Math.PI/2,0],scale:[10.325,8.384,9.718]}),C.jsx("mesh",{geometry:e.Cube088_Material098_0.geometry,material:t["Material.098"],position:[98.958,38.352,-8.162],rotation:[-Math.PI/2,-.129,0],scale:[5.453,4.946,1.909]}),C.jsx("mesh",{geometry:e.BezierCurve004_Material099_0.geometry,material:t["Material.025"],position:[-33.393,29.826,-26.834],rotation:[-Math.PI/2,0,0],scale:100}),C.jsx("mesh",{geometry:e.Cube070_Material100_0.geometry,material:t["Material.025"],position:[-266.849,260.335,-432.751],rotation:[-Math.PI/2,0,0],scale:[7.668,2.324,5.236]}),C.jsx("mesh",{geometry:e.Cube071_Material101_0.geometry,material:t["Material.025"],position:[-266.849,260.335,-426.843],rotation:[-Math.PI/2,0,0],scale:[7.668,2.324,5.236]}),C.jsx("mesh",{geometry:e.Cube082_Material101_0.geometry,material:t["Material.025"],position:[-266.849,274.042,-426.641],rotation:[-Math.PI/2,0,0],scale:[7.668,2.324,5.236]}),C.jsx("mesh",{geometry:e.Cylinder016_Material102_0.geometry,material:t["Material.025"],position:[-263.633,248.737,-421.76],rotation:[-Math.PI/2,Math.PI/2,0],scale:[3.07,3.07,5.454]}),C.jsx("mesh",{geometry:e.BezierCircle_Material104_0.geometry,material:t["Material.104"],position:[87.654,308.188,-282.266],rotation:[-Math.PI/2,Math.PI/2,0],scale:5.703}),C.jsx("mesh",{geometry:e.BezierCurve005_Material103_0.geometry,material:t["Material.025"],position:[83.413,25.966,360.696],rotation:[-Math.PI/2,0,Math.PI/2],scale:100}),C.jsx("mesh",{geometry:e.BezierCurve006_Material106_0.geometry,material:t["Material.025"],position:[-275.73,25.966,569.745],rotation:[-Math.PI/2,0,Math.PI/2],scale:100}),C.jsx("mesh",{geometry:e.BezierCurve007_Material105_0.geometry,material:t["Material.025"],position:[-271.339,25.966,569.745],rotation:[-Math.PI/2,0,Math.PI/2],scale:100}),C.jsx("mesh",{geometry:e.BezierCurve008_Material107_0.geometry,material:t["Material.025"],position:[-280.431,25.966,28.498],rotation:[Math.PI/2,0,Math.PI/2],scale:100}),C.jsx("mesh",{geometry:e.Cube001_Material055_0.geometry,material:t["Material.055"],position:[-138.594,295.654,300.405],rotation:[-Math.PI/2,-.07,Math.PI/2],scale:[325.342,4.051,184.091]}),C.jsx("mesh",{geometry:e.Cube002_Material044_0.geometry,material:t["Material.044"],position:[-146.706,263.678,300.405],rotation:[-Math.PI/2,-.122,Math.PI/2],scale:[-325.341,14.747,152.853]}),C.jsx("mesh",{geometry:e.gallerymodel_gallerymodel_0.geometry,material:t["Material.074_28"],position:[-142.04,164.813,596.081],rotation:[.441,-1.284,.441],scale:80.689}),C.jsx("mesh",{geometry:e.Cube003_Material001_0.geometry,material:t["Material.025"],position:[-157.131,447.652,300.405],rotation:[-Math.PI/2,-.07,Math.PI/2],scale:[325.342,4.051,31.034]}),C.jsx("mesh",{geometry:e.bg2_bg2_0.geometry,material:t["Material.074_29"],position:[-153.705,194.917,83.027],rotation:[1.572,-1.442,1.567],scale:113.034}),C.jsx("mesh",{geometry:e.MY_SCREEN_MY_SCREEN_0.geometry,material:t["Material.074_30"],position:[-136.177,300.132,300.405],rotation:[-Math.PI/2,1.501,Math.PI/2],scale:[331.621,348.065,331.621]}),C.jsx("mesh",{geometry:e["gigabyte-logo_gigabyte-logo_0"].geometry,material:t["Material.074_31"],position:[-161.543,449.447,82.082],rotation:[1.571,-1.501,1.571],scale:23.689}),C.jsx("mesh",{geometry:e["gigabyte-logo001_gigabyte-logo_0"].geometry,material:t["Material.074_31"],position:[-122.059,122.824,301.598],rotation:[-Math.PI/2,1.501,Math.PI/2],scale:17.84}),C.jsx("mesh",{geometry:e.Cube004_Material002_0.geometry,material:t["Material.002"],position:[-148.741,180.97,299.246],rotation:[-Math.PI/2,-.07,Math.PI/2],scale:[167.599,17.793,193.498]}),C.jsx("mesh",{geometry:e.Cube005_Material003_0.geometry,material:t["Material.003"],position:[-186.532,291.564,297.425],rotation:[-Math.PI/2,0,Math.PI/2],scale:[16.32,28.812,12.936]}),C.jsx("mesh",{geometry:e.Cube006_Material043_0.geometry,material:t["Material.043"],position:[-202.956,-64.822,300.405],rotation:[-Math.PI/2,-.07,Math.PI/2],scale:[40.588,16.64,531.608]}),C.jsx("mesh",{geometry:e.Cube007_Material037_0.geometry,material:t["Material.037"],position:[-213.018,35.333,296.055],rotation:[-Math.PI/2,0,Math.PI/2],scale:[-193.85,54.116,9.321]}),C.jsx("mesh",{geometry:e.Cube008_Material036_0.geometry,material:t["Material.039"],position:[-80.199,31.648,453.149],rotation:[-Math.PI/2,0,1.249],scale:[49.07,108.779,5.648]}),C.jsx("mesh",{geometry:e.Cube009_Material039_0.geometry,material:t["Material.039"],position:[-80.199,31.648,163.795],rotation:[-Math.PI/2,0,1.861],scale:[49.07,108.779,5.648]}),C.jsx("mesh",{geometry:e.Cube010_Material006_0.geometry,material:t["Material.006"],position:[-181.146,31.637,295.796],rotation:[-Math.PI/2,0,3.136],scale:[43.412,96.236,4.997]}),C.jsx("mesh",{geometry:e.Object_8_Tastatur_Seite_0.geometry,material:t.Tastatur_Seite,position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_10_Tastatur_Unterseite_0.geometry,material:t.Tastatur_Unterseite,position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_12_Tastatur_Unterseite_0.geometry,material:t.Tastatur_Unterseite,position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_14_Material004_0.geometry,material:t["Material.004"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_16_Material004_0.geometry,material:t["Material.004"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_18_Material004_0.geometry,material:t["Material.004"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_20_Material004_0.geometry,material:t["Material.004"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_22_Material004_0.geometry,material:t["Material.004"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_24_Tastatur_Seite_0.geometry,material:t.Tastatur_Seite,position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_26_Material004_0.geometry,material:t["Material.004"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_28_Material004_0.geometry,material:t["Material.004"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_30_Material007_0.geometry,material:t["Material.007"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_32_Material004_0.geometry,material:t["Material.004"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_34_Material004_0.geometry,material:t["Material.004"],position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_36_Tastatur_Seite_0.geometry,material:t.Tastatur_Seite,position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_38_Tastatur_Seite_0.geometry,material:t.Tastatur_Seite,position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_40_Tastatur_Seite_0.geometry,material:t.Tastatur_Seite,position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_42_Tastatur_Seite_0.geometry,material:t.Tastatur_Seite,position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_44_Tastatur_Seite_0.geometry,material:t.Tastatur_Seite,position:[147.709,33.245,403.086],rotation:[-Math.PI,-Math.PI/2,0],scale:91.415}),C.jsx("mesh",{geometry:e.Object_47_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_49_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_51_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_53_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_55_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_57_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_59_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_61_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_63_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_65_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_67_Material067_0.geometry,material:t["Material.074_36"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_69_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_71_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_73_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_75_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_77_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_79_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_81_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_83_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_85_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_87_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_89_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_91_Material067_0.geometry,material:t["Material.074_36"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_93_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_95_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_97_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_99_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_101_Material067_0.geometry,material:t["Material.074_36"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_103_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_105_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_107_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_109_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_111_Material067_0.geometry,material:t["Material.074_36"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_113_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_115_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_117_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_119_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_121_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_123_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_125_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_127_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,400.77],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:[154.135,91.415,91.415]}),C.jsx("mesh",{geometry:e.Object_129_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,385.792],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_131_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_133_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_135_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_137_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_139_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_141_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_143_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_145_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_147_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_149_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_151_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_153_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_155_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_157_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_159_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_161_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_163_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_165_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_167_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_169_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_171_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_173_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_175_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_177_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_179_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_181_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_183_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_185_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_187_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_189_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_191_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_193_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_195_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_197_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_199_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_201_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_203_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_205_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.578,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_207_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_209_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_211_Material067_0.geometry,material:t["Material.074_36"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_213_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_215_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_217_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_219_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_221_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,400.77],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:[154.135,91.415,91.415]}),C.jsx("mesh",{geometry:e.Object_223_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_225_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_227_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.432,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_229_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_231_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_233_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_235_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_237_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_239_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_241_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_243_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_245_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,289.941],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:[142.89,91.415,91.415]}),C.jsx("mesh",{geometry:e.Object_247_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_249_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_251_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_253_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_255_Material057_0.geometry,material:t["Material.074_33"],position:[129.141,32.601,395.134],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:[79.314,91.415,91.415]}),C.jsx("mesh",{geometry:e.Object_257_Material057_0.geometry,material:t["Material.074_33"],position:[129.141,32.601,395.134],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:[79.314,91.415,91.415]}),C.jsx("mesh",{geometry:e.Object_259_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,385.749],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_261_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,385.718],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_263_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,385.526],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_265_Material060_0.geometry,material:t["Material.074_34"],position:[125.985,34.792,402.731],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_267_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_269_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_271_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_273_Material067_0.geometry,material:t["Material.074_36"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_275_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_277_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_279_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_281_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_283_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_285_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_287_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_289_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_291_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_293_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_295_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_297_Material067_0.geometry,material:t["Material.074_36"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_299_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_301_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_303_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_305_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_307_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_309_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_311_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_313_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_315_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_317_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_319_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_321_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_323_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_325_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_327_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_329_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_331_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_333_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_335_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_337_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_339_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_341_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_343_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_345_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_347_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_349_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_351_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_353_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_355_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_357_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_359_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_361_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_363_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_365_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_367_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_369_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_371_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_373_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_375_Material067_0.geometry,material:t["Material.074_36"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_377_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_379_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_381_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_383_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_385_Material069_0.geometry,material:t["Material.074_38"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_387_Material005_0.geometry,material:t["Material.074_32"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_389_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_391_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_393_Material068_0.geometry,material:t["Material.074_37"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_395_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_397_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_399_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_401_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,289.941],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:[142.89,91.415,91.415]}),C.jsx("mesh",{geometry:e.Object_403_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_405_Material060_0.geometry,material:t["Material.074_34"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_407_Material070_0.geometry,material:t["Material.074_39"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_409_Material067_0.geometry,material:t["Material.074_36"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_411_Tasten_2_0.geometry,material:t.Tasten_2,position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_413_Material066_0.geometry,material:t["Material.074_35"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_415_Material057_0.geometry,material:t["Material.074_33"],position:[147.709,32.601,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_418_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_420_Tasten_0.geometry,material:t["Material.025"],position:[164.917,31.114,386.964],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:[67.569,91.415,91.415]}),C.jsx("mesh",{geometry:e.Object_422_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_424_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_426_Tasten_0.geometry,material:t["Material.025"],position:[130.241,34.605,390.577],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:[72.766,91.415,91.415]}),C.jsx("mesh",{geometry:e.Object_428_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_430_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_432_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_434_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_436_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_438_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,402.928],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_440_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_442_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_444_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_446_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_448_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_450_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_452_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_454_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_456_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_458_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_460_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_462_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_464_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_466_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_468_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_470_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_472_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_474_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_476_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_478_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_480_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_482_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_484_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_486_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_488_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_490_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_492_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_494_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_496_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_498_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_500_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_502_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_504_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_506_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_508_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_510_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_512_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_514_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,385.856],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_516_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,385.856],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_518_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,385.856],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_520_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,385.856],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_522_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,385.856],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_524_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,385.856],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_526_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_528_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,385.856],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_530_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_532_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_534_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_536_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_538_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_540_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_542_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_544_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_546_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_548_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_550_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_552_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_554_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_556_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_558_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_560_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_562_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_564_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_566_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_568_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_570_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_572_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_574_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_576_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_578_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_580_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_582_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_584_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_586_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_588_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_590_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_592_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_594_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_596_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_598_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_600_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_602_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_604_Material071_0.geometry,material:t["Material.025"],position:[147.709,34.581,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_606_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.296,259.275],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:[157.896,91.415,91.415]}),C.jsx("mesh",{geometry:e.Object_608_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_610_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_612_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_614_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_616_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_618_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_620_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_622_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_624_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_626_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_628_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_630_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_632_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_634_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_636_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_638_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_640_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_642_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_644_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_646_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_648_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_650_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_652_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_654_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_656_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_658_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_660_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_662_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_664_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_666_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_668_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_670_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_672_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_674_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_676_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_678_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_680_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_682_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_684_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_686_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_688_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_690_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_692_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_694_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_696_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_698_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_700_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_702_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_704_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_706_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_708_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_710_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_712_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_714_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_716_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_718_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_720_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_722_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_724_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_726_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_728_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_730_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_732_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_734_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_736_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_738_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_740_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_742_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_744_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_746_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_748_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_750_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_752_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_754_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_756_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_758_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_760_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_762_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_764_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_766_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_768_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_770_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_772_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_774_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_776_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_778_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_780_Tasten_0.geometry,material:t["Material.025"],position:[147.709,34.605,403.086],rotation:[-Math.PI/2,-1.481,Math.PI/2],scale:91.415}),C.jsx("mesh",{geometry:e.Object_784_Material057_0.geometry,material:t["Material.074_33"],position:[174.161,46.923,307.714],rotation:[-Math.PI/2,0,Math.PI/2],scale:49.824}),C.jsx("mesh",{geometry:e.Object_786_Material057_0.geometry,material:t["Material.074_33"],position:[191.377,45.228,324.985],rotation:[-Math.PI/2,0,-Math.PI],scale:49.824}),C.jsx("mesh",{geometry:e.Object_790_Material057_0.geometry,material:t["Material.074_33"],position:[191.377,45.228,290.099],rotation:[-Math.PI/2,0,0],scale:49.824}),C.jsx("mesh",{geometry:e.Object_792_Material057_0.geometry,material:t["Material.074_33"],position:[190.941,45.228,307.684],rotation:[-Math.PI/2,0,-1.538],scale:52.612}),C.jsx("mesh",{geometry:e.Object_794_Material070_0.geometry,material:t["Material.074_39"],position:[139.381,50.46,591.26],rotation:[-Math.PI/2,0,-Math.PI],scale:29.266}),C.jsx("mesh",{geometry:e.Object_796_Material070_0.geometry,material:t["Material.074_39"],position:[141.108,50.46,586.29],rotation:[-Math.PI/2,0,0],scale:29.266})]})})}jm.preload("/System.gltf");function xz(){const{progress:n}=Eme();return C.jsx(xme,{center:!0,children:C.jsxs(zn,{color:"#fff",gap:"2",direction:"column",alignItems:"center",children:[C.jsx(EE,{w:"20px",h:"20px"}),"loaded"]})})}const U6=()=>{const{innerWidth:n,innerHeight:e}=window;return{width:n,height:e}};function $0e(){const[n,e]=Y.useState(U6());return Y.useEffect(()=>{function t(){e(U6())}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n}const km=()=>{const{width:n}=$0e();let e=!1,t=!1,i=!1;return n>=1024?e=!0:n>=768?t=!0:i=!0,{isDesktop:e,isTablet:t,isMobile:i}},Z0e=()=>{const n=Y.useRef(null),{isDesktop:e}=km();return C.jsx(Q0e,{ref:n,scale:.3})},ege=()=>{const{isDesktop:n}=km();return C.jsx(zn,{w:"100%",h:{lg:"70vh",md:"70vh",sm:"30vh",xs:"30vh"},position:"absolute",zIndex:9,bottom:n?0:"50%",transform:n?"":"translate(0,50%)",left:0,children:C.jsxs(nz,{style:{minHeight:"auto",minWidth:"100%"},camera:{position:[200,300,10]},children:[C.jsx(pz,{enableZoom:!1,enableRotate:!0,maxPolarAngle:Math.PI/3.5,minPolarAngle:Math.PI/3.5,enablePan:!1}),C.jsx(Y.Suspense,{fallback:C.jsx(xz,{}),children:C.jsx(Z0e,{})}),C.jsx("ambientLight",{intensity:1}),C.jsx("pointLight",{intensity:1})]})})},xb={lg:"5em",md:"5em",sm:"3em",xs:"3em"},Mm={lg:"1.1em",md:"1.1em",sm:"1em",xs:"1em"},tge=()=>{const n=Y.useRef(null),e=Qu({targetRef:n});return C.jsxs(zn,{direction:"column",children:[C.jsx(zn,{as:Vs.div,initial:{y:20,opacity:0},animate:e?{y:0,opacity:1,transition:{delay:.5}}:{},position:"absolute",bottom:"10%",border:"2px solid #fff",rounded:"full",w:"30px",height:"60px",left:"50%",zIndex:9999,cursor:"pointer",justifyContent:"center",alignItems:"end",onClick:()=>window.scrollTo({top:window.innerHeight,behavior:"smooth"}),p:".1rem",transform:"translate(50%,0)",children:C.jsx(zn,{w:"20px",h:"20px",className:"scroller",bg:"#fff",rounded:"full"})}),C.jsxs(zn,{zIndex:2,w:"100%",h:"100%",position:"relative",mt:{lg:"8rem",md:"8rem",sm:"8rem",xs:"8rem"},gap:{lg:"4rem",md:"3rem",sm:"2rem",xs:"1rem"},px:{lg:"4rem",md:"3rem",sm:"2rem",xs:"1rem"},alignItems:"start",ref:n,children:[C.jsxs(zn,{justifyContent:"start",alignItems:"center",direction:"column",children:[C.jsx(zn,{w:"20px",h:"20px",aspectRatio:"1/1",rounded:"full",bg:"primary.500"}),C.jsx(zn,{mt:"-2px",w:"5px",h:{lg:"300px",md:"300px",sm:"150px",xs:"150px"},bg:"linear-gradient(to bottom, var(--bg1), transparent)"})]}),C.jsxs(zn,{color:"#fff",direction:"column",justifyContent:"start",children:[C.jsxs(Gn,{as:Vs.div,className:"maintext",lineHeight:"1em",initial:{x:40,opacity:0},animate:e?{x:0,opacity:1,transition:{duration:.3}}:{},fontSize:xb,children:[" ","Hi, I'm"," ",C.jsx(Gn,{as:"span",color:"primary.500",children:"Atif"})]}),C.jsxs(Gn,{as:Vs.div,initial:{transform:"translateY(100%)",opacity:0},animate:e?{transform:"translateY(0%)",opacity:1,transition:{duration:.5}}:{},className:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px] mt-2 text-white-100",children:["I develop modern, user ",C.jsx("br",{}),"interfaces and web applications"]})]})]}),C.jsx(zn,{as:Vs.div,initial:{opacity:0},animate:e?{opacity:1}:{},children:C.jsx(ege,{})})]})},F6=(n,e,t,i)=>{n.style.transition=`${e} ${t}ms ${i}`},Xh=(n,e,t)=>Math.min(Math.max(n,e),t);class nge{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=s=>{const{width:l,height:c}=s,f=Math.sqrt(l**2+c**2);return{width:f,height:f}},this.setSize=s=>{const l=this.calculateGlareSize(s);this.glareEl.style.width=`${l.width}px`,this.glareEl.style.height=`${l.height}px`},this.update=(s,l,c,f)=>{this.updateAngle(s,l.glareReverse),this.updateOpacity(s,l,c,f)},this.updateAngle=(s,l)=>{const{xPercentage:c,yPercentage:f}=s,p=180/Math.PI,g=c?Math.atan2(f,-c)*p:0;this.glareAngle=g-(l?180:0)},this.updateOpacity=(s,l,c,f)=>{const{xPercentage:p,yPercentage:g}=s,{glarePosition:y,glareReverse:v,glareMaxOpacity:x}=l,w=c?-1:1,A=f?-1:1,M=v?-1:1;let R=0;switch(y){case"top":R=-p*w*M;break;case"right":R=g*A*M;break;case"bottom":case void 0:R=p*w*M;break;case"left":R=-g*A*M;break;case"all":R=Math.hypot(p,g)}const P=Xh(R,0,100);this.glareOpacity=P*x/100},this.render=s=>{const{glareColor:l}=s;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${l} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const i={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},r=this.calculateGlareSize(e),a={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,i),Object.assign(this.glareEl.style,a)}}class ige{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:i,yPercentage:r}=e,{tiltMaxAngleX:a,tiltMaxAngleY:s}=t;this.tiltAngleX=i*a/100,this.tiltAngleY=r*s/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:i,tiltAngleYManual:r,tiltMaxAngleX:a,tiltMaxAngleY:s}=t;(i!==null||r!==null)&&(this.tiltAngleX=i!==null?i:0,this.tiltAngleY=r!==null?r:0,e.xPercentage=100*this.tiltAngleX/a,e.yPercentage=100*this.tiltAngleY/s)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=Xh(this.tiltAngleX,-90,90),this.tiltAngleY=Xh(this.tiltAngleY,-90,90),t&&(this.tiltAngleX=t==="x"?this.tiltAngleX:0,this.tiltAngleY=t==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:i}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/i*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const rge={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class Mz extends Y.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t({event:e}),this.props.reset){const i=new CustomEvent("autoreset");this.onMove(i)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":{const{tiltAngleXInitial:i,tiltAngleYInitial:r,tiltMaxAngleX:a,tiltMaxAngleY:s}=this.props,l=r/s*100;this.wrapperEl.clientPosition.xPercentage=Xh(i/a*100,-100,100),this.wrapperEl.clientPosition.yPercentage=Xh(l,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:i}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=r/i*100,this.wrapperEl.clientPosition.xPercentage=Xh(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=Xh(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:i,flipHorizontally:r}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,i,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,i;if(e){const{x:r,y:a}=this.wrapperEl.clientPosition;t=a/window.innerHeight*200-100,i=r/window.innerWidth*200-100}else{const{size:{width:r,height:a,left:s,top:l},clientPosition:{x:c,y:f}}=this.wrapperEl;t=(f-l)/a*200-100,i=(c-s)/r*200-100}this.wrapperEl.clientPosition.xPercentage=Xh(t,-100,100),this.wrapperEl.clientPosition.yPercentage=Xh(i,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new ige,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new nge(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let i=0,r=0;this.glare&&(i=this.glare.glareAngle,r=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:i,glareOpacity:r,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;F6(this.wrapperEl.node,"all",e,t),this.glare&&F6(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:i}=this.props;return C.jsx("div",{ref:r=>{this.wrapperEl.node=r},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:i,children:e})}}Mz.defaultProps=rge;const age=n=>{const{children:e}=n,[t,i]=Y.useState(1.05),{isMobile:r}=km();return C.jsxs(Mz,{scale:t,transitionSpeed:2500,perspective:500,style:{boxShadow:"0 0 20px rgba(0, 0, 0, 0.1), 0 0 30px rgba(145, 94, 255, 0.1), 0 0 40px rgba(255, 0, 0, 0.1), 0 0 50px rgba(145, 94, 255, 0.1)",position:"relative",overflow:"hidden",width:"300px",height:r?"200px":"400px",borderRadius:"20px",display:"flex",justifyContent:"center",alignItems:"center"},children:[C.jsx(zn,{position:"absolute",left:"50%",top:"50%",animation:"rotate 3s linear infinite",sx:{"@keyframes rotate":{"0%":{transform:"translate(-50%,-50%) rotate(0deg)"},"100%":{transform:"translate(-50%,-50%) rotate(360deg)"}}},transform:"translate(-50%,-50%)",m:"auto",style:{width:"500%",height:"500%",transformStyle:"preserve-3d",background:"conic-gradient(from 0deg at 50% 50%, #915eff, #ff0000, #915eff)"},zIndex:-1}),C.jsx(zn,{zIndex:2,justifyContent:"center",alignItems:"center",bg:"primary.900",m:"auto",w:"99%",style:{borderRadius:"20px"},height:"99%",children:C.jsx(zn,{transform:"translateZ(60px)",w:"100%",h:"100%",children:e})})]})},sge=()=>{const n=[{title:"Frontend Developer",Image:""},{title:"UI/UX Designer",Image:""},{title:"Photographer",Image:""}],e=Y.useRef(null),t=Y.useRef(null),i=Qu({targetRef:e}),r=Qu({targetRef:t});return C.jsxs(zn,{w:"100%",direction:"column",justifyContent:"start",alignItems:"start",textAlign:"start",children:[C.jsxs(zn,{direction:"column",maxW:{lg:"60%",md:"70%",sm:"100%",xs:"100%"},p:{lg:"0%",md:"0%",sm:"1rem",xs:"1rem"},ref:e,children:[C.jsx(Gn,{as:Vs.div,initial:{transform:"translateX(-10%)",opacity:0},animate:i?{transform:"translateX(0%)",opacity:1,transition:{duration:.5,delay:.1}}:{},color:"secondary.300",fontSize:"fontStyle",className:"uppercase tracking-wider",children:"Introduction"}),C.jsx(Gn,{as:Vs.div,initial:{transform:"translateX(-10%)",opacity:0},animate:i?{transform:"translateX(0%)",opacity:1,transition:{duration:.5,delay:.2}}:{},color:"#fff",className:"maintext",fontSize:xb,children:"Overview."}),C.jsx(Gn,{as:Vs.div,initial:{transform:"translateX(-10%)",opacity:0},animate:i?{transform:"translateX(0%)",opacity:1,transition:{duration:.5,delay:.3}}:{},color:"secondary.300",fontSize:Mm,children:"I'm a skilled software developer with experience in JavaScript, and expertise in frameworks like React, and Next.js. I'm a quick learner and collaborate closely with clients to create efficient, scalable, and user-friendly solutions that solve real-world problems. Let's work together to bring your ideas to life!"})]}),C.jsx(zn,{w:"100%",p:"2rem 1rem",gap:"2rem",ref:t,minH:"60vh",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",children:n.map((a,s)=>C.jsx(Pd,{as:Vs.div,initial:{y:"60%",opacity:0},animate:r?{y:0,opacity:1,transition:{duration:.6,ease:"easeInOut"}}:{y:"20%",opacity:0,transition:{ease:"easeInOut"}},children:C.jsx(age,{children:C.jsx(zn,{w:"100%",justifyContent:"center",alignItems:"center",direction:"column",children:C.jsxs(Gn,{textAlign:"center",color:"#fff",fontSize:"2em",className:"maintext",children:[" ",a.title]})})})},s))})]})},Sz=n=>{const{children:e,intensity:t,...i}=n;return C.jsx(zn,{h:"150px",width:"150px",bg:`rgba(255, 255, 255,${t||0})`,backdropFilter:"blur(5px)",borderRadius:"10px",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",overflow:"hidden",position:"relative",_before:{content:'""',position:"absolute",top:0,left:0,right:0,height:"1px",background:"linear-gradient(to right, transparent, rgba(255, 255, 255, 0.5), transparent)"},_after:{content:'""',position:"absolute",bottom:0,left:"20%",right:"20%",height:"1px",background:"linear-gradient(to right, transparent, rgba(255, 255, 255, 0.3), transparent)"},...i,children:e})},Az=()=>C.jsx(Pd,{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1,overflow:"hidden",pointerEvents:"none",w:"100%",height:"100%",children:xr.useMemo(()=>Array.from({length:100}).map((e,t)=>{const i=Math.random()*3+1,r=Math.random()*3+1,a=Math.random()*.7+.3,s=Math.random()*100,l=Math.random()*100,c=Math.random()*3+2;return C.jsx(Pd,{as:Vs.div,position:"absolute",width:i+"px",height:r+"px",borderRadius:"full",backgroundColor:"#fff",opacity:a,top:s+"%",left:l+"%",animate:{opacity:[.3,.8,.3],scale:[1,1.2,1],transition:{duration:c,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}},t)}),[])}),oge=()=>{const{isMobile:n}=km(),e=[{role:"Software Engineer - Frontend",company:"Zopper",Exp:"2.4 years",logo:"https://assets.entrepreneur.com/content/3x2/2000/1663656290-Untitleddesign96.jpg"}];return C.jsxs(zn,{w:"100%",position:"relative",gap:"1rem",justifyContent:"center",direction:"column",alignItems:"center",color:"#fff",m:"auto",children:[C.jsx(Az,{}),C.jsx(Gn,{zIndex:2,fontSize:Mm,className:"uppercase",color:"secondary.500",children:"What I have done so far"}),C.jsx(Gn,{zIndex:2,fontSize:xb,className:"maintext",children:"Work Experience."}),C.jsx(zn,{w:"100%",direction:"column",py:"2rem",zIndex:2,children:e.map((t,i)=>{const r=Y.useRef(null),a=Qu({targetRef:r,offset:"100px"});return C.jsx(zn,{py:"2rem",w:"100%",minH:"400px",position:"relative",ref:r,px:{lg:"1rem",md:"1rem",sm:"1rem",xs:"1rem"},justifyContent:n?"end":i%2===0?"start":"end",_before:{content:"''",position:"absolute",top:"20%",left:n?"2%":"50%",transform:n?"translate(0%, 0%)":"translate(-50%, 0%)",w:n?"45px":"60px",rounded:"full",bg:"#fff",zIndex:2,height:n?"45px":"60px",backgroundImage:t.logo,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},_after:{content:"''",zIndex:1,position:"absolute",top:0,left:n?"6%":"50%",transform:n?"translate(0%, 0%)":"translate(-50%, 0%)",w:"10px",bg:"#fff",height:"100%"},children:C.jsx(Pd,{as:Vs.div,initial:{x:n?10:i%2===0?-10:10,opacity:0},animate:a?{x:"0%",opacity:1,transition:{duration:.4}}:{},children:C.jsxs(Sz,{width:{lg:"400px",md:"300px",sm:"300px",xs:"300px"},height:"auto",intensity:.1,justifyContent:"start",alignItems:"start",backgroundColor:"primary.800",gap:2,direction:"column",p:{lg:"2rem",md:"1rem",sm:"1rem",xs:"1rem"},children:[C.jsx(Gn,{textTransform:"uppercase",className:"maintext",fontWeight:"bold",letterSpacing:"2px",color:"primary.400",fontSize:Mm,children:t.role}),C.jsx(Gn,{textTransform:"uppercase",fontWeight:"bold",color:"secondary.400",fontSize:Mm,children:t.company}),C.jsxs(zn,{direction:"column",fontSize:"md",gap:2,overflow:"auto",children:[C.jsx(Gn,{position:"relative",pl:"1rem",_after:{content:"''",width:"7px",position:"absolute",top:".4rem",left:"0",height:"7px",bg:"#fff",borderRadius:"100%"},children:"Built UI components for BOB Life Insurance, including draggable/droppable features and a Stepper Component with 98.10% code quality."}),C.jsx(Gn,{position:"relative",pl:"1rem",_after:{content:"''",width:"7px",position:"absolute",top:".4rem",left:"0",height:"7px",bg:"#fff",borderRadius:"100%"},children:"Developed SAAS modules for Bank of Baroda and implemented scrollable table interfaces for Indian Bank and Bank of Maharashtra, ensuring 92% code quality."}),C.jsx(Gn,{position:"relative",pl:"1rem",_after:{content:"''",width:"7px",position:"absolute",top:".4rem",left:"0",height:"7px",bg:"#fff",borderRadius:"100%"},children:"Created responsive interfaces for Payworld insurance products and delivered a Progressive Web Application (PWA) with high device compatibility."}),C.jsx(Gn,{position:"relative",pl:"1rem",_after:{content:"''",width:"7px",position:"absolute",top:".4rem",left:"0",height:"7px",bg:"#fff",borderRadius:"100%"},children:"Improved performance on low-end devices with a custom modal and integrated AXIOS for efficient API management."}),C.jsx(Gn,{position:"relative",pl:"1rem",_after:{content:"''",width:"7px",position:"absolute",top:".4rem",left:"0",height:"7px",bg:"#fff",borderRadius:"100%"},children:"Gained proficiency in TypeScript, AngularJS, and Flutter through online courses."})]})]})})},i)})})]})};function lge(n){const e=xr.useRef(),{nodes:t,materials:i,animations:r}=jm("/three-portfolio/earth.gltf"),{actions:a}=O0e(r,e);return C.jsx("group",{ref:e,dispose:null,...n,children:C.jsx("group",{name:"Sketchfab_Scene",children:C.jsx("group",{name:"Sketchfab_model",rotation:[-1.54,-.064,0],children:C.jsx("group",{name:"root",children:C.jsxs("group",{name:"GLTF_SceneRootNode",rotation:[Math.PI/2,0,0],children:[C.jsx("group",{name:"Clouds_1",children:C.jsx("mesh",{name:"Object_4",geometry:t.Object_4.geometry,material:i.Clouds})}),C.jsx("group",{name:"Planet_2",children:C.jsx("mesh",{name:"Object_6",geometry:t.Object_6.geometry,material:i.Planet})})]})})})})})}jm.preload("/earth.gltf");const cge=()=>{const n=Y.useRef(null),{isDesktop:e}=km();return C.jsx(lge,{ref:n,scale:e?2:3})},uge=()=>{const{isDesktop:n}=km(),e=Y.useRef(null),t=Qu({targetRef:e});return C.jsx(zn,{ref:e,initial:{x:100,opacity:0},animate:t?{x:0,opacity:1,transition:{ease:"easeIn",duration:.2}}:{},as:Vs.div,w:{lg:"500px",md:"500px",sm:"auto",xs:"auto"},h:"100%",minH:{lg:"80vh",md:"300px",xs:"auto",sm:"auto"},position:"relative",mx:"auto",children:C.jsxs(nz,{style:{position:"relative",height:n?"80vh":"40vh"},children:[C.jsx(pz,{maxPolarAngle:Math.PI/3,enableZoom:!1,enableRotate:!0,autoRotate:!0}),C.jsx("ambientLight",{intensity:1}),t&&C.jsx(Y.Suspense,{fallback:C.jsx(xz,{}),children:C.jsx(cge,{})}),C.jsx(J0e,{preset:"sunset"})]})})},hge=()=>{};var z6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},fge=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],s=n[t++],l=n[t++],c=((r&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const a=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63)}}return e.join("")},Tz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],s=r+1<n.length,l=s?n[r+1]:0,c=r+2<n.length,f=c?n[r+2]:0,p=a>>2,g=(a&3)<<4|l>>4;let y=(l&15)<<2|f>>6,v=f&63;c||(v=64,s||(y=64)),i.push(t[p],t[g],t[y],t[v])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ez(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fge(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],l=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const g=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||l==null||f==null||g==null)throw new dge;const y=a<<2|l>>4;if(i.push(y),f!==64){const v=l<<4&240|f>>2;if(i.push(v),g!==64){const x=f<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pge=function(n){const e=Ez(n);return Tz.encodeByteArray(e,!0)},HA=function(n){return pge(n).replace(/\./g,"")},mge=function(n){try{return Tz.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yge=()=>gge().__FIREBASE_DEFAULTS__,_ge=()=>{if(typeof process>"u"||typeof z6>"u")return;const n=z6.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vge=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mge(n[1]);return e&&JSON.parse(e)},EI=()=>{try{return hge()||yge()||_ge()||vge()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bge=n=>{var e,t;return(t=(e=EI())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xge=n=>{const e=bge(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Cz=()=>{var n;return(n=EI())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sge(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[HA(JSON.stringify(t)),HA(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Age(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ege(){var n;const e=(n=EI())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tge(){return!Ege()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cge(){try{return typeof indexedDB=="object"}catch{return!1}}function wge(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rge="FirebaseError";class Iy extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Rge,Object.setPrototypeOf(this,Iy.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wz.prototype.create)}}class wz{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],s=a?Ige(a,i):"Error",l=`${this.serviceName}: ${s} (${r}).`;return new Iy(r,l,i)}}function Ige(n,e){return n.replace(Pge,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Pge=/\{\$([^}]+)}/g;function GA(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],s=e[r];if(V6(a)&&V6(s)){if(!GA(a,s))return!1}else if(a!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function V6(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(n){return n&&n._delegate?n._delegate:n}class D1{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dge{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Mge;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Oge(e))try{this.getOrInitializeService({instanceIdentifier:$p})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=$p){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$p){return this.instances.has(e)}getOptions(e=$p){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&s.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Bge(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$p){return this.component?this.component.multipleInstances?e:$p:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bge(n){return n===$p?void 0:n}function Oge(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Dge(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wi||(wi={}));const Lge={debug:wi.DEBUG,verbose:wi.VERBOSE,info:wi.INFO,warn:wi.WARN,error:wi.ERROR,silent:wi.SILENT},Uge=wi.INFO,Fge={[wi.DEBUG]:"log",[wi.VERBOSE]:"log",[wi.INFO]:"info",[wi.WARN]:"warn",[wi.ERROR]:"error"},zge=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=Fge[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rz{constructor(e){this.name=e,this._logLevel=Uge,this._logHandler=zge,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wi))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lge[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wi.DEBUG,...e),this._logHandler(this,wi.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wi.VERBOSE,...e),this._logHandler(this,wi.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wi.INFO,...e),this._logHandler(this,wi.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wi.WARN,...e),this._logHandler(this,wi.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wi.ERROR,...e),this._logHandler(this,wi.ERROR,...e)}}const Vge=(n,e)=>e.some(t=>n instanceof t);let j6,k6;function jge(){return j6||(j6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kge(){return k6||(k6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iz=new WeakMap,D4=new WeakMap,Pz=new WeakMap,sw=new WeakMap,TI=new WeakMap;function Hge(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",s)},a=()=>{t(Ad(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Iz.set(t,n)}).catch(()=>{}),TI.set(e,n),e}function Gge(n){if(D4.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",s),n.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",s),n.addEventListener("abort",s)});D4.set(n,e)}let B4={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return D4.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Pz.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ad(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Xge(n){B4=n(B4)}function qge(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ow(this),e,...t);return Pz.set(i,e.sort?e.sort():[e]),Ad(i)}:kge().includes(n)?function(...e){return n.apply(ow(this),e),Ad(Iz.get(this))}:function(...e){return Ad(n.apply(ow(this),e))}}function Wge(n){return typeof n=="function"?qge(n):(n instanceof IDBTransaction&&Gge(n),Vge(n,jge())?new Proxy(n,B4):n)}function Ad(n){if(n instanceof IDBRequest)return Hge(n);if(sw.has(n))return sw.get(n);const e=Wge(n);return e!==n&&(sw.set(n,e),TI.set(e,n)),e}const ow=n=>TI.get(n);function Yge(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const s=indexedDB.open(n,e),l=Ad(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Ad(s.result),c.oldVersion,c.newVersion,Ad(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Kge=["get","getKey","getAll","getAllKeys","count"],Jge=["put","add","delete","clear"],lw=new Map;function H6(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lw.get(e))return lw.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Jge.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Kge.includes(t)))return;const a=async function(s,...l){const c=this.transaction(s,r?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(l.shift())),(await Promise.all([f[t](...l),r&&c.done]))[0]};return lw.set(e,a),a}Xge(n=>({...n,get:(e,t,i)=>H6(e,t)||n.get(e,t,i),has:(e,t)=>!!H6(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($ge(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function $ge(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const O4="@firebase/app",G6="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Rz("@firebase/app"),Zge="@firebase/app-compat",eye="@firebase/analytics-compat",tye="@firebase/analytics",nye="@firebase/app-check-compat",iye="@firebase/app-check",rye="@firebase/auth",aye="@firebase/auth-compat",sye="@firebase/database",oye="@firebase/data-connect",lye="@firebase/database-compat",cye="@firebase/functions",uye="@firebase/functions-compat",hye="@firebase/installations",fye="@firebase/installations-compat",dye="@firebase/messaging",pye="@firebase/messaging-compat",mye="@firebase/performance",gye="@firebase/performance-compat",yye="@firebase/remote-config",_ye="@firebase/remote-config-compat",vye="@firebase/storage",bye="@firebase/storage-compat",xye="@firebase/firestore",Mye="@firebase/vertexai",Sye="@firebase/firestore-compat",Aye="firebase",Eye="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="[DEFAULT]",Tye={[O4]:"fire-core",[Zge]:"fire-core-compat",[tye]:"fire-analytics",[eye]:"fire-analytics-compat",[iye]:"fire-app-check",[nye]:"fire-app-check-compat",[rye]:"fire-auth",[aye]:"fire-auth-compat",[sye]:"fire-rtdb",[oye]:"fire-data-connect",[lye]:"fire-rtdb-compat",[cye]:"fire-fn",[uye]:"fire-fn-compat",[hye]:"fire-iid",[fye]:"fire-iid-compat",[dye]:"fire-fcm",[pye]:"fire-fcm-compat",[mye]:"fire-perf",[gye]:"fire-perf-compat",[yye]:"fire-rc",[_ye]:"fire-rc-compat",[vye]:"fire-gcs",[bye]:"fire-gcs-compat",[xye]:"fire-fst",[Sye]:"fire-fst-compat",[Mye]:"fire-vertex","fire-js":"fire-js",[Aye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new Map,Cye=new Map,L4=new Map;function X6(n,e){try{n.container.addComponent(e)}catch(t){ff.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qA(n){const e=n.name;if(L4.has(e))return ff.debug(`There were multiple attempts to register component ${e}.`),!1;L4.set(e,n);for(const t of XA.values())X6(t,n);for(const t of Cye.values())X6(t,n);return!0}function wye(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rye(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iye={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ed=new wz("app","Firebase",Iye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pye{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new D1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ed.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dye=Eye;function Dz(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:N4,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ed.create("bad-app-name",{appName:String(r)});if(t||(t=Cz()),!t)throw Ed.create("no-options");const a=XA.get(r);if(a){if(GA(t,a.options)&&GA(i,a.config))return a;throw Ed.create("duplicate-app",{appName:r})}const s=new Nge(r);for(const c of L4.values())s.addComponent(c);const l=new Pye(t,i,s);return XA.set(r,l),l}function Bye(n=N4){const e=XA.get(n);if(!e&&n===N4&&Cz())return Dz();if(!e)throw Ed.create("no-app",{appName:n});return e}function zg(n,e,t){var i;let r=(i=Tye[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ff.warn(l.join(" "));return}qA(new D1(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oye="firebase-heartbeat-database",Nye=1,B1="firebase-heartbeat-store";let cw=null;function Bz(){return cw||(cw=Yge(Oye,Nye,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(B1)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ed.create("idb-open",{originalErrorMessage:n.message})})),cw}async function Lye(n){try{const t=(await Bz()).transaction(B1),i=await t.objectStore(B1).get(Oz(n));return await t.done,i}catch(e){if(e instanceof Iy)ff.warn(e.message);else{const t=Ed.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ff.warn(t.message)}}}async function q6(n,e){try{const i=(await Bz()).transaction(B1,"readwrite");await i.objectStore(B1).put(e,Oz(n)),await i.done}catch(t){if(t instanceof Iy)ff.warn(t.message);else{const i=Ed.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ff.warn(i.message)}}}function Oz(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uye=1024,Fye=30;class zye{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jye(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W6();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>Fye){const s=kye(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ff.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W6(),{heartbeatsToSend:i,unsentEntries:r}=Vye(this._heartbeatsCache.heartbeats),a=HA(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ff.warn(t),""}}}function W6(){return new Date().toISOString().substring(0,10)}function Vye(n,e=Uye){const t=[];let i=n.slice();for(const r of n){const a=t.find(s=>s.agent===r.agent);if(a){if(a.dates.push(r.date),Y6(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Y6(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class jye{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cge()?wge().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Lye(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return q6(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return q6(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Y6(n){return HA(JSON.stringify({version:2,heartbeats:n})).length}function kye(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hye(n){qA(new D1("platform-logger",e=>new Qge(e),"PRIVATE")),qA(new D1("heartbeat",e=>new zye(e),"PRIVATE")),zg(O4,G6,n),zg(O4,G6,"esm2017"),zg("fire-js","")}Hye("");var K6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Td,Nz;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,N){function B(){}B.prototype=N.prototype,U.D=N.prototype,U.prototype=new B,U.prototype.constructor=U,U.C=function(O,H,Q){for(var G=Array(arguments.length-2),he=2;he<arguments.length;he++)G[he-2]=arguments[he];return N.prototype[H].apply(O,G)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(U,N,B){B||(B=0);var O=Array(16);if(typeof N=="string")for(var H=0;16>H;++H)O[H]=N.charCodeAt(B++)|N.charCodeAt(B++)<<8|N.charCodeAt(B++)<<16|N.charCodeAt(B++)<<24;else for(H=0;16>H;++H)O[H]=N[B++]|N[B++]<<8|N[B++]<<16|N[B++]<<24;N=U.g[0],B=U.g[1],H=U.g[2];var Q=U.g[3],G=N+(Q^B&(H^Q))+O[0]+3614090360&4294967295;N=B+(G<<7&4294967295|G>>>25),G=Q+(H^N&(B^H))+O[1]+3905402710&4294967295,Q=N+(G<<12&4294967295|G>>>20),G=H+(B^Q&(N^B))+O[2]+606105819&4294967295,H=Q+(G<<17&4294967295|G>>>15),G=B+(N^H&(Q^N))+O[3]+3250441966&4294967295,B=H+(G<<22&4294967295|G>>>10),G=N+(Q^B&(H^Q))+O[4]+4118548399&4294967295,N=B+(G<<7&4294967295|G>>>25),G=Q+(H^N&(B^H))+O[5]+1200080426&4294967295,Q=N+(G<<12&4294967295|G>>>20),G=H+(B^Q&(N^B))+O[6]+2821735955&4294967295,H=Q+(G<<17&4294967295|G>>>15),G=B+(N^H&(Q^N))+O[7]+4249261313&4294967295,B=H+(G<<22&4294967295|G>>>10),G=N+(Q^B&(H^Q))+O[8]+1770035416&4294967295,N=B+(G<<7&4294967295|G>>>25),G=Q+(H^N&(B^H))+O[9]+2336552879&4294967295,Q=N+(G<<12&4294967295|G>>>20),G=H+(B^Q&(N^B))+O[10]+4294925233&4294967295,H=Q+(G<<17&4294967295|G>>>15),G=B+(N^H&(Q^N))+O[11]+2304563134&4294967295,B=H+(G<<22&4294967295|G>>>10),G=N+(Q^B&(H^Q))+O[12]+1804603682&4294967295,N=B+(G<<7&4294967295|G>>>25),G=Q+(H^N&(B^H))+O[13]+4254626195&4294967295,Q=N+(G<<12&4294967295|G>>>20),G=H+(B^Q&(N^B))+O[14]+2792965006&4294967295,H=Q+(G<<17&4294967295|G>>>15),G=B+(N^H&(Q^N))+O[15]+1236535329&4294967295,B=H+(G<<22&4294967295|G>>>10),G=N+(H^Q&(B^H))+O[1]+4129170786&4294967295,N=B+(G<<5&4294967295|G>>>27),G=Q+(B^H&(N^B))+O[6]+3225465664&4294967295,Q=N+(G<<9&4294967295|G>>>23),G=H+(N^B&(Q^N))+O[11]+643717713&4294967295,H=Q+(G<<14&4294967295|G>>>18),G=B+(Q^N&(H^Q))+O[0]+3921069994&4294967295,B=H+(G<<20&4294967295|G>>>12),G=N+(H^Q&(B^H))+O[5]+3593408605&4294967295,N=B+(G<<5&4294967295|G>>>27),G=Q+(B^H&(N^B))+O[10]+38016083&4294967295,Q=N+(G<<9&4294967295|G>>>23),G=H+(N^B&(Q^N))+O[15]+3634488961&4294967295,H=Q+(G<<14&4294967295|G>>>18),G=B+(Q^N&(H^Q))+O[4]+3889429448&4294967295,B=H+(G<<20&4294967295|G>>>12),G=N+(H^Q&(B^H))+O[9]+568446438&4294967295,N=B+(G<<5&4294967295|G>>>27),G=Q+(B^H&(N^B))+O[14]+3275163606&4294967295,Q=N+(G<<9&4294967295|G>>>23),G=H+(N^B&(Q^N))+O[3]+4107603335&4294967295,H=Q+(G<<14&4294967295|G>>>18),G=B+(Q^N&(H^Q))+O[8]+1163531501&4294967295,B=H+(G<<20&4294967295|G>>>12),G=N+(H^Q&(B^H))+O[13]+2850285829&4294967295,N=B+(G<<5&4294967295|G>>>27),G=Q+(B^H&(N^B))+O[2]+4243563512&4294967295,Q=N+(G<<9&4294967295|G>>>23),G=H+(N^B&(Q^N))+O[7]+1735328473&4294967295,H=Q+(G<<14&4294967295|G>>>18),G=B+(Q^N&(H^Q))+O[12]+2368359562&4294967295,B=H+(G<<20&4294967295|G>>>12),G=N+(B^H^Q)+O[5]+4294588738&4294967295,N=B+(G<<4&4294967295|G>>>28),G=Q+(N^B^H)+O[8]+2272392833&4294967295,Q=N+(G<<11&4294967295|G>>>21),G=H+(Q^N^B)+O[11]+1839030562&4294967295,H=Q+(G<<16&4294967295|G>>>16),G=B+(H^Q^N)+O[14]+4259657740&4294967295,B=H+(G<<23&4294967295|G>>>9),G=N+(B^H^Q)+O[1]+2763975236&4294967295,N=B+(G<<4&4294967295|G>>>28),G=Q+(N^B^H)+O[4]+1272893353&4294967295,Q=N+(G<<11&4294967295|G>>>21),G=H+(Q^N^B)+O[7]+4139469664&4294967295,H=Q+(G<<16&4294967295|G>>>16),G=B+(H^Q^N)+O[10]+3200236656&4294967295,B=H+(G<<23&4294967295|G>>>9),G=N+(B^H^Q)+O[13]+681279174&4294967295,N=B+(G<<4&4294967295|G>>>28),G=Q+(N^B^H)+O[0]+3936430074&4294967295,Q=N+(G<<11&4294967295|G>>>21),G=H+(Q^N^B)+O[3]+3572445317&4294967295,H=Q+(G<<16&4294967295|G>>>16),G=B+(H^Q^N)+O[6]+76029189&4294967295,B=H+(G<<23&4294967295|G>>>9),G=N+(B^H^Q)+O[9]+3654602809&4294967295,N=B+(G<<4&4294967295|G>>>28),G=Q+(N^B^H)+O[12]+3873151461&4294967295,Q=N+(G<<11&4294967295|G>>>21),G=H+(Q^N^B)+O[15]+530742520&4294967295,H=Q+(G<<16&4294967295|G>>>16),G=B+(H^Q^N)+O[2]+3299628645&4294967295,B=H+(G<<23&4294967295|G>>>9),G=N+(H^(B|~Q))+O[0]+4096336452&4294967295,N=B+(G<<6&4294967295|G>>>26),G=Q+(B^(N|~H))+O[7]+1126891415&4294967295,Q=N+(G<<10&4294967295|G>>>22),G=H+(N^(Q|~B))+O[14]+2878612391&4294967295,H=Q+(G<<15&4294967295|G>>>17),G=B+(Q^(H|~N))+O[5]+4237533241&4294967295,B=H+(G<<21&4294967295|G>>>11),G=N+(H^(B|~Q))+O[12]+1700485571&4294967295,N=B+(G<<6&4294967295|G>>>26),G=Q+(B^(N|~H))+O[3]+2399980690&4294967295,Q=N+(G<<10&4294967295|G>>>22),G=H+(N^(Q|~B))+O[10]+4293915773&4294967295,H=Q+(G<<15&4294967295|G>>>17),G=B+(Q^(H|~N))+O[1]+2240044497&4294967295,B=H+(G<<21&4294967295|G>>>11),G=N+(H^(B|~Q))+O[8]+1873313359&4294967295,N=B+(G<<6&4294967295|G>>>26),G=Q+(B^(N|~H))+O[15]+4264355552&4294967295,Q=N+(G<<10&4294967295|G>>>22),G=H+(N^(Q|~B))+O[6]+2734768916&4294967295,H=Q+(G<<15&4294967295|G>>>17),G=B+(Q^(H|~N))+O[13]+1309151649&4294967295,B=H+(G<<21&4294967295|G>>>11),G=N+(H^(B|~Q))+O[4]+4149444226&4294967295,N=B+(G<<6&4294967295|G>>>26),G=Q+(B^(N|~H))+O[11]+3174756917&4294967295,Q=N+(G<<10&4294967295|G>>>22),G=H+(N^(Q|~B))+O[2]+718787259&4294967295,H=Q+(G<<15&4294967295|G>>>17),G=B+(Q^(H|~N))+O[9]+3951481745&4294967295,U.g[0]=U.g[0]+N&4294967295,U.g[1]=U.g[1]+(H+(G<<21&4294967295|G>>>11))&4294967295,U.g[2]=U.g[2]+H&4294967295,U.g[3]=U.g[3]+Q&4294967295}i.prototype.u=function(U,N){N===void 0&&(N=U.length);for(var B=N-this.blockSize,O=this.B,H=this.h,Q=0;Q<N;){if(H==0)for(;Q<=B;)r(this,U,Q),Q+=this.blockSize;if(typeof U=="string"){for(;Q<N;)if(O[H++]=U.charCodeAt(Q++),H==this.blockSize){r(this,O),H=0;break}}else for(;Q<N;)if(O[H++]=U[Q++],H==this.blockSize){r(this,O),H=0;break}}this.h=H,this.o+=N},i.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var N=1;N<U.length-8;++N)U[N]=0;var B=8*this.o;for(N=U.length-8;N<U.length;++N)U[N]=B&255,B/=256;for(this.u(U),U=Array(16),N=B=0;4>N;++N)for(var O=0;32>O;O+=8)U[B++]=this.g[N]>>>O&255;return U};function a(U,N){var B=l;return Object.prototype.hasOwnProperty.call(B,U)?B[U]:B[U]=N(U)}function s(U,N){this.h=N;for(var B=[],O=!0,H=U.length-1;0<=H;H--){var Q=U[H]|0;O&&Q==N||(B[H]=Q,O=!1)}this.g=B}var l={};function c(U){return-128<=U&&128>U?a(U,function(N){return new s([N|0],0>N?-1:0)}):new s([U|0],0>U?-1:0)}function f(U){if(isNaN(U)||!isFinite(U))return g;if(0>U)return A(f(-U));for(var N=[],B=1,O=0;U>=B;O++)N[O]=U/B|0,B*=4294967296;return new s(N,0)}function p(U,N){if(U.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U.charAt(0)=="-")return A(p(U.substring(1),N));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=f(Math.pow(N,8)),O=g,H=0;H<U.length;H+=8){var Q=Math.min(8,U.length-H),G=parseInt(U.substring(H,H+Q),N);8>Q?(Q=f(Math.pow(N,Q)),O=O.j(Q).add(f(G))):(O=O.j(B),O=O.add(f(G)))}return O}var g=c(0),y=c(1),v=c(16777216);n=s.prototype,n.m=function(){if(w(this))return-A(this).m();for(var U=0,N=1,B=0;B<this.g.length;B++){var O=this.i(B);U+=(0<=O?O:4294967296+O)*N,N*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(x(this))return"0";if(w(this))return"-"+A(this).toString(U);for(var N=f(Math.pow(U,6)),B=this,O="";;){var H=L(B,N).g;B=M(B,H.j(N));var Q=((0<B.g.length?B.g[0]:B.h)>>>0).toString(U);if(B=H,x(B))return Q+O;for(;6>Q.length;)Q="0"+Q;O=Q+O}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function x(U){if(U.h!=0)return!1;for(var N=0;N<U.g.length;N++)if(U.g[N]!=0)return!1;return!0}function w(U){return U.h==-1}n.l=function(U){return U=M(this,U),w(U)?-1:x(U)?0:1};function A(U){for(var N=U.g.length,B=[],O=0;O<N;O++)B[O]=~U.g[O];return new s(B,~U.h).add(y)}n.abs=function(){return w(this)?A(this):this},n.add=function(U){for(var N=Math.max(this.g.length,U.g.length),B=[],O=0,H=0;H<=N;H++){var Q=O+(this.i(H)&65535)+(U.i(H)&65535),G=(Q>>>16)+(this.i(H)>>>16)+(U.i(H)>>>16);O=G>>>16,Q&=65535,G&=65535,B[H]=G<<16|Q}return new s(B,B[B.length-1]&-2147483648?-1:0)};function M(U,N){return U.add(A(N))}n.j=function(U){if(x(this)||x(U))return g;if(w(this))return w(U)?A(this).j(A(U)):A(A(this).j(U));if(w(U))return A(this.j(A(U)));if(0>this.l(v)&&0>U.l(v))return f(this.m()*U.m());for(var N=this.g.length+U.g.length,B=[],O=0;O<2*N;O++)B[O]=0;for(O=0;O<this.g.length;O++)for(var H=0;H<U.g.length;H++){var Q=this.i(O)>>>16,G=this.i(O)&65535,he=U.i(H)>>>16,_e=U.i(H)&65535;B[2*O+2*H]+=G*_e,R(B,2*O+2*H),B[2*O+2*H+1]+=Q*_e,R(B,2*O+2*H+1),B[2*O+2*H+1]+=G*he,R(B,2*O+2*H+1),B[2*O+2*H+2]+=Q*he,R(B,2*O+2*H+2)}for(O=0;O<N;O++)B[O]=B[2*O+1]<<16|B[2*O];for(O=N;O<2*N;O++)B[O]=0;return new s(B,0)};function R(U,N){for(;(U[N]&65535)!=U[N];)U[N+1]+=U[N]>>>16,U[N]&=65535,N++}function P(U,N){this.g=U,this.h=N}function L(U,N){if(x(N))throw Error("division by zero");if(x(U))return new P(g,g);if(w(U))return N=L(A(U),N),new P(A(N.g),A(N.h));if(w(N))return N=L(U,A(N)),new P(A(N.g),N.h);if(30<U.g.length){if(w(U)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var B=y,O=N;0>=O.l(U);)B=F(B),O=F(O);var H=j(B,1),Q=j(O,1);for(O=j(O,2),B=j(B,2);!x(O);){var G=Q.add(O);0>=G.l(U)&&(H=H.add(B),Q=G),O=j(O,1),B=j(B,1)}return N=M(U,H.j(N)),new P(H,N)}for(H=g;0<=U.l(N);){for(B=Math.max(1,Math.floor(U.m()/N.m())),O=Math.ceil(Math.log(B)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),Q=f(B),G=Q.j(N);w(G)||0<G.l(U);)B-=O,Q=f(B),G=Q.j(N);x(Q)&&(Q=y),H=H.add(Q),U=M(U,G)}return new P(H,U)}n.A=function(U){return L(this,U).h},n.and=function(U){for(var N=Math.max(this.g.length,U.g.length),B=[],O=0;O<N;O++)B[O]=this.i(O)&U.i(O);return new s(B,this.h&U.h)},n.or=function(U){for(var N=Math.max(this.g.length,U.g.length),B=[],O=0;O<N;O++)B[O]=this.i(O)|U.i(O);return new s(B,this.h|U.h)},n.xor=function(U){for(var N=Math.max(this.g.length,U.g.length),B=[],O=0;O<N;O++)B[O]=this.i(O)^U.i(O);return new s(B,this.h^U.h)};function F(U){for(var N=U.g.length+1,B=[],O=0;O<N;O++)B[O]=U.i(O)<<1|U.i(O-1)>>>31;return new s(B,U.h)}function j(U,N){var B=N>>5;N%=32;for(var O=U.g.length-B,H=[],Q=0;Q<O;Q++)H[Q]=0<N?U.i(Q+B)>>>N|U.i(Q+B+1)<<32-N:U.i(Q+B);return new s(H,U.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Nz=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=p,Td=s}).apply(typeof K6<"u"?K6:typeof self<"u"?self:typeof window<"u"?window:{});var ZM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lz,Mv,Uz,IS,U4,Fz,zz,Vz;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,z,q){return S==Array.prototype||S==Object.prototype||(S[z]=q.value),S};function t(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof ZM=="object"&&ZM];for(var z=0;z<S.length;++z){var q=S[z];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var i=t(this);function r(S,z){if(z)e:{var q=i;S=S.split(".");for(var se=0;se<S.length-1;se++){var Oe=S[se];if(!(Oe in q))break e;q=q[Oe]}S=S[S.length-1],se=q[S],z=z(se),z!=se&&z!=null&&e(q,S,{configurable:!0,writable:!0,value:z})}}function a(S,z){S instanceof String&&(S+="");var q=0,se=!1,Oe={next:function(){if(!se&&q<S.length){var it=q++;return{value:z(it,S[it]),done:!1}}return se=!0,{done:!0,value:void 0}}};return Oe[Symbol.iterator]=function(){return Oe},Oe}r("Array.prototype.values",function(S){return S||function(){return a(this,function(z,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(S){var z=typeof S;return z=z!="object"?z:S?Array.isArray(S)?"array":z:"null",z=="array"||z=="object"&&typeof S.length=="number"}function f(S){var z=typeof S;return z=="object"&&S!=null||z=="function"}function p(S,z,q){return S.call.apply(S.bind,arguments)}function g(S,z,q){if(!S)throw Error();if(2<arguments.length){var se=Array.prototype.slice.call(arguments,2);return function(){var Oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Oe,se),S.apply(z,Oe)}}return function(){return S.apply(z,arguments)}}function y(S,z,q){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function v(S,z){var q=Array.prototype.slice.call(arguments,1);return function(){var se=q.slice();return se.push.apply(se,arguments),S.apply(this,se)}}function x(S,z){function q(){}q.prototype=z.prototype,S.aa=z.prototype,S.prototype=new q,S.prototype.constructor=S,S.Qb=function(se,Oe,it){for(var Bt=Array(arguments.length-2),ai=2;ai<arguments.length;ai++)Bt[ai-2]=arguments[ai];return z.prototype[Oe].apply(se,Bt)}}function w(S){const z=S.length;if(0<z){const q=Array(z);for(let se=0;se<z;se++)q[se]=S[se];return q}return[]}function A(S,z){for(let q=1;q<arguments.length;q++){const se=arguments[q];if(c(se)){const Oe=S.length||0,it=se.length||0;S.length=Oe+it;for(let Bt=0;Bt<it;Bt++)S[Oe+Bt]=se[Bt]}else S.push(se)}}class M{constructor(z,q){this.i=z,this.j=q,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function R(S){return/^[\s\xa0]*$/.test(S)}function P(){var S=l.navigator;return S&&(S=S.userAgent)?S:""}function L(S){return L[" "](S),S}L[" "]=function(){};var F=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function j(S,z,q){for(const se in S)z.call(q,S[se],se,S)}function U(S,z){for(const q in S)z.call(void 0,S[q],q,S)}function N(S){const z={};for(const q in S)z[q]=S[q];return z}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(S,z){let q,se;for(let Oe=1;Oe<arguments.length;Oe++){se=arguments[Oe];for(q in se)S[q]=se[q];for(let it=0;it<B.length;it++)q=B[it],Object.prototype.hasOwnProperty.call(se,q)&&(S[q]=se[q])}}function H(S){var z=1;S=S.split(":");const q=[];for(;0<z&&S.length;)q.push(S.shift()),z--;return S.length&&q.push(S.join(":")),q}function Q(S){l.setTimeout(()=>{throw S},0)}function G(){var S=be;let z=null;return S.g&&(z=S.g,S.g=S.g.next,S.g||(S.h=null),z.next=null),z}class he{constructor(){this.h=this.g=null}add(z,q){const se=_e.get();se.set(z,q),this.h?this.h.next=se:this.g=se,this.h=se}}var _e=new M(()=>new X,S=>S.reset());class X{constructor(){this.next=this.g=this.h=null}set(z,q){this.h=z,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,re=!1,be=new he,$=()=>{const S=l.Promise.resolve(void 0);Z=()=>{S.then(pe)}};var pe=()=>{for(var S;S=G();){try{S.h.call(S.g)}catch(q){Q(q)}var z=_e;z.j(S),100>z.h&&(z.h++,S.next=z.g,z.g=S)}re=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(S,z){this.type=S,this.g=this.target=z,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var S=!1,z=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const q=()=>{};l.addEventListener("test",q,z),l.removeEventListener("test",q,z)}catch{}return S}();function Ne(S,z){if(Te.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var q=this.type=S.type,se=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=z,z=S.relatedTarget){if(F){e:{try{L(z.nodeName);var Oe=!0;break e}catch{}Oe=!1}Oe||(z=null)}}else q=="mouseover"?z=S.fromElement:q=="mouseout"&&(z=S.toElement);this.relatedTarget=z,se?(this.clientX=se.clientX!==void 0?se.clientX:se.pageX,this.clientY=se.clientY!==void 0?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:Ve[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&Ne.aa.h.call(this)}}x(Ne,Te);var Ve={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),ut=0;function Jt(S,z,q,se,Oe){this.listener=S,this.proxy=null,this.src=z,this.type=q,this.capture=!!se,this.ha=Oe,this.key=++ut,this.da=this.fa=!1}function It(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function Ct(S){this.src=S,this.g={},this.h=0}Ct.prototype.add=function(S,z,q,se,Oe){var it=S.toString();S=this.g[it],S||(S=this.g[it]=[],this.h++);var Bt=Ft(S,z,se,Oe);return-1<Bt?(z=S[Bt],q||(z.fa=!1)):(z=new Jt(z,this.src,it,!!se,Oe),z.fa=q,S.push(z)),z};function Nt(S,z){var q=z.type;if(q in S.g){var se=S.g[q],Oe=Array.prototype.indexOf.call(se,z,void 0),it;(it=0<=Oe)&&Array.prototype.splice.call(se,Oe,1),it&&(It(z),S.g[q].length==0&&(delete S.g[q],S.h--))}}function Ft(S,z,q,se){for(var Oe=0;Oe<S.length;++Oe){var it=S[Oe];if(!it.da&&it.listener==z&&it.capture==!!q&&it.ha==se)return Oe}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),Mn={};function at(S,z,q,se,Oe){if(Array.isArray(z)){for(var it=0;it<z.length;it++)at(S,z[it],q,se,Oe);return null}return q=Ce(q),S&&S[ct]?S.K(z,q,f(se)?!!se.capture:!1,Oe):et(S,z,q,!1,se,Oe)}function et(S,z,q,se,Oe,it){if(!z)throw Error("Invalid event type");var Bt=f(Oe)?!!Oe.capture:!!Oe,ai=ee(S);if(ai||(S[fe]=ai=new Ct(S)),q=ai.add(z,q,se,Bt,it),q.proxy)return q;if(se=rt(),q.proxy=se,se.src=S,se.listener=q,S.addEventListener)de||(Oe=Bt),Oe===void 0&&(Oe=!1),S.addEventListener(z.toString(),se,Oe);else if(S.attachEvent)S.attachEvent(ae(z.toString()),se);else if(S.addListener&&S.removeListener)S.addListener(se);else throw Error("addEventListener and attachEvent are unavailable.");return q}function rt(){function S(q){return z.call(S.src,S.listener,q)}const z=V;return S}function xt(S,z,q,se,Oe){if(Array.isArray(z))for(var it=0;it<z.length;it++)xt(S,z[it],q,se,Oe);else se=f(se)?!!se.capture:!!se,q=Ce(q),S&&S[ct]?(S=S.i,z=String(z).toString(),z in S.g&&(it=S.g[z],q=Ft(it,q,se,Oe),-1<q&&(It(it[q]),Array.prototype.splice.call(it,q,1),it.length==0&&(delete S.g[z],S.h--)))):S&&(S=ee(S))&&(z=S.g[z.toString()],S=-1,z&&(S=Ft(z,q,se,Oe)),(q=-1<S?z[S]:null)&&We(q))}function We(S){if(typeof S!="number"&&S&&!S.da){var z=S.src;if(z&&z[ct])Nt(z.i,S);else{var q=S.type,se=S.proxy;z.removeEventListener?z.removeEventListener(q,se,S.capture):z.detachEvent?z.detachEvent(ae(q),se):z.addListener&&z.removeListener&&z.removeListener(se),(q=ee(z))?(Nt(q,S),q.h==0&&(q.src=null,z[fe]=null)):It(S)}}}function ae(S){return S in Mn?Mn[S]:Mn[S]="on"+S}function V(S,z){if(S.da)S=!0;else{z=new Ne(z,this);var q=S.listener,se=S.ha||S.src;S.fa&&We(S),S=q.call(se,z)}return S}function ee(S){return S=S[fe],S instanceof Ct?S:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ce(S){return typeof S=="function"?S:(S[ue]||(S[ue]=function(z){return S.handleEvent(z)}),S[ue])}function ge(){we.call(this),this.i=new Ct(this),this.M=this,this.F=null}x(ge,we),ge.prototype[ct]=!0,ge.prototype.removeEventListener=function(S,z,q,se){xt(this,S,z,q,se)};function Pe(S,z){var q,se=S.F;if(se)for(q=[];se;se=se.F)q.push(se);if(S=S.M,se=z.type||z,typeof z=="string")z=new Te(z,S);else if(z instanceof Te)z.target=z.target||S;else{var Oe=z;z=new Te(se,S),O(z,Oe)}if(Oe=!0,q)for(var it=q.length-1;0<=it;it--){var Bt=z.g=q[it];Oe=Ue(Bt,se,!0,z)&&Oe}if(Bt=z.g=S,Oe=Ue(Bt,se,!0,z)&&Oe,Oe=Ue(Bt,se,!1,z)&&Oe,q)for(it=0;it<q.length;it++)Bt=z.g=q[it],Oe=Ue(Bt,se,!1,z)&&Oe}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var S=this.i,z;for(z in S.g){for(var q=S.g[z],se=0;se<q.length;se++)It(q[se]);delete S.g[z],S.h--}}this.F=null},ge.prototype.K=function(S,z,q,se){return this.i.add(String(S),z,!1,q,se)},ge.prototype.L=function(S,z,q,se){return this.i.add(String(S),z,!0,q,se)};function Ue(S,z,q,se){if(z=S.i.g[String(z)],!z)return!0;z=z.concat();for(var Oe=!0,it=0;it<z.length;++it){var Bt=z[it];if(Bt&&!Bt.da&&Bt.capture==q){var ai=Bt.listener,gr=Bt.ha||Bt.src;Bt.fa&&Nt(S.i,Bt),Oe=ai.call(gr,se)!==!1&&Oe}}return Oe&&!se.defaultPrevented}function lt(S,z,q){if(typeof S=="function")q&&(S=y(S,q));else if(S&&typeof S.handleEvent=="function")S=y(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:l.setTimeout(S,z||0)}function Xt(S){S.g=lt(()=>{S.g=null,S.i&&(S.i=!1,Xt(S))},S.l);const z=S.h;S.h=null,S.m.apply(null,z)}class ht extends we{constructor(z,q){super(),this.m=z,this.l=q,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:Xt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(S){we.call(this),this.h=S,this.g={}}x(Ot,we);var zt=[];function Pt(S){j(S.g,function(z,q){this.g.hasOwnProperty(q)&&We(z)},S),S.g={}}Ot.prototype.N=function(){Ot.aa.N.call(this),Pt(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=l.JSON.stringify,Me=l.JSON.parse,Je=class{stringify(S){return l.JSON.stringify(S,void 0)}parse(S){return l.JSON.parse(S,void 0)}};function bt(){}bt.prototype.h=null;function Se(S){return S.h||(S.h=S.i())}function je(){}var Ge={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function st(){Te.call(this,"d")}x(st,Te);function wt(){Te.call(this,"c")}x(wt,Te);var Tt={},$t=null;function An(){return $t=$t||new ge}Tt.La="serverreachability";function ti(S){Te.call(this,Tt.La,S)}x(ti,Te);function dn(S){const z=An();Pe(z,new ti(z))}Tt.STAT_EVENT="statevent";function ci(S,z){Te.call(this,Tt.STAT_EVENT,S),this.stat=z}x(ci,Te);function Dn(S){const z=An();Pe(z,new ci(z,S))}Tt.Ma="timingevent";function Ki(S,z){Te.call(this,Tt.Ma,S),this.size=z}x(Ki,Te);function Li(S,z){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){S()},z)}function Ui(){this.g=!0}Ui.prototype.xa=function(){this.g=!1};function Hr(S,z,q,se,Oe,it){S.info(function(){if(S.g)if(it)for(var Bt="",ai=it.split("&"),gr=0;gr<ai.length;gr++){var si=ai[gr].split("=");if(1<si.length){var Pr=si[0];si=si[1];var Wr=Pr.split("_");Bt=2<=Wr.length&&Wr[1]=="type"?Bt+(Pr+"="+si+"&"):Bt+(Pr+"=redacted&")}}else Bt=null;else Bt=it;return"XMLHTTP REQ ("+se+") [attempt "+Oe+"]: "+z+`
`+q+`
`+Bt})}function Gr(S,z,q,se,Oe,it,Bt){S.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+Oe+"]: "+z+`
`+q+`
`+it+" "+Bt})}function nr(S,z,q,se){S.info(function(){return"XMLHTTP TEXT ("+z+"): "+ha(S,q)+(se?" "+se:"")})}function sn(S,z){S.info(function(){return"TIMEOUT: "+z})}Ui.prototype.info=function(){};function ha(S,z){if(!S.g)return z;if(!z)return null;try{var q=JSON.parse(z);if(q){for(S=0;S<q.length;S++)if(Array.isArray(q[S])){var se=q[S];if(!(2>se.length)){var Oe=se[1];if(Array.isArray(Oe)&&!(1>Oe.length)){var it=Oe[0];if(it!="noop"&&it!="stop"&&it!="close")for(var Bt=1;Bt<Oe.length;Bt++)Oe[Bt]=""}}}}return St(q)}catch{return z}}var ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ne;function Ae(){}x(Ae,bt),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},ne=new Ae;function ke(S,z,q,se){this.j=S,this.i=z,this.l=q,this.R=se||1,this.U=new Ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}var nt={},Mt={};function yt(S,z,q){S.L=1,S.v=lr(hn(z)),S.m=q,S.P=!0,K(S,null)}function K(S,z){S.F=Date.now(),me(S),S.A=hn(S.v);var q=S.A,se=S.R;Array.isArray(se)||(se=[String(se)]),Yc(q.i,"t",se),S.C=0,q=S.j.J,S.h=new qe,S.g=yo(S.j,q?z:null,!S.m),0<S.O&&(S.M=new ht(y(S.Y,S,S.g),S.O)),z=S.U,q=S.g,se=S.ca;var Oe="readystatechange";Array.isArray(Oe)||(Oe&&(zt[0]=Oe.toString()),Oe=zt);for(var it=0;it<Oe.length;it++){var Bt=at(q,Oe[it],se||z.handleEvent,!1,z.h||z);if(!Bt)break;z.g[Bt.key]=Bt}z=S.H?N(S.H):{},S.m?(S.u||(S.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,z)):(S.u="GET",S.g.ea(S.A,S.u,null,z)),dn(),Hr(S.i,S.u,S.A,S.l,S.R,S.m)}ke.prototype.ca=function(S){S=S.target;const z=this.M;z&&cr(S)==3?z.j():this.Y(S)},ke.prototype.Y=function(S){try{if(S==this.g)e:{const Wr=cr(this.g);var z=this.g.Ba();const Dr=this.g.Z();if(!(3>Wr)&&(Wr!=3||this.g&&(this.h.h||this.g.oa()||Zr(this.g)))){this.J||Wr!=4||z==7||(z==8||0>=Dr?dn(3):dn(2)),ze(this);var q=this.g.Z();this.X=q;t:if(ce(this)){var se=Zr(this.g);S="";var Oe=se.length,it=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ot(this),tt(this);var Bt="";break t}this.h.i=new l.TextDecoder}for(z=0;z<Oe;z++)this.h.h=!0,S+=this.h.i.decode(se[z],{stream:!(it&&z==Oe-1)});se.length=0,this.h.g+=S,this.C=0,Bt=this.h.g}else Bt=this.g.oa();if(this.o=q==200,Gr(this.i,this.u,this.A,this.l,this.R,Wr,q),this.o){if(this.T&&!this.K){t:{if(this.g){var ai,gr=this.g;if((ai=gr.g?gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(ai)){var si=ai;break t}}si=null}if(q=si)nr(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gt(this,q);else{this.o=!1,this.s=3,Dn(12),ot(this),tt(this);break e}}if(this.P){q=!0;let da;for(;!this.J&&this.C<Bt.length;)if(da=ye(this,Bt),da==Mt){Wr==4&&(this.s=4,Dn(14),q=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(da==nt){this.s=4,Dn(15),nr(this.i,this.l,Bt,"[Invalid Chunk]"),q=!1;break}else nr(this.i,this.l,da,null),gt(this,da);if(ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wr!=4||Bt.length!=0||this.h.h||(this.s=1,Dn(16),q=!1),this.o=this.o&&q,!q)nr(this.i,this.l,Bt,"[Invalid Chunked Response]"),ot(this),tt(this);else if(0<Bt.length&&!this.W){this.W=!0;var Pr=this.j;Pr.g==this&&Pr.ba&&!Pr.M&&(Pr.j.info("Great, no buffering proxy detected. Bytes received: "+Bt.length),cc(Pr),Pr.M=!0,Dn(11))}}else nr(this.i,this.l,Bt,null),gt(this,Bt);Wr==4&&ot(this),this.o&&!this.J&&(Wr==4?yf(this.j,this):(this.o=!1,me(this)))}else oc(this.g),q==400&&0<Bt.indexOf("Unknown SID")?(this.s=3,Dn(12)):(this.s=0,Dn(13)),ot(this),tt(this)}}}catch{}finally{}};function ce(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function ye(S,z){var q=S.C,se=z.indexOf(`
`,q);return se==-1?Mt:(q=Number(z.substring(q,se)),isNaN(q)?nt:(se+=1,se+q>z.length?Mt:(z=z.slice(se,se+q),S.C=se+q,z)))}ke.prototype.cancel=function(){this.J=!0,ot(this)};function me(S){S.S=Date.now()+S.I,Re(S,S.I)}function Re(S,z){if(S.B!=null)throw Error("WatchDog timer not null");S.B=Li(y(S.ba,S),z)}function ze(S){S.B&&(l.clearTimeout(S.B),S.B=null)}ke.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(sn(this.i,this.A),this.L!=2&&(dn(),Dn(17)),ot(this),this.s=2,tt(this)):Re(this,this.S-S)};function tt(S){S.j.G==0||S.J||yf(S.j,S)}function ot(S){ze(S);var z=S.M;z&&typeof z.ma=="function"&&z.ma(),S.M=null,Pt(S.U),S.g&&(z=S.g,S.g=null,z.abort(),z.ma())}function gt(S,z){try{var q=S.j;if(q.G!=0&&(q.g==S||Yt(q.h,S))){if(!S.K&&Yt(q.h,S)&&q.G==3){try{var se=q.Da.g.parse(z)}catch{se=null}if(Array.isArray(se)&&se.length==3){var Oe=se;if(Oe[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<S.F)Qc(q),lh(q);else break e;fh(q),Dn(18)}}else q.za=Oe[1],0<q.za-q.T&&37500>Oe[2]&&q.F&&q.v==0&&!q.C&&(q.C=Li(y(q.Za,q),6e3));if(1>=tn(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else xl(q,11)}else if((S.K||q.g==S)&&Qc(q),!R(z))for(Oe=q.Da.g.parse(z),z=0;z<Oe.length;z++){let si=Oe[z];if(q.T=si[0],si=si[1],q.G==2)if(si[0]=="c"){q.K=si[1],q.ia=si[2];const Pr=si[3];Pr!=null&&(q.la=Pr,q.j.info("VER="+q.la));const Wr=si[4];Wr!=null&&(q.Aa=Wr,q.j.info("SVER="+q.Aa));const Dr=si[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(se=1.5*Dr,q.L=se,q.j.info("backChannelRequestTimeoutMs_="+se)),se=q;const da=S.g;if(da){const bo=da.g?da.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bo){var it=se.h;it.g||bo.indexOf("spdy")==-1&&bo.indexOf("quic")==-1&&bo.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(kn(it,it.h),it.h=null))}if(se.D){const xf=da.g?da.g.getResponseHeader("X-HTTP-Session-Id"):null;xf&&(se.ya=xf,on(se.I,se.D,xf))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-S.F,q.j.info("Handshake RTT: "+q.R+"ms")),se=q;var Bt=S;if(se.qa=Zd(se,se.J?se.ia:null,se.W),Bt.K){qt(se.h,Bt);var ai=Bt,gr=se.L;gr&&(ai.I=gr),ai.B&&(ze(ai),me(ai)),se.g=Bt}else Qd(se);0<q.i.length&&ch(q)}else si[0]!="stop"&&si[0]!="close"||xl(q,7);else q.G==3&&(si[0]=="stop"||si[0]=="close"?si[0]=="stop"?xl(q,7):lc(q):si[0]!="noop"&&q.l&&q.l.ta(si),q.v=0)}}dn(4)}catch{}}var Ut=class{constructor(S,z){this.g=S,this.map=z}};function Dt(S){this.l=S||10,l.PerformanceNavigationTiming?(S=l.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lt(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function tn(S){return S.h?1:S.g?S.g.size:0}function Yt(S,z){return S.h?S.h==z:S.g?S.g.has(z):!1}function kn(S,z){S.g?S.g.add(z):S.h=z}function qt(S,z){S.h&&S.h==z?S.h=null:S.g&&S.g.has(z)&&S.g.delete(z)}Dt.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function en(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let z=S.i;for(const q of S.g.values())z=z.concat(q.D);return z}return w(S.i)}function Wt(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(c(S)){for(var z=[],q=S.length,se=0;se<q;se++)z.push(S[se]);return z}z=[],q=0;for(se in S)z[q++]=S[se];return z}function _i(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(c(S)||typeof S=="string"){var z=[];S=S.length;for(var q=0;q<S;q++)z.push(q);return z}z=[],q=0;for(const se in S)z[q++]=se;return z}}}function un(S,z){if(S.forEach&&typeof S.forEach=="function")S.forEach(z,void 0);else if(c(S)||typeof S=="string")Array.prototype.forEach.call(S,z,void 0);else for(var q=_i(S),se=Wt(S),Oe=se.length,it=0;it<Oe;it++)z.call(void 0,se[it],q&&q[it],S)}var mn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function di(S,z){if(S){S=S.split("&");for(var q=0;q<S.length;q++){var se=S[q].indexOf("="),Oe=null;if(0<=se){var it=S[q].substring(0,se);Oe=S[q].substring(se+1)}else it=S[q];z(it,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function Qt(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof Qt){this.h=S.h,En(this,S.j),this.o=S.o,this.g=S.g,vi(this,S.s),this.l=S.l;var z=S.i,q=new $a;q.i=z.i,z.g&&(q.g=new Map(z.g),q.h=z.h),Qn(this,q),this.m=S.m}else S&&(z=String(S).match(mn))?(this.h=!1,En(this,z[1]||"",!0),this.o=fr(z[2]||""),this.g=fr(z[3]||"",!0),vi(this,z[4]),this.l=fr(z[5]||"",!0),Qn(this,z[6]||"",!0),this.m=fr(z[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}Qt.prototype.toString=function(){var S=[],z=this.j;z&&S.push(fa(z,gl,!0),":");var q=this.g;return(q||z=="file")&&(S.push("//"),(z=this.o)&&S.push(fa(z,gl,!0),"@"),S.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&S.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&S.push("/"),S.push(fa(q,q.charAt(0)=="/"?oh:yl,!0))),(q=this.i.toString())&&S.push("?",q),(q=this.m)&&S.push("#",fa(q,ac)),S.join("")};function hn(S){return new Qt(S)}function En(S,z,q){S.j=q?fr(z,!0):z,S.j&&(S.j=S.j.replace(/:$/,""))}function vi(S,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);S.s=z}else S.s=null}function Qn(S,z,q){z instanceof $a?(S.i=z,sc(S.i,S.h)):(q||(z=fa(z,gf)),S.i=new $a(z,S.h))}function on(S,z,q){S.i.set(z,q)}function lr(S){return on(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function fr(S,z){return S?z?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function fa(S,z,q){return typeof S=="string"?(S=encodeURI(S).replace(z,rc),q&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function rc(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var gl=/[#\/\?@]/g,yl=/[#\?:]/g,oh=/[#\?]/g,gf=/[#\?@]/g,ac=/#/g;function $a(S,z){this.h=this.g=null,this.i=S||null,this.j=!!z}function Sa(S){S.g||(S.g=new Map,S.h=0,S.i&&di(S.i,function(z,q){S.add(decodeURIComponent(z.replace(/\+/g," ")),q)}))}n=$a.prototype,n.add=function(S,z){Sa(this),this.i=null,S=es(this,S);var q=this.g.get(S);return q||this.g.set(S,q=[]),q.push(z),this.h+=1,this};function Za(S,z){Sa(S),z=es(S,z),S.g.has(z)&&(S.i=null,S.h-=S.g.get(z).length,S.g.delete(z))}function bs(S,z){return Sa(S),z=es(S,z),S.g.has(z)}n.forEach=function(S,z){Sa(this),this.g.forEach(function(q,se){q.forEach(function(Oe){S.call(z,Oe,se,this)},this)},this)},n.na=function(){Sa(this);const S=Array.from(this.g.values()),z=Array.from(this.g.keys()),q=[];for(let se=0;se<z.length;se++){const Oe=S[se];for(let it=0;it<Oe.length;it++)q.push(z[se])}return q},n.V=function(S){Sa(this);let z=[];if(typeof S=="string")bs(this,S)&&(z=z.concat(this.g.get(es(this,S))));else{S=Array.from(this.g.values());for(let q=0;q<S.length;q++)z=z.concat(S[q])}return z},n.set=function(S,z){return Sa(this),this.i=null,S=es(this,S),bs(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[z]),this.h+=1,this},n.get=function(S,z){return S?(S=this.V(S),0<S.length?String(S[0]):z):z};function Yc(S,z,q){Za(S,z),0<q.length&&(S.i=null,S.g.set(es(S,z),w(q)),S.h+=q.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],z=Array.from(this.g.keys());for(var q=0;q<z.length;q++){var se=z[q];const it=encodeURIComponent(String(se)),Bt=this.V(se);for(se=0;se<Bt.length;se++){var Oe=it;Bt[se]!==""&&(Oe+="="+encodeURIComponent(String(Bt[se]))),S.push(Oe)}}return this.i=S.join("&")};function es(S,z){return z=String(z),S.j&&(z=z.toLowerCase()),z}function sc(S,z){z&&!S.j&&(Sa(S),S.i=null,S.g.forEach(function(q,se){var Oe=se.toLowerCase();se!=Oe&&(Za(this,se),Yc(this,Oe,q))},S)),S.j=z}function Wo(S,z){const q=new Ui;if(l.Image){const se=new Image;se.onload=v(qr,q,"TestLoadImage: loaded",!0,z,se),se.onerror=v(qr,q,"TestLoadImage: error",!1,z,se),se.onabort=v(qr,q,"TestLoadImage: abort",!1,z,se),se.ontimeout=v(qr,q,"TestLoadImage: timeout",!1,z,se),l.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=S}else z(!1)}function Xr(S,z){const q=new Ui,se=new AbortController,Oe=setTimeout(()=>{se.abort(),qr(q,"TestPingServer: timeout",!1,z)},1e4);fetch(S,{signal:se.signal}).then(it=>{clearTimeout(Oe),it.ok?qr(q,"TestPingServer: ok",!0,z):qr(q,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(Oe),qr(q,"TestPingServer: error",!1,z)})}function qr(S,z,q,se,Oe){try{Oe&&(Oe.onload=null,Oe.onerror=null,Oe.onabort=null,Oe.ontimeout=null),se(q)}catch{}}function _l(){this.g=new Je}function xs(S,z,q){const se=q||"";try{un(S,function(Oe,it){let Bt=Oe;f(Oe)&&(Bt=St(Oe)),z.push(se+it+"="+encodeURIComponent(Bt))})}catch(Oe){throw z.push(se+"type="+encodeURIComponent("_badmap")),Oe}}function vl(S){this.l=S.Ub||null,this.j=S.eb||!1}x(vl,bt),vl.prototype.g=function(){return new go(this.l,this.j)},vl.prototype.i=function(S){return function(){return S}}({});function go(S,z){ge.call(this),this.D=S,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(go,ge),n=go.prototype,n.open=function(S,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=z,this.readyState=1,ts(this)},n.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(z.body=S),(this.D||l).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},n.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kc(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kc(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}n.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var z=S.value?S.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!S.done}))&&(this.response=this.responseText+=z)}S.done?za(this):ts(this),this.readyState==3&&Kc(this)}},n.Ra=function(S){this.g&&(this.response=this.responseText=S,za(this))},n.Qa=function(S){this.g&&(this.response=S,za(this))},n.ga=function(){this.g&&za(this)};function za(S){S.readyState=4,S.l=null,S.j=null,S.v=null,ts(S)}n.setRequestHeader=function(S,z){this.u.append(S,z)},n.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],z=this.h.entries();for(var q=z.next();!q.done;)q=q.value,S.push(q[0]+": "+q[1]),q=z.next();return S.join(`\r
`)};function ts(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function bl(S){let z="";return j(S,function(q,se){z+=se,z+=":",z+=q,z+=`\r
`}),z}function le(S,z,q){e:{for(se in q){var se=!1;break e}se=!0}se||(q=bl(q),typeof S=="string"?q!=null&&encodeURIComponent(String(q)):on(S,z,q))}function Ee(S){ge.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ee,ge);var Qe=/^https?$/i,Ht=["POST","PUT"];n=Ee.prototype,n.Ha=function(S){this.J=S},n.ea=function(S,z,q,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);z=z?z.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ne.g(),this.v=this.o?Se(this.o):Se(ne),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(z,String(S),!0),this.B=!1}catch(it){Wn(this,it);return}if(S=q||"",q=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var Oe in se)q.set(Oe,se[Oe]);else if(typeof se.keys=="function"&&typeof se.get=="function")for(const it of se.keys())q.set(it,se.get(it));else throw Error("Unknown input type for opt_headers: "+String(se));se=Array.from(q.keys()).find(it=>it.toLowerCase()=="content-type"),Oe=l.FormData&&S instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Ht,z,void 0))||se||Oe||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,Bt]of q)this.g.setRequestHeader(it,Bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mi(this),this.u=!0,this.g.send(S),this.u=!1}catch(it){Wn(this,it)}};function Wn(S,z){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=z,S.m=5,Yn(S),Bn(S)}function Yn(S){S.A||(S.A=!0,Pe(S,"complete"),Pe(S,"error"))}n.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,Pe(this,"complete"),Pe(this,"abort"),Bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),Ee.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pi(this):this.bb())},n.bb=function(){pi(this)};function pi(S){if(S.h&&typeof s<"u"&&(!S.v[1]||cr(S)!=4||S.Z()!=2)){if(S.u&&cr(S)==4)lt(S.Ea,0,S);else if(Pe(S,"readystatechange"),cr(S)==4){S.h=!1;try{const Bt=S.Z();e:switch(Bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var q;if(!(q=z)){var se;if(se=Bt===0){var Oe=String(S.D).match(mn)[1]||null;!Oe&&l.self&&l.self.location&&(Oe=l.self.location.protocol.slice(0,-1)),se=!Qe.test(Oe?Oe.toLowerCase():"")}q=se}if(q)Pe(S,"complete"),Pe(S,"success");else{S.m=6;try{var it=2<cr(S)?S.g.statusText:""}catch{it=""}S.l=it+" ["+S.Z()+"]",Yn(S)}}finally{Bn(S)}}}}function Bn(S,z){if(S.g){mi(S);const q=S.g,se=S.v[0]?()=>{}:null;S.g=null,S.v=null,z||Pe(S,"ready");try{q.onreadystatechange=se}catch{}}}function mi(S){S.I&&(l.clearTimeout(S.I),S.I=null)}n.isActive=function(){return!!this.g};function cr(S){return S.g?S.g.readyState:0}n.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(S){if(this.g){var z=this.g.responseText;return S&&z.indexOf(S)==0&&(z=z.substring(S.length)),Me(z)}};function Zr(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(S){const z={};S=(S.g&&2<=cr(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let se=0;se<S.length;se++){if(R(S[se]))continue;var q=H(S[se]);const Oe=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const it=z[Oe]||[];z[Oe]=it,it.push(q)}U(z,function(se){return se.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(S,z,q){return q&&q.internalChannelParams&&q.internalChannelParams[S]||z}function Yo(S){this.Aa=0,this.i=[],this.j=new Ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ji("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ji("baseRetryDelayMs",5e3,S),this.cb=Ji("retryDelaySeedMs",1e4,S),this.Wa=Ji("forwardChannelMaxRetries",2,S),this.wa=Ji("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new Dt(S&&S.concurrentRequestLimit),this.Da=new _l,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Yo.prototype,n.la=8,n.G=1,n.connect=function(S,z,q,se){Dn(0),this.W=S,this.H=z||{},q&&se!==void 0&&(this.H.OSID=q,this.H.OAID=se),this.F=this.X,this.I=Zd(this,null,this.W),ch(this)};function lc(S){if(Kd(S),S.G==3){var z=S.U++,q=hn(S.I);if(on(q,"SID",S.K),on(q,"RID",z),on(q,"TYPE","terminate"),Jc(S,q),z=new ke(S,S.j,z),z.L=2,z.v=lr(hn(q)),q=!1,l.navigator&&l.navigator.sendBeacon)try{q=l.navigator.sendBeacon(z.v.toString(),"")}catch{}!q&&l.Image&&(new Image().src=z.v,q=!0),q||(z.g=yo(z.j,null),z.g.ea(z.v)),z.F=Date.now(),me(z)}_f(S)}function lh(S){S.g&&(cc(S),S.g.cancel(),S.g=null)}function Kd(S){lh(S),S.u&&(l.clearTimeout(S.u),S.u=null),Qc(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&l.clearTimeout(S.s),S.s=null)}function ch(S){if(!Lt(S.h)&&!S.s){S.s=!0;var z=S.Ga;Z||$(),re||(Z(),re=!0),be.add(z,S),S.B=0}}function uh(S,z){return tn(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=z.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=Li(y(S.Ga,S,z),dh(S,S.B)),S.B++,!0)}n.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const Oe=new ke(this,this.j,S);let it=this.o;if(this.S&&(it?(it=N(it),O(it,this.S)):it=this.S),this.m!==null||this.O||(Oe.H=it,it=null),this.P)e:{for(var z=0,q=0;q<this.i.length;q++){t:{var se=this.i[q];if("__data__"in se.map&&(se=se.map.__data__,typeof se=="string")){se=se.length;break t}se=void 0}if(se===void 0)break;if(z+=se,4096<z){z=q;break e}if(z===4096||q===this.i.length-1){z=q+1;break e}}z=1e3}else z=1e3;z=Jd(this,Oe,z),q=hn(this.I),on(q,"RID",S),on(q,"CVER",22),this.D&&on(q,"X-HTTP-Session-Id",this.D),Jc(this,q),it&&(this.O?z="headers="+encodeURIComponent(String(bl(it)))+"&"+z:this.m&&le(q,this.m,it)),kn(this.h,Oe),this.Ua&&on(q,"TYPE","init"),this.P?(on(q,"$req",z),on(q,"SID","null"),Oe.T=!0,yt(Oe,q,null)):yt(Oe,q,z),this.G=2}}else this.G==3&&(S?hh(this,S):this.i.length==0||Lt(this.h)||hh(this))};function hh(S,z){var q;z?q=z.l:q=S.U++;const se=hn(S.I);on(se,"SID",S.K),on(se,"RID",q),on(se,"AID",S.T),Jc(S,se),S.m&&S.o&&le(se,S.m,S.o),q=new ke(S,S.j,q,S.B+1),S.m===null&&(q.H=S.o),z&&(S.i=z.D.concat(S.i)),z=Jd(S,q,1e3),q.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),kn(S.h,q),yt(q,se,z)}function Jc(S,z){S.H&&j(S.H,function(q,se){on(z,se,q)}),S.l&&un({},function(q,se){on(z,se,q)})}function Jd(S,z,q){q=Math.min(S.i.length,q);var se=S.l?y(S.l.Na,S.l,S):null;e:{var Oe=S.i;let it=-1;for(;;){const Bt=["count="+q];it==-1?0<q?(it=Oe[0].g,Bt.push("ofs="+it)):it=0:Bt.push("ofs="+it);let ai=!0;for(let gr=0;gr<q;gr++){let si=Oe[gr].g;const Pr=Oe[gr].map;if(si-=it,0>si)it=Math.max(0,Oe[gr].g-100),ai=!1;else try{xs(Pr,Bt,"req"+si+"_")}catch{se&&se(Pr)}}if(ai){se=Bt.join("&");break e}}}return S=S.i.splice(0,q),z.D=S,se}function Qd(S){if(!S.g&&!S.u){S.Y=1;var z=S.Fa;Z||$(),re||(Z(),re=!0),be.add(z,S),S.v=0}}function fh(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=Li(y(S.Fa,S),dh(S,S.v)),S.v++,!0)}n.Fa=function(){if(this.u=null,$d(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=Li(y(this.ab,this),S)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dn(10),lh(this),$d(this))};function cc(S){S.A!=null&&(l.clearTimeout(S.A),S.A=null)}function $d(S){S.g=new ke(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var z=hn(S.qa);on(z,"RID","rpc"),on(z,"SID",S.K),on(z,"AID",S.T),on(z,"CI",S.F?"0":"1"),!S.F&&S.ja&&on(z,"TO",S.ja),on(z,"TYPE","xmlhttp"),Jc(S,z),S.m&&S.o&&le(z,S.m,S.o),S.L&&(S.g.I=S.L);var q=S.g;S=S.ia,q.L=1,q.v=lr(hn(z)),q.m=null,q.P=!0,K(q,S)}n.Za=function(){this.C!=null&&(this.C=null,lh(this),fh(this),Dn(19))};function Qc(S){S.C!=null&&(l.clearTimeout(S.C),S.C=null)}function yf(S,z){var q=null;if(S.g==z){Qc(S),cc(S),S.g=null;var se=2}else if(Yt(S.h,z))q=z.D,qt(S.h,z),se=1;else return;if(S.G!=0){if(z.o)if(se==1){q=z.m?z.m.length:0,z=Date.now()-z.F;var Oe=S.B;se=An(),Pe(se,new Ki(se,q)),ch(S)}else Qd(S);else if(Oe=z.s,Oe==3||Oe==0&&0<z.X||!(se==1&&uh(S,z)||se==2&&fh(S)))switch(q&&0<q.length&&(z=S.h,z.i=z.i.concat(q)),Oe){case 1:xl(S,5);break;case 4:xl(S,10);break;case 3:xl(S,6);break;default:xl(S,2)}}}function dh(S,z){let q=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(q*=2),q*z}function xl(S,z){if(S.j.info("Error code "+z),z==2){var q=y(S.fb,S),se=S.Xa;const Oe=!se;se=new Qt(se||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||En(se,"https"),lr(se),Oe?Wo(se.toString(),q):Xr(se.toString(),q)}else Dn(2);S.G=0,S.l&&S.l.sa(z),_f(S),Kd(S)}n.fb=function(S){S?(this.j.info("Successfully pinged google.com"),Dn(2)):(this.j.info("Failed to ping google.com"),Dn(1))};function _f(S){if(S.G=0,S.ka=[],S.l){const z=en(S.h);(z.length!=0||S.i.length!=0)&&(A(S.ka,z),A(S.ka,S.i),S.h.i.length=0,w(S.i),S.i.length=0),S.l.ra()}}function Zd(S,z,q){var se=q instanceof Qt?hn(q):new Qt(q);if(se.g!="")z&&(se.g=z+"."+se.g),vi(se,se.s);else{var Oe=l.location;se=Oe.protocol,z=z?z+"."+Oe.hostname:Oe.hostname,Oe=+Oe.port;var it=new Qt(null);se&&En(it,se),z&&(it.g=z),Oe&&vi(it,Oe),q&&(it.l=q),se=it}return q=S.D,z=S.ya,q&&z&&on(se,q,z),on(se,"VER",S.la),Jc(S,se),se}function yo(S,z,q){if(z&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=S.Ca&&!S.pa?new Ee(new vl({eb:q})):new Ee(S.pa),z.Ha(S.J),z}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vf(){}n=vf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bf(){}bf.prototype.g=function(S,z){return new Va(S,z)};function Va(S,z){ge.call(this),this.g=new Yo(z),this.l=S,this.h=z&&z.messageUrlParams||null,S=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(S?S["X-WebChannel-Content-Type"]=z.messageContentType:S={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(S?S["X-WebChannel-Client-Profile"]=z.va:S={"X-WebChannel-Client-Profile":z.va}),this.g.S=S,(S=z&&z.Sb)&&!R(S)&&(this.g.m=S),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!R(z)&&(this.g.D=z,S=this.h,S!==null&&z in S&&(S=this.h,z in S&&delete S[z])),this.j=new vo(this)}x(Va,ge),Va.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Va.prototype.close=function(){lc(this.g)},Va.prototype.o=function(S){var z=this.g;if(typeof S=="string"){var q={};q.__data__=S,S=q}else this.u&&(q={},q.__data__=St(S),S=q);z.i.push(new Ut(z.Ya++,S)),z.G==3&&ch(z)},Va.prototype.N=function(){this.g.l=null,delete this.j,lc(this.g),delete this.g,Va.aa.N.call(this)};function Ko(S){st.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var z=S.__sm__;if(z){e:{for(const q in z){S=q;break e}S=void 0}(this.i=S)&&(S=this.i,z=z!==null&&S in z?z[S]:void 0),this.data=z}else this.data=S}x(Ko,st);function _o(){wt.call(this),this.status=1}x(_o,wt);function vo(S){this.g=S}x(vo,vf),vo.prototype.ua=function(){Pe(this.g,"a")},vo.prototype.ta=function(S){Pe(this.g,new Ko(S))},vo.prototype.sa=function(S){Pe(this.g,new _o)},vo.prototype.ra=function(){Pe(this.g,"b")},bf.prototype.createWebChannel=bf.prototype.g,Va.prototype.send=Va.prototype.o,Va.prototype.open=Va.prototype.m,Va.prototype.close=Va.prototype.close,Vz=function(){return new bf},zz=function(){return An()},Fz=Tt,U4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,IS=ni,J.COMPLETE="complete",Uz=J,je.EventType=Ge,Ge.OPEN="a",Ge.CLOSE="b",Ge.ERROR="c",Ge.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Mv=je,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha,Lz=Ee}).apply(typeof ZM<"u"?ZM:typeof self<"u"?self:typeof window<"u"?window:{});const J6="@firebase/firestore",Q6="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Us.UNAUTHENTICATED=new Us(null),Us.GOOGLE_CREDENTIALS=new Us("google-credentials-uid"),Us.FIRST_PARTY=new Us("first-party-uid"),Us.MOCK_USER=new Us("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new Rz("@firebase/firestore");function ug(){return Bm.logLevel}function Kt(n,...e){if(Bm.logLevel<=wi.DEBUG){const t=e.map(CI);Bm.debug(`Firestore (${Py}): ${n}`,...t)}}function df(n,...e){if(Bm.logLevel<=wi.ERROR){const t=e.map(CI);Bm.error(`Firestore (${Py}): ${n}`,...t)}}function fy(n,...e){if(Bm.logLevel<=wi.WARN){const t=e.map(CI);Bm.warn(`Firestore (${Py}): ${n}`,...t)}}function CI(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,jz(n,i,t)}function jz(n,e,t){let i=`FIRESTORE (${Py}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw df(i),new Error(i)}function Yi(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||jz(e,r,i)}function jn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fn extends Iy{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Us.UNAUTHENTICATED))}shutdown(){}}class Xye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qye{constructor(e){this.t=e,this.currentUser=Us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yi(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let a=new Cd;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Cd,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cd)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yi(typeof i.accessToken=="string",31837,{l:i}),new kz(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yi(e===null||typeof e=="string",2055,{h:e}),new Us(e)}}class Wye{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Us.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yye{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Wye(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kye{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rye(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Yi(this.o===void 0,3512);const i=a=>{a.error!=null&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Kt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yi(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $6(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jye(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=Jye(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function ri(n,e){return n<e?-1:n>e?1:0}function F4(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return ri(i,r);{const a=Hz(),s=Qye(a.encode(Z6(n,t)),a.encode(Z6(e,t)));return s!==0?s:ri(i,r)}}t+=i>65535?2:1}return ri(n.length,e.length)}function Z6(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Qye(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ri(n[t],e[t]);return ri(n.length,e.length)}function dy(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=-62135596800,t9=1e6;class Oa{static now(){return Oa.fromMillis(Date.now())}static fromDate(e){return Oa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*t9);return new Oa(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fn(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fn(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<e9)throw new fn(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fn(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t9}_compareTo(e){return this.seconds===e.seconds?ri(this.nanoseconds,e.nanoseconds):ri(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-e9;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{static fromTimestamp(e){return new Ln(e)}static min(){return new Ln(new Oa(0,0))}static max(){return new Ln(new Oa(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="__name__";class Iu{constructor(e,t,i){t===void 0?t=0:t>e.length&&In(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&In(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Iu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Iu?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Iu.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return ri(e.length,t.length)}static compareSegments(e,t){const i=Iu.isNumericId(e),r=Iu.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Iu.extractNumericId(e).compare(Iu.extractNumericId(t)):F4(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Td.fromString(e.substring(4,e.length-2))}}class Rr extends Iu{construct(e,t,i){return new Rr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fn(At.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Rr(t)}static emptyPath(){return new Rr([])}}const $ye=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ms extends Iu{construct(e,t,i){return new ms(e,t,i)}static isValidIdentifier(e){return $ye.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ms.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n9}static keyField(){return new ms([n9])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new fn(At.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new fn(At.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fn(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else l==="`"?(s=!s,r++):l!=="."||s?(i+=l,r++):(a(),r++)}if(a(),s)throw new fn(At.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ms(t)}static emptyPath(){return new ms([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.path=e}static fromPath(e){return new vn(Rr.fromString(e))}static fromName(e){return new vn(Rr.fromString(e).popFirst(5))}static empty(){return new vn(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vn(new Rr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=-1;function Zye(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ln.fromTimestamp(i===1e9?new Oa(t+1,0):new Oa(t,i));return new Ld(r,vn.empty(),e)}function e_e(n){return new Ld(n.readTime,n.key,O1)}class Ld{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ld(Ln.min(),vn.empty(),O1)}static max(){return new Ld(Ln.max(),vn.empty(),O1)}}function t_e(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=vn.comparator(n.documentKey,e.documentKey),t!==0?t:ri(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i_e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dy(n){if(n.code!==At.FAILED_PRECONDITION||n.message!==n_e)throw n;Kt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&In(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vt((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof vt?t:vt.resolve(t)}catch(t){return vt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):vt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):vt.reject(t)}static resolve(e){return new vt((t,i)=>{t(e)})}static reject(e){return new vt((t,i)=>{i(e)})}static waitFor(e){return new vt((t,i)=>{let r=0,a=0,s=!1;e.forEach(l=>{++r,l.next(()=>{++a,s&&a===r&&t()},c=>i(c))}),s=!0,a===r&&t()})}static or(e){let t=vt.resolve(!1);for(const i of e)t=t.next(r=>r?vt.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new vt((i,r)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;t(e[f]).next(p=>{s[f]=p,++l,l===a&&i(s)},p=>r(p))}})}static doWhile(e,t){return new vt((i,r)=>{const a=()=>{e()===!0?t().next(()=>{a()},r):i()};a()})}}function r_e(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function By(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}l2.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=-1;function c2(n){return n==null}function WA(n){return n===0&&1/n==-1/0}function a_e(n){return typeof n=="number"&&Number.isInteger(n)&&!WA(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz="";function s_e(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=i9(e)),e=o_e(n.get(t),e);return i9(e)}function o_e(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case Xz:t+="";break;default:t+=a}}return t}function i9(n){return n+Xz+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hm(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,t){this.comparator=e,this.root=t||hs.EMPTY}insert(e,t){return new kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hs.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eS(this.root,e,this.comparator,!1)}getReverseIterator(){return new eS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eS(this.root,e,this.comparator,!0)}}class eS{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hs{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??hs.RED,this.left=r??hs.EMPTY,this.right=a??hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new hs(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return hs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw In(43730,{key:this.key,value:this.value});if(this.right.isRed())throw In(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw In(27949);return e+(this.isRed()?0:1)}}hs.EMPTY=null,hs.RED=!0,hs.BLACK=!1;hs.EMPTY=new class{constructor(){this.size=0}get key(){throw In(57766)}get value(){throw In(16141)}get color(){throw In(16727)}get left(){throw In(29726)}get right(){throw In(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new hs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new a9(this.data.getIterator())}getIteratorFrom(e){return new a9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Na(this.comparator);return t.data=e,t}}class a9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.fields=e,e.sort(ms.comparator)}static empty(){return new kc([])}unionWith(e){let t=new Na(ms.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new kc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dy(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Wz("Invalid base64 string: "+a):a}}(e);return new _s(t)}static fromUint8Array(e){const t=function(r){let a="";for(let s=0;s<r.length;++s)a+=String.fromCharCode(r[s]);return a}(e);return new _s(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ri(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_s.EMPTY_BYTE_STRING=new _s("");const l_e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ud(n){if(Yi(!!n,39018),typeof n=="string"){let e=0;const t=l_e.exec(n);if(Yi(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sa(n.seconds),nanos:sa(n.nanos)}}function sa(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fd(n){return typeof n=="string"?_s.fromBase64String(n):_s.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz="server_timestamp",Kz="__type__",Jz="__previous_value__",Qz="__local_write_time__";function RI(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kz])===null||t===void 0?void 0:t.stringValue)===Yz}function u2(n){const e=n.mapValue.fields[Jz];return RI(e)?u2(e):e}function N1(n){const e=Ud(n.mapValue.fields[Qz].timestampValue);return new Oa(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_e{constructor(e,t,i,r,a,s,l,c,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}const YA="(default)";class L1{constructor(e,t){this.projectId=e,this.database=t||YA}static empty(){return new L1("","")}get isDefaultDatabase(){return this.database===YA}isEqual(e){return e instanceof L1&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z="__type__",u_e="__max__",tS={mapValue:{}},Zz="__vector__",KA="value";function zd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RI(n)?4:f_e(n)?9007199254740991:h_e(n)?10:11:In(28295,{value:n})}function th(n,e){if(n===e)return!0;const t=zd(n);if(t!==zd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return N1(n).isEqual(N1(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const s=Ud(r.timestampValue),l=Ud(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,a){return Fd(r.bytesValue).isEqual(Fd(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return sa(r.geoPointValue.latitude)===sa(a.geoPointValue.latitude)&&sa(r.geoPointValue.longitude)===sa(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return sa(r.integerValue)===sa(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const s=sa(r.doubleValue),l=sa(a.doubleValue);return s===l?WA(s)===WA(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return dy(n.arrayValue.values||[],e.arrayValue.values||[],th);case 10:case 11:return function(r,a){const s=r.mapValue.fields||{},l=a.mapValue.fields||{};if(r9(s)!==r9(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!th(s[c],l[c])))return!1;return!0}(n,e);default:return In(52216,{left:n})}}function U1(n,e){return(n.values||[]).find(t=>th(t,e))!==void 0}function py(n,e){if(n===e)return 0;const t=zd(n),i=zd(e);if(t!==i)return ri(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ri(n.booleanValue,e.booleanValue);case 2:return function(a,s){const l=sa(a.integerValue||a.doubleValue),c=sa(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,e);case 3:return s9(n.timestampValue,e.timestampValue);case 4:return s9(N1(n),N1(e));case 5:return F4(n.stringValue,e.stringValue);case 6:return function(a,s){const l=Fd(a),c=Fd(s);return l.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(a,s){const l=a.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const p=ri(l[f],c[f]);if(p!==0)return p}return ri(l.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,s){const l=ri(sa(a.latitude),sa(s.latitude));return l!==0?l:ri(sa(a.longitude),sa(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return o9(n.arrayValue,e.arrayValue);case 10:return function(a,s){var l,c,f,p;const g=a.fields||{},y=s.fields||{},v=(l=g[KA])===null||l===void 0?void 0:l.arrayValue,x=(c=y[KA])===null||c===void 0?void 0:c.arrayValue,w=ri(((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0,((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:o9(v,x)}(n.mapValue,e.mapValue);case 11:return function(a,s){if(a===tS.mapValue&&s===tS.mapValue)return 0;if(a===tS.mapValue)return 1;if(s===tS.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=s.fields||{},p=Object.keys(f);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const y=F4(c[g],p[g]);if(y!==0)return y;const v=py(l[c[g]],f[p[g]]);if(v!==0)return v}return ri(c.length,p.length)}(n.mapValue,e.mapValue);default:throw In(23264,{Pe:t})}}function s9(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ri(n,e);const t=Ud(n),i=Ud(e),r=ri(t.seconds,i.seconds);return r!==0?r:ri(t.nanos,i.nanos)}function o9(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=py(t[r],i[r]);if(a)return a}return ri(t.length,i.length)}function my(n){return z4(n)}function z4(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ud(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fd(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return vn.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=z4(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const s of i)a?a=!1:r+=",",r+=`${s}:${z4(t.fields[s])}`;return r+"}"}(n.mapValue):In(61005,{value:n})}function PS(n){switch(zd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=u2(n);return e?16+PS(e):16;case 5:return 2*n.stringValue.length;case 6:return Fd(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+PS(a),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Hm(i.fields,(a,s)=>{r+=a.length+PS(s)}),r}(n.mapValue);default:throw In(13486,{value:n})}}function V4(n){return!!n&&"integerValue"in n}function II(n){return!!n&&"arrayValue"in n}function l9(n){return!!n&&"nullValue"in n}function c9(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function DS(n){return!!n&&"mapValue"in n}function h_e(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$z])===null||t===void 0?void 0:t.stringValue)===Zz}function Yv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hm(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Yv(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f_e(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===u_e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.value=e}static empty(){return new ql({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!DS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yv(t)}setAll(e){let t=ms.emptyPath(),i={},r=[];e.forEach((s,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=l.popLast()}s?i[l.lastSegment()]=Yv(s):r.push(l.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());DS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return th(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];DS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Hm(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new ql(Yv(this.value))}}function eV(n){const e=[];return Hm(n.fields,(t,i)=>{const r=new ms([t]);if(DS(i)){const a=eV(i.mapValue).fields;if(a.length===0)e.push(r);else for(const s of a)e.push(r.child(s))}else e.push(r)}),new kc(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t,i,r,a,s,l){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Fs(e,0,Ln.min(),Ln.min(),Ln.min(),ql.empty(),0)}static newFoundDocument(e,t,i,r){return new Fs(e,1,t,Ln.min(),i,r,0)}static newNoDocument(e,t){return new Fs(e,2,t,Ln.min(),Ln.min(),ql.empty(),0)}static newUnknownDocument(e,t){return new Fs(e,3,t,Ln.min(),Ln.min(),ql.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ln.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ql.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ql.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.position=e,this.inclusive=t}}function u9(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],s=n.position[r];if(a.field.isKeyField()?i=vn.comparator(vn.fromName(s.referenceValue),t.key):i=py(s,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function h9(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!th(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t="asc"){this.field=e,this.dir=t}}function d_e(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{}class Da extends tV{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new m_e(e,t,i):t==="array-contains"?new __e(e,i):t==="in"?new v_e(e,i):t==="not-in"?new b_e(e,i):t==="array-contains-any"?new x_e(e,i):new Da(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new g_e(e,i):new y_e(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(py(t,this.value)):t!==null&&zd(this.value)===zd(t)&&this.matchesComparison(py(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return In(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nh extends tV{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new nh(e,t)}matches(e){return nV(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nV(n){return n.op==="and"}function iV(n){return p_e(n)&&nV(n)}function p_e(n){for(const e of n.filters)if(e instanceof nh)return!1;return!0}function j4(n){if(n instanceof Da)return n.field.canonicalString()+n.op.toString()+my(n.value);if(iV(n))return n.filters.map(e=>j4(e)).join(",");{const e=n.filters.map(t=>j4(t)).join(",");return`${n.op}(${e})`}}function rV(n,e){return n instanceof Da?function(i,r){return r instanceof Da&&i.op===r.op&&i.field.isEqual(r.field)&&th(i.value,r.value)}(n,e):n instanceof nh?function(i,r){return r instanceof nh&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,s,l)=>a&&rV(s,r.filters[l]),!0):!1}(n,e):void In(19439)}function aV(n){return n instanceof Da?function(t){return`${t.field.canonicalString()} ${t.op} ${my(t.value)}`}(n):n instanceof nh?function(t){return t.op.toString()+" {"+t.getFilters().map(aV).join(" ,")+"}"}(n):"Filter"}class m_e extends Da{constructor(e,t,i){super(e,t,i),this.key=vn.fromName(i.referenceValue)}matches(e){const t=vn.comparator(e.key,this.key);return this.matchesComparison(t)}}class g_e extends Da{constructor(e,t){super(e,"in",t),this.keys=sV("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class y_e extends Da{constructor(e,t){super(e,"not-in",t),this.keys=sV("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sV(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>vn.fromName(i.referenceValue))}class __e extends Da{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return II(t)&&U1(t.arrayValue,this.value)}}class v_e extends Da{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&U1(this.value.arrayValue,t)}}class b_e extends Da{constructor(e,t){super(e,"not-in",t)}matches(e){if(U1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!U1(this.value.arrayValue,t)}}class x_e extends Da{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!II(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>U1(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_e{constructor(e,t=null,i=[],r=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=s,this.endAt=l,this.Ie=null}}function f9(n,e=null,t=[],i=[],r=null,a=null,s=null){return new M_e(n,e,t,i,r,a,s)}function PI(n){const e=jn(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>j4(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),c2(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>my(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>my(i)).join(",")),e.Ie=t}return e.Ie}function DI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!d_e(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!h9(n.startAt,e.startAt)&&h9(n.endAt,e.endAt)}function k4(n){return vn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t=null,i=[],r=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function S_e(n,e,t,i,r,a,s,l){return new h2(n,e,t,i,r,a,s,l)}function oV(n){return new h2(n)}function d9(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function A_e(n){return n.collectionGroup!==null}function Kv(n){const e=jn(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Na(ms.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new QA(a,i))}),t.has(ms.keyField().canonicalString())||e.Ee.push(new QA(ms.keyField(),i))}return e.Ee}function Wu(n){const e=jn(n);return e.de||(e.de=E_e(e,Kv(n))),e.de}function E_e(n,e){if(n.limitType==="F")return f9(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new QA(r.field,a)});const t=n.endAt?new JA(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new JA(n.startAt.position,n.startAt.inclusive):null;return f9(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function H4(n,e,t){return new h2(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function f2(n,e){return DI(Wu(n),Wu(e))&&n.limitType===e.limitType}function lV(n){return`${PI(Wu(n))}|lt:${n.limitType}`}function hg(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>aV(r)).join(", ")}]`),c2(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>my(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>my(r)).join(",")),`Target(${i})`}(Wu(n))}; limitType=${n.limitType})`}function d2(n,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):vn.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,r){for(const a of Kv(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,l,c){const f=u9(s,l,c);return s.inclusive?f<=0:f<0}(i.startAt,Kv(i),r)||i.endAt&&!function(s,l,c){const f=u9(s,l,c);return s.inclusive?f>=0:f>0}(i.endAt,Kv(i),r))}(n,e)}function T_e(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cV(n){return(e,t)=>{let i=!1;for(const r of Kv(n)){const a=C_e(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function C_e(n,e,t){const i=n.field.isKeyField()?vn.comparator(e.key,t.key):function(a,s,l){const c=s.data.field(a),f=l.data.field(a);return c!==null&&f!==null?py(c,f):In(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return In(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hm(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return qz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_e=new kr(vn.comparator);function pf(){return w_e}const uV=new kr(vn.comparator);function Sv(...n){let e=uV;for(const t of n)e=e.insert(t.key,t);return e}function hV(n){let e=uV;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fm(){return Jv()}function fV(){return Jv()}function Jv(){return new Gm(n=>n.toString(),(n,e)=>n.isEqual(e))}const R_e=new kr(vn.comparator),I_e=new Na(vn.comparator);function yi(...n){let e=I_e;for(const t of n)e=e.add(t);return e}const P_e=new Na(ri);function D_e(){return P_e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:WA(e)?"-0":e}}function dV(n){return{integerValue:""+n}}function B_e(n,e){return a_e(e)?dV(e):BI(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this._=void 0}}function O_e(n,e,t){return n instanceof $A?function(r,a){const s={fields:{[Kz]:{stringValue:Yz},[Qz]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&RI(a)&&(a=u2(a)),a&&(s.fields[Jz]=a),{mapValue:s}}(t,e):n instanceof F1?mV(n,e):n instanceof z1?gV(n,e):function(r,a){const s=pV(r,a),l=p9(s)+p9(r.Re);return V4(s)&&V4(r.Re)?dV(l):BI(r.serializer,l)}(n,e)}function N_e(n,e,t){return n instanceof F1?mV(n,e):n instanceof z1?gV(n,e):t}function pV(n,e){return n instanceof ZA?function(i){return V4(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class $A extends p2{}class F1 extends p2{constructor(e){super(),this.elements=e}}function mV(n,e){const t=yV(e);for(const i of n.elements)t.some(r=>th(r,i))||t.push(i);return{arrayValue:{values:t}}}class z1 extends p2{constructor(e){super(),this.elements=e}}function gV(n,e){let t=yV(e);for(const i of n.elements)t=t.filter(r=>!th(r,i));return{arrayValue:{values:t}}}class ZA extends p2{constructor(e,t){super(),this.serializer=e,this.Re=t}}function p9(n){return sa(n.integerValue||n.doubleValue)}function yV(n){return II(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function L_e(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof F1&&r instanceof F1||i instanceof z1&&r instanceof z1?dy(i.elements,r.elements,th):i instanceof ZA&&r instanceof ZA?th(i.Re,r.Re):i instanceof $A&&r instanceof $A}(n.transform,e.transform)}class U_e{constructor(e,t){this.version=e,this.transformResults=t}}class af{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new af}static exists(e){return new af(void 0,e)}static updateTime(e){return new af(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function BS(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class m2{}function _V(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bV(n.key,af.none()):new Mb(n.key,n.data,af.none());{const t=n.data,i=ql.empty();let r=new Na(ms.comparator);for(let a of e.fields)if(!r.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?i.delete(a):i.set(a,s),r=r.add(a)}return new Xm(n.key,i,new kc(r.toArray()),af.none())}}function F_e(n,e,t){n instanceof Mb?function(r,a,s){const l=r.value.clone(),c=g9(r.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Xm?function(r,a,s){if(!BS(r.precondition,a))return void a.convertToUnknownDocument(s.version);const l=g9(r.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(vV(r)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(r,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Qv(n,e,t,i){return n instanceof Mb?function(a,s,l,c){if(!BS(a.precondition,s))return l;const f=a.value.clone(),p=y9(a.fieldTransforms,c,s);return f.setAll(p),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xm?function(a,s,l,c){if(!BS(a.precondition,s))return l;const f=y9(a.fieldTransforms,c,s),p=s.data;return p.setAll(vV(a)),p.setAll(f),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,i):function(a,s,l){return BS(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(n,e,t)}function z_e(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=pV(i.transform,r||null);a!=null&&(t===null&&(t=ql.empty()),t.set(i.field,a))}return t||null}function m9(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&dy(i,r,(a,s)=>L_e(a,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Mb extends m2{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xm extends m2{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function g9(n,e,t){const i=new Map;Yi(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){const a=n[r],s=a.transform,l=e.data.field(a.field);i.set(a.field,N_e(s,l,t[r]))}return i}function y9(n,e,t){const i=new Map;for(const r of n){const a=r.transform,s=t.data.field(r.field);i.set(r.field,O_e(a,s,e))}return i}class bV extends m2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V_e extends m2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_e{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&F_e(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Qv(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Qv(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=fV();return this.mutations.forEach(r=>{const a=e.get(r.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=t.has(r.key)?null:l;const c=_V(s,l);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Ln.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yi())}isEqual(e){return this.batchId===e.batchId&&dy(this.mutations,e.mutations,(t,i)=>m9(t,i))&&dy(this.baseMutations,e.baseMutations,(t,i)=>m9(t,i))}}class OI{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Yi(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return R_e}();const a=e.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,i[s].version);return new OI(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_e{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_e{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ba,Ti;function G_e(n){switch(n){case At.OK:return In(64938);case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0;default:return In(15467,{code:n})}}function xV(n){if(n===void 0)return df("GRPC error has no .code"),At.UNKNOWN;switch(n){case ba.OK:return At.OK;case ba.CANCELLED:return At.CANCELLED;case ba.UNKNOWN:return At.UNKNOWN;case ba.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case ba.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case ba.INTERNAL:return At.INTERNAL;case ba.UNAVAILABLE:return At.UNAVAILABLE;case ba.UNAUTHENTICATED:return At.UNAUTHENTICATED;case ba.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case ba.NOT_FOUND:return At.NOT_FOUND;case ba.ALREADY_EXISTS:return At.ALREADY_EXISTS;case ba.PERMISSION_DENIED:return At.PERMISSION_DENIED;case ba.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case ba.ABORTED:return At.ABORTED;case ba.OUT_OF_RANGE:return At.OUT_OF_RANGE;case ba.UNIMPLEMENTED:return At.UNIMPLEMENTED;case ba.DATA_LOSS:return At.DATA_LOSS;default:return In(39323,{code:n})}}(Ti=ba||(ba={}))[Ti.OK=0]="OK",Ti[Ti.CANCELLED=1]="CANCELLED",Ti[Ti.UNKNOWN=2]="UNKNOWN",Ti[Ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ti[Ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ti[Ti.NOT_FOUND=5]="NOT_FOUND",Ti[Ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ti[Ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ti[Ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ti[Ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ti[Ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ti[Ti.ABORTED=10]="ABORTED",Ti[Ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ti[Ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ti[Ti.INTERNAL=13]="INTERNAL",Ti[Ti.UNAVAILABLE=14]="UNAVAILABLE",Ti[Ti.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_e=new Td([4294967295,4294967295],0);function _9(n){const e=Hz().encode(n),t=new Nz;return t.update(e),new Uint8Array(t.digest())}function v9(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Td([t,i],0),new Td([r,a],0)]}class NI{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Av(`Invalid padding: ${t}`);if(i<0)throw new Av(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Av(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Av(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Td.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(Td.fromNumber(i)));return r.compare(X_e)===1&&(r=new Td([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=_9(e),[i,r]=v9(t);for(let a=0;a<this.hashCount;a++){const s=this.we(i,r,a);if(!this.be(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new NI(a,r,t);return i.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const t=_9(e),[i,r]=v9(t);for(let a=0;a<this.hashCount;a++){const s=this.we(i,r,a);this.Se(s)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Av extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Sb.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new g2(Ln.min(),r,new kr(ri),pf(),yi())}}class Sb{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Sb(i,t,yi(),yi(),yi())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}}class MV{constructor(e,t){this.targetId=e,this.Ce=t}}class SV{constructor(e,t,i=_s.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class b9{constructor(){this.Fe=0,this.Me=x9(),this.xe=_s.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=yi(),t=yi(),i=yi();return this.Me.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:In(38017,{changeType:a})}}),new Sb(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=x9()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Yi(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class q_e{constructor(e){this.ze=e,this.je=new Map,this.He=pf(),this.Je=nS(),this.Ye=nS(),this.Ze=new kr(ri)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:In(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){const t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){const a=r.target;if(k4(a))if(i===0){const s=new vn(a.path);this.tt(t,s,Fs.newNoDocument(s,Ln.min()))}else Yi(i===1,20013,{expectedCount:i});else{const s=this.ut(t);if(s!==i){const l=this.ct(e),c=l?this.lt(l,e,s):1;if(c!==0){this.st(t);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let s,l;try{s=Fd(i).toUint8Array()}catch(c){if(c instanceof Wz)return fy("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new NI(s,r,a)}catch(c){return fy(c instanceof Av?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let r=0;return i.forEach(a=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.tt(t,a,null),r++)}),r}It(e){const t=new Map;this.je.forEach((a,s)=>{const l=this._t(s);if(l){if(a.current&&k4(l.target)){const c=new vn(l.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Fs.newNoDocument(c,e))}a.Le&&(t.set(s,a.qe()),a.Qe())}});let i=yi();this.Ye.forEach((a,s)=>{let l=!0;s.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const r=new g2(e,t,this.Ze,this.He,i);return this.He=pf(),this.Je=nS(),this.Ye=nS(),this.Ze=new kr(ri),r}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new b9,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Na(ri),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Na(ri),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Kt("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new b9),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function nS(){return new kr(vn.comparator)}function x9(){return new kr(vn.comparator)}const W_e={asc:"ASCENDING",desc:"DESCENDING"},Y_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K_e={and:"AND",or:"OR"};class J_e{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function G4(n,e){return n.useProto3Json||c2(e)?e:{value:e}}function eE(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Q_e(n,e){return eE(n,e.toTimestamp())}function Yu(n){return Yi(!!n,49232),Ln.fromTimestamp(function(t){const i=Ud(t);return new Oa(i.seconds,i.nanos)}(n))}function LI(n,e){return X4(n,e).canonicalString()}function X4(n,e){const t=function(r){return new Rr(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function EV(n){const e=Rr.fromString(n);return Yi(IV(e),10190,{key:e.toString()}),e}function q4(n,e){return LI(n.databaseId,e.path)}function uw(n,e){const t=EV(e);if(t.get(1)!==n.databaseId.projectId)throw new fn(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fn(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new vn(CV(t))}function TV(n,e){return LI(n.databaseId,e)}function $_e(n){const e=EV(n);return e.length===4?Rr.emptyPath():CV(e)}function W4(n){return new Rr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CV(n){return Yi(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function M9(n,e,t){return{name:q4(n,e),fields:t.value.mapValue.fields}}function Z_e(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:In(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(Yi(p===void 0||typeof p=="string",58123),_s.fromBase64String(p||"")):(Yi(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),_s.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(f){const p=f.code===void 0?At.UNKNOWN:xV(f.code);return new fn(p,f.message||"")}(s);t=new SV(i,r,a,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=uw(n,i.document.name),a=Yu(i.document.updateTime),s=i.document.createTime?Yu(i.document.createTime):Ln.min(),l=new ql({mapValue:{fields:i.document.fields}}),c=Fs.newFoundDocument(r,a,s,l),f=i.targetIds||[],p=i.removedTargetIds||[];t=new OS(f,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=uw(n,i.document),a=i.readTime?Yu(i.readTime):Ln.min(),s=Fs.newNoDocument(r,a),l=i.removedTargetIds||[];t=new OS([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=uw(n,i.document),a=i.removedTargetIds||[];t=new OS([],a,r,null)}else{if(!("filter"in e))return In(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,s=new H_e(r,a),l=i.targetId;t=new MV(l,s)}}return t}function eve(n,e){let t;if(e instanceof Mb)t={update:M9(n,e.key,e.value)};else if(e instanceof bV)t={delete:q4(n,e.key)};else if(e instanceof Xm)t={update:M9(n,e.key,e.data),updateMask:cve(e.fieldMask)};else{if(!(e instanceof V_e))return In(16599,{ft:e.type});t={verify:q4(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,s){const l=s.transform;if(l instanceof $A)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof F1)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof z1)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ZA)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw In(20930,{transform:s.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:Q_e(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:In(27497)}(n,e.precondition)),t}function tve(n,e){return n&&n.length>0?(Yi(e!==void 0,14353),n.map(t=>function(r,a){let s=r.updateTime?Yu(r.updateTime):Yu(a);return s.isEqual(Ln.min())&&(s=Yu(a)),new U_e(s,r.transformResults||[])}(t,e))):[]}function nve(n,e){return{documents:[TV(n,e.path)]}}function ive(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=TV(n,r);const a=function(f){if(f.length!==0)return RV(nh.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const s=function(f){if(f.length!==0)return f.map(p=>function(y){return{field:fg(y.field),direction:sve(y.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=G4(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:r}}function rve(n){let e=$_e(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Yi(i===1,65062);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(g){const y=wV(g);return y instanceof nh&&iV(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(y=>function(x){return new QA(dg(x.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(t.orderBy));let l=null;t.limit&&(l=function(g){let y;return y=typeof g=="object"?g.value:g,c2(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(g){const y=!!g.before,v=g.values||[];return new JA(v,y)}(t.startAt));let f=null;return t.endAt&&(f=function(g){const y=!g.before,v=g.values||[];return new JA(v,y)}(t.endAt)),S_e(e,r,s,a,l,"F",c,f)}function ave(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return In(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wV(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=dg(t.unaryFilter.field);return Da.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=dg(t.unaryFilter.field);return Da.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=dg(t.unaryFilter.field);return Da.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=dg(t.unaryFilter.field);return Da.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return In(61313);default:return In(60726)}}(n):n.fieldFilter!==void 0?function(t){return Da.create(dg(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return In(58110);default:return In(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return nh.create(t.compositeFilter.filters.map(i=>wV(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return In(1026)}}(t.compositeFilter.op))}(n):In(30097,{filter:n})}function sve(n){return W_e[n]}function ove(n){return Y_e[n]}function lve(n){return K_e[n]}function fg(n){return{fieldPath:n.canonicalString()}}function dg(n){return ms.fromServerFormat(n.fieldPath)}function RV(n){return n instanceof Da?function(t){if(t.op==="=="){if(c9(t.value))return{unaryFilter:{field:fg(t.field),op:"IS_NAN"}};if(l9(t.value))return{unaryFilter:{field:fg(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(c9(t.value))return{unaryFilter:{field:fg(t.field),op:"IS_NOT_NAN"}};if(l9(t.value))return{unaryFilter:{field:fg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fg(t.field),op:ove(t.op),value:t.value}}}(n):n instanceof nh?function(t){const i=t.getFilters().map(r=>RV(r));return i.length===1?i[0]:{compositeFilter:{op:lve(t.op),filters:i}}}(n):In(54877,{filter:n})}function cve(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,i,r,a=Ln.min(),s=Ln.min(),l=_s.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Md(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uve{constructor(e){this.wt=e}}function hve(n){const e=rve({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?H4(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fve{constructor(){this.yn=new dve}addToCollectionParentIndex(e,t){return this.yn.add(t),vt.resolve()}getCollectionParents(e,t){return vt.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return vt.resolve()}deleteFieldIndex(e,t){return vt.resolve()}deleteAllFieldIndexes(e){return vt.resolve()}createTargetIndexes(e,t){return vt.resolve()}getDocumentsMatchingTarget(e,t){return vt.resolve(null)}getIndexType(e,t){return vt.resolve(0)}getFieldIndexes(e,t){return vt.resolve([])}getNextCollectionGroupToUpdate(e){return vt.resolve(null)}getMinOffset(e,t){return vt.resolve(Ld.min())}getMinOffsetFromCollectionGroup(e,t){return vt.resolve(Ld.min())}updateCollectionGroup(e,t,i){return vt.resolve()}updateIndexEntries(e,t){return vt.resolve()}}class dve{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Na(Rr.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Na(Rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PV=41943040;class Uo{static withCacheSize(e){return new Uo(e,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uo.DEFAULT_COLLECTION_PERCENTILE=10,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uo.DEFAULT=new Uo(PV,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uo.DISABLED=new Uo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new gy(0)}static ir(){return new gy(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="LruGarbageCollector",pve=1048576;function E9([n,e],[t,i]){const r=ri(n,t);return r===0?ri(e,i):r}class mve{constructor(e){this.cr=e,this.buffer=new Na(E9),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();E9(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gve{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Kt(A9,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){By(t)?Kt(A9,"Ignoring IndexedDB error during garbage collection: ",t):await Dy(t)}await this.Ir(3e5)})}}class yve{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return vt.resolve(l2.le);const i=new mve(t);return this.Er.forEachTarget(e,r=>i.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(e,r=>i.Pr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(S9)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S9):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,r,a,s,l,c,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,s=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(e,i,t))).next(g=>(a=g,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(f=Date.now(),ug()<=wi.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${r} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${g} documents in `+(f-c)+`ms
Total Duration: ${f-p}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:g})))}}function _ve(n,e){return new yve(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vve{constructor(){this.changes=new Gm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?vt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bve{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xve{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Qv(i.mutation,r,kc.empty(),Oa.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,yi()).next(()=>i))}getLocalViewOfDocuments(e,t,i=yi()){const r=fm();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let s=Sv();return a.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=fm();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,yi()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((s,l)=>{t.set(s,l)})})}computeViews(e,t,i,r){let a=pf();const s=Jv(),l=function(){return Jv()}();return t.forEach((c,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof Xm)?a=a.insert(f.key,f):p!==void 0?(s.set(f.key,p.mutation.getFieldMask()),Qv(p.mutation,f,p.mutation.getFieldMask(),Oa.now())):s.set(f.key,kc.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((f,p)=>s.set(f,p)),t.forEach((f,p)=>{var g;return l.set(f,new bve(p,(g=s.get(f))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,t){const i=Jv();let r=new kr((s,l)=>s-l),a=yi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const l of s)l.keys().forEach(c=>{const f=t.get(c);if(f===null)return;let p=i.get(c)||kc.empty();p=l.applyToLocalView(f,p),i.set(c,p);const g=(r.get(l.batchId)||yi()).add(c);r=r.insert(l.batchId,g)})}).next(()=>{const s=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,p=c.value,g=fV();p.forEach(y=>{if(!a.has(y)){const v=_V(t.get(y),i.get(y));v!==null&&g.set(y,v),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,g))}return vt.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return vn.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):A_e(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):vt.resolve(fm());let l=O1,c=a;return s.next(f=>vt.forEach(f,(p,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),a.get(p)?vt.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,c,f,yi())).next(p=>({batchId:l,changes:hV(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vn(t)).next(i=>{let r=Sv();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let s=Sv();return this.indexManager.getCollectionParents(e,a).next(l=>vt.forEach(l,c=>{const f=function(g,y){return new h2(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((g,y)=>{s=s.insert(g,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r))).next(s=>{a.forEach((c,f)=>{const p=f.getKey();s.get(p)===null&&(s=s.insert(p,Fs.newInvalidDocument(p)))});let l=Sv();return s.forEach((c,f)=>{const p=a.get(c);p!==void 0&&Qv(p.mutation,f,kc.empty(),Oa.now()),d2(t,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mve{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return vt.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Yu(r.createTime)}}(t)),vt.resolve()}getNamedQuery(e,t){return vt.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(r){return{name:r.name,query:hve(r.bundledQuery),readTime:Yu(r.readTime)}}(t)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sve{constructor(){this.overlays=new kr(vn.comparator),this.Or=new Map}getOverlay(e,t){return vt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fm();return vt.forEach(t,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.St(e,t,a)}),vt.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Or.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(i)),vt.resolve()}getOverlaysForCollection(e,t,i){const r=fm(),a=t.length+1,s=new vn(t.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>i&&r.set(c.getKey(),c)}return vt.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new kr((f,p)=>f-p);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=fm(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const l=fm(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,p)=>l.set(f,p)),!(l.size()>=r)););return vt.resolve(l)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const s=this.Or.get(r.largestBatchId).delete(i.key);this.Or.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new k_e(t,i));let a=this.Or.get(t);a===void 0&&(a=yi(),this.Or.set(t,a)),this.Or.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ave{constructor(){this.sessionToken=_s.EMPTY_BYTE_STRING}getSessionToken(e){return vt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.Nr=new Na(Wa.Br),this.Lr=new Na(Wa.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new Wa(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new Wa(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new vn(new Rr([])),i=new Wa(t,e),r=new Wa(t,e+1),a=[];return this.Lr.forEachInRange([i,r],s=>{this.Qr(s),a.push(s.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new vn(new Rr([])),i=new Wa(t,e),r=new Wa(t,e+1);let a=yi();return this.Lr.forEachInRange([i,r],s=>{a=a.add(s.key)}),a}containsKey(e){const t=new Wa(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Wa{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return vn.comparator(e.key,t.key)||ri(e.Gr,t.Gr)}static kr(e,t){return ri(e.Gr,t.Gr)||vn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eve{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Na(Wa.Br)}checkEmpty(e){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new j_e(a,t,i,r);this.mutationQueue.push(s);for(const l of r)this.zr=this.zr.add(new Wa(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return vt.resolve(s)}lookupMutationBatch(e,t){return vt.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Hr(i),a=r<0?0:r;return vt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?wI:this.Jn-1)}getAllMutationBatches(e){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wa(t,0),r=new Wa(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([i,r],s=>{const l=this.jr(s.Gr);a.push(l)}),vt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Na(ri);return t.forEach(r=>{const a=new Wa(r,0),s=new Wa(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,s],l=>{i=i.add(l.Gr)})}),vt.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;vn.isDocumentKey(a)||(a=a.child(""));const s=new Wa(new vn(a),0);let l=new Na(ri);return this.zr.forEachWhile(c=>{const f=c.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(l=l.add(c.Gr)),!0)},s),vt.resolve(this.Jr(l))}Jr(e){const t=[];return e.forEach(i=>{const r=this.jr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Yi(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return vt.forEach(t.mutations,r=>{const a=new Wa(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new Wa(t,0),r=this.zr.firstAfterOrEqual(i);return vt.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,vt.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tve{constructor(e){this.Zr=e,this.docs=function(){return new kr(vn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,s=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return vt.resolve(i?i.document.mutableCopy():Fs.newInvalidDocument(t))}getEntries(e,t){let i=pf();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Fs.newInvalidDocument(r))}),vt.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=pf();const s=t.path,l=new vn(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:p}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||t_e(e_e(p),i)<=0||(r.has(p.key)||d2(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return vt.resolve(a)}getAllFromCollectionGroup(e,t,i,r){In(9500)}Xr(e,t){return vt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Cve(this)}getSize(e){return vt.resolve(this.size)}}class Cve extends vve{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(i)}),vt.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wve{constructor(e){this.persistence=e,this.ei=new Gm(t=>PI(t),DI),this.lastRemoteSnapshotVersion=Ln.min(),this.highestTargetId=0,this.ti=0,this.ni=new UI,this.targetCount=0,this.ri=gy.rr()}forEachTarget(e,t){return this.ei.forEach((i,r)=>t(r)),vt.resolve()}getLastRemoteSnapshotVersion(e){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vt.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),vt.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new gy(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,vt.resolve()}updateTargetData(e,t){return this.ar(t),vt.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,vt.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.ei.forEach((s,l)=>{l.sequenceNumber<=t&&i.get(l.targetId)===null&&(this.ei.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),vt.waitFor(a).next(()=>r)}getTargetCount(e){return vt.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return vt.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),vt.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(s=>{a.push(r.markPotentiallyOrphaned(e,s))}),vt.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),vt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return vt.resolve(i)}containsKey(e,t){return vt.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,t){this.ii={},this.overlays={},this.si=new l2(0),this.oi=!1,this.oi=!0,this._i=new Ave,this.referenceDelegate=e(this),this.ai=new wve(this),this.indexManager=new fve,this.remoteDocumentCache=function(r){return new Tve(r)}(i=>this.referenceDelegate.ui(i)),this.serializer=new uve(t),this.ci=new Mve(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sve,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new Eve(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){Kt("MemoryPersistence","Starting transaction:",e);const r=new Rve(this.si.next());return this.referenceDelegate.li(),i(r).next(a=>this.referenceDelegate.hi(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Pi(e,t){return vt.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class Rve extends i_e{constructor(e){super(),this.currentSequenceNumber=e}}class FI{constructor(e){this.persistence=e,this.Ti=new UI,this.Ii=null}static Ei(e){return new FI(e)}get di(){if(this.Ii)return this.Ii;throw In(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),vt.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),vt.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),vt.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.di,i=>{const r=vn.fromPath(i);return this.Ai(e,r).next(a=>{a||t.removeEntry(r,Ln.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return vt.or([()=>vt.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class tE{constructor(e,t){this.persistence=e,this.Ri=new Gm(i=>s_e(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=_ve(this,t)}static Ei(e,t){return new tE(e,t)}li(){}hi(e){return vt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return vt.forEach(this.Ri,(i,r)=>this.gr(e,i,r).next(a=>a?vt.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.Xr(e,s=>this.gr(e,s,t).next(l=>{l||(i++,a.removeEntry(s,Ln.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),vt.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),vt.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),vt.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),vt.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=PS(e.data.value)),t}gr(e,t,i){return vt.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.Ri.get(t);return vt.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=r}static Ps(e,t){let i=yi(),r=yi();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new zI(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ive{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pve{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Tge()?8:r_e(Age())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.Rs(e,t).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Vs(e,t,r,i).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Ive;return this.fs(e,t,s).next(l=>{if(a.result=l,this.Is)return this.gs(e,t,s,l.size)})}).next(()=>a.result)}gs(e,t,i,r){return i.documentReadCount<this.Es?(ug()<=wi.DEBUG&&Kt("QueryEngine","SDK will not create cache indexes for query:",hg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),vt.resolve()):(ug()<=wi.DEBUG&&Kt("QueryEngine","Query:",hg(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(ug()<=wi.DEBUG&&Kt("QueryEngine","The SDK decides to create cache indexes for query:",hg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wu(t))):vt.resolve())}Rs(e,t){if(d9(t))return vt.resolve(null);let i=Wu(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=H4(t,null,"F"),i=Wu(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const s=yi(...a);return this.As.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,i).next(c=>{const f=this.ps(t,l);return this.ys(t,f,s,c.readTime)?this.Rs(e,H4(t,null,"F")):this.ws(e,f,t,c)}))})))}Vs(e,t,i,r){return d9(t)||r.isEqual(Ln.min())?vt.resolve(null):this.As.getDocuments(e,i).next(a=>{const s=this.ps(t,a);return this.ys(t,s,i,r)?vt.resolve(null):(ug()<=wi.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hg(t)),this.ws(e,s,t,Zye(r,O1)).next(l=>l))})}ps(e,t){let i=new Na(cV(e));return t.forEach((r,a)=>{d2(e,a)&&(i=i.add(a))}),i}ys(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}fs(e,t,i){return ug()<=wi.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",hg(t)),this.As.getDocumentsMatchingQuery(e,t,Ld.min(),i)}ws(e,t,i,r){return this.As.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="LocalStore",Dve=3e8;class Bve{constructor(e,t,i,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new kr(ri),this.Ds=new Gm(a=>PI(a),DI),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xve(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function Ove(n,e,t,i){return new Bve(n,e,t,i)}async function BV(n,e){const t=jn(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const s=[],l=[];let c=yi();for(const f of r){s.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}for(const f of a){l.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(i,c).next(f=>({Ms:f,removedBatchIds:s,addedBatchIds:l}))})})}function Nve(n,e){const t=jn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,p){const g=f.batch,y=g.keys();let v=vt.resolve();return y.forEach(x=>{v=v.next(()=>p.getEntry(c,x)).next(w=>{const A=f.docVersions.get(x);Yi(A!==null,48541),w.version.compareTo(A)<0&&(g.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),p.addEntry(w)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,g))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let c=yi();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function OV(n){const e=jn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Lve(n,e){const t=jn(n),i=e.snapshotVersion;let r=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=t.Cs.newChangeBuffer({trackRemovals:!0});r=t.Ss;const l=[];e.targetChanges.forEach((p,g)=>{const y=r.get(g);if(!y)return;l.push(t.ai.removeMatchingKeys(a,p.removedDocuments,g).next(()=>t.ai.addMatchingKeys(a,p.addedDocuments,g)));let v=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(_s.EMPTY_BYTE_STRING,Ln.min()).withLastLimboFreeSnapshotVersion(Ln.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,i)),r=r.insert(g,v),function(w,A,M){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Dve?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(y,v,p)&&l.push(t.ai.updateTargetData(a,v))});let c=pf(),f=yi();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),l.push(Uve(a,s,e.documentUpdates).next(p=>{c=p.xs,f=p.Os})),!i.isEqual(Ln.min())){const p=t.ai.getLastRemoteSnapshotVersion(a).next(g=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,i));l.push(p)}return vt.waitFor(l).next(()=>s.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,c,f)).next(()=>c)}).then(a=>(t.Ss=r,a))}function Uve(n,e,t){let i=yi(),r=yi();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let s=pf();return t.forEach((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(Ln.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Kt(VI,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{xs:s,Os:r}})}function Fve(n,e){const t=jn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=wI),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zve(n,e){const t=jn(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.ai.getTargetData(i,e).next(a=>a?(r=a,vt.resolve(r)):t.ai.allocateTargetId(i).next(s=>(r=new Md(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function Y4(n,e,t){const i=jn(n),r=i.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,s=>i.persistence.referenceDelegate.removeTarget(s,r))}catch(s){if(!By(s))throw s;Kt(VI,`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(r.target)}function T9(n,e,t){const i=jn(n);let r=Ln.min(),a=yi();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,p){const g=jn(c),y=g.Ds.get(p);return y!==void 0?vt.resolve(g.Ss.get(y)):g.ai.getTargetData(f,p)}(i,s,Wu(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(s,l.targetId).next(c=>{a=c})}).next(()=>i.bs.getDocumentsMatchingQuery(s,e,t?r:Ln.min(),t?a:yi())).next(l=>(Vve(i,T_e(e),l),{documents:l,Ns:a})))}function Vve(n,e,t){let i=n.vs.get(e)||Ln.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.vs.set(e,i)}class C9{constructor(){this.activeTargetIds=D_e()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jve{constructor(){this.So=new C9,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new C9,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kve{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="ConnectivityMonitor";class R9{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Kt(w9,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Kt(w9,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iS=null;function K4(){return iS===null?iS=function(){return 268435456+Math.round(2147483648*Math.random())}():iS++,"0x"+iS.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="RestConnection",Hve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gve{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${r}`,this.qo=this.databaseId.database===YA?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Qo(e,t,i,r,a){const s=K4(),l=this.$o(e,t.toUriEncodedString());Kt(hw,`Sending RPC '${e}' ${s}:`,l,i);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,r,a),this.Ko(e,l,c,i).then(f=>(Kt(hw,`Received RPC '${e}' ${s}: `,f),f),f=>{throw fy(hw,`RPC '${e}' ${s} failed with error: `,f,"url: ",l,"request:",i),f})}Wo(e,t,i,r,a,s){return this.Qo(e,t,i,r,a)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Py}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}$o(e,t){const i=Hve[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xve{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="WebChannelConnection";class qve extends Gve{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,r){const a=K4();return new Promise((s,l)=>{const c=new Lz;c.setWithCredentials(!0),c.listenOnce(Uz.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case IS.NO_ERROR:const p=c.getResponseJson();Kt(Bs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),s(p);break;case IS.TIMEOUT:Kt(Bs,`RPC '${e}' ${a} timed out`),l(new fn(At.DEADLINE_EXCEEDED,"Request time out"));break;case IS.HTTP_ERROR:const g=c.getStatus();if(Kt(Bs,`RPC '${e}' ${a} failed with status:`,g,"response text:",c.getResponseText()),g>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y==null?void 0:y.error;if(v&&v.status&&v.message){const x=function(A){const M=A.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(M)>=0?M:At.UNKNOWN}(v.status);l(new fn(x,v.message))}else l(new fn(At.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new fn(At.UNAVAILABLE,"Connection failed."));break;default:In(9055,{s_:e,streamId:a,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Kt(Bs,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);Kt(Bs,`RPC '${e}' ${a} sending request:`,r),c.send(t,"POST",f,i,15)})}a_(e,t,i){const r=K4(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vz(),l=zz(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const p=a.join("");Kt(Bs,`Creating RPC '${e}' stream ${r}: ${p}`,c);const g=s.createWebChannel(p,c);let y=!1,v=!1;const x=new Xve({Go:A=>{v?Kt(Bs,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(y||(Kt(Bs,`Opening RPC '${e}' stream ${r} transport.`),g.open(),y=!0),Kt(Bs,`RPC '${e}' stream ${r} sending:`,A),g.send(A))},zo:()=>g.close()}),w=(A,M,R)=>{A.listen(M,P=>{try{R(P)}catch(L){setTimeout(()=>{throw L},0)}})};return w(g,Mv.EventType.OPEN,()=>{v||(Kt(Bs,`RPC '${e}' stream ${r} transport opened.`),x.t_())}),w(g,Mv.EventType.CLOSE,()=>{v||(v=!0,Kt(Bs,`RPC '${e}' stream ${r} transport closed`),x.r_())}),w(g,Mv.EventType.ERROR,A=>{v||(v=!0,fy(Bs,`RPC '${e}' stream ${r} transport errored. Name:`,A.name,"Message:",A.message),x.r_(new fn(At.UNAVAILABLE,"The operation could not be completed")))}),w(g,Mv.EventType.MESSAGE,A=>{var M;if(!v){const R=A.data[0];Yi(!!R,16349);const P=R,L=(P==null?void 0:P.error)||((M=P[0])===null||M===void 0?void 0:M.error);if(L){Kt(Bs,`RPC '${e}' stream ${r} received error:`,L);const F=L.status;let j=function(B){const O=ba[B];if(O!==void 0)return xV(O)}(F),U=L.message;j===void 0&&(j=At.INTERNAL,U="Unknown error status: "+F+" with message "+L.message),v=!0,x.r_(new fn(j,U)),g.close()}else Kt(Bs,`RPC '${e}' stream ${r} received:`,R),x.i_(R)}}),w(l,Fz.STAT_EVENT,A=>{A.stat===U4.PROXY?Kt(Bs,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===U4.NOPROXY&&Kt(Bs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function fw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n){return new J_e(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,t,i=1e3,r=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=r,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-i);r>0&&Kt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="PersistentStream";class LV{constructor(e,t,i,r,a,s,l,c){this.bi=e,this.R_=i,this.V_=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new NV(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===At.RESOURCE_EXHAUSTED?(df(t.toString()),df("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===At.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.m_===t&&this.B_(i,r)},i=>{e(()=>{const r=new fn(At.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(r)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{i(()=>this.L_(r))}),this.stream.onMessage(r=>{i(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Kt(I9,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Kt(I9,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wve extends LV{constructor(e,t,i,r,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=Z_e(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ln.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ln.min():s.readTime?Yu(s.readTime):Ln.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=W4(this.serializer),t.addTarget=function(a,s){let l;const c=s.target;if(l=k4(c)?{documents:nve(a,c)}:{query:ive(a,c).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=AV(a,s.resumeToken);const f=G4(a,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Ln.min())>0){l.readTime=eE(a,s.snapshotVersion.toTimestamp());const f=G4(a,s.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const i=ave(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=W4(this.serializer),t.removeTarget=e,this.F_(t)}}class Yve extends LV{constructor(e,t,i,r,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Yi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yi(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Yi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=tve(e.writeResults,e.commitTime),i=Yu(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=W4(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>eve(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kve{}class Jve extends Kve{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new fn(At.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Qo(e,X4(t,i),r,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fn(At.UNKNOWN,a.toString())})}Wo(e,t,i,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Wo(e,X4(t,i),r,s,l,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fn(At.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Qve{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(df(t),this.ea=!1):Kt("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RemoteStore";class $ve{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(s=>{i.enqueueAndForget(async()=>{qm(this)&&(Kt(Om,"Restarting streams for network reachability change."),await async function(c){const f=jn(c);f.aa.add(4),await Ab(f),f.la.set("Unknown"),f.aa.delete(4),await _2(f)}(this))})}),this.la=new Qve(i,r)}}async function _2(n){if(qm(n))for(const e of n.ua)await e(!0)}async function Ab(n){for(const e of n.ua)await e(!1)}function UV(n,e){const t=jn(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),GI(t)?HI(t):Oy(t).b_()&&kI(t,e))}function jI(n,e){const t=jn(n),i=Oy(t);t._a.delete(e),i.b_()&&FV(t,e),t._a.size===0&&(i.b_()?i.v_():qm(t)&&t.la.set("Unknown"))}function kI(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ln.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oy(n).U_(e)}function FV(n,e){n.ha.Ke(e),Oy(n).K_(e)}function HI(n){n.ha=new q_e({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Oy(n).start(),n.la.ta()}function GI(n){return qm(n)&&!Oy(n).w_()&&n._a.size>0}function qm(n){return jn(n).aa.size===0}function zV(n){n.ha=void 0}async function Zve(n){n.la.set("Online")}async function e1e(n){n._a.forEach((e,t)=>{kI(n,e)})}async function t1e(n,e){zV(n),GI(n)?(n.la.ia(e),HI(n)):n.la.set("Unknown")}async function n1e(n,e,t){if(n.la.set("Online"),e instanceof SV&&e.state===2&&e.cause)try{await async function(r,a){const s=a.cause;for(const l of a.targetIds)r._a.has(l)&&(await r.remoteSyncer.rejectListen(l,s),r._a.delete(l),r.ha.removeTarget(l))}(n,e)}catch(i){Kt(Om,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nE(n,i)}else if(e instanceof OS?n.ha.Xe(e):e instanceof MV?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ln.min()))try{const i=await OV(n.localStore);t.compareTo(i)>=0&&await function(a,s){const l=a.ha.It(s);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const p=a._a.get(f);p&&a._a.set(f,p.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,f)=>{const p=a._a.get(c);if(!p)return;a._a.set(c,p.withResumeToken(_s.EMPTY_BYTE_STRING,p.snapshotVersion)),FV(a,c);const g=new Md(p.target,c,f,p.sequenceNumber);kI(a,g)}),a.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(i){Kt(Om,"Failed to raise snapshot:",i),await nE(n,i)}}async function nE(n,e,t){if(!By(e))throw e;n.aa.add(1),await Ab(n),n.la.set("Offline"),t||(t=()=>OV(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Kt(Om,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await _2(n)})}function VV(n,e){return e().catch(t=>nE(n,t,e))}async function v2(n){const e=jn(n),t=Vd(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:wI;for(;i1e(e);)try{const r=await Fve(e.localStore,i);if(r===null){e.oa.length===0&&t.v_();break}i=r.batchId,r1e(e,r)}catch(r){await nE(e,r)}jV(e)&&kV(e)}function i1e(n){return qm(n)&&n.oa.length<10}function r1e(n,e){n.oa.push(e);const t=Vd(n);t.b_()&&t.W_&&t.G_(e.mutations)}function jV(n){return qm(n)&&!Vd(n).w_()&&n.oa.length>0}function kV(n){Vd(n).start()}async function a1e(n){Vd(n).H_()}async function s1e(n){const e=Vd(n);for(const t of n.oa)e.G_(t.mutations)}async function o1e(n,e,t){const i=n.oa.shift(),r=OI.from(i,e,t);await VV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await v2(n)}async function l1e(n,e){e&&Vd(n).W_&&await async function(i,r){if(function(s){return G_e(s)&&s!==At.ABORTED}(r.code)){const a=i.oa.shift();Vd(i).D_(),await VV(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await v2(i)}}(n,e),jV(n)&&kV(n)}async function P9(n,e){const t=jn(n);t.asyncQueue.verifyOperationInProgress(),Kt(Om,"RemoteStore received new credentials");const i=qm(t);t.aa.add(3),await Ab(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await _2(t)}async function c1e(n,e){const t=jn(n);e?(t.aa.delete(2),await _2(t)):e||(t.aa.add(2),await Ab(t),t.la.set("Unknown"))}function Oy(n){return n.Pa||(n.Pa=function(t,i,r){const a=jn(t);return a.Y_(),new Wve(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{jo:Zve.bind(null,n),Jo:e1e.bind(null,n),Zo:t1e.bind(null,n),Q_:n1e.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),GI(n)?HI(n):n.la.set("Unknown")):(await n.Pa.stop(),zV(n))})),n.Pa}function Vd(n){return n.Ta||(n.Ta=function(t,i,r){const a=jn(t);return a.Y_(),new Yve(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:a1e.bind(null,n),Zo:l1e.bind(null,n),z_:s1e.bind(null,n),j_:o1e.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await v2(n)):(await n.Ta.stop(),n.oa.length>0&&(Kt(Om,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Cd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const s=Date.now()+i,l=new XI(e,t,s,r,a);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fn(At.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qI(n,e){if(df("AsyncQueue",`${e}: ${n}`),By(n))return new fn(At.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{static emptySet(e){return new Vg(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||vn.comparator(t.key,i.key):(t,i)=>vn.comparator(t.key,i.key),this.keyedMap=Sv(),this.sortedSet=new kr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Vg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.Ia=new kr(vn.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):In(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class yy{constructor(e,t,i,r,a,s,l,c,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,a){const s=[];return t.forEach(l=>{s.push({type:0,doc:l})}),new yy(e,t,Vg.emptySet(t),s,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1e{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class h1e{constructor(){this.queries=B9(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const r=jn(t),a=r.queries;r.queries=B9(),a.forEach((s,l)=>{for(const c of l.Ra)c.onError(i)})})(this,new fn(At.ABORTED,"Firestore shutting down"))}}function B9(){return new Gm(n=>lV(n),f2)}async function f1e(n,e){const t=jn(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.Va()&&e.ma()&&(i=2):(a=new u1e,i=e.ma()?0:1);try{switch(i){case 0:a.Aa=await t.onListen(r,!0);break;case 1:a.Aa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(s){const l=qI(s,`Initialization of query '${hg(e.query)}' failed`);return void e.onError(l)}t.queries.set(r,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&WI(t)}async function d1e(n,e){const t=jn(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const s=a.Ra.indexOf(e);s>=0&&(a.Ra.splice(s,1),a.Ra.length===0?r=e.ma()?0:1:!a.Va()&&e.ma()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function p1e(n,e){const t=jn(n);let i=!1;for(const r of e){const a=r.query,s=t.queries.get(a);if(s){for(const l of s.Ra)l.pa(r)&&(i=!0);s.Aa=r}}i&&WI(t)}function m1e(n,e,t){const i=jn(n),r=i.queries.get(e);if(r)for(const a of r.Ra)a.onError(t);i.queries.delete(e)}function WI(n){n.fa.forEach(e=>{e.next()})}var J4,O9;(O9=J4||(J4={})).ya="default",O9.Cache="cache";class g1e{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new yy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=yy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==J4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.key=e}}class GV{constructor(e){this.key=e}}class y1e{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=yi(),this.mutatedKeys=yi(),this.Ua=cV(e),this.Ka=new Vg(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new D9,r=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,s=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,g)=>{const y=r.get(p),v=d2(this.query,g)?g:null,x=!!y&&this.mutatedKeys.has(y.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;y&&v?y.data.isEqual(v.data)?x!==w&&(i.track({type:3,doc:v}),A=!0):this.ja(y,v)||(i.track({type:2,doc:v}),A=!0,(c&&this.Ua(v,c)>0||f&&this.Ua(v,f)<0)&&(l=!0)):!y&&v?(i.track({type:0,doc:v}),A=!0):y&&!v&&(i.track({type:1,doc:y}),A=!0,(c||f)&&(l=!0)),A&&(v?(s=s.add(v),a=w?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{Ka:s,za:i,ys:l,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const s=e.za.da();s.sort((p,g)=>function(v,x){const w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return In(20277,{Vt:A})}};return w(v)-w(x)}(p.type,g.type)||this.Ua(p.doc,g.doc)),this.Ha(i),r=r!=null&&r;const l=t&&!r?this.Ja():[],c=this.$a.size===0&&this.current&&!r?1:0,f=c!==this.Qa;return this.Qa=c,s.length!==0||f?{snapshot:new yy(this.query,e.Ka,a,s,e.mutatedKeys,c===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new D9,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=yi(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new GV(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new HV(i))}),t}Xa(e){this.qa=e.Ns,this.$a=yi();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return yy.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const YI="SyncEngine";class _1e{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class v1e{constructor(e){this.key=e,this.tu=!1}}class b1e{constructor(e,t,i,r,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Gm(l=>lV(l),f2),this.iu=new Map,this.su=new Set,this.ou=new kr(vn.comparator),this._u=new Map,this.au=new UI,this.uu={},this.cu=new Map,this.lu=gy.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function x1e(n,e,t=!0){const i=JV(n);let r;const a=i.ru.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.eu()):r=await XV(i,e,t,!0),r}async function M1e(n,e){const t=JV(n);await XV(t,e,!0,!1)}async function XV(n,e,t,i){const r=await zve(n.localStore,Wu(e)),a=r.targetId,s=n.sharedClientState.addLocalQueryTarget(a,t);let l;return i&&(l=await S1e(n,e,a,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&UV(n.remoteStore,r),l}async function S1e(n,e,t,i,r){n.Pu=(g,y,v)=>async function(w,A,M,R){let P=A.view.Ga(M);P.ys&&(P=await T9(w.localStore,A.query,!1).then(({documents:U})=>A.view.Ga(U,P)));const L=R&&R.targetChanges.get(A.targetId),F=R&&R.targetMismatches.get(A.targetId)!=null,j=A.view.applyChanges(P,w.isPrimaryClient,L,F);return L9(w,A.targetId,j.Ya),j.snapshot}(n,g,y,v);const a=await T9(n.localStore,e,!0),s=new y1e(e,a.Ns),l=s.Ga(a.documents),c=Sb.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=s.applyChanges(l,n.isPrimaryClient,c);L9(n,t,f.Ya);const p=new _1e(e,t,s);return n.ru.set(e,p),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),f.snapshot}async function A1e(n,e,t){const i=jn(n),r=i.ru.get(e),a=i.iu.get(r.targetId);if(a.length>1)return i.iu.set(r.targetId,a.filter(s=>!f2(s,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Y4(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&jI(i.remoteStore,r.targetId),Q4(i,r.targetId)}).catch(Dy)):(Q4(i,r.targetId),await Y4(i.localStore,r.targetId,!0))}async function E1e(n,e){const t=jn(n),i=t.ru.get(e),r=t.iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),jI(t.remoteStore,i.targetId))}async function T1e(n,e,t){const i=B1e(n);try{const r=await function(s,l){const c=jn(s),f=Oa.now(),p=l.reduce((v,x)=>v.add(x.key),yi());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=pf(),w=yi();return c.Cs.getEntries(v,p).next(A=>{x=A,x.forEach((M,R)=>{R.isValidDocument()||(w=w.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,x)).next(A=>{g=A;const M=[];for(const R of l){const P=z_e(R,g.get(R.key).overlayedDocument);P!=null&&M.push(new Xm(R.key,P,eV(P.value.mapValue),af.exists(!0)))}return c.mutationQueue.addMutationBatch(v,f,M,l)}).next(A=>{y=A;const M=A.applyToLocalDocumentSet(g,w);return c.documentOverlayCache.saveOverlays(v,A.batchId,M)})}).then(()=>({batchId:y.batchId,changes:hV(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,c){let f=s.uu[s.currentUser.toKey()];f||(f=new kr(ri)),f=f.insert(l,c),s.uu[s.currentUser.toKey()]=f}(i,r.batchId,t),await Eb(i,r.changes),await v2(i.remoteStore)}catch(r){const a=qI(r,"Failed to persist write");t.reject(a)}}async function qV(n,e){const t=jn(n);try{const i=await Lve(t.localStore,e);e.targetChanges.forEach((r,a)=>{const s=t._u.get(a);s&&(Yi(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?s.tu=!0:r.modifiedDocuments.size>0?Yi(s.tu,14607):r.removedDocuments.size>0&&(Yi(s.tu,42227),s.tu=!1))}),await Eb(t,i,e)}catch(i){await Dy(i)}}function N9(n,e,t){const i=jn(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ru.forEach((a,s)=>{const l=s.view.ga(e);l.snapshot&&r.push(l.snapshot)}),function(s,l){const c=jn(s);c.onlineState=l;let f=!1;c.queries.forEach((p,g)=>{for(const y of g.Ra)y.ga(l)&&(f=!0)}),f&&WI(c)}(i.eventManager,e),r.length&&i.nu.Q_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function C1e(n,e,t){const i=jn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i._u.get(e),a=r&&r.key;if(a){let s=new kr(vn.comparator);s=s.insert(a,Fs.newNoDocument(a,Ln.min()));const l=yi().add(a),c=new g2(Ln.min(),new Map,new kr(ri),s,l);await qV(i,c),i.ou=i.ou.remove(a),i._u.delete(e),KI(i)}else await Y4(i.localStore,e,!1).then(()=>Q4(i,e,t)).catch(Dy)}async function w1e(n,e){const t=jn(n),i=e.batch.batchId;try{const r=await Nve(t.localStore,e);YV(t,i,null),WV(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Eb(t,r)}catch(r){await Dy(r)}}async function R1e(n,e,t){const i=jn(n);try{const r=await function(s,l){const c=jn(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return c.mutationQueue.lookupMutationBatch(f,l).next(g=>(Yi(g!==null,37113),p=g.keys(),c.mutationQueue.removeMutationBatch(f,g))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,p,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>c.localDocuments.getDocuments(f,p))})}(i.localStore,e);YV(i,e,t),WV(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Eb(i,r)}catch(r){await Dy(r)}}function WV(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function YV(n,e,t){const i=jn(n);let r=i.uu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.uu[i.currentUser.toKey()]=r}}function Q4(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||KV(n,i)})}function KV(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(jI(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),KI(n))}function L9(n,e,t){for(const i of t)i instanceof HV?(n.au.addReference(i.key,e),I1e(n,i)):i instanceof GV?(Kt(YI,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||KV(n,i.key)):In(19791,{Iu:i})}function I1e(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(Kt(YI,"New document in limbo: "+t),n.su.add(i),KI(n))}function KI(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new vn(Rr.fromString(e)),i=n.lu.next();n._u.set(i,new v1e(t)),n.ou=n.ou.insert(t,i),UV(n.remoteStore,new Md(Wu(oV(t.path)),i,"TargetPurposeLimboResolution",l2.le))}}async function Eb(n,e,t){const i=jn(n),r=[],a=[],s=[];i.ru.isEmpty()||(i.ru.forEach((l,c)=>{s.push(i.Pu(c,e,t).then(f=>{var p;if((f||t)&&i.isPrimaryClient){const g=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(f){r.push(f);const g=zI.Ps(c.targetId,f);a.push(g)}}))}),await Promise.all(s),i.nu.Q_(r),await async function(c,f){const p=jn(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>vt.forEach(f,y=>vt.forEach(y.ls,v=>p.persistence.referenceDelegate.addReference(g,y.targetId,v)).next(()=>vt.forEach(y.hs,v=>p.persistence.referenceDelegate.removeReference(g,y.targetId,v)))))}catch(g){if(!By(g))throw g;Kt(VI,"Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const v=p.Ss.get(y),x=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(x);p.Ss=p.Ss.insert(y,w)}}}(i.localStore,a))}async function P1e(n,e){const t=jn(n);if(!t.currentUser.isEqual(e)){Kt(YI,"User change. New user:",e.toKey());const i=await BV(t.localStore,e);t.currentUser=e,function(a,s){a.cu.forEach(l=>{l.forEach(c=>{c.reject(new fn(At.CANCELLED,s))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Eb(t,i.Ms)}}function D1e(n,e){const t=jn(n),i=t._u.get(e);if(i&&i.tu)return yi().add(i.key);{let r=yi();const a=t.iu.get(e);if(!a)return r;for(const s of a){const l=t.ru.get(s);r=r.unionWith(l.view.Wa)}return r}}function JV(n){const e=jn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C1e.bind(null,e),e.nu.Q_=p1e.bind(null,e.eventManager),e.nu.Tu=m1e.bind(null,e.eventManager),e}function B1e(n){const e=jn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w1e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R1e.bind(null,e),e}class iE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=y2(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Ove(this.persistence,new Pve,e.initialUser,this.serializer)}Ru(e){return new DV(FI.Ei,this.serializer)}Au(e){return new jve}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}iE.provider={build:()=>new iE};class O1e extends iE{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Yi(this.persistence.referenceDelegate instanceof tE,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new gve(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Uo.withCacheSize(this.cacheSizeBytes):Uo.DEFAULT;return new DV(i=>tE.Ei(i,t),this.serializer)}}class $4{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>N9(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=P1e.bind(null,this.syncEngine),await c1e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h1e}()}createDatastore(e){const t=y2(e.databaseInfo.databaseId),i=function(a){return new qve(a)}(e.databaseInfo);return function(a,s,l,c){return new Jve(a,s,l,c)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,a,s,l){return new $ve(i,r,a,s,l)}(this.localStore,this.datastore,e.asyncQueue,t=>N9(this.syncEngine,t,0),function(){return R9.C()?new R9:new kve}())}createSyncEngine(e,t){return function(r,a,s,l,c,f,p){const g=new b1e(r,a,s,l,c,f);return p&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const a=jn(r);Kt(Om,"RemoteStore shutting down."),a.aa.add(5),await Ab(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$4.provider={build:()=>new $4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1e{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):df("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="FirestoreClient";class L1e{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Us.UNAUTHENTICATED,this.clientId=Gz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async s=>{Kt(jd,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Kt(jd,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=qI(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function dw(n,e){n.asyncQueue.verifyOperationInProgress(),Kt(jd,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await BV(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function U9(n,e){n.asyncQueue.verifyOperationInProgress();const t=await U1e(n);Kt(jd,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>P9(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>P9(e.remoteStore,r)),n._onlineComponents=e}async function U1e(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Kt(jd,"Using user provided OfflineComponentProvider");try{await dw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===At.FAILED_PRECONDITION||r.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;fy("Error using user provided cache. Falling back to memory cache: "+t),await dw(n,new iE)}}else Kt(jd,"Using default OfflineComponentProvider"),await dw(n,new O1e(void 0));return n._offlineComponents}async function QV(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Kt(jd,"Using user provided OnlineComponentProvider"),await U9(n,n._uninitializedComponentsProvider._online)):(Kt(jd,"Using default OnlineComponentProvider"),await U9(n,new $4))),n._onlineComponents}function F1e(n){return QV(n).then(e=>e.syncEngine)}async function z1e(n){const e=await QV(n),t=e.eventManager;return t.onListen=x1e.bind(null,e.syncEngine),t.onUnlisten=A1e.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=M1e.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E1e.bind(null,e.syncEngine),t}function V1e(n,e,t={}){const i=new Cd;return n.asyncQueue.enqueueAndForget(async()=>function(a,s,l,c,f){const p=new N1e({next:y=>{p.yu(),s.enqueueAndForget(()=>d1e(a,g)),y.fromCache&&c.source==="server"?f.reject(new fn(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new g1e(l,p,{includeMetadataChanges:!0,Fa:!0});return f1e(a,g)}(await z1e(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(n,e,t){if(!t)throw new fn(At.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function j1e(n,e,t,i){if(e===!0&&i===!0)throw new fn(At.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function z9(n){if(!vn.isDocumentKey(n))throw new fn(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function V9(n){if(vn.isDocumentKey(n))throw new fn(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":In(12329,{type:typeof n})}function rE(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fn(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=JI(n);throw new fn(At.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej="firestore.googleapis.com",j9=!0;class k9{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fn(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ej,this.ssl=j9}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:j9;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pve)throw new fn(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j1e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$V((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fn(At.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fn(At.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fn(At.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b2{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k9({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fn(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fn(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k9(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Gye;switch(i.type){case"firstParty":return new Yye(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fn(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=F9.get(t);i&&(Kt("ComponentProvider","Removing Datastore"),F9.delete(t),i.terminate())}(this),Promise.resolve()}}function k1e(n,e,t,i={}){var r;const a=(n=rE(n,b2))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;a.host!==ej&&a.host!==l&&fy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:!1,emulatorOptions:i});if(!GA(c,s)&&(n._setSettings(c),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Us.MOCK_USER;else{f=Sge(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new fn(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Us(g)}n._authCredentials=new Xye(new kz(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new x2(this.firestore,e,this._query)}}class Gc{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gc(this.firestore,e,this._key)}}class wd extends x2{constructor(e,t,i){super(e,t,oV(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gc(this.firestore,null,new vn(e))}withConverter(e){return new wd(this.firestore,e,this._path)}}function pw(n,e,...t){if(n=P1(n),ZV("collection","path",e),n instanceof b2){const i=Rr.fromString(e,...t);return V9(i),new wd(n,null,i)}{if(!(n instanceof Gc||n instanceof wd))throw new fn(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rr.fromString(e,...t));return V9(i),new wd(n.firestore,null,i)}}function H1e(n,e,...t){if(n=P1(n),arguments.length===1&&(e=Gz.newId()),ZV("doc","path",e),n instanceof b2){const i=Rr.fromString(e,...t);return z9(i),new Gc(n,null,new vn(i))}{if(!(n instanceof Gc||n instanceof wd))throw new fn(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rr.fromString(e,...t));return z9(i),new Gc(n.firestore,n instanceof wd?n.converter:null,new vn(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="AsyncQueue";class G9{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new NV(this,"async_queue_retry"),this.ju=()=>{const i=fw();i&&Kt(H9,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=fw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=fw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Cd;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!By(e))throw e;Kt(H9,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,df("INTERNAL UNHANDLED ERROR: ",X9(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=XI.createAndSchedule(this,e,t,i,a=>this.Xu(a));return this.Uu.push(r),r}Ju(){this.Ku&&In(47125,{ec:X9(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function X9(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class QI extends b2{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new G9,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G9(e),this._firestoreClient=void 0,await e}}}function G1e(n,e){const t=typeof n=="object"?n:Bye(),i=typeof n=="string"?n:YA,r=wye(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=xge("firestore");a&&k1e(r,...a)}return r}function tj(n){if(n._terminated)throw new fn(At.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||X1e(n),n._firestoreClient}function X1e(n){var e,t,i;const r=n._freezeSettings(),a=function(l,c,f,p){return new c_e(l,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$V(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new L1e(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _y(_s.fromBase64String(e))}catch(t){throw new fn(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _y(_s.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fn(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fn(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fn(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ri(this._lat,e._lat)||ri(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1e=/^__.*__$/;class W1e{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Xm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mb(e,this.data,t,this.fieldTransforms)}}function ij(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw In(40011,{oc:n})}}class tP{constructor(e,t,i,r,a,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new tP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ac({path:i,cc:!1});return r.lc(e),r}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ac({path:i,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return aE(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(ij(this.oc)&&q1e.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Y1e{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||y2(e)}dc(e,t,i,r=!1){return new tP({oc:e,methodName:t,Ec:i,path:ms.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K1e(n){const e=n._freezeSettings(),t=y2(n._databaseId);return new Y1e(n._databaseId,!!e.ignoreUndefinedProperties,t)}function J1e(n,e,t,i,r,a={}){const s=n.dc(a.merge||a.mergeFields?2:0,e,t,r);oj("Data must be an object, but it was:",s,i);const l=aj(i,s);let c,f;if(a.merge)c=new kc(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const y=Q1e(e,g,t);if(!s.contains(y))throw new fn(At.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Z1e(p,y)||p.push(y)}c=new kc(p),f=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,f=s.fieldTransforms;return new W1e(new ql(l),c,f)}function rj(n,e){if(sj(n=P1(n)))return oj("Unsupported field value:",e,n),aj(n,e);if(n instanceof nj)return function(i,r){if(!ij(r.oc))throw r.Tc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,r){const a=[];let s=0;for(const l of i){let c=rj(l,r.Pc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(n,e)}return function(i,r){if((i=P1(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return B_e(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Oa.fromDate(i);return{timestampValue:eE(r.serializer,a)}}if(i instanceof Oa){const a=new Oa(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:eE(r.serializer,a)}}if(i instanceof ZI)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _y)return{bytesValue:AV(r.serializer,i._byteString)};if(i instanceof Gc){const a=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(a))throw r.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:LI(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof eP)return function(s,l){return{mapValue:{fields:{[$z]:{stringValue:Zz},[KA]:{arrayValue:{values:s.toArray().map(f=>{if(typeof f!="number")throw l.Tc("VectorValues must only contain numeric values.");return BI(l.serializer,f)})}}}}}}(i,r);throw r.Tc(`Unsupported field value: ${JI(i)}`)}(n,e)}function aj(n,e){const t={};return qz(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hm(n,(i,r)=>{const a=rj(r,e.uc(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function sj(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Oa||n instanceof ZI||n instanceof _y||n instanceof Gc||n instanceof nj||n instanceof eP)}function oj(n,e,t){if(!sj(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=JI(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function Q1e(n,e,t){if((e=P1(e))instanceof $I)return e._internalPath;if(typeof e=="string")return lj(n,e);throw aE("Field path arguments must be of type string or ",n,!1,void 0,t)}const $1e=new RegExp("[~\\*/\\[\\]]");function lj(n,e,t){if(e.search($1e)>=0)throw aE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $I(...e.split("."))._internalPath}catch{throw aE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function aE(n,e,t,i,r){const a=i&&!i.isEmpty(),s=r!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new fn(At.INVALID_ARGUMENT,l+n+c)}function Z1e(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gc(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ebe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uj("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ebe extends cj{data(){return super.data()}}function uj(n,e){return typeof e=="string"?lj(n,e):e instanceof $I?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tbe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fn(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nbe{convertValue(e,t="none"){switch(zd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw In(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Hm(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,r;const a=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[KA].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>sa(s.doubleValue));return new eP(a)}convertGeoPoint(e){return new ZI(sa(e.latitude),sa(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=u2(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(N1(e));default:return null}}convertTimestamp(e){const t=Ud(e);return new Oa(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Rr.fromString(e);Yi(IV(i),9688,{name:e});const r=new L1(i.get(1),i.get(3)),a=new vn(i.popFirst(5));return r.isEqual(t)||df(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ibe(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rbe extends cj{constructor(e,t,i,r,a,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new NS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(uj("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class NS extends rbe{data(e={}){return super.data(e)}}class abe{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new rS(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new NS(this._firestore,this._userDataWriter,i.key,i,new rS(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fn(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>{const c=new NS(r._firestore,r._userDataWriter,l.doc.key,l.doc,new rS(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new NS(r._firestore,r._userDataWriter,l.doc.key,l.doc,new rS(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),p=s.indexOf(l.doc.key)),{type:sbe(l.type),doc:c,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sbe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return In(61501,{type:n})}}class obe extends nbe{constructor(e){super(),this.firestore=e}convertBytes(e){return new _y(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gc(this.firestore,null,t)}}function lbe(n){n=rE(n,x2);const e=rE(n.firestore,QI),t=tj(e),i=new obe(e);return tbe(n._query),V1e(t,n._query).then(r=>new abe(e,i,n,r))}function q9(n,e){const t=rE(n.firestore,QI),i=H1e(n),r=ibe(n.converter,e);return cbe(t,[J1e(K1e(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,af.exists(!1))]).then(()=>i)}function cbe(n,e){return function(i,r){const a=new Cd;return i.asyncQueue.enqueueAndForget(async()=>T1e(await F1e(i),r,a)),a.promise}(tj(n),e)}(function(e,t=!0){(function(r){Py=r})(Dye),qA(new D1("firestore",(i,{instanceIdentifier:r,options:a})=>{const s=i.getProvider("app").getImmediate(),l=new QI(new qye(i.getProvider("auth-internal")),new Kye(s,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new fn(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new L1(f.options.projectId,p)}(s,r),s);return a=Object.assign({useFetchStreams:t},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),zg(J6,Q6,e),zg(J6,Q6,"esm2017")})();var Tb=n=>n.type==="checkbox",dm=n=>n instanceof Date,lo=n=>n==null;const hj=n=>typeof n=="object";var ua=n=>!lo(n)&&!Array.isArray(n)&&hj(n)&&!dm(n),ube=n=>ua(n)&&n.target?Tb(n.target)?n.target.checked:n.target.value:n,hbe=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,fbe=(n,e)=>n.has(hbe(e)),dbe=n=>{const e=n.constructor&&n.constructor.prototype;return ua(e)&&e.hasOwnProperty("isPrototypeOf")},nP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ns(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(nP&&(n instanceof Blob||i))&&(t||ua(n)))if(e=t?[]:{},!t&&!dbe(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=Ns(n[r]));else return n;return e}var M2=n=>Array.isArray(n)?n.filter(Boolean):[],xa=n=>n===void 0,nn=(n,e,t)=>{if(!e||!ua(n))return t;const i=M2(e.split(/[,[\].]+?/)).reduce((r,a)=>lo(r)?r:r[a],n);return xa(i)||i===n?xa(n[e])?t:n[e]:i},Pu=n=>typeof n=="boolean",iP=n=>/^\w*$/.test(n),fj=n=>M2(n.replace(/["|']|\]/g,"").split(/\.|\[/)),br=(n,e,t)=>{let i=-1;const r=iP(e)?[e]:fj(e),a=r.length,s=a-1;for(;++i<a;){const l=r[i];let c=t;if(i!==s){const f=n[l];c=ua(f)||Array.isArray(f)?f:isNaN(+r[i+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;n[l]=c,n=n[l]}};const W9={BLUR:"blur",FOCUS_OUT:"focusout"},zc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},kh={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};xr.createContext(null);var pbe=(n,e,t,i=!0)=>{const r={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(r,a,{get:()=>{const s=a;return e._proxyFormState[s]!==zc.all&&(e._proxyFormState[s]=!i||zc.all),n[s]}});return r},Z4=n=>lo(n)||!hj(n);function vd(n,e){if(Z4(n)||Z4(e))return n===e;if(dm(n)&&dm(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const r of t){const a=n[r];if(!i.includes(r))return!1;if(r!=="ref"){const s=e[r];if(dm(a)&&dm(s)||ua(a)&&ua(s)||Array.isArray(a)&&Array.isArray(s)?!vd(a,s):a!==s)return!1}}return!0}var Lu=n=>typeof n=="string",mbe=(n,e,t,i,r)=>Lu(n)?(i&&e.watch.add(n),nn(t,n,r)):Array.isArray(n)?n.map(a=>(i&&e.watch.add(a),nn(t,a))):(i&&(e.watchAll=!0),t),gbe=(n,e,t,i,r)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:r||!0}}:{},$v=n=>Array.isArray(n)?n:[n],Y9=()=>{let n=[];return{get observers(){return n},next:r=>{for(const a of n)a.next&&a.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(a=>a!==r)}}),unsubscribe:()=>{n=[]}}},so=n=>ua(n)&&!Object.keys(n).length,rP=n=>n.type==="file",Vc=n=>typeof n=="function",sE=n=>{if(!nP)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dj=n=>n.type==="select-multiple",aP=n=>n.type==="radio",ybe=n=>aP(n)||Tb(n),mw=n=>sE(n)&&n.isConnected;function _be(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=xa(n)?i++:n[e[i++]];return n}function vbe(n){for(const e in n)if(n.hasOwnProperty(e)&&!xa(n[e]))return!1;return!0}function Pa(n,e){const t=Array.isArray(e)?e:iP(e)?[e]:fj(e),i=t.length===1?n:_be(n,t),r=t.length-1,a=t[r];return i&&delete i[a],r!==0&&(ua(i)&&so(i)||Array.isArray(i)&&vbe(i))&&Pa(n,t.slice(0,-1)),n}var pj=n=>{for(const e in n)if(Vc(n[e]))return!0;return!1};function oE(n,e={}){const t=Array.isArray(n);if(ua(n)||t)for(const i in n)Array.isArray(n[i])||ua(n[i])&&!pj(n[i])?(e[i]=Array.isArray(n[i])?[]:{},oE(n[i],e[i])):lo(n[i])||(e[i]=!0);return e}function mj(n,e,t){const i=Array.isArray(n);if(ua(n)||i)for(const r in n)Array.isArray(n[r])||ua(n[r])&&!pj(n[r])?xa(e)||Z4(t[r])?t[r]=Array.isArray(n[r])?oE(n[r],[]):{...oE(n[r])}:mj(n[r],lo(e)?{}:e[r],t[r]):t[r]=!vd(n[r],e[r]);return t}var ov=(n,e)=>mj(n,e,oE(e));const K9={value:!1,isValid:!1},J9={value:!0,isValid:!0};var gj=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!xa(n[0].attributes.value)?xa(n[0].value)||n[0].value===""?J9:{value:n[0].value,isValid:!0}:J9:K9}return K9},yj=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>xa(n)?n:e?n===""?NaN:n&&+n:t&&Lu(n)?new Date(n):i?i(n):n;const Q9={isValid:!1,value:null};var _j=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Q9):Q9;function $9(n){const e=n.ref;return rP(e)?e.files:aP(e)?_j(n.refs).value:dj(e)?[...e.selectedOptions].map(({value:t})=>t):Tb(e)?gj(n.refs).value:yj(xa(e.value)?n.ref.value:e.value,n)}var bbe=(n,e,t,i)=>{const r={};for(const a of n){const s=nn(e,a);s&&br(r,a,s._f)}return{criteriaMode:t,names:[...n],fields:r,shouldUseNativeValidation:i}},lE=n=>n instanceof RegExp,lv=n=>xa(n)?n:lE(n)?n.source:ua(n)?lE(n.value)?n.value.source:n.value:n,Z9=n=>({isOnSubmit:!n||n===zc.onSubmit,isOnBlur:n===zc.onBlur,isOnChange:n===zc.onChange,isOnAll:n===zc.all,isOnTouch:n===zc.onTouched});const eN="AsyncFunction";var xbe=n=>!!n&&!!n.validate&&!!(Vc(n.validate)&&n.validate.constructor.name===eN||ua(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===eN)),Mbe=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),tN=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const Zv=(n,e,t,i)=>{for(const r of t||Object.keys(n)){const a=nn(n,r);if(a){const{_f:s,...l}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],r)&&!i)return!0;if(s.ref&&e(s.ref,s.name)&&!i)return!0;if(Zv(l,e))break}else if(ua(l)&&Zv(l,e))break}}};function nN(n,e,t){const i=nn(n,t);if(i||iP(t))return{error:i,name:t};const r=t.split(".");for(;r.length;){const a=r.join("."),s=nn(e,a),l=nn(n,a);if(s&&!Array.isArray(s)&&t!==a)return{name:t};if(l&&l.type)return{name:a,error:l};r.pop()}return{name:t}}var Sbe=(n,e,t,i)=>{t(n);const{name:r,...a}=n;return so(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!i||zc.all))},Abe=(n,e,t)=>!n||!e||n===e||$v(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),Ebe=(n,e,t,i,r)=>r.isOnAll?!1:!t&&r.isOnTouch?!(e||n):(t?i.isOnBlur:r.isOnBlur)?!n:(t?i.isOnChange:r.isOnChange)?n:!0,Tbe=(n,e)=>!M2(nn(n,e)).length&&Pa(n,e),Cbe=(n,e,t)=>{const i=$v(nn(n,t));return br(i,"root",e[t]),br(n,t,i),n},LS=n=>Lu(n);function iN(n,e,t="validate"){if(LS(n)||Array.isArray(n)&&n.every(LS)||Pu(n)&&!n)return{type:t,message:LS(n)?n:"",ref:e}}var cg=n=>ua(n)&&!lE(n)?n:{value:n,message:""},rN=async(n,e,t,i,r,a)=>{const{ref:s,refs:l,required:c,maxLength:f,minLength:p,min:g,max:y,pattern:v,validate:x,name:w,valueAsNumber:A,mount:M}=n._f,R=nn(t,w);if(!M||e.has(w))return{};const P=l?l[0]:s,L=Q=>{r&&P.reportValidity&&(P.setCustomValidity(Pu(Q)?"":Q||""),P.reportValidity())},F={},j=aP(s),U=Tb(s),N=j||U,B=(A||rP(s))&&xa(s.value)&&xa(R)||sE(s)&&s.value===""||R===""||Array.isArray(R)&&!R.length,O=gbe.bind(null,w,i,F),H=(Q,G,he,_e=kh.maxLength,X=kh.minLength)=>{const Z=Q?G:he;F[w]={type:Q?_e:X,message:Z,ref:s,...O(Q?_e:X,Z)}};if(a?!Array.isArray(R)||!R.length:c&&(!N&&(B||lo(R))||Pu(R)&&!R||U&&!gj(l).isValid||j&&!_j(l).isValid)){const{value:Q,message:G}=LS(c)?{value:!!c,message:c}:cg(c);if(Q&&(F[w]={type:kh.required,message:G,ref:P,...O(kh.required,G)},!i))return L(G),F}if(!B&&(!lo(g)||!lo(y))){let Q,G;const he=cg(y),_e=cg(g);if(!lo(R)&&!isNaN(R)){const X=s.valueAsNumber||R&&+R;lo(he.value)||(Q=X>he.value),lo(_e.value)||(G=X<_e.value)}else{const X=s.valueAsDate||new Date(R),Z=$=>new Date(new Date().toDateString()+" "+$),re=s.type=="time",be=s.type=="week";Lu(he.value)&&R&&(Q=re?Z(R)>Z(he.value):be?R>he.value:X>new Date(he.value)),Lu(_e.value)&&R&&(G=re?Z(R)<Z(_e.value):be?R<_e.value:X<new Date(_e.value))}if((Q||G)&&(H(!!Q,he.message,_e.message,kh.max,kh.min),!i))return L(F[w].message),F}if((f||p)&&!B&&(Lu(R)||a&&Array.isArray(R))){const Q=cg(f),G=cg(p),he=!lo(Q.value)&&R.length>+Q.value,_e=!lo(G.value)&&R.length<+G.value;if((he||_e)&&(H(he,Q.message,G.message),!i))return L(F[w].message),F}if(v&&!B&&Lu(R)){const{value:Q,message:G}=cg(v);if(lE(Q)&&!R.match(Q)&&(F[w]={type:kh.pattern,message:G,ref:s,...O(kh.pattern,G)},!i))return L(G),F}if(x){if(Vc(x)){const Q=await x(R,t),G=iN(Q,P);if(G&&(F[w]={...G,...O(kh.validate,G.message)},!i))return L(G.message),F}else if(ua(x)){let Q={};for(const G in x){if(!so(Q)&&!i)break;const he=iN(await x[G](R,t),P,G);he&&(Q={...he,...O(G,he.message)},L(he.message),i&&(F[w]=Q))}if(!so(Q)&&(F[w]={ref:P,...Q},!i))return F}}return L(!0),F};const wbe={mode:zc.onSubmit,reValidateMode:zc.onChange,shouldFocusError:!0};function Rbe(n={}){let e={...wbe,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Vc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const i={};let r=ua(e.defaultValues)||ua(e.values)?Ns(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:Ns(r),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...p};const y={array:Y9(),state:Y9()},v=Z9(e.mode),x=Z9(e.reValidateMode),w=e.criteriaMode===zc.all,A=V=>ee=>{clearTimeout(f),f=setTimeout(V,ee)},M=async V=>{if(!e.disabled&&(p.isValid||g.isValid||V)){const ee=e.resolver?so((await B()).errors):await H(i,!0);ee!==t.isValid&&y.state.next({isValid:ee})}},R=(V,ee)=>{!e.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((V||Array.from(l.mount)).forEach(ue=>{ue&&(ee?br(t.validatingFields,ue,ee):Pa(t.validatingFields,ue))}),y.state.next({validatingFields:t.validatingFields,isValidating:!so(t.validatingFields)}))},P=(V,ee=[],ue,Ce,ge=!0,Pe=!0)=>{if(Ce&&ue&&!e.disabled){if(s.action=!0,Pe&&Array.isArray(nn(i,V))){const Ue=ue(nn(i,V),Ce.argA,Ce.argB);ge&&br(i,V,Ue)}if(Pe&&Array.isArray(nn(t.errors,V))){const Ue=ue(nn(t.errors,V),Ce.argA,Ce.argB);ge&&br(t.errors,V,Ue),Tbe(t.errors,V)}if((p.touchedFields||g.touchedFields)&&Pe&&Array.isArray(nn(t.touchedFields,V))){const Ue=ue(nn(t.touchedFields,V),Ce.argA,Ce.argB);ge&&br(t.touchedFields,V,Ue)}(p.dirtyFields||g.dirtyFields)&&(t.dirtyFields=ov(r,a)),y.state.next({name:V,isDirty:G(V,ee),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else br(a,V,ee)},L=(V,ee)=>{br(t.errors,V,ee),y.state.next({errors:t.errors})},F=V=>{t.errors=V,y.state.next({errors:t.errors,isValid:!1})},j=(V,ee,ue,Ce)=>{const ge=nn(i,V);if(ge){const Pe=nn(a,V,xa(ue)?nn(r,V):ue);xa(Pe)||Ce&&Ce.defaultChecked||ee?br(a,V,ee?Pe:$9(ge._f)):X(V,Pe),s.mount&&M()}},U=(V,ee,ue,Ce,ge)=>{let Pe=!1,Ue=!1;const lt={name:V};if(!e.disabled){if(!ue||Ce){(p.isDirty||g.isDirty)&&(Ue=t.isDirty,t.isDirty=lt.isDirty=G(),Pe=Ue!==lt.isDirty);const Xt=vd(nn(r,V),ee);Ue=!!nn(t.dirtyFields,V),Xt?Pa(t.dirtyFields,V):br(t.dirtyFields,V,!0),lt.dirtyFields=t.dirtyFields,Pe=Pe||(p.dirtyFields||g.dirtyFields)&&Ue!==!Xt}if(ue){const Xt=nn(t.touchedFields,V);Xt||(br(t.touchedFields,V,ue),lt.touchedFields=t.touchedFields,Pe=Pe||(p.touchedFields||g.touchedFields)&&Xt!==ue)}Pe&&ge&&y.state.next(lt)}return Pe?lt:{}},N=(V,ee,ue,Ce)=>{const ge=nn(t.errors,V),Pe=(p.isValid||g.isValid)&&Pu(ee)&&t.isValid!==ee;if(e.delayError&&ue?(c=A(()=>L(V,ue)),c(e.delayError)):(clearTimeout(f),c=null,ue?br(t.errors,V,ue):Pa(t.errors,V)),(ue?!vd(ge,ue):ge)||!so(Ce)||Pe){const Ue={...Ce,...Pe&&Pu(ee)?{isValid:ee}:{},errors:t.errors,name:V};t={...t,...Ue},y.state.next(Ue)}},B=async V=>{R(V,!0);const ee=await e.resolver(a,e.context,bbe(V||l.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return R(V),ee},O=async V=>{const{errors:ee}=await B(V);if(V)for(const ue of V){const Ce=nn(ee,ue);Ce?br(t.errors,ue,Ce):Pa(t.errors,ue)}else t.errors=ee;return ee},H=async(V,ee,ue={valid:!0})=>{for(const Ce in V){const ge=V[Ce];if(ge){const{_f:Pe,...Ue}=ge;if(Pe){const lt=l.array.has(Pe.name),Xt=ge._f&&xbe(ge._f);Xt&&p.validatingFields&&R([Ce],!0);const ht=await rN(ge,l.disabled,a,w,e.shouldUseNativeValidation&&!ee,lt);if(Xt&&p.validatingFields&&R([Ce]),ht[Pe.name]&&(ue.valid=!1,ee))break;!ee&&(nn(ht,Pe.name)?lt?Cbe(t.errors,ht,Pe.name):br(t.errors,Pe.name,ht[Pe.name]):Pa(t.errors,Pe.name))}!so(Ue)&&await H(Ue,ee,ue)}}return ue.valid},Q=()=>{for(const V of l.unMount){const ee=nn(i,V);ee&&(ee._f.refs?ee._f.refs.every(ue=>!mw(ue)):!mw(ee._f.ref))&&Jt(V)}l.unMount=new Set},G=(V,ee)=>!e.disabled&&(V&&ee&&br(a,V,ee),!vd(we(),r)),he=(V,ee,ue)=>mbe(V,l,{...s.mount?a:xa(ee)?r:Lu(V)?{[V]:ee}:ee},ue,ee),_e=V=>M2(nn(s.mount?a:r,V,e.shouldUnregister?nn(r,V,[]):[])),X=(V,ee,ue={})=>{const Ce=nn(i,V);let ge=ee;if(Ce){const Pe=Ce._f;Pe&&(!Pe.disabled&&br(a,V,yj(ee,Pe)),ge=sE(Pe.ref)&&lo(ee)?"":ee,dj(Pe.ref)?[...Pe.ref.options].forEach(Ue=>Ue.selected=ge.includes(Ue.value)):Pe.refs?Tb(Pe.ref)?Pe.refs.length>1?Pe.refs.forEach(Ue=>(!Ue.defaultChecked||!Ue.disabled)&&(Ue.checked=Array.isArray(ge)?!!ge.find(lt=>lt===Ue.value):ge===Ue.value)):Pe.refs[0]&&(Pe.refs[0].checked=!!ge):Pe.refs.forEach(Ue=>Ue.checked=Ue.value===ge):rP(Pe.ref)?Pe.ref.value="":(Pe.ref.value=ge,Pe.ref.type||y.state.next({name:V,values:Ns(a)})))}(ue.shouldDirty||ue.shouldTouch)&&U(V,ge,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&pe(V)},Z=(V,ee,ue)=>{for(const Ce in ee){const ge=ee[Ce],Pe=`${V}.${Ce}`,Ue=nn(i,Pe);(l.array.has(V)||ua(ge)||Ue&&!Ue._f)&&!dm(ge)?Z(Pe,ge,ue):X(Pe,ge,ue)}},re=(V,ee,ue={})=>{const Ce=nn(i,V),ge=l.array.has(V),Pe=Ns(ee);br(a,V,Pe),ge?(y.array.next({name:V,values:Ns(a)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&ue.shouldDirty&&y.state.next({name:V,dirtyFields:ov(r,a),isDirty:G(V,Pe)})):Ce&&!Ce._f&&!lo(Pe)?Z(V,Pe,ue):X(V,Pe,ue),tN(V,l)&&y.state.next({...t}),y.state.next({name:s.mount?V:void 0,values:Ns(a)})},be=async V=>{s.mount=!0;const ee=V.target;let ue=ee.name,Ce=!0;const ge=nn(i,ue),Pe=Ue=>{Ce=Number.isNaN(Ue)||dm(Ue)&&isNaN(Ue.getTime())||vd(Ue,nn(a,ue,Ue))};if(ge){let Ue,lt;const Xt=ee.type?$9(ge._f):ube(V),ht=V.type===W9.BLUR||V.type===W9.FOCUS_OUT,Ot=!Mbe(ge._f)&&!e.resolver&&!nn(t.errors,ue)&&!ge._f.deps||Ebe(ht,nn(t.touchedFields,ue),t.isSubmitted,x,v),zt=tN(ue,l,ht);br(a,ue,Xt),ht?(ge._f.onBlur&&ge._f.onBlur(V),c&&c(0)):ge._f.onChange&&ge._f.onChange(V);const Pt=U(ue,Xt,ht),St=!so(Pt)||zt;if(!ht&&y.state.next({name:ue,type:V.type,values:Ns(a)}),Ot)return(p.isValid||g.isValid)&&(e.mode==="onBlur"?ht&&M():ht||M()),St&&y.state.next({name:ue,...zt?{}:Pt});if(!ht&&zt&&y.state.next({...t}),e.resolver){const{errors:Me}=await B([ue]);if(Pe(Xt),Ce){const Je=nN(t.errors,i,ue),bt=nN(Me,i,Je.name||ue);Ue=bt.error,ue=bt.name,lt=so(Me)}}else R([ue],!0),Ue=(await rN(ge,l.disabled,a,w,e.shouldUseNativeValidation))[ue],R([ue]),Pe(Xt),Ce&&(Ue?lt=!1:(p.isValid||g.isValid)&&(lt=await H(i,!0)));Ce&&(ge._f.deps&&pe(ge._f.deps),N(ue,lt,Ue,Pt))}},$=(V,ee)=>{if(nn(t.errors,ee)&&V.focus)return V.focus(),1},pe=async(V,ee={})=>{let ue,Ce;const ge=$v(V);if(e.resolver){const Pe=await O(xa(V)?V:ge);ue=so(Pe),Ce=V?!ge.some(Ue=>nn(Pe,Ue)):ue}else V?(Ce=(await Promise.all(ge.map(async Pe=>{const Ue=nn(i,Pe);return await H(Ue&&Ue._f?{[Pe]:Ue}:Ue)}))).every(Boolean),!(!Ce&&!t.isValid)&&M()):Ce=ue=await H(i);return y.state.next({...!Lu(V)||(p.isValid||g.isValid)&&ue!==t.isValid?{}:{name:V},...e.resolver||!V?{isValid:ue}:{},errors:t.errors}),ee.shouldFocus&&!Ce&&Zv(i,$,V?ge:l.mount),Ce},we=V=>{const ee={...s.mount?a:r};return xa(V)?ee:Lu(V)?nn(ee,V):V.map(ue=>nn(ee,ue))},Te=(V,ee)=>({invalid:!!nn((ee||t).errors,V),isDirty:!!nn((ee||t).dirtyFields,V),error:nn((ee||t).errors,V),isValidating:!!nn(t.validatingFields,V),isTouched:!!nn((ee||t).touchedFields,V)}),de=V=>{V&&$v(V).forEach(ee=>Pa(t.errors,ee)),y.state.next({errors:V?t.errors:{}})},Ne=(V,ee,ue)=>{const Ce=(nn(i,V,{_f:{}})._f||{}).ref,ge=nn(t.errors,V)||{},{ref:Pe,message:Ue,type:lt,...Xt}=ge;br(t.errors,V,{...Xt,...ee,ref:Ce}),y.state.next({name:V,errors:t.errors,isValid:!1}),ue&&ue.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},Ve=(V,ee)=>Vc(V)?y.state.subscribe({next:ue=>V(he(void 0,ee),ue)}):he(V,ee,!0),ct=V=>y.state.subscribe({next:ee=>{Abe(V.name,ee.name,V.exact)&&Sbe(ee,V.formState||p,xt,V.reRenderRoot)&&V.callback({values:{...a},...t,...ee})}}).unsubscribe,ut=V=>(s.mount=!0,g={...g,...V.formState},ct({...V,formState:g})),Jt=(V,ee={})=>{for(const ue of V?$v(V):l.mount)l.mount.delete(ue),l.array.delete(ue),ee.keepValue||(Pa(i,ue),Pa(a,ue)),!ee.keepError&&Pa(t.errors,ue),!ee.keepDirty&&Pa(t.dirtyFields,ue),!ee.keepTouched&&Pa(t.touchedFields,ue),!ee.keepIsValidating&&Pa(t.validatingFields,ue),!e.shouldUnregister&&!ee.keepDefaultValue&&Pa(r,ue);y.state.next({values:Ns(a)}),y.state.next({...t,...ee.keepDirty?{isDirty:G()}:{}}),!ee.keepIsValid&&M()},It=({disabled:V,name:ee})=>{(Pu(V)&&s.mount||V||l.disabled.has(ee))&&(V?l.disabled.add(ee):l.disabled.delete(ee))},Ct=(V,ee={})=>{let ue=nn(i,V);const Ce=Pu(ee.disabled)||Pu(e.disabled);return br(i,V,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:V}},name:V,mount:!0,...ee}}),l.mount.add(V),ue?It({disabled:Pu(ee.disabled)?ee.disabled:e.disabled,name:V}):j(V,!0,ee.value),{...Ce?{disabled:ee.disabled||e.disabled}:{},...e.progressive?{required:!!ee.required,min:lv(ee.min),max:lv(ee.max),minLength:lv(ee.minLength),maxLength:lv(ee.maxLength),pattern:lv(ee.pattern)}:{},name:V,onChange:be,onBlur:be,ref:ge=>{if(ge){Ct(V,ee),ue=nn(i,V);const Pe=xa(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,Ue=ybe(Pe),lt=ue._f.refs||[];if(Ue?lt.find(Xt=>Xt===Pe):Pe===ue._f.ref)return;br(i,V,{_f:{...ue._f,...Ue?{refs:[...lt.filter(mw),Pe,...Array.isArray(nn(r,V))?[{}]:[]],ref:{type:Pe.type,name:V}}:{ref:Pe}}}),j(V,!1,void 0,Pe)}else ue=nn(i,V,{}),ue._f&&(ue._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(fbe(l.array,V)&&s.action)&&l.unMount.add(V)}}},Nt=()=>e.shouldFocusError&&Zv(i,$,l.mount),Ft=V=>{Pu(V)&&(y.state.next({disabled:V}),Zv(i,(ee,ue)=>{const Ce=nn(i,ue);Ce&&(ee.disabled=Ce._f.disabled||V,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(ge=>{ge.disabled=Ce._f.disabled||V}))},0,!1))},fe=(V,ee)=>async ue=>{let Ce;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let ge=Ns(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:Pe,values:Ue}=await B();t.errors=Pe,ge=Ue}else await H(i);if(l.disabled.size)for(const Pe of l.disabled)br(ge,Pe,void 0);if(Pa(t.errors,"root"),so(t.errors)){y.state.next({errors:{}});try{await V(ge,ue)}catch(Pe){Ce=Pe}}else ee&&await ee({...t.errors},ue),Nt(),setTimeout(Nt);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:so(t.errors)&&!Ce,submitCount:t.submitCount+1,errors:t.errors}),Ce)throw Ce},Mn=(V,ee={})=>{nn(i,V)&&(xa(ee.defaultValue)?re(V,Ns(nn(r,V))):(re(V,ee.defaultValue),br(r,V,Ns(ee.defaultValue))),ee.keepTouched||Pa(t.touchedFields,V),ee.keepDirty||(Pa(t.dirtyFields,V),t.isDirty=ee.defaultValue?G(V,Ns(nn(r,V))):G()),ee.keepError||(Pa(t.errors,V),p.isValid&&M()),y.state.next({...t}))},at=(V,ee={})=>{const ue=V?Ns(V):r,Ce=Ns(ue),ge=so(V),Pe=ge?r:Ce;if(ee.keepDefaultValues||(r=ue),!ee.keepValues){if(ee.keepDirtyValues){const Ue=new Set([...l.mount,...Object.keys(ov(r,a))]);for(const lt of Array.from(Ue))nn(t.dirtyFields,lt)?br(Pe,lt,nn(a,lt)):re(lt,nn(Pe,lt))}else{if(nP&&xa(V))for(const Ue of l.mount){const lt=nn(i,Ue);if(lt&&lt._f){const Xt=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(sE(Xt)){const ht=Xt.closest("form");if(ht){ht.reset();break}}}}for(const Ue of l.mount)re(Ue,nn(Pe,Ue))}a=Ns(Pe),y.array.next({values:{...Pe}}),y.state.next({values:{...Pe}})}l={mount:ee.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!p.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,s.watch=!!e.shouldUnregister,y.state.next({submitCount:ee.keepSubmitCount?t.submitCount:0,isDirty:ge?!1:ee.keepDirty?t.isDirty:!!(ee.keepDefaultValues&&!vd(V,r)),isSubmitted:ee.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ge?{}:ee.keepDirtyValues?ee.keepDefaultValues&&a?ov(r,a):t.dirtyFields:ee.keepDefaultValues&&V?ov(r,V):ee.keepDirty?t.dirtyFields:{},touchedFields:ee.keepTouched?t.touchedFields:{},errors:ee.keepErrors?t.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},et=(V,ee)=>at(Vc(V)?V(a):V,ee),rt=(V,ee={})=>{const ue=nn(i,V),Ce=ue&&ue._f;if(Ce){const ge=Ce.refs?Ce.refs[0]:Ce.ref;ge.focus&&(ge.focus(),ee.shouldSelect&&Vc(ge.select)&&ge.select())}},xt=V=>{t={...t,...V}},ae={control:{register:Ct,unregister:Jt,getFieldState:Te,handleSubmit:fe,setError:Ne,_subscribe:ct,_runSchema:B,_getWatch:he,_getDirty:G,_setValid:M,_setFieldArray:P,_setDisabledField:It,_setErrors:F,_getFieldArray:_e,_reset:at,_resetDefaultValues:()=>Vc(e.defaultValues)&&e.defaultValues().then(V=>{et(V,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:Q,_disableForm:Ft,_subjects:y,_proxyFormState:p,get _fields(){return i},get _formValues(){return a},get _state(){return s},set _state(V){s=V},get _defaultValues(){return r},get _names(){return l},set _names(V){l=V},get _formState(){return t},get _options(){return e},set _options(V){e={...e,...V}}},subscribe:ut,trigger:pe,register:Ct,handleSubmit:fe,watch:Ve,setValue:re,getValues:we,reset:et,resetField:Mn,clearErrors:de,unregister:Jt,setError:Ne,setFocus:rt,getFieldState:Te};return{...ae,formControl:ae}}const Ibe=typeof window<"u"?xr.useLayoutEffect:xr.useEffect;function Pbe(n={}){const e=xr.useRef(void 0),t=xr.useRef(void 0),[i,r]=xr.useState({isDirty:!1,isValidating:!1,isLoading:Vc(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Vc(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...n.formControl?n.formControl:Rbe(n),formState:i},n.formControl&&n.defaultValues&&!Vc(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions));const a=e.current.control;return a._options=n,Ibe(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0});return r(l=>({...l,isReady:!0})),a._formState.isReady=!0,s},[a]),xr.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),xr.useEffect(()=>{n.mode&&(a._options.mode=n.mode),n.reValidateMode&&(a._options.reValidateMode=n.reValidateMode),n.errors&&!so(n.errors)&&a._setErrors(n.errors)},[a,n.errors,n.mode,n.reValidateMode]),xr.useEffect(()=>{n.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,n.shouldUnregister]),xr.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==i.isDirty&&a._subjects.state.next({isDirty:s})}},[a,i.isDirty]),xr.useEffect(()=>{n.values&&!vd(n.values,t.current)?(a._reset(n.values,a._options.resetOptions),t.current=n.values,r(s=>({...s}))):a._resetDefaultValues()},[a,n.values]),xr.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=pbe(i,a),e.current}var Dbe="firebase",Bbe="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zg(Dbe,Bbe,"app");const Obe={apiKey:"AIzaSyB6ni9THCcYe8X9AfoMYSX53CXrsiDoAeM",authDomain:"portfolio-e82f1.firebaseapp.com",projectId:"portfolio-e82f1",storageBucket:"portfolio-e82f1.appspot.com",messagingSenderId:"381502552191",appId:"1:381502552191:web:9b8bd9fed9d8dd2122674a",measurementId:"G-GM47XWJEJ2"},Nbe=Dz(Obe),gw=G1e(Nbe),Lbe=n=>{n.key==="Backspace"||n.key==="Tab"||n.key==="ArrowDown"||(n.key.charCodeAt(0)<48||n.key.charCodeAt(0)>57)&&n.preventDefault()},aN=n=>{n.key.charCodeAt(0)>64&&n.key.charCodeAt(0)<91||n.key.charCodeAt(0)>96&&n.key.charCodeAt(0)<123||n.key==" "?console.log(""):n.preventDefault()},Ube=/^[6-9]{1}[0-9]{9}$/,Fbe=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,zbe=()=>{var A,M,R,P,L,F,j,U,N,B,O,H,Q,G,he,_e;const{id:n}=Gk();var e=new Date().toLocaleString();const[t,i]=Y.useState([]),[r,a]=Y.useState(!1),s=zae(),l=LN(),{register:c,handleSubmit:f,watch:p,formState:{errors:g}}=Pbe({mode:"onChange"}),y=async()=>{await lbe(pw(gw,"todos")).then(X=>{const Z=X.docs.map(re=>({...re.data(),id:re.id}));i(Z)})};Y.useEffect(()=>{y()},[]);const v=async X=>{a(!0);const Z=t.find(be=>be.email===X.Email);if(Z===void 0)try{const be=await q9(pw(gw,"todos"),{fname:X.FirstName,lname:X.LastName,email:X.Email,mobile:X.Mobile,message:X.Message,date:e});s({title:"Successful",position:"bottom",status:"success",description:`Thanks  ${" "+X.FirstName+" "+X.LastName} for contacting me `}),a(!1),l("/")}catch(be){s({title:be,position:"bottom",status:"error"}),a(!1),console.error("Error adding document: ",be)}var re=window.confirm("Do you want to send contact again?");if(Z!==void 0&&re){console.log("ho gaya dopnara");try{const be=await q9(pw(gw,"todos"),{fname:X.FirstName,lname:X.LastName,email:X.Email,mobile:X.Mobile,message:X.Message,date:e});s({title:"Successful",position:"bottom",status:"success",description:`Thanks  ${" "+X.FirstName+" "+X.LastName} for contacting me `}),a(!1),l("/")}catch(be){a(!1),console.error("Error adding document: ",be)}}},x=Y.useRef(null),w=Qu({targetRef:x,offset:"200px"});return C.jsx(zn,{ref:x,ml:{lg:"2rem",md:"2rem",sm:"0",xs:"0"},initial:{x:-30,opacity:0},animate:w?{x:0,opacity:1,transition:{duration:.3}}:{},as:Vs.div,w:{lg:"500px",md:"100%",sm:"100%",xs:"100%"},rounded:"xl",direction:"column",my:"auto",bg:"primary.800",p:"2rem",children:C.jsx(Pd,{justifyContent:"center",alignItems:"center",p:".3rem 2rem",fontSize:Mm,children:C.jsxs("form",{onSubmit:f(v),children:[C.jsx(Gn,{color:"secondary.500",children:"Get In Touch"}),C.jsx(Gn,{fontSize:xb,color:"#fff",className:"maintext",children:"Contact."}),C.jsxs(zn,{direction:"column",gap:"2",w:"100%",my:"1rem",children:[C.jsxs(Gn,{fontWeight:"bold",color:"#fff",children:[" ","First Name"," ",C.jsx(Gn,{as:"span",color:"red",children:"*"})]}),C.jsx(Eg,{onKeyDown:aN,w:"100%",placeholder:"Enter First Name",...c("FirstName",{required:!0,pattern:new RegExp("^(?!\\s).+(?<!\\s)$")}),className:g&&(((A=g.FirstName)==null?void 0:A.type)==="pattern"||((M=g.FirstName)==null?void 0:M.type)==="required")?"inputCustom":""}),g&&((R=g.FirstName)==null?void 0:R.type)==="pattern"&&C.jsx(Gn,{color:"red",fontSize:"10px",children:"Invalid First Name"}),g&&((P=g.FirstName)==null?void 0:P.type)==="required"&&C.jsx(Gn,{color:"red",fontSize:"10px",children:"First Name is Required"})]}),C.jsxs(zn,{direction:"column",gap:"2",w:"100%",my:"1rem",children:[C.jsxs(Gn,{fontWeight:"bold",color:"#fff",children:[" ","Last Name"," ",C.jsx(Gn,{as:"span",color:"red",children:"*"})]}),C.jsx(Eg,{onKeyDown:aN,w:"100%",placeholder:"Enter Last Name",...c("LastName",{required:!0,pattern:new RegExp("^(?!\\s).+(?<!\\s)$")}),className:g&&(((L=g.LastName)==null?void 0:L.type)==="pattern"||((F=g.LastName)==null?void 0:F.type)==="required")?"inputCustom":""}),g&&((j=g.LastName)==null?void 0:j.type)==="pattern"&&C.jsx(Gn,{color:"red",fontSize:"10px",children:"Invalid Last Name"}),g&&((U=g.LastName)==null?void 0:U.type)==="required"&&C.jsx(Gn,{color:"red",fontSize:"10px",children:"Last Name is Required"})]}),C.jsxs(zn,{direction:"column",gap:"2",w:"100%",my:"1rem",children:[C.jsxs(Gn,{fontWeight:"bold",color:"#fff",children:[" ","Mobile"," ",C.jsx(Gn,{as:"span",color:"red",children:"*"})," "]}),C.jsx(Eg,{maxLength:10,onKeyDown:Lbe,w:"100%",placeholder:"Enter Mobile Number",...c("Mobile",{required:!0,pattern:Ube}),className:g&&(((N=g.Mobile)==null?void 0:N.type)==="pattern"||((B=g.Mobile)==null?void 0:B.type)==="required")?"inputCustom":""})," ",g&&((O=g.Mobile)==null?void 0:O.type)==="pattern"&&C.jsx(Gn,{color:"red",fontSize:"10px",children:"Invalid Mobile Number"}),g&&((H=g.Mobile)==null?void 0:H.type)==="required"&&C.jsx(Gn,{color:"red",fontSize:"10px",children:"Mobile Number is Required"})]}),C.jsxs(zn,{direction:"column",gap:"2",w:"100%",my:"1rem",children:[C.jsxs(Gn,{fontWeight:"bold",color:"#fff",children:[" ","Email"," ",C.jsx(Gn,{as:"span",color:"red",children:"*"})]}),C.jsx(Eg,{w:"100%",type:"email",placeholder:"Enter Email",...c("Email",{required:!0,pattern:Fbe}),className:g&&(((Q=g.Email)==null?void 0:Q.type)==="pattern"||((G=g.Email)==null?void 0:G.type)==="required")?"inputCustom":""}),g&&((he=g.Email)==null?void 0:he.type)==="pattern"&&C.jsx(Gn,{color:"red",fontSize:"10px",children:"Invalid Email"}),g&&((_e=g.Email)==null?void 0:_e.type)==="required"&&C.jsx(Gn,{color:"red",fontSize:"10px",children:"Email is Required"})]}),C.jsxs(zn,{direction:"column",gap:"2",w:"100%",my:"1rem",children:[C.jsxs(Gn,{fontWeight:"bold",color:"#fff",children:[" ","Message"," "]}),C.jsx(FU,{resize:"none",w:"100%",placeholder:"Enter Message ....",...c("Message",{required:!0})})]}),C.jsx(zn,{justifyContent:"center",children:C.jsx(SU,{mx:"auto",w:"fit-content",type:"submit",children:"Submit"})})]})})})},Vbe="/three-portfolio/assets/p0-B83lx3Jr.png",jbe="/three-portfolio/assets/p1-Dx83a9z-.png",kbe="/three-portfolio/assets/p2-DkfuctLB.png",Hbe="/three-portfolio/assets/p3-B7lqQrpv.png",Gbe="/three-portfolio/assets/p4-CONNzbJZ.png",Xbe="/three-portfolio/assets/p5-BnlsZ4hd.png",qbe="/three-portfolio/assets/p6-BhzSqb_y.png";var vj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sN=xr.createContext&&xr.createContext(vj),Wbe=["attr","size","title"];function Ybe(n,e){if(n==null)return{};var t=Kbe(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Kbe(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function cE(){return cE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cE.apply(this,arguments)}function oN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(t),!0).forEach(function(i){Jbe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Jbe(n,e,t){return e=Qbe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qbe(n){var e=$be(n,"string");return typeof e=="symbol"?e:e+""}function $be(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bj(n){return n&&n.map((e,t)=>xr.createElement(e.tag,uE({key:t},e.attr),bj(e.child)))}function Zbe(n){return e=>xr.createElement(exe,cE({attr:uE({},n.attr)},e),bj(n.child))}function exe(n){var e=t=>{var{attr:i,size:r,title:a}=n,s=Ybe(n,Wbe),l=r||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),xr.createElement("svg",cE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:c,style:uE(uE({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&xr.createElement("title",null,a),n.children)};return sN!==void 0?xr.createElement(sN.Consumer,null,t=>e(t)):e(vj)}function txe(n){return Zbe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"},child:[]}]})(n)}const nxe="/three-portfolio/assets/dummyImage-uhrA89T3.png",ixe=n=>{const{data:e,id:t}=n,i=Y.useRef(null),{image:r,projectType:a,projectName:s,link:l}=e,c=Qu({targetRef:i,offset:"100px"});return C.jsx(C.Fragment,{children:C.jsxs(zn,{ref:i,as:Vs.div,initial:{x:t%2===0?-40:40,opacity:0},animate:c?{x:0,opacity:1,transition:{duration:.3}}:{},flexBasis:{lg:"auto",md:"auto",sm:"100%",xs:"100%"},position:"relative",className:"projectCardMain",style:{animationDelay:`${.1*t}s`},w:{lg:"300px",md:"300px",sm:"100%",xs:"100%"},minH:s?"300px":"fit-content",children:[C.jsx(zn,{className:"projectCard",bg:"primary.700"}),C.jsxs(zn,{w:"100%",h:"100%",border:"1px",borderColor:"primary.700",shadow:"md",zIndex:4,rounded:"xl",bg:"primary.800",color:"gray.600",direction:"column",overflow:"hidden",children:[C.jsx(zn,{w:"100%",h:"200px",bg:"primary.800",overflow:"hidden",children:C.jsx(cR,{transition:".2s ease",src:r??nxe,w:"100%",objectFit:"cover"})}),s&&C.jsxs(Pd,{p:"1rem",children:[C.jsxs(zn,{alignItems:"center",justifyContent:"space-between",children:[" ",C.jsx(r4,{label:s,children:C.jsx(Gn,{fontWeight:"bold",color:"secondary.200",fontSize:Mm,textOverflow:"ellipsis",overflow:"hidden",letterSpacing:"2px",className:"maintext",whiteSpace:"nowrap",children:s??""})}),C.jsx(Gn,{ml:{lg:"1rem",md:"1rem",sm:"1rem",xs:".6rem"},cursor:"pointer",onClick:()=>{window.open(l==null?void 0:l.project)},color:"secondary.500",border:"2px solid #ccc",rounded:"full",className:"icon",children:C.jsx(txe,{color:"secondary.500",fontWeight:"bold"})})]}),a&&C.jsx(r4,{label:a,children:C.jsx(Gn,{color:"var(--font_color2)",fontSize:"xs",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:a??""})})]})]})]})})},rxe=()=>{const n=Y.useRef(null),e=Qu({targetRef:n}),t=[{image:Vbe,projectName:"Nested Comment and Reply",projectType:"Machine Coding Round Question Solution.",link:{code:"",project:"https://react-zgw1gz.stackblitz.io"}},{image:jbe,projectName:"Techicious",projectType:"A Freelancing Project (Work under Process.)",link:{code:"",project:"https://techicious.github.io/Techicious-Web/"}},{image:kbe,projectName:"Count ME",projectType:"Live Character Counter",link:{code:"",project:"https://atifmoin19.github.io/Live-char-counter/"}},{image:Hbe,projectName:"Play Me",projectType:"A Music Player App",link:{code:"",project:"https://atifmoin19.github.io/MusicPlayer/"}},{image:Gbe,projectName:"Netflix&Chill",projectType:"A Customized Netflix Clone.",link:{code:"",project:"https://atifmoin19.github.io/netflix/"}},{image:Xbe,projectName:"RedStore",projectType:"An E-Commerce Website Design",link:{code:"",project:"https://atifmoin19.github.io/E-commers-site/Mysite/indext.html"}},{image:qbe,projectName:"GlassMorphism",projectType:"Compnent Baes on glassmorphism.",link:{code:"",project:"https://atifmoin19.github.io/card-hover-animation/"}}];return C.jsx(C.Fragment,{children:C.jsx(zn,{w:"100%",flexWrap:"wrap",ref:n,gap:"1rem",p:"2rem",justifyContent:"center",alignItems:"start",rounded:"xl",overflow:"hidden",bg:"primary.800",children:t.map((i,r)=>C.jsx(ixe,{data:i,isAnimation:e,id:r},r))})})};function axe(){const n=Y.useRef(null),e=Y.useRef(null);Qu({targetRef:n});const{isMobile:t}=km(),i=Qu({targetRef:e}),r=t?8:16;return C.jsx(C.Fragment,{children:C.jsxs(Wae,{bgColor:"primary.900",children:[C.jsxs(G_,{bgImage:Kae,position:"relative",backgroundSize:"cover",backgroundPosition:"start",backgroundRepeat:"no-repeat",overflow:"hidden",children:[C.jsx(zn,{position:"absolute",zIndex:1,h:"100vh",w:"100%",overflow:"hidden",alignItems:"center",justifyContent:"end",top:0,left:0,children:C.jsx(wU,{gridTemplateColumns:{lg:"repeat(4,150px)",md:"repeat(4,150px)",sm:"repeat(2,150px)",xs:"repeat(2,150px)"},ref:e,children:new Array(r).fill(1).map((a,s)=>C.jsx(Pd,{as:Vs.div,initial:{opacity:0,y:10},animate:i?{opacity:1,y:0,transition:{duration:.1,delay:s*.05,ease:"easeOut"}}:{},children:C.jsx(Sz,{})},s))})}),C.jsx(tge,{})]}),C.jsx(G_,{minH:"100vh",justifyContent:"start",alignItems:"start",children:C.jsx(sge,{})}),C.jsx(G_,{minH:"100vh",children:C.jsx(oge,{})}),C.jsxs(G_,{minH:"100vh",justifyContent:"start",direction:"column",alignItems:"center",overflowX:"hidden",color:"#fff",children:[C.jsx(Gn,{mb:"2rem",className:"maintext",fontSize:xb,children:"Projects"}),C.jsx(Gn,{textAlign:"center",mb:"2rem",fontSize:Mm,color:"secondary.500",children:"Following projects showcase my skills and experience through real-world examples of my work. Each project is described with links to live demos. It reflects my ability to solve complex problems, work with different technologies, and manage projects effectively."}),C.jsx(rxe,{})]}),C.jsxs(G_,{minH:"100vh",overflowX:"hidden",alignItems:"start",direction:{lg:"row",md:"column-reverse",sm:"column-reverse",xs:"column-reverse"},children:[C.jsx(Az,{}),C.jsx(zbe,{}),C.jsx(uge,{})]})]})})}const sxe=()=>C.jsx(aH,{children:C.jsx(zN,{path:"/",element:C.jsx(axe,{})})});TN.createRoot(document.getElementById("root")).render(C.jsx($ie,{theme:Gae,children:C.jsx(RH,{basename:"/three-portfolio",children:C.jsx(sxe,{})})}));
